<html><h3>Pattern ID :17477
</h3><img src='57930295.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                label_map = LABEL_MAP_CATALOG[dataset_name]
            num_classes = len(label_map)

            <a id="change">if model_path is None</a>:
                &#47&#47 Download the models when it model_path is not specified
                model_path = PathManager.get_local_path(
                    self._reconstruct_path_with_detector_name(</code></pre><h3>After Change</h3><pre><code class='java'>
        extra_config: Optional[Dict],
    ):

        <a id="change">config_path</a><a id="change">, model_path = </a><a id="change">self.config_parser(config_path</a>, model_path<a id="change">)</a>

        if config_path.startswith("lp://"):
            &#47&#47 If it&quots officially supported by layoutparser
            dataset_name, model_name = config_path.lstrip("lp://").split("/")[1:3]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/layout-parser/layout-parser/commit/4ff55fa3062a39ed53849fa467afd1c52378ae41#diff-d3962a159b94b3761007b24c8fa2a56e05ebb8f0d2fd69153e335c5c374d94f9L133' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57930295</div><div id='project'> Project Name: layout-parser/layout-parser</div><div id='commit'> Commit Name: 4ff55fa3062a39ed53849fa467afd1c52378ae41</div><div id='time'> Time: 2021-09-10</div><div id='author'> Author: 22512825+lolipopshock@users.noreply.github.com</div><div id='file'> File Name: src/layoutparser/models/effdet/layoutmodel.py</div><div id='m_class'> M Class Name: EfficientDetLayoutModel</div><div id='n_method'> N Class Name: EfficientDetLayoutModel</div><div id='m_method'> M Method Name: _initialize_model(5)</div><div id='n_method'> N Method Name: _initialize_model(5)</div><div id='m_parent_class'> M Parent Class: BaseLayoutModel</div><div id='n_parent_class'> N Parent Class: BaseLayoutModel</div><div id='m_file'> M File Name: src/layoutparser/models/effdet/layoutmodel.py</div><div id='n_file'> N File Name: src/layoutparser/models/effdet/layoutmodel.py</div><div id='m_start'> M Start Line: 140</div><div id='m_end'> M End Line: 148</div><div id='n_start'> N Start Line: 133</div><div id='n_end'> N End Line: 143</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if extra_config is None:
            extra_config = []

        <a id="change">if </a>config_path.startswith("lp://") and <a id="change">label_map is None</a>:
            dataset_name = config_path.lstrip("lp://").split("/")[0]
            label_map = LABEL_MAP_CATALOG[dataset_name]
</code></pre><h3>After Change</h3><pre><code class='java'>
        if extra_config is None:
            extra_config = []

        config_path<a id="change">, model_path = </a><a id="change">self.config_parser(
            </a>config_path, model_path<a id="change">, allow_empty_path=True
        )</a>
        config_path = PathManager.get_local_path(config_path)

        cfg = detectron2.config.get_cfg()
        cfg.merge_from_file(config_path)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/layout-parser/layout-parser/commit/4ff55fa3062a39ed53849fa467afd1c52378ae41#diff-20ea38386ec6c9368e8a68fbce605d21d84f3b70f5a1519fbc6b66f0cabcf7f2L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57930294</div><div id='project'> Project Name: layout-parser/layout-parser</div><div id='commit'> Commit Name: 4ff55fa3062a39ed53849fa467afd1c52378ae41</div><div id='time'> Time: 2021-09-10</div><div id='author'> Author: 22512825+lolipopshock@users.noreply.github.com</div><div id='file'> File Name: src/layoutparser/models/detectron2/layoutmodel.py</div><div id='m_class'> M Class Name: Detectron2LayoutModel</div><div id='n_method'> N Class Name: Detectron2LayoutModel</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: BaseLayoutModel</div><div id='n_parent_class'> N Parent Class: BaseLayoutModel</div><div id='m_file'> M File Name: src/layoutparser/models/detectron2/layoutmodel.py</div><div id='n_file'> N File Name: src/layoutparser/models/detectron2/layoutmodel.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 93</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if model_path is not None:
            model_dir = model_path
        elif <a id="change">config_path is not None</a> and config_path.startswith(
            "lp://"
        ):  &#47&#47 TODO: Move "lp://" to a constant
            if label_map is None:</code></pre><h3>After Change</h3><pre><code class='java'>
        if extra_config is None:
            extra_config = {}

        _<a id="change">, model_path = </a><a id="change">self.config_parser(</a>config_path, model_path<a id="change">)</a>
        model_dir = PathManager.get_local_path(model_path)

        if label_map is None:
            if model_path.startswith("lp://"):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/layout-parser/layout-parser/commit/4ff55fa3062a39ed53849fa467afd1c52378ae41#diff-1295715f75aae49569c2d511ff6972cef5301fa6abf6c4b0ea2d4963a9c53e3fL92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57930297</div><div id='project'> Project Name: layout-parser/layout-parser</div><div id='commit'> Commit Name: 4ff55fa3062a39ed53849fa467afd1c52378ae41</div><div id='time'> Time: 2021-09-10</div><div id='author'> Author: 22512825+lolipopshock@users.noreply.github.com</div><div id='file'> File Name: src/layoutparser/models/paddledetection/layoutmodel.py</div><div id='m_class'> M Class Name: PaddleDetectionLayoutModel</div><div id='n_method'> N Class Name: PaddleDetectionLayoutModel</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: BaseLayoutModel</div><div id='n_parent_class'> N Parent Class: BaseLayoutModel</div><div id='m_file'> M File Name: src/layoutparser/models/paddledetection/layoutmodel.py</div><div id='n_file'> N File Name: src/layoutparser/models/paddledetection/layoutmodel.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 133</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 123</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                label_map = LABEL_MAP_CATALOG[dataset_name]
            num_classes = len(label_map)

            <a id="change">if model_path is None</a>:
                &#47&#47 Download the models when it model_path is not specified
                model_path = PathManager.get_local_path(
                    self._reconstruct_path_with_detector_name(</code></pre><h3>After Change</h3><pre><code class='java'>
        extra_config: Optional[Dict],
    ):

        config_path<a id="change">, model_path = </a><a id="change">self.config_parser(</a>config_path, model_path<a id="change">)</a>

        if config_path.startswith("lp://"):
            &#47&#47 If it&quots officially supported by layoutparser
            dataset_name, model_name = config_path.lstrip("lp://").split("/")[1:3]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/layout-parser/layout-parser/commit/4ff55fa3062a39ed53849fa467afd1c52378ae41#diff-d3962a159b94b3761007b24c8fa2a56e05ebb8f0d2fd69153e335c5c374d94f9L124' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57930296</div><div id='project'> Project Name: layout-parser/layout-parser</div><div id='commit'> Commit Name: 4ff55fa3062a39ed53849fa467afd1c52378ae41</div><div id='time'> Time: 2021-09-10</div><div id='author'> Author: 22512825+lolipopshock@users.noreply.github.com</div><div id='file'> File Name: src/layoutparser/models/effdet/layoutmodel.py</div><div id='m_class'> M Class Name: EfficientDetLayoutModel</div><div id='n_method'> N Class Name: EfficientDetLayoutModel</div><div id='m_method'> M Method Name: _initialize_model(5)</div><div id='n_method'> N Method Name: _initialize_model(5)</div><div id='m_parent_class'> M Parent Class: BaseLayoutModel</div><div id='n_parent_class'> N Parent Class: BaseLayoutModel</div><div id='m_file'> M File Name: src/layoutparser/models/effdet/layoutmodel.py</div><div id='n_file'> N File Name: src/layoutparser/models/effdet/layoutmodel.py</div><div id='m_start'> M Start Line: 140</div><div id='m_end'> M End Line: 148</div><div id='n_start'> N Start Line: 133</div><div id='n_end'> N End Line: 143</div><BR>