<html><h3>Pattern ID :13170
</h3><img src='44512342.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            )

        &#47&#47 convert to numpy
        tensor<a id="change"> = </a><a id="change">tensor.cpu().numpy()</a>
        data = dict(zip([&quothead_id&quot, &quotrelation_id&quot, &quottail_id&quot], tensor.T))

        &#47&#47 vectorized label lookup
        for column, id_to_label in dict(</code></pre><h3>After Change</h3><pre><code class='java'>
            )

        &#47&#47 Re-order columns
        columns = list(TRIPLES_DF_COLUMNS) + <a id="change">old_col[3:]</a>
        return data.loc[:, columns]

    def new_with_restriction(
        self,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/a2f9ee81f1899e695483c69983cc8159524cbe01#diff-2dce01c3c0b4127bdab5850a84b545299b150d156c01aad24589fa76762c6c72L661' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44512342</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: a2f9ee81f1899e695483c69983cc8159524cbe01</div><div id='time'> Time: 2021-01-21</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: src/pykeen/triples/triples_factory.py</div><div id='m_class'> M Class Name: TriplesFactory</div><div id='n_method'> N Class Name: TriplesFactory</div><div id='m_method'> M Method Name: tensor_to_df(2)</div><div id='n_method'> N Method Name: tensor_to_df(2)</div><div id='m_parent_class'> M Parent Class: CoreTriplesFactory</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pykeen/triples/triples_factory.py</div><div id='n_file'> N File Name: src/pykeen/triples/triples_factory.py</div><div id='m_start'> M Start Line: 661</div><div id='m_end'> M End Line: 693</div><div id='n_start'> N Start Line: 941</div><div id='n_end'> N End Line: 958</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        inpainted_image = self.model(image, mask)

        cur_res<a id="change"> = </a><a id="change">inpainted_image[0].permute(1, 2, 0).detach().cpu().numpy()</a>
        cur_res = cur_res[0:origin_height, 0:origin_width, :]
        cur_res = np.clip(cur_res * 255, 0, 255).astype("uint8")
        cur_res = cv2.cvtColor(cur_res, cv2.COLOR_BGR2RGB)
        return cur_res</code></pre><h3>After Change</h3><pre><code class='java'>
            crop_image, crop_box = self._run_box(image, mask, box)
            crop_result.append((crop_image, crop_box))

        image = <a id="change">(image.transpose(1, 2, 0) * 255).astype(np.uint8)[:, :, ::-1]</a>
        for crop_image, crop_box in crop_result:
            x1, y1, x2, y2 = crop_box
            image[y1:y2, x1:x2, :] = crop_image
        return image</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sanster/lama-cleaner/commit/43c9c22c7312dd39feac4e3783e9ec080fd64243#diff-c64397576661152777123ab1a485c53dbfa8de21c16999da23c3b18cb8993606L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44512339</div><div id='project'> Project Name: sanster/lama-cleaner</div><div id='commit'> Commit Name: 43c9c22c7312dd39feac4e3783e9ec080fd64243</div><div id='time'> Time: 2022-03-22</div><div id='author'> Author: cwq1913@gmail.com</div><div id='file'> File Name: lama_cleaner/lama/__init__.py</div><div id='m_class'> M Class Name: LaMa</div><div id='n_method'> N Class Name: LaMa</div><div id='m_method'> M Method Name: __call__(3)</div><div id='n_method'> N Method Name: __call__(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lama_cleaner/lama/__init__.py</div><div id='n_file'> N File Name: lama_cleaner/lama/__init__.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 65</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        target1 = features1[-1]
        target1 = target1.cpu().data.numpy()[0, :]
        target2 = features2[-1]
        target2<a id="change"> = </a><a id="change">target2.cpu().data.numpy()</a>[0, :]
        print(&quottarget shape:&quot, target1.shape)

        &quot&quot&quot</code></pre><h3>After Change</h3><pre><code class='java'>
            else:
                input1, input2 = input1.to(device), input2.to(device)
                print(&quotinput size:&quot, input1.size())
                input_3d_shape = <a id="change">input1.shape[2:]</a>

        features1, output1 = self.extractor1(input1)
        features2, output2 = self.extractor2(input2)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rvl-lab-utoronto/video_similarity_search/commit/acce7be1aa24b87320dd3bf01eeaa9f29d08d264#diff-929991925aa0e906fbfd772b4c25468a615563d5507eee259781754acfd0d2e3L102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44512336</div><div id='project'> Project Name: rvl-lab-utoronto/video_similarity_search</div><div id='commit'> Commit Name: acce7be1aa24b87320dd3bf01eeaa9f29d08d264</div><div id='time'> Time: 2020-08-05</div><div id='author'> Author: salar77h@gmail.com</div><div id='file'> File Name: video_gradcam.py</div><div id='m_class'> M Class Name: VideoSimilarityGradCam</div><div id='n_method'> N Class Name: VideoSimilarityGradCam</div><div id='m_method'> M Method Name: __call__(3)</div><div id='n_method'> N Method Name: __call__(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: video_gradcam.py</div><div id='n_file'> N File Name: video_gradcam.py</div><div id='m_start'> M Start Line: 114</div><div id='m_end'> M End Line: 168</div><div id='n_start'> N Start Line: 153</div><div id='n_end'> N End Line: 180</div><BR>