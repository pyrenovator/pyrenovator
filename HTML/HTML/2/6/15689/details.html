<html><h3>Pattern ID :15689
</h3><img src='53029033.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        regular nodes.
    

    node_set = <a id="change">set(</a>range(data.x.shape[0])<a id="change">)</a>
    target_nodes = np.random.choice(list(node_set), size=n, replace=False)
    candidate_set = node_set.difference(set(target_nodes))

    for u in target_nodes:</code></pre><h3>After Change</h3><pre><code class='java'>
        regular nodes.
    

    <a id="change">if </a>not isinstance(data, torch_geometric.data.Data):
        raise TypeError("data should be torch_geometric.data.Data")

    if isinstance(n, int):
        check_parameter(n, low=1, high=data.num_nodes, param_name=&quotn&quot)
    else:
        <a id="change">raise </a><a id="change">ValueError(</a>"n should be int, got %s" % n<a id="change">)</a>

    if isinstance(k, int):
        check_parameter(k, low=1, high=data.num_nodes-n, param_name=&quotk&quot)
    else:
        <a id="change">raise ValueError(</a>"k should be int, got %s" % k<a id="change">)</a>

    if random_state:
        np.random.seed(random_state)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pygod-team/pygod/commit/9dd44a7c9d6536a511637a44caa85e48c1ba8e66#diff-24591345cf5d6927c6593d4560eaacb1aa882677c08019dfce2d84d82ec69f44L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53029033</div><div id='project'> Project Name: pygod-team/pygod</div><div id='commit'> Commit Name: 9dd44a7c9d6536a511637a44caa85e48c1ba8e66</div><div id='time'> Time: 2022-04-14</div><div id='author'> Author: ytongdou@gmail.com</div><div id='file'> File Name: pygod/utils/outlier_generator.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: gen_attribute_outliers(4)</div><div id='n_method'> N Method Name: gen_attribute_outliers(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pygod/utils/outlier_generator.py</div><div id='n_file'> N File Name: pygod/utils/outlier_generator.py</div><div id='m_start'> M Start Line: 97</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 86</div><div id='n_end'> N End Line: 148</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    new_edges.append(
                        torch.tensor([[id1, id2]], dtype=torch.long))

        node_set = node_set.difference(<a id="change">set(</a>sampled_idx<a id="change">)</a>)

    y_outlier = torch.zeros(data.x.shape[0], dtype=torch.long)
    y_outlier[sample_indices] = 1</code></pre><h3>After Change</h3><pre><code class='java'>
        regular nodes.
    

    <a id="change">if </a>not isinstance(data, torch_geometric.data.Data):
        raise TypeError("data should be torch_geometric.data.Data")

    if isinstance(m, int):
        check_parameter(m, low=1, high= data.num_nodes, param_name=&quotm&quot)
    else:
        <a id="change">raise ValueError(</a>"m should be int, got %s" % m<a id="change">)</a>

    if isinstance(n, int):
        check_parameter(n, low=1, high=data.num_nodes, param_name=&quotn&quot)
    else:
        <a id="change">raise </a><a id="change">ValueError(</a>"n should be int, got %s" % n<a id="change">)</a>

    check_parameter(m*n, low=1, high=data.num_nodes, param_name=&quotm*n&quot)

    if random_state:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pygod-team/pygod/commit/9dd44a7c9d6536a511637a44caa85e48c1ba8e66#diff-24591345cf5d6927c6593d4560eaacb1aa882677c08019dfce2d84d82ec69f44L16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53029032</div><div id='project'> Project Name: pygod-team/pygod</div><div id='commit'> Commit Name: 9dd44a7c9d6536a511637a44caa85e48c1ba8e66</div><div id='time'> Time: 2022-04-14</div><div id='author'> Author: ytongdou@gmail.com</div><div id='file'> File Name: pygod/utils/outlier_generator.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: gen_structure_outliers(4)</div><div id='n_method'> N Method Name: gen_structure_outliers(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pygod/utils/outlier_generator.py</div><div id='n_file'> N File Name: pygod/utils/outlier_generator.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            metrics: Metric list as nn.ModuleList for current phase. 
        
        &#47&#47 create added_metric_names set
        added_log_names = <a id="change">set()</a>
        metrics = []
        for metric_params in params:
            if phase not in metric_params.phases:
                continue</code></pre><h3>After Change</h3><pre><code class='java'>
            log_name = prefix + metric_params.name
            if log_name in added_log_names:
                &#47&#47 If prefix not set.
                <a id="change">if </a>metric_params.log_prefix is None:
                    <a id="change">raise </a><a id="change">ValueError(</a>&quotHas a two identical metrics. Please, set in config file &quot
                                     &quotprefix for one of them.&quot<a id="change">)</a>
                &#47&#47 If prefix set.
                else:
                    <a id="change">raise ValueError(</a>&quotHas a two identical metrics with the same log_prefix. &quot
                                     &quotPlease, set in config file differet log_prefix for identical metrics.&quot<a id="change">)</a>
            else:
                added_log_names.append(log_name)

            metrics.append(MetricWithUtils(metric=metric, mapping=mapping, log_name=log_name))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/e8f0ac156b30fb07321c91bf711a530c6ee900d2#diff-7455508f96fab95aee3143a9cf2993cbd82fe0e2daf7958b4772abf4bbdbb83aL106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53029040</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: e8f0ac156b30fb07321c91bf711a530c6ee900d2</div><div id='time'> Time: 2022-05-05</div><div id='author'> Author: rashit.bayazitov.1995@gmail.com</div><div id='file'> File Name: src/metrics/metric_manager.py</div><div id='m_class'> M Class Name: MetricManager</div><div id='n_method'> N Class Name: MetricManager</div><div id='m_method'> M Method Name: __get_phase_metrics(3)</div><div id='n_method'> N Method Name: __get_phase_metrics(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/metrics/metric_manager.py</div><div id='n_file'> N File Name: src/metrics/metric_manager.py</div><div id='m_start'> M Start Line: 117</div><div id='m_end'> M End Line: 127</div><div id='n_start'> N Start Line: 117</div><div id='n_end'> N End Line: 135</div><BR>