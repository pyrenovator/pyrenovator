<html><h3>Pattern ID :22779
</h3><img src='72282398.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    out=model(
                        [[j[0][0].cuda(), j[0][1].cuda()], j[1], j[2].cuda()],True,training=True)
                    &#47&#47print(j[-1].shape)
                    loss<a id="change">=</a>criterion(out,<a id="change">j[-1].view(-1</a><a id="change">)</a>.cuda())
            else:
                out=model([i.float().cuda() for i in j[:-1]],True,training=True)
                &#47&#47print(j[-1])</code></pre><h3>After Change</h3><pre><code class='java'>
            torch.save(model,save)
        else:
            patience += 1
        <a id="change">if </a>early_stop and <a id="change">patience &gt; 20</a>:
            <a id="change">break</a>
        
        scheduler.step()

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pliang279/multibench/commit/62bf78b72dde077b9febf7fe1cc3e50c936fbcbb#diff-d18b23b61842526d6956b06a29d725aed1c3962fa548edca68f628dea2178c2dL99' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72282398</div><div id='project'> Project Name: pliang279/multibench</div><div id='commit'> Commit Name: 62bf78b72dde077b9febf7fe1cc3e50c936fbcbb</div><div id='time'> Time: 2021-04-26</div><div id='author'> Author: ztwu_nil@zju.edu.cn</div><div id='file'> File Name: training_structures/Contrastive_Learning.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(14)</div><div id='n_method'> N Method Name: train(14)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: training_structures/Contrastive_Learning.py</div><div id='n_file'> N File Name: training_structures/Contrastive_Learning.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 157</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            else:
                out=model([i.float().cuda() for i in j[:-1]],True,training=True)
                &#47&#47print(j[-1])
                loss<a id="change">=</a>criterion(out,<a id="change">j[-1].view(-1</a><a id="change">)</a>.cuda())
            totalloss += loss * len(j[-1])
            totals+=len(j[-1])
            </code></pre><h3>After Change</h3><pre><code class='java'>
            torch.save(model,save)
        else:
            patience += 1
        <a id="change">if </a>early_stop and <a id="change">patience &gt; 20</a>:
            <a id="change">break</a>
        
        scheduler.step()

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pliang279/multibench/commit/0566c062ada67f67199bb5b63046fab1fd680654#diff-d18b23b61842526d6956b06a29d725aed1c3962fa548edca68f628dea2178c2dL42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72282404</div><div id='project'> Project Name: pliang279/multibench</div><div id='commit'> Commit Name: 0566c062ada67f67199bb5b63046fab1fd680654</div><div id='time'> Time: 2021-04-26</div><div id='author'> Author: ztwu_nil@zju.edu.cn</div><div id='file'> File Name: training_structures/Contrastive_Learning.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(14)</div><div id='n_method'> N Method Name: train(14)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: training_structures/Contrastive_Learning.py</div><div id='n_file'> N File Name: training_structures/Contrastive_Learning.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 157</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                x_i, _ = nnls(temp.cpu().numpy(), torch.matmul(A_i, b).view(-1).cpu().numpy())
                x_i = torch.from_numpy(x_i)
                x_i = x_i.float().to(device=device)
                x_i<a id="change"> = </a><a id="change">x_i.view(-1</a>, 1<a id="change">)</a>
            else:
                x_i, _, _, _ = torch.linalg.lstsq(temp, torch.matmul(A_i, b).view(-1, 1))
        resid = b - torch.matmul(torch.transpose(A_i, 0, 1), x_i).view(-1)  &#47&#47 A_i.T.dot(x_i)
    x_i = x_i.view(-1)</code></pre><h3>After Change</h3><pre><code class='java'>
            index = torch.argmax(projections)
        else:
            index = torch.argmax(torch.abs(projections))
        <a id="change">if index in indices</a>:
            <a id="change">break</a>
        indices.append(index)
            &#47&#47break
        if len(indices) == 1:
            A_i = A[:, index]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/decile-team/cords/commit/f19c08bd826ccded3c59a6730613118d59261398#diff-3f0af3090a13a1f853cf9eafc741d59f5c78cc8b6db1ee1a6a7792fbe1d86b62L547' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72282402</div><div id='project'> Project Name: decile-team/cords</div><div id='commit'> Commit Name: f19c08bd826ccded3c59a6730613118d59261398</div><div id='time'> Time: 2021-09-21</div><div id='author'> Author: krishnateja.killamsetty@utdallas.edu</div><div id='file'> File Name: cords/selectionstrategies/helpers/omp_solvers.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: OrthogonalMP_REG_NNLS_Parallel(7)</div><div id='n_method'> N Method Name: OrthogonalMP_REG_NNLS_Parallel(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cords/selectionstrategies/helpers/omp_solvers.py</div><div id='n_file'> N File Name: cords/selectionstrategies/helpers/omp_solvers.py</div><div id='m_start'> M Start Line: 563</div><div id='m_end'> M End Line: 591</div><div id='n_start'> N Start Line: 560</div><div id='n_end'> N End Line: 585</div><BR>