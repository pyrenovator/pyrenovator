<html><h3>Pattern ID :4657
</h3><img src='16709372.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
})

def get_args(args, search_params):
    <a id="change">args_lst</a><a id="change"> = </a><a id="change">[]</a>
    for _params in itertools.product(*search_params.values()):
        params = {key: params[idx]
            for idx, key in enumerate(search_params.keys())}
        print("--------Search Params---------------", params)
        
        for idx, key in enumerate(search_params.keys()):
            if hasattr(args, key):
                setattr(args, _params[idx])
        <a id="change">args_lst.append(</a>args<a id="change">)</a>
    <a id="change">return args_lst</a></code></pre><h3>After Change</h3><pre><code class='java'>
            for idx, key in enumerate(condi_params.keys()):
                if hasattr(args, key):
                    setattr(args, key, _params[idx])
            <a id="change">yield </a>args</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hyliush/deep-time-series/commit/12d3cbf5ec9deddba1c7338e1213922c630b7302#diff-dfc491af5eaf4418b484618b6ed973f952f34784a717a12c6356f00e49a59cceL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16709372</div><div id='project'> Project Name: hyliush/deep-time-series</div><div id='commit'> Commit Name: 12d3cbf5ec9deddba1c7338e1213922c630b7302</div><div id='time'> Time: 2022-05-01</div><div id='author'> Author: 49185490+hyliush@users.noreply.github.com</div><div id='file'> File Name: utils/search.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_args(2)</div><div id='n_method'> N Method Name: get_args(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/search.py</div><div id='n_file'> N File Name: utils/search.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 23</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 24</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
})

def get_args(args, search_params):
    <a id="change">args_lst</a><a id="change"> = </a><a id="change">[]</a>
    for _params in itertools.product(*search_params.values()):
        params = {key: params[idx]
            for idx, key in enumerate(search_params.keys())}
        print("--------Search Params---------------", params)
        
        for idx, key in enumerate(search_params.keys()):
            if hasattr(args, key):
                setattr(args, _params[idx])
        <a id="change">args_lst.append(</a>args<a id="change">)</a>
    <a id="change">return </a>args_lst</code></pre><h3>After Change</h3><pre><code class='java'>

def get_args(args, condi_params):
    if condi_params is None:
        <a id="change">yield </a>args
    else:
        for _params in itertools.product(*condi_params.values()):
            params = {key: _params[idx]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hyliush/deep-time-series/commit/12d3cbf5ec9deddba1c7338e1213922c630b7302#diff-dfc491af5eaf4418b484618b6ed973f952f34784a717a12c6356f00e49a59cceL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16709370</div><div id='project'> Project Name: hyliush/deep-time-series</div><div id='commit'> Commit Name: 12d3cbf5ec9deddba1c7338e1213922c630b7302</div><div id='time'> Time: 2022-05-01</div><div id='author'> Author: 49185490+hyliush@users.noreply.github.com</div><div id='file'> File Name: utils/search.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_args(2)</div><div id='n_method'> N Method Name: get_args(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/search.py</div><div id='n_file'> N File Name: utils/search.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 23</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 24</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ner_map=ner_map,
        merge_subtokens=merge_subtokens,
    )
    <a id="change">docs</a><a id="change"> = </a><a id="change">[]</a>
    sent_docs_to_merge = []
    for sent_doc in sent_docs:
        sent_docs_to_merge.append(sent_doc)
        if len(sent_docs_to_merge) % n_sents == 0:
            <a id="change">docs.append(</a>Doc.from_docs(sent_docs_to_merge)<a id="change">)</a>
            sent_docs_to_merge = []
    if sent_docs_to_merge:
        docs.append(Doc.from_docs(sent_docs_to_merge))
    <a id="change">return </a>docs


def has_ner(input_data, ner_tag_pattern):</code></pre><h3>After Change</h3><pre><code class='java'>
            yield Doc.from_docs(sent_docs_to_merge)
            sent_docs_to_merge = []
    if sent_docs_to_merge:
        <a id="change">yield </a>Doc.from_docs(sent_docs_to_merge)


def has_ner(input_data, ner_tag_pattern):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/1ddf2f39c77c3f899c8db2066ca03fd787521106#diff-0f0fe9bf2762767bb4745127e1c5712653d22cfe81133efc9d4fd8fa028110c6L10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16709371</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 1ddf2f39c77c3f899c8db2066ca03fd787521106</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: adrianeboyd@gmail.com</div><div id='file'> File Name: spacy/training/converters/conllu_to_docs.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: conllu_to_docs(6)</div><div id='n_method'> N Method Name: conllu_to_docs(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/training/converters/conllu_to_docs.py</div><div id='n_file'> N File Name: spacy/training/converters/conllu_to_docs.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if not isinstance(input_data, str):
            input_data = srsly.json_dumps(input_data)
        input_data = input_data.encode("utf8")
    <a id="change">docs</a><a id="change"> = </a><a id="change">[]</a>
    for json_doc in json_iterate(input_data):
        for json_para in json_to_annotations(json_doc):
            example_dict = _fix_legacy_dict_data(json_para)
            tok_dict, doc_dict = _parse_example_dict_data(example_dict)
            doc = annotations_to_doc(nlp.vocab, tok_dict, doc_dict)
            <a id="change">docs.append(</a>doc<a id="change">)</a>
    <a id="change">return </a>docs
</code></pre><h3>After Change</h3><pre><code class='java'>
            example_dict = _fix_legacy_dict_data(json_para)
            tok_dict, doc_dict = _parse_example_dict_data(example_dict)
            doc = annotations_to_doc(nlp.vocab, tok_dict, doc_dict)
            <a id="change">yield </a>doc
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/1ddf2f39c77c3f899c8db2066ca03fd787521106#diff-31f8c225fbe750f4441bcd3356b01020f032db668fa0df65e4b642d4c7e87574L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16709369</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 1ddf2f39c77c3f899c8db2066ca03fd787521106</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: adrianeboyd@gmail.com</div><div id='file'> File Name: spacy/training/converters/json_to_docs.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: json_to_docs(2)</div><div id='n_method'> N Method Name: json_to_docs(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/training/converters/json_to_docs.py</div><div id='n_file'> N File Name: spacy/training/converters/json_to_docs.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 19</div><div id='n_end'> N End Line: 20</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return entities

    def _create_non_contiguous_entities(self, region_id: str) -&gt; List[Entity]:
        <a id="change">non_contig_entities</a><a id="change"> = </a><a id="change">[]</a>
        for to_id in self.non_contig_id_map[region_id]:
            from_span = self.id_to_charspan[region_id]
            to_span = self.id_to_charspan[to_id]
            &#47&#47 we need to check from_id and to_id have matching labels
            labels = self.id_to_labels[region_id].intersection(self.id_to_labels[to_id])
            for label in labels:
                ent = Entity.from_spans(
                    spans=[
                        (
                            to_span.start,
                            to_span.end,
                        ),
                        (
                            from_span.start,
                            from_span.end,
                        ),
                    ],
                    join_str=" ",
                    namespace="gold",
                    entity_class=label,
                    text=self.text,
                )
                &#47&#47 since independent regions might have different mapping values, we merge them all
                &#47&#47 ideally this wouldn&quott happen if human annotation is consistent
                mappings = copy.deepcopy(self.id_to_mappings.get(region_id, set()))
                mappings.update(copy.deepcopy(self.id_to_mappings.get(to_id, set())))
                ent.mappings = mappings
                <a id="change">non_contig_entities.append(</a>ent<a id="change">)</a>
        <a id="change">return </a>non_contig_entities

    def _create_contiguous_entity(self, label, region_id, span):
        ent = Entity.from_spans(</code></pre><h3>After Change</h3><pre><code class='java'>
            mappings = copy.deepcopy(self.id_to_mappings.get(region_id, set()))
            mappings.update(self.id_to_mappings.get(to_id, set()))
            for label in labels:
                <a id="change">yield </a>Entity(
                    match=match,
                    entity_class=label,
                    spans=spans,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/bd367306e77f82451a4fbf5405bdc759d2c47937#diff-01fce6e72ff30d060715fa8c8a05f6e95a0222669fb503988ae3ddc87e380481L218' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16709381</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: bd367306e77f82451a4fbf5405bdc759d2c47937</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/modelling/annotation/label_studio.py</div><div id='m_class'> M Class Name: LSToKazuConversion</div><div id='n_method'> N Class Name: LSToKazuConversion</div><div id='m_method'> M Method Name: _create_non_contiguous_entities(2)</div><div id='n_method'> N Method Name: _create_non_contiguous_entities(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/modelling/annotation/label_studio.py</div><div id='n_file'> N File Name: kazu/modelling/annotation/label_studio.py</div><div id='m_start'> M Start Line: 219</div><div id='m_end'> M End Line: 248</div><div id='n_start'> N Start Line: 220</div><div id='n_end'> N End Line: 239</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            else:
                raise
            
        <a id="change">output</a><a id="change"> = </a><a id="change">[]</a>
        for i, (term_id, payload) in enumerate(term_ids):
            if payload is not None:
                <a id="change">output.append(</a>payload<a id="change">)</a>
            else:
                output.append(self.tokens[term_id])
        <a id="change">return </a>output
        
    def print_all_actions(self):
        print(0, &quotpad&quot)</code></pre><h3>After Change</h3><pre><code class='java'>

        for i, (term_id, payload) in enumerate(term_ids):
            if payload is not None:
                <a id="change">yield </a>payload
            else:
                yield self.tokens[term_id]
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/7325ca1cc7a0ac534c7dc78864198d0e9f2b47d6#diff-611da8f07bd8aeab702ae4341e5714ec75356ac8d23767c4777e0c15fcdb3272L104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16709378</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: 7325ca1cc7a0ac534c7dc78864198d0e9f2b47d6</div><div id='time'> Time: 2019-03-19</div><div id='author'> Author: gcampagn@cs.stanford.edu</div><div id='file'> File Name: decanlp/tasks/almond/grammar/shift_reduce_grammar.py</div><div id='m_class'> M Class Name: ShiftReduceGrammar</div><div id='n_method'> N Class Name: ShiftReduceGrammar</div><div id='m_method'> M Method Name: reconstruct_program(4)</div><div id='n_method'> N Method Name: reconstruct_program(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: decanlp/tasks/almond/grammar/shift_reduce_grammar.py</div><div id='n_file'> N File Name: decanlp/tasks/almond/grammar/shift_reduce_grammar.py</div><div id='m_start'> M Start Line: 122</div><div id='m_end'> M End Line: 132</div><div id='n_start'> N Start Line: 122</div><div id='n_end'> N End Line: 130</div><BR>