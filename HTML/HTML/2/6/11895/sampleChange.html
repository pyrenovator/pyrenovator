<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                dates.append(y[&quottext&quot])
                index = len(all_text[:y[&quotcharacterOffsetEnd&quot]].split(&quot &quot))
                if token_length &lt; 2:
                    <a id="change">indices.append(</a>[index - 1]<a id="change">)</a>
                else:
                    indices.append(list(range(index - token_length, index)))

            index += token_length</code></pre><h3>After Change</h3><pre><code class='java'>
    indices = []
    matches = search_dates(all_text)

    <a id="change">for </a>match in matches<a id="change">:
        </a>text = match[0]

        token_length = len(text.split(&quot &quot))
        idx = all_text.find(match[0])
        text_len = len(text)
        index<a id="change"> = </a>len(<a id="change">all_text[:idx].strip().split(&quot &quot</a><a id="change">)</a>)

        replaced_text = &quot &quot.join([&quot*&quot*len(i) for i in text.split(&quot &quot)])
</code></pre>