<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def generate(self, text, topk=1, topp=0.95):
        max_c_len = maxlen - self.maxlen
        token_ids, segment_ids = tokenizer.encode(text, maxlen=max_c_len)
        output_ids = <a id="change">self.beam_search([</a>token_ids, segment_ids<a id="change"></a>]<a id="change">, topk=topk)</a>  &#47&#47 基于beam search
        return tokenizer.decode(output_ids.cpu().numpy())

</code></pre><h3>After Change</h3><pre><code class='java'>
    def generate(self, text, topk=1, topp=0.95):
        max_c_len = maxlen - self.maxlen
        token_ids, segment_ids = tokenizer.encode(text, maxlen=max_c_len)
        output_ids = <a id="change">self.beam_search([token_ids, segment_ids], topk=topk)[0]</a>  &#47&#47 基于beam search
        return tokenizer.decode(output_ids.cpu().numpy())

</code></pre>