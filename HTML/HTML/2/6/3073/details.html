<html><h3>Pattern ID :3073
</h3><img src='11885120.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if pretrained:
            if pretrained_path == None:
                <a id="change">if </a>not os.path.exists(&quotwav2vec_large.pt&quot):
                    &#47&#47 _ = wget.download(&quothttps://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt&quot)
                    _ = <a id="change">urllib.request.urlretrieve(</a>"https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt", "wav2vec_large.pt"<a id="change">)</a>
                cp = torch.load(&quotwav2vec_large.pt&quot, map_location=self.device)
            else: cp = torch.load(pretrained_path, lambda storage, loc: storage)
            pretrained_dict = cp[&quotmodel&quot]
            model_dict = self.feature_extractor.state_dict()</code></pre><h3>After Change</h3><pre><code class='java'>
                    &#47&#47 _ = wget.download(&quothttps://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt&quot)
                    print(&quotDownloading the pretrained weights from fairseq(https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt) ...&quot)
                    &#47&#47 _ = urllib.request.urlretrieve("https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt", "wav2vec_large.pt", MyProgressBar())
                    <a id="change">with tqdm</a><a id="change">(unit=&quotB&quot, unit_scale=True, miniters=1, desc=filename) as t:
                        </a><a id="change">urllib.request.urlretrieve(</a>"https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt", filename<a id="change">, reporthook=_reporthook(t))</a>
                cp = torch.load(filename, map_location=self.device)
            else: 
                cp = torch.load(pretrained_path, map_location=self.device)
            pretrained_dict = cp[&quotmodel&quot]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/shangeth/wavencoder/commit/128e9940e5092ba12ee676b4e842d1f63f9ea9b7#diff-e382e846e69e18cb3fc6eb09aaac26f65139652d6d4d5059c93acfd69e1451f2L179' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11885120</div><div id='project'> Project Name: shangeth/wavencoder</div><div id='commit'> Commit Name: 128e9940e5092ba12ee676b4e842d1f63f9ea9b7</div><div id='time'> Time: 2020-09-30</div><div id='author'> Author: shangethrajaa@gmail.com</div><div id='file'> File Name: build/lib/wavencoder/models/wav2vec.py</div><div id='m_class'> M Class Name: Wav2Vec</div><div id='n_method'> N Class Name: Wav2Vec</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: build/lib/wavencoder/models/wav2vec.py</div><div id='n_file'> N File Name: build/lib/wavencoder/models/wav2vec.py</div><div id='m_start'> M Start Line: 179</div><div id='m_end'> M End Line: 182</div><div id='n_start'> N Start Line: 209</div><div id='n_end'> N End Line: 218</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if pretrained:
            if pretrained_path == None:
                <a id="change">if </a>not os.path.exists(&quotwav2vec_large.pt&quot):
                    &#47&#47 _ = wget.download(&quothttps://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt&quot)
                    _ = <a id="change">urllib.request.urlretrieve(</a>"https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt", "wav2vec_large.pt"<a id="change">)</a>
                cp = torch.load(&quotwav2vec_large.pt&quot, map_location=self.device)
            else: cp = torch.load(pretrained_path, lambda storage, loc: storage)
            pretrained_dict = cp[&quotmodel&quot]
            model_dict = self.feature_extractor.state_dict()</code></pre><h3>After Change</h3><pre><code class='java'>
                    &#47&#47 _ = wget.download(&quothttps://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt&quot)
                    print(&quotDownloading the pretrained weights from fairseq(https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt) ...&quot)
                    &#47&#47 _ = urllib.request.urlretrieve("https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt", "wav2vec_large.pt", MyProgressBar())
                    <a id="change">with tqdm</a><a id="change">(unit=&quotB&quot, unit_scale=True, miniters=1, desc=filename) as t:
                        </a><a id="change">urllib.request.urlretrieve(</a>"https://dl.fbaipublicfiles.com/fairseq/wav2vec/wav2vec_large.pt", filename<a id="change">, reporthook=_reporthook(t))</a>
                cp = torch.load(filename, map_location=self.device)
            else: 
                cp = torch.load(pretrained_path, map_location=self.device)
            pretrained_dict = cp[&quotmodel&quot]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/shangeth/wavencoder/commit/128e9940e5092ba12ee676b4e842d1f63f9ea9b7#diff-0ecd2aac8357eaa0b9e9b2ee1e6b105bde23f2f57519c25c75cfcd37f1dc3047L120' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11885117</div><div id='project'> Project Name: shangeth/wavencoder</div><div id='commit'> Commit Name: 128e9940e5092ba12ee676b4e842d1f63f9ea9b7</div><div id='time'> Time: 2020-09-30</div><div id='author'> Author: shangethrajaa@gmail.com</div><div id='file'> File Name: wavencoder/models/wav2vec.py</div><div id='m_class'> M Class Name: Wav2Vec</div><div id='n_method'> N Class Name: Wav2Vec</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: wavencoder/models/wav2vec.py</div><div id='n_file'> N File Name: wavencoder/models/wav2vec.py</div><div id='m_start'> M Start Line: 179</div><div id='m_end'> M End Line: 182</div><div id='n_start'> N Start Line: 207</div><div id='n_end'> N End Line: 215</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return
        if not self._check_exists(raw_file_path):
            e = os.system(&quotwget -t inf {} -O {}&quot.format(data_url, raw_file_path))
            <a id="change">if </a>e==1:
                <a id="change">urllib.request.urlretrieve(</a>data_url,raw_file_path<a id="change">)</a>
        dataset = load_svmlight_file(raw_file_path)
        features, labels = self._get_images_and_labels(dataset)
        if self.name == "MSD":
            features, labels = self.normalize(features, labels, self.name, root, self.split)</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._check_exists(file_path):
            return
        if not self._check_exists(raw_file_path):
            <a id="change">with TqdmUpTo</a><a id="change">(unit=&quotB&quot, unit_scale=True, unit_divisor=1024, miniters=1, desc=raw_file_path) as t:
                </a><a id="change">urllib.request.urlretrieve(</a>data_url,raw_file_path<a id="change">, reporthook=t.update_to, data=None)</a>
        dataset = load_svmlight_file(raw_file_path)
        features, labels = self._get_images_and_labels(dataset)
        if self.name == "MSD":
            features, labels = self.normalize(features, labels, self.name, root, self.split)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mloptpsu/fedtorch/commit/34244559bb370af199fd7c3e9a16816a7ec6210d#diff-e8ca976a03f682a45d86eae16c3fd971a6cd42dca6063aae9bf7298c1ba2e2d3L113' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11885119</div><div id='project'> Project Name: mloptpsu/fedtorch</div><div id='commit'> Commit Name: 34244559bb370af199fd7c3e9a16816a7ec6210d</div><div id='time'> Time: 2021-01-24</div><div id='author'> Author: mohamadmahdi.kamani@gmail.com</div><div id='file'> File Name: fedtorch/components/datasets/loader/libsvm_datasets.py</div><div id='m_class'> M Class Name: LibSVMDataset</div><div id='n_method'> N Class Name: LibSVMDataset</div><div id='m_method'> M Method Name: download(5)</div><div id='n_method'> N Method Name: download(5)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: fedtorch/components/datasets/loader/libsvm_datasets.py</div><div id='n_file'> N File Name: fedtorch/components/datasets/loader/libsvm_datasets.py</div><div id='m_start'> M Start Line: 118</div><div id='m_end'> M End Line: 121</div><div id='n_start'> N Start Line: 118</div><div id='n_end'> N End Line: 120</div><BR>