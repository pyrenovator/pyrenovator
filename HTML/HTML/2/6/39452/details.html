<html><h3>Pattern ID :39452
</h3><img src='112064109.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            input = np.expand_dims(input, axis=0).astype(np.float32)
            input /= 255
            yield [input]
            <a id="change">if i &gt;= 40</a>:
                <a id="change">break</a>

def keras_builder(onnx_model):
    model_graph = onnx_model.graph
    onnx_weights = dict()</code></pre><h3>After Change</h3><pre><code class='java'>
def representative_dataset_gen(img_root, img_size, mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225]):
    if isinstance(mean, list):
        mean = np.array(mean, dtype=np.float32)
    <a id="change">if </a><a id="change">isinstance(</a>std, list<a id="change">)</a>:
        std<a id="change"> = </a>np.array(std, dtype=np.float32)

    if img_root is None or (not os.path.exists(img_root)):
        for _ in range(20):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mpolaris/onnx2tflite/commit/9651425f29b8dd752c8227d74ae868b3d132a75c#diff-68adbb259d1aa3c28ade37122b3492bd910ac10ddfa1596120f5c6dd4f10955aL9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112064109</div><div id='project'> Project Name: mpolaris/onnx2tflite</div><div id='commit'> Commit Name: 9651425f29b8dd752c8227d74ae868b3d132a75c</div><div id='time'> Time: 2022-04-17</div><div id='author'> Author: 540492239@qq.com</div><div id='file'> File Name: utils/builder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: representative_dataset_gen(4)</div><div id='n_method'> N Method Name: representative_dataset_gen(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/builder.py</div><div id='n_file'> N File Name: utils/builder.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 41</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.interaction = interaction
        self.pos_len_list = pos_len_list
        self.user_len_list = user_len_list
        <a id="change">if </a>(self.pos_len_list is None) ^ <a id="change">(self.user_len_list is None)</a>:
            raise ValueError(&quotpos_len_list and user_len_list should be both None or valued.&quot)
        for k in self.interaction:
            self.length = self.interaction[k].shape[0]
            <a id="change">break</a>

    def __iter__(self):
        return self.interaction.__iter__()
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.pos_len_list = self.user_len_list = None
        self.set_additional_info(pos_len_list, user_len_list)
        for k in self.interaction:
            <a id="change">if </a>not <a id="change">isinstance(</a>self.interaction[k], torch.Tensor<a id="change">)</a>:
                raise ValueError(&quotinteraction [{}] should only contains torch.Tensor&quot.format(interaction))
        self.length<a id="change"> = </a>-1
        for k in self.interaction:
            self.length = max(self.length, self.interaction[k].shape[0])
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/03922da139b2a8c758f07f98804e43f8f2003d8b#diff-b932b3dd5719af2c97d5c30b1cd1abb2ea7f32db8e3644a574951c6fb2897c5bL82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112064121</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: 03922da139b2a8c758f07f98804e43f8f2003d8b</div><div id='time'> Time: 2020-11-30</div><div id='author'> Author: 297086016@qq.com</div><div id='file'> File Name: recbole/data/interaction.py</div><div id='m_class'> M Class Name: Interaction</div><div id='n_method'> N Class Name: Interaction</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbole/data/interaction.py</div><div id='n_file'> N File Name: recbole/data/interaction.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 84</div><div id='n_end'> N End Line: 92</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        has_annotations = False
        for rec in self._records:
            <a id="change">if rec.annotation is not None</a>:
                has_annotations = True
                <a id="change">break</a>

        if not has_annotations:
            return datasets.Dataset.from_dict({})
</code></pre><h3>After Change</h3><pre><code class='java'>
        

        &#47&#47 turn the string into a Framework instance and trigger error if str is not valid
        <a id="change">if </a><a id="change">isinstance(</a>framework, str<a id="change">)</a>:
            framework<a id="change"> = </a>Framework(framework)

        if framework is Framework.TRANSFORMERS:
            return self._prepare_for_training_with_transformers()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/recognai/rubrix/commit/85878087144723695568ebde0d04e16fc9de3c1c#diff-a61b31bccfa74d94f686dc19d055112f419a2a0c535a55891361b7e1cf030b11L766' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112064114</div><div id='project'> Project Name: recognai/rubrix</div><div id='commit'> Commit Name: 85878087144723695568ebde0d04e16fc9de3c1c</div><div id='time'> Time: 2022-08-22</div><div id='author'> Author: francisco@recogn.ai</div><div id='file'> File Name: src/rubrix/client/datasets.py</div><div id='m_class'> M Class Name: DatasetForTokenClassification</div><div id='n_method'> N Class Name: DatasetForTokenClassification</div><div id='m_method'> M Method Name: prepare_for_training(3)</div><div id='n_method'> N Method Name: prepare_for_training(1)</div><div id='m_parent_class'> M Parent Class: DatasetBase</div><div id='n_parent_class'> N Parent Class: DatasetBase</div><div id='m_file'> M File Name: src/rubrix/client/datasets.py</div><div id='n_file'> N File Name: src/rubrix/client/datasets.py</div><div id='m_start'> M Start Line: 766</div><div id='m_end'> M End Line: 842</div><div id='n_start'> N Start Line: 793</div><div id='n_end'> N End Line: 854</div><BR>