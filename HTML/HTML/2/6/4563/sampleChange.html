<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def main():
    &#47&#47 This function runs indexing for all images and then starts the restful query API
    f = <a id="change">Flow.load_config(&quotflows/index.yml&quot</a><a id="change">)</a>
    <a id="change">with </a><a id="change">f:
        </a>f.index(inputs=DocumentArray.from_files(IMAGE_SRC),
                request_size=1, read_mode=&quotrb&quot, size=1)

</code></pre><h3>After Change</h3><pre><code class='java'>
                    \n | The directory {workspace} already exists. Please remove it before indexing again.  | \
                    \n |                                   ðŸ¤–ðŸ¤–ðŸ¤–                                         | \
                    \n +----------------------------------------------------------------------------------+&quot)
            <a id="change">sys.exit(1</a><a id="change">)</a>
        index(num_docs)
    if task == &quotquery_restful&quot:
        if not os.path.exists(workspace):
            logger.error(f&quotThe directory {workspace} does not exist. Please index first via `python app.py -t index`&quot)</code></pre>