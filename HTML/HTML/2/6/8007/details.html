<html><h3>Pattern ID :8007
</h3><img src='28455733.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    self._save_image(item, osp.join(self._save_dir, subset_name,
                        LfwPath.IMAGES_DIR, item.id + LfwPath.IMAGE_EXT))

                person1, num1 = <a id="change">LfwPath.PATTERN.search(item.id).groups()</a>
                num1 = int(num1)
                if &quotpositive_pairs&quot in item.attributes:
                    for pair in item.attributes[&quotpositive_pairs&quot]:
                        num2 = LfwPath.PATTERN.search(pair).groups()[1]</code></pre><h3>After Change</h3><pre><code class='java'>
                    self._save_image(item, osp.join(self._save_dir, subset_name,
                        LfwPath.IMAGES_DIR, item.id + LfwPath.IMAGE_EXT))

                search = <a id="change">LfwPath.PATTERN.search(</a>item.id<a id="change">)</a>
                <a id="change">if </a>search:
                    person1<a id="change">, num1 = </a><a id="change">search.groups()</a>
                    num1 = int(num1)
                else:
                    person1 = &quot-&quot
                    num1 = item.id</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/ef12d30458ba594e1a8114c0f5f103e00e04ec8d#diff-d8d77912fac5e2d1e46f0ad74500d041d3c5356c9e5e6acd6eb5d0a49bcbfdfeL105' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28455733</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: ef12d30458ba594e1a8114c0f5f103e00e04ec8d</div><div id='time'> Time: 2021-03-17</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/lfw_format.py</div><div id='m_class'> M Class Name: LfwConverter</div><div id='n_method'> N Class Name: LfwConverter</div><div id='m_method'> M Method Name: apply(1)</div><div id='n_method'> N Method Name: apply(1)</div><div id='m_parent_class'> M Parent Class: Converter</div><div id='n_parent_class'> N Parent Class: Converter</div><div id='m_file'> M File Name: datumaro/plugins/lfw_format.py</div><div id='n_file'> N File Name: datumaro/plugins/lfw_format.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Dict[str, str]: dictionary of variable -&gt; value, retrieved from the input using the pattern
    
    regex = re.sub(r"{(.+?)}", r"(?P&lt;_\1&gt;.+)", pattern)
    values = list(<a id="change">re.search(regex, string).groups()</a>)
    keys = re.findall(r"{(.+?)}", pattern)
    _dict = dict(zip(keys, values))
    return _dict</code></pre><h3>After Change</h3><pre><code class='java'>
        Dict[str, str]: dictionary of variable -&gt; value, retrieved from the input using the pattern
    
    regex = re.sub(r"{(.+?)}", r"(?P&lt;_\1&gt;.+)", pattern)
    result = <a id="change">re.search(</a>regex, string<a id="change">)</a>
    <a id="change">if </a>result is None:
        raise ValueError(f"Pattern {pattern} doesn&quott match {string}")
    values<a id="change"> = </a>list(<a id="change">result.groups()</a>)
    keys = re.findall(r"{(.+?)}", pattern)
    _dict = dict(zip(keys, values))
    return _dict</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/f51b6994db27ea69261ef919fb7775928f9ec10b#diff-6ac0c7d88053b65510dae3138551542d741c7ae4f3d8f1853c86a7639c51c864L119' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28455722</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: f51b6994db27ea69261ef919fb7775928f9ec10b</div><div id='time'> Time: 2022-05-05</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/utils/py_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: string_to_dict(2)</div><div id='n_method'> N Method Name: string_to_dict(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/datasets/utils/py_utils.py</div><div id='n_file'> N File Name: src/datasets/utils/py_utils.py</div><div id='m_start'> M Start Line: 139</div><div id='m_end'> M End Line: 140</div><div id='n_start'> N Start Line: 139</div><div id='n_end'> N End Line: 143</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            item_id = osp.splitext(osp.basename(image_path))[0]
            attributes = {}
            pid, camid = map(int, <a id="change">Market1501Path.PATTERN.search(image_path).groups()</a>)
            if pid == -1:
                continue
</code></pre><h3>After Change</h3><pre><code class='java'>

            item_id = osp.splitext(osp.basename(image_path))[0]
            pid, camid = -1, -1
            search = <a id="change">Market1501Path.PATTERN.search(</a>image_path<a id="change">)</a>
            <a id="change">if </a>search:
                pid<a id="change">, camid = </a>map(int, <a id="change">search.groups()</a>)
                if 19 &lt; len(item_id):
                    item_id = item_id[19:]
            items[item_id] = DatasetItem(id=item_id, subset=self._subset,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/7e7adf6ea32f6e769d0cf1edebc6ea9e4db739fa#diff-534226c257166f887bcca6d2179fa64cad60871dc352d641c539415ddbd9c268L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28455720</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 7e7adf6ea32f6e769d0cf1edebc6ea9e4db739fa</div><div id='time'> Time: 2021-02-26</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/market1501_format.py</div><div id='m_class'> M Class Name: Market1501Extractor</div><div id='n_method'> N Class Name: Market1501Extractor</div><div id='m_method'> M Method Name: _load_items(2)</div><div id='n_method'> N Method Name: _load_items(2)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/market1501_format.py</div><div id='n_file'> N File Name: datumaro/plugins/market1501_format.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 71</div><BR>