<html><h3>Pattern ID :24531
</h3><img src='76244250.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    label_info = dataset[list(dataset.keys())[0]].features[&quotlabel&quot]
    while True:
        <a id="change">if </a><a id="change">type(label_info) is Sequence</a>:
            label_info<a id="change"> = </a>label_info.feature
        else:
            assert type(label_info) is ClassLabel, f"Error at retrieving label information {label_info}"
            break
    label2id<a id="change"> = </a>{k: n for n, k in enumerate(label_info.names)}
    return dataset, label2id

</code></pre><h3>After Change</h3><pre><code class='java'>
    else:
        assert dataset_type, "either of task_type or dataset_type should be specified"
    dataset = load_dataset(dataset_type, dataset_name, use_auth_token=use_auth_token)
    <a id="change">return </a>dataset, get_label2id(dataset)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/cardiffnlp/tweetnlp/commit/0498b324a70ee12366948779a6f00180037cf443#diff-4ac4108ea5b542c31d93f556b984a53c144e93b13cbfcf3502d1ec1a2ca4aac9L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76244250</div><div id='project'> Project Name: cardiffnlp/tweetnlp</div><div id='commit'> Commit Name: 0498b324a70ee12366948779a6f00180037cf443</div><div id='time'> Time: 2022-11-28</div><div id='author'> Author: asahi1992ushio@gmail.com</div><div id='file'> File Name: tweetnlp/text_classification/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_dataset_text_classification(7)</div><div id='n_method'> N Method Name: load_dataset_text_classification(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tweetnlp/text_classification/dataset.py</div><div id='n_file'> N File Name: tweetnlp/text_classification/dataset.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 51</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    label_info = dataset[list(dataset.keys())[0]].features[&quottags&quot]
    while True:
        <a id="change">if </a><a id="change">type(label_info) is Sequence</a>:
            label_info<a id="change"> = </a>label_info.feature
        else:
            assert type(label_info) is ClassLabel, f"Error at retrieving label information {label_info}"
            break
    label2id<a id="change"> = </a>{k: n for n, k in enumerate(label_info.names)}
    return dataset, label2id

</code></pre><h3>After Change</h3><pre><code class='java'>
    else:
        assert dataset_type, "either of task_type or dataset_type should be specified"
    dataset = load_dataset(dataset_type, dataset_name, use_auth_token=use_auth_token)
    <a id="change">return </a>dataset, get_label2id(dataset)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cardiffnlp/tweetnlp/commit/0498b324a70ee12366948779a6f00180037cf443#diff-0c6399204f14d2ce45b2f387d2c22c897ff68a052fb7f2f0689e44eeb84b45f1L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76244275</div><div id='project'> Project Name: cardiffnlp/tweetnlp</div><div id='commit'> Commit Name: 0498b324a70ee12366948779a6f00180037cf443</div><div id='time'> Time: 2022-11-28</div><div id='author'> Author: asahi1992ushio@gmail.com</div><div id='file'> File Name: tweetnlp/ner/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_dataset_ner(4)</div><div id='n_method'> N Method Name: load_dataset_ner(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tweetnlp/ner/dataset.py</div><div id='n_file'> N File Name: tweetnlp/ner/dataset.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 26</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                &quotInput float module must have qconfig defined.&quot
            &#47&#47 workaround for sequential, ConvReLU2d should probably
            &#47&#47 inherit from Conv2d instead
            <a id="change">if </a><a id="change">type(mod) == nni.ConvReLU2d</a>:
                activation_post_process = mod[1].activation_post_process
                mod<a id="change"> = </a>mod[0]
            else:
                activation_post_process = mod.activation_post_process
            weight_post_process<a id="change"> = </a>mod.qconfig.weight()

        return cls.get_qconv(mod, activation_post_process, weight_post_process)
</code></pre><h3>After Change</h3><pre><code class='java'>
            mod (Module): a float module, either produced by torch.quantization
              utilities or provided by the user
        
        <a id="change">return </a>_ConvNd.from_float(cls, mod)


class Conv3d(_ConvNd):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/0cba3e3704a91bd2e0548fbec2dafccb54324194#diff-c869f1ca0aca24ea36d1b943577569e54c52440e096ba5fedfb3debb31ba96bfL335' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76244257</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 0cba3e3704a91bd2e0548fbec2dafccb54324194</div><div id='time'> Time: 2020-11-03</div><div id='author'> Author: jerryzh@fb.com</div><div id='file'> File Name: torch/nn/quantized/modules/conv.py</div><div id='m_class'> M Class Name: Conv2d</div><div id='n_method'> N Class Name: Conv2d</div><div id='m_method'> M Method Name: from_float(2)</div><div id='n_method'> N Method Name: from_float(2)</div><div id='m_parent_class'> M Parent Class: _ConvNd</div><div id='n_parent_class'> N Parent Class: _ConvNd</div><div id='m_file'> M File Name: torch/nn/quantized/modules/conv.py</div><div id='n_file'> N File Name: torch/nn/quantized/modules/conv.py</div><div id='m_start'> M Start Line: 342</div><div id='m_end'> M End Line: 368</div><div id='n_start'> N Start Line: 362</div><div id='n_end'> N End Line: 362</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.distribution = distribution

    def forward(self, observation):
        <a id="change">if </a><a id="change">type(observation) is dict</a>:
            observation<a id="change"> = </a>torch.cat([value for _, value in observation.items()])

        policy = self.actor(observation)
        value<a id="change"> = </a>self.critic(observation)

        result = {
            &quotpolicy&quot: policy,</code></pre><h3>After Change</h3><pre><code class='java'>
        self.detach_critic = detach_critic

    def forward(self, observation):
        <a id="change">return </a>actor_critic_forward(self, observation)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cherrypiesexy/imitation_learning/commit/d3dbcfd6f84f83aa4be338202b6b4c22d8cdd13a#diff-684ba5994111cc52206200b4822a5ae3cbdce5bdeb08652a2ae2156238f85464L85' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76244230</div><div id='project'> Project Name: cherrypiesexy/imitation_learning</div><div id='commit'> Commit Name: d3dbcfd6f84f83aa4be338202b6b4c22d8cdd13a</div><div id='time'> Time: 2021-01-29</div><div id='author'> Author: interga@post-hardcore.ru</div><div id='file'> File Name: algorithms/nn/actor_critic.py</div><div id='m_class'> M Class Name: ActorCriticTwoMLP</div><div id='n_method'> N Class Name: ActorCriticTwoMLP</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: algorithms/nn/actor_critic.py</div><div id='n_file'> N File Name: algorithms/nn/actor_critic.py</div><div id='m_start'> M Start Line: 86</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 124</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    if get_package_name(fn) == "torchmetrics":
                        fn(pred, y.int())
                    elif get_package_name(fn) == "sklearn":
                        <a id="change">if </a><a id="change">type(fn).__name__ not in sklearn_intermediates</a>:
                            sklearn_intermediates[fn.__name__]<a id="change"> = </a>0
                        sklearn_intermediates[fn.__name__]<a id="change"> += </a>fn(
                            y.cpu().data.numpy(), pred.cpu().data.numpy()
                        )
        &#47&#47 torchmetrics compute and reset</code></pre><h3>After Change</h3><pre><code class='java'>
                num_batches += 1
                pred = self.model(X)
                ma.acc(pred=pred, y=y)
        <a id="change">return </a>ma.result_gen(num_batches=num_batches)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ryantd/veloce/commit/c0d5b9d0a1064382c63768d055cf1af3fd776bff#diff-10a63a56f6f260c3a8cc88a30331e16de36e33f42ccd316cb27d96f83f790d53L136' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76244244</div><div id='project'> Project Name: ryantd/veloce</div><div id='commit'> Commit Name: c0d5b9d0a1064382c63768d055cf1af3fd776bff</div><div id='time'> Time: 2022-01-18</div><div id='author'> Author: xiaoyu.zhai@hotmail.com</div><div id='file'> File Name: phetware/epochvisor.py</div><div id='m_class'> M Class Name: Epochvisor</div><div id='n_method'> N Class Name: Epochvisor</div><div id='m_method'> M Method Name: test_epoch(2)</div><div id='n_method'> N Method Name: test_epoch(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: phetware/epochvisor.py</div><div id='n_file'> N File Name: phetware/epochvisor.py</div><div id='m_start'> M Start Line: 137</div><div id='m_end'> M End Line: 164</div><div id='n_start'> N Start Line: 174</div><div id='n_end'> N End Line: 182</div><BR>