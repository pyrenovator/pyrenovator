<html><h3>Pattern ID :31252
</h3><img src='91643860.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                if is_image_file(x)]

        crop_size = image_size - (image_size % scale_factor)  &#47&#47 Valid crop size
        self.input_transform = <a id="change">transforms.Compose(
            [</a>transforms.CenterCrop(crop_size),  &#47&#47 cropping the image
             <a id="change">transforms.Resize(</a>crop_size // scale_factor<a id="change">)</a>,
             <a id="change">transforms.ToTensor()</a>]<a id="change">)</a>
        self.target_transform = transforms.Compose(
            [transforms.CenterCrop(crop_size),
             transforms.ToTensor()])
</code></pre><h3>After Change</h3><pre><code class='java'>
        
        super(DatasetFromFolder, self).__init__()
        self.data_filenames = [os.path.join(data_dir, x) for x in os.listdir(data_dir) if check_image_file(x)]
        self.target_filenames = [<a id="change">os.path.join(</a>target_dir, x<a id="change">)</a> for x in os.listdir(target_dir) if check_image_file(x)]

        self.transform = transforms.ToTensor()
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lornatang/fsrcnn-pytorch/commit/9924908ee49d6dc5cd261a6fec71dce27002c401#diff-e5906914480937b7275777504e966387dd771bcb89023e9bbcf618bbecca7d81L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91643860</div><div id='project'> Project Name: lornatang/fsrcnn-pytorch</div><div id='commit'> Commit Name: 9924908ee49d6dc5cd261a6fec71dce27002c401</div><div id='time'> Time: 2020-09-30</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: fsrcnn_pytorch/datasets.py</div><div id='m_class'> M Class Name: DatasetFromFolder</div><div id='n_method'> N Class Name: DatasetFromFolder</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: fsrcnn_pytorch/datasets.py</div><div id='n_file'> N File Name: fsrcnn_pytorch/datasets.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        mode, batchsz, n_way, k_shot, k_query, resize))

        if mode == &quottrain&quot:
            self.transform = <a id="change">transforms.Compose([</a>lambda x: Image.open(x).convert(&quotRGB&quot),
                                                 <a id="change">transforms.Resize(</a>(self.resize, self.resize)<a id="change">)</a>,
                                                 &#47&#47 transforms.RandomHorizontalFlip(),
                                                 &#47&#47 transforms.RandomRotation(5),
                                                 <a id="change">transforms.ToTensor()</a>,
                                                 transforms.Normalize((0.485, 0.456, 0.406), (0.229, 0.224, 0.225))<a id="change"></a>
                                                 ]<a id="change">)</a>
        else:
            self.transform = transforms.Compose([lambda x: Image.open(x).convert(&quotRGB&quot),
                                                 transforms.Resize((self.resize, self.resize)),
                                                 transforms.ToTensor(),</code></pre><h3>After Change</h3><pre><code class='java'>
        with open(os.path.join(root, path_s), &quotrb&quot) as f:
            subgraph_list = pickle.load(f)

        with open(<a id="change">os.path.join(</a>root, path_l<a id="change">)</a>, &quotrb&quot) as f:
            subgraph2label = pickle.load(f)    

        self.subgraph2label = subgraph2label</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mims-harvard/g-meta/commit/aed3468b5f71c857f788169b34b97a411628930b#diff-a61cf41d2922e4024114a9613f25082423dab75b91a5c1fed863cc02d10294e0L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91643861</div><div id='project'> Project Name: mims-harvard/g-meta</div><div id='commit'> Commit Name: aed3468b5f71c857f788169b34b97a411628930b</div><div id='time'> Time: 2020-03-02</div><div id='author'> Author: cosamhkx@gmail.com</div><div id='file'> File Name: src/subgraph_data_processing.py</div><div id='m_class'> M Class Name: Subgraphs</div><div id='n_method'> N Class Name: Subgraphs</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(9)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: src/subgraph_data_processing.py</div><div id='n_file'> N File Name: src/subgraph_data_processing.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &gt;&gt;&gt; inputs, classes = next(iter(dataloaders[TRAIN]))
    
    def __init__(self, root=&quot/home/data/02_SSD4TB/suzy/datasets/public/chest-xray/&quot, split=&quottrain&quot, transform=None):
        transform = <a id="change">transforms.Compose([
            transforms.Resize(</a>256<a id="change">)</a>,
            transforms.CenterCrop(224),
            <a id="change">transforms.ToTensor()</a>,
            transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225])<a id="change"></a>,
        ]<a id="change">)</a>
        super(ChestXray, self).__init__(
            root=os.path.join(root, split), transform=transform)

    def __getitem__(self, index):</code></pre><h3>After Change</h3><pre><code class='java'>
        if download:
            download_datasets(tag, path=root)

        extract_zip(os.path.join(root, tag+".zip"), <a id="change">os.path.join(</a>root, tag<a id="change">)</a>)

        self.target_transform = target_transform
        if transform is None:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tuttelikz/farabio/commit/a535350f613f18fde69848c346695dc34e1332f8#diff-497438abfedb0f9ddf0240caff2549d5d946b521e9cbe5c1e6ec796b17c2954eL192' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91643859</div><div id='project'> Project Name: tuttelikz/farabio</div><div id='commit'> Commit Name: a535350f613f18fde69848c346695dc34e1332f8</div><div id='time'> Time: 2021-04-07</div><div id='author'> Author: s.askaruly@gmail.com</div><div id='file'> File Name: farabio/data/biodatasets.py</div><div id='m_class'> M Class Name: ChestXray</div><div id='n_method'> N Class Name: ChestXray</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: farabio/data/biodatasets.py</div><div id='n_file'> N File Name: farabio/data/biodatasets.py</div><div id='m_start'> M Start Line: 192</div><div id='m_end'> M End Line: 199</div><div id='n_start'> N Start Line: 188</div><div id='n_end'> N End Line: 206</div><BR>