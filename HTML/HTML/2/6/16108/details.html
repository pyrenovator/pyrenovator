<html><h3>Pattern ID :16108
</h3><img src='54025246.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    f"{pair_atomtype} doesn&quott have bond information in the FF"
                )
            bond_params.append([bp["k0"], bp["req"]])
        bond_params = <a id="change">torch.tensor(bond_params).double()</a>
        bonds = torch.tensor(uqbonds)
        return bond_params,bonds

    def make_angles(self, angles, atom_types):</code></pre><h3>After Change</h3><pre><code class='java'>
                )
            bond_params.append([bp["k0"], bp["req"]])
        bond_params = torch.tensor(bond_params)
        <a id="change">if self.precision == &quotdouble&quot</a>:
            bond_params<a id="change"> = </a><a id="change">bond_params.double()</a>
        bonds = torch.tensor(uqbonds)
        return bond_params,bonds

    def make_angles(self, angles, atom_types):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/torchmd/torchmd/commit/f7b6128d44b06aa46bbefdf340028ddf8f8e5ba7#diff-4a4255cb92eff287dee018f37d6bc8a42005b2e7ab9036991f1ffe88bfde352bL63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54025246</div><div id='project'> Project Name: torchmd/torchmd</div><div id='commit'> Commit Name: f7b6128d44b06aa46bbefdf340028ddf8f8e5ba7</div><div id='time'> Time: 2020-03-03</div><div id='author'> Author: stefdoerr@gmail.com</div><div id='file'> File Name: torchmd/forcefield.py</div><div id='m_class'> M Class Name: Forcefield</div><div id='n_method'> N Class Name: Forcefield</div><div id='m_method'> M Method Name: make_bonds(3)</div><div id='n_method'> N Method Name: make_bonds(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchmd/forcefield.py</div><div id='n_file'> N File Name: torchmd/forcefield.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 78</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    f"{pair_atomtype} doesn&quott have bond information in the FF"
                )
            angle_params.append([ap["k0"], np.deg2rad(ap["theta0"])])
        angle_params = <a id="change">torch.tensor(angle_params).double()</a>
        angles = torch.tensor(uqangles)
        return angle_params, angles

    def make_masses(self,atom_types):</code></pre><h3>After Change</h3><pre><code class='java'>
                )
            angle_params.append([ap["k0"], np.deg2rad(ap["theta0"])])
        angle_params = torch.tensor(angle_params)
        <a id="change">if self.precision == &quotdouble&quot</a>:
            angle_params<a id="change"> = </a><a id="change">angle_params.double()</a>
        angles = torch.tensor(uqangles)
        return angle_params, angles

    def make_masses(self,atom_types):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/torchmd/torchmd/commit/f7b6128d44b06aa46bbefdf340028ddf8f8e5ba7#diff-4a4255cb92eff287dee018f37d6bc8a42005b2e7ab9036991f1ffe88bfde352bL82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54025247</div><div id='project'> Project Name: torchmd/torchmd</div><div id='commit'> Commit Name: f7b6128d44b06aa46bbefdf340028ddf8f8e5ba7</div><div id='time'> Time: 2020-03-03</div><div id='author'> Author: stefdoerr@gmail.com</div><div id='file'> File Name: torchmd/forcefield.py</div><div id='m_class'> M Class Name: Forcefield</div><div id='n_method'> N Class Name: Forcefield</div><div id='m_method'> M Method Name: make_angles(3)</div><div id='n_method'> N Method Name: make_angles(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchmd/forcefield.py</div><div id='n_file'> N File Name: torchmd/forcefield.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 112</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.energies = energies
        self.natoms = len(parameters.masses)
        self.ava_idx = self._make_indeces(self.natoms, exclude)
        self.forces = <a id="change">torch.zeros(self.natoms, 3).double()</a>.to(self.device)
        self.require_distances = any(f in self.nonbonded for f in self.energies)
        self.external = external
        self.cutoff = cutoff</code></pre><h3>After Change</h3><pre><code class='java'>
        self.natoms = len(parameters.masses)
        self.ava_idx = self._make_indeces(self.natoms, exclude)
        self.forces = torch.zeros(self.natoms, 3).to(self.device)
        <a id="change">if precision == &quotdouble&quot</a>:
            self.forces<a id="change"> = </a><a id="change">self.forces.double()</a>

        self.require_distances = any(f in self.nonbonded for f in self.energies)
        self.external = external
        self.cutoff = cutoff</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/torchmd/torchmd/commit/f7b6128d44b06aa46bbefdf340028ddf8f8e5ba7#diff-23a2781b7aa930998c4060b6a78ef1ed15f6d7f2705c5480adaf64463e7c005cL24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54025248</div><div id='project'> Project Name: torchmd/torchmd</div><div id='commit'> Commit Name: f7b6128d44b06aa46bbefdf340028ddf8f8e5ba7</div><div id='time'> Time: 2020-03-03</div><div id='author'> Author: stefdoerr@gmail.com</div><div id='file'> File Name: torchmd/forces.py</div><div id='m_class'> M Class Name: Forces</div><div id='n_method'> N Class Name: Forces</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchmd/forces.py</div><div id='n_file'> N File Name: torchmd/forces.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 31</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 35</div><BR>