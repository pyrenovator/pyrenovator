<html><h3>Pattern ID :30890
</h3><img src='90992648.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            logger.warn(f&quotarchitecture id {arch_index} is invalid &quot)

        if dataset_name not in {&quotcifar10&quot, &quotcifar100&quot, &quotImageNet16-120&quot}:
            <a id="change">logger.warn(f&quotdataset {dataset_name} is not part of natsbench. Fooling natsbench to think this is cifar10&quot</a><a id="change">)</a>
            dataset_name = &quotcifar10&quot
            
        config = api.get_net_config(arch_index, dataset_name)
        &#47&#47 network is a nn.Module subclass. the last few modules have names</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 fill in the num classes from conf again
        &#47&#47 to account for unsupported datasets may 
        &#47&#47 have number of classes different from cifar10
        <a id="change">config[&quotnum_classes&quot] = </a>self.num_classes
        
        &#47&#47 network is a nn.Module subclass. the last few modules have names
        &#47&#47 lastact, lastact.0, lastact.1, global_pooling, classifier </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/cd076edf06b3c5e4231bde00a97d4d47558d368c#diff-3812003f72d41117fbcd763c21ed186322f0fd14ff521172c7b57a79b0d99615L65' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90992648</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: cd076edf06b3c5e4231bde00a97d4d47558d368c</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: dedey@microsoft.com</div><div id='file'> File Name: archai/algos/proxynas/freeze_natsbench_evaluater.py</div><div id='m_class'> M Class Name: FreezeNatsbenchEvaluater</div><div id='n_method'> N Class Name: FreezeNatsbenchEvaluater</div><div id='m_method'> M Method Name: _model_from_natsbench(4)</div><div id='n_method'> N Method Name: _model_from_natsbench(4)</div><div id='m_parent_class'> M Parent Class: Evaluater</div><div id='n_parent_class'> N Parent Class: Evaluater</div><div id='m_file'> M File Name: archai/algos/proxynas/freeze_natsbench_evaluater.py</div><div id='n_file'> N File Name: archai/algos/proxynas/freeze_natsbench_evaluater.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            logger.warn(f&quotarchitecture id {arch_index} is invalid &quot)

        if dataset_name not in {&quotcifar10&quot, &quotcifar100&quot, &quotImageNet16-120&quot}:
            <a id="change">logger.warn(f&quotdataset {dataset_name} is not part of natsbench. Fooling natsbench to think this is cifar10&quot</a><a id="change">)</a>
            dataset_name = &quotcifar10&quot
        
        config = api.get_net_config(arch_index, dataset_name)
        &#47&#47 network is a nn.Module subclass. the last few modules have names</code></pre><h3>After Change</h3><pre><code class='java'>
        if dataset_name not in supported_datasets:
            dataset_name = &quotcifar10&quot

        <a id="change">config</a> = api.get_net_config(arch_index, dataset_name)

        &#47&#47 fill in the num classes from conf again
        &#47&#47 to account for unsupported datasets may 
        &#47&#47 have number of classes different from cifar10
        <a id="change">config[&quotnum_classes&quot] = </a>self.num_classes
        
        &#47&#47 network is a nn.Module subclass. the last few modules have names
        &#47&#47 lastact, lastact.0, lastact.1, global_pooling, classifier </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/41cc82cf0786fc7061c72ee233a13629f3f3a6bb#diff-198946d651429a2b8e29e0260181bc83697e385659d4cab5c4da5d8377379f74L58' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90992645</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 41cc82cf0786fc7061c72ee233a13629f3f3a6bb</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: dedey@microsoft.com</div><div id='file'> File Name: archai/algos/zero_cost_measures/zero_cost_natsbench_conditional_evaluator.py</div><div id='m_class'> M Class Name: ZeroCostNatsbenchConditionalEvaluater</div><div id='n_method'> N Class Name: ZeroCostNatsbenchConditionalEvaluater</div><div id='m_method'> M Method Name: _model_from_natsbench(4)</div><div id='n_method'> N Method Name: _model_from_natsbench(4)</div><div id='m_parent_class'> M Parent Class: Evaluater</div><div id='n_parent_class'> N Parent Class: Evaluater</div><div id='m_file'> M File Name: archai/algos/zero_cost_measures/zero_cost_natsbench_conditional_evaluator.py</div><div id='n_file'> N File Name: archai/algos/zero_cost_measures/zero_cost_natsbench_conditional_evaluator.py</div><div id='m_start'> M Start Line: 66</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            logger.warn(f&quotarchitecture id {arch_index} is invalid &quot)

        if dataset_name not in {&quotcifar10&quot, &quotcifar100&quot, &quotImageNet16-120&quot}:
            <a id="change">logger.warn(f&quotdataset {dataset_name} is not part of natsbench. Fooling natsbench to think this is cifar10&quot</a><a id="change">)</a>
            dataset_name = &quotcifar10&quot

        config = api.get_net_config(arch_index, dataset_name)
        &#47&#47 network is a nn.Module subclass. the last few modules have names</code></pre><h3>After Change</h3><pre><code class='java'>
        if dataset_name not in supported_datasets:
            dataset_name = &quotcifar10&quot

        <a id="change">config</a> = api.get_net_config(arch_index, dataset_name)

        &#47&#47 fill in the num classes from conf again
        &#47&#47 to account for unsupported datasets may 
        &#47&#47 have number of classes different from cifar10
        <a id="change">config[&quotnum_classes&quot] = </a>self.num_classes
        
        &#47&#47 network is a nn.Module subclass. the last few modules have names
        &#47&#47 lastact, lastact.0, lastact.1, global_pooling, classifier </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/4d3f9376c45f52f34cc44d5ff6acf39aa4f57400#diff-56a7bdbcfc73ba45363ee84d8a44fa0cca76bce2b7848beca7622e28ba2c936dL56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90992646</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 4d3f9376c45f52f34cc44d5ff6acf39aa4f57400</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: dedey@microsoft.com</div><div id='file'> File Name: archai/algos/zero_cost_measures/zero_cost_natsbench_evaluator.py</div><div id='m_class'> M Class Name: ZeroCostNatsbenchEvaluater</div><div id='n_method'> N Class Name: ZeroCostNatsbenchEvaluater</div><div id='m_method'> M Method Name: _model_from_natsbench(4)</div><div id='n_method'> N Method Name: _model_from_natsbench(4)</div><div id='m_parent_class'> M Parent Class: Evaluater</div><div id='n_parent_class'> N Parent Class: Evaluater</div><div id='m_file'> M File Name: archai/algos/zero_cost_measures/zero_cost_natsbench_evaluator.py</div><div id='n_file'> N File Name: archai/algos/zero_cost_measures/zero_cost_natsbench_evaluator.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            logger.warn(f&quotarchitecture id {arch_index} is invalid &quot)
        
        if dataset_name not in {&quotcifar10&quot, &quotcifar100&quot, &quotImageNet16-120&quot, &quotsynthetic_cifar10&quot}:
            <a id="change">logger.warn(f&quotdataset {dataset_name} is not part of natsbench&quot</a><a id="change">)</a>
            raise NotImplementedError()

        &#47&#47 force natsbench to use cifar10 archs
        &#47&#47 since it doesn&quott know about synthetic_cifar10</code></pre><h3>After Change</h3><pre><code class='java'>
        if dataset_name not in supported_datasets:
            dataset_name = &quotcifar10&quot

        <a id="change">config</a> = api.get_net_config(arch_index, dataset_name)

        &#47&#47 fill in the num classes from conf again
        &#47&#47 to account for unsupported datasets may 
        &#47&#47 have number of classes different from cifar10
        <a id="change">config[&quotnum_classes&quot] = </a>self.num_classes
        
        &#47&#47 network is a nn.Module subclass. the last few modules have names
        &#47&#47 lastact, lastact.0, lastact.1, global_pooling, classifier </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/3d03f14ccf2d11e46eafe115d793c8cc4d4d0b28#diff-fa112303bc45c6e6d94180b1730b6c2b2f0859e3a828b323e758ddf7db5186bcL57' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90992647</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 3d03f14ccf2d11e46eafe115d793c8cc4d4d0b28</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: dedey@microsoft.com</div><div id='file'> File Name: archai/algos/natsbench/natsbench_regular_evaluator.py</div><div id='m_class'> M Class Name: NatsbenchRegularEvaluater</div><div id='n_method'> N Class Name: NatsbenchRegularEvaluater</div><div id='m_method'> M Method Name: _model_from_natsbench(4)</div><div id='n_method'> N Method Name: _model_from_natsbench(4)</div><div id='m_parent_class'> M Parent Class: Evaluater</div><div id='n_parent_class'> N Parent Class: Evaluater</div><div id='m_file'> M File Name: archai/algos/natsbench/natsbench_regular_evaluator.py</div><div id='n_file'> N File Name: archai/algos/natsbench/natsbench_regular_evaluator.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 78</div><BR>