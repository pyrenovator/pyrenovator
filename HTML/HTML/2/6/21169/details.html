<html><h3>Pattern ID :21169
</h3><img src='67825214.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.texts = sample_stories_texts(
            self._gpt2, self._preset_model, self._tokenizer, num_samples, constants.GENERATION_MAX_LENGTH, self._lsa_embedder, self.free_prompts, self.text_ranking, tokens_each_generation=50)
        &#47&#47 partition text to extracts according to the number of images.
        self.texts<a id="change"> = </a><a id="change">list(</a><a id="change">map(</a>lambda text: split_to_extracts(
            text, constants.NUM_IMAGES_PER_STORY), self.texts<a id="change">))</a>

    def generate_images(self, texts_to_consider):
        
        Generates images after the text generation for the top texts_to_consider ranked stories. </code></pre><h3>After Change</h3><pre><code class='java'>
        texts = sample_stories_texts(
            self._gpt2, self._preset_model, self._tokenizer, num_samples, constants.GENERATION_MAX_LENGTH, self._lsa_embedder, title, self.text_ranking, tokens_each_generation=50)
        &#47&#47 partition text to extracts according to the number of images.
        <a id="change">return </a><a id="change">list(</a><a id="change">map(</a>lambda text: split_to_extracts(
            text, constants.NUM_IMAGES_PER_STORY), texts<a id="change">))</a>

    def generate_images(self, num_texts_to_consider, texts):
        
        Generates images after the text generation for the top num_texts_to_consider ranked stories. </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/edenbd/multimodalstory-demo/commit/82449c2a31a4e8f64b9dd3a612b3174c8e401b63#diff-15fbe75adeda8f9f83fd82cef65d13073aa4ae72ac94629311840b1c4f722269L75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67825214</div><div id='project'> Project Name: edenbd/multimodalstory-demo</div><div id='commit'> Commit Name: 82449c2a31a4e8f64b9dd3a612b3174c8e401b63</div><div id='time'> Time: 2020-12-07</div><div id='author'> Author: edenoosh15@gmail.com</div><div id='file'> File Name: backend/story_generator/pipeline.py</div><div id='m_class'> M Class Name: Pipeline</div><div id='n_method'> N Class Name: Pipeline</div><div id='m_method'> M Method Name: generate_text(3)</div><div id='n_method'> N Method Name: generate_text(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: backend/story_generator/pipeline.py</div><div id='n_file'> N File Name: backend/story_generator/pipeline.py</div><div id='m_start'> M Start Line: 114</div><div id='m_end'> M End Line: 118</div><div id='n_start'> N Start Line: 75</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        value, repeats=nb_elements
                    ).tolist()

            result<a id="change"> = </a><a id="change">list(</a><a id="change">map(</a>tuple, list(zip(*dictionary.values()))<a id="change">))</a>

        return result

    def _query_table(</code></pre><h3>After Change</h3><pre><code class='java'>
                    value, repeats=nb_elements
                ).tolist()

        <a id="change">return </a><a id="change">list(</a><a id="change">map(</a>tuple, list(zip(*dictionary.values()))<a id="change">))</a>

    def _query_table(
        self,
        table: str,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/icecube/graphnet/commit/1f442327e183a5919fe34ddd08590d586f99aaa2#diff-6da3e984e8dddac55dff82e5f29806bd5f3433487c354a4765b2e88161dfb527L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67825218</div><div id='project'> Project Name: icecube/graphnet</div><div id='commit'> Commit Name: 1f442327e183a5919fe34ddd08590d586f99aaa2</div><div id='time'> Time: 2022-11-11</div><div id='author'> Author: andreas.sogaard@gmail.com</div><div id='file'> File Name: src/graphnet/data/parquet/parquet_dataset.py</div><div id='m_class'> M Class Name: ParquetDataset</div><div id='n_method'> N Class Name: ParquetDataset</div><div id='m_method'> M Method Name: _format_dictionary_result(2)</div><div id='n_method'> N Method Name: _format_dictionary_result(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: src/graphnet/data/parquet/parquet_dataset.py</div><div id='n_file'> N File Name: src/graphnet/data/parquet/parquet_dataset.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    Returns:
        A list encoding the input_string

    encoded<a id="change"> = </a><a id="change">list(</a><a id="change">map(</a>mapping.index, input_string<a id="change">))</a>
    return encoded


def decode_sequence(</code></pre><h3>After Change</h3><pre><code class='java'>
    Returns:
        A list encoding the input_string

    <a id="change">return </a><a id="change">list(</a><a id="change">map(</a>vocab.index, input_string<a id="change">))</a>


def decode_sequence(
    input_array: np.array,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/588df3e8c1c2812097f621ea658cb13dfcaeb977#diff-1593f5f6a8e731f9e2866859efc8a12d93b9e0d0ac40a59b4c91977da285abf9L50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67825216</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: 588df3e8c1c2812097f621ea658cb13dfcaeb977</div><div id='time'> Time: 2021-03-30</div><div id='author'> Author: 76527547+fg-mindee@users.noreply.github.com</div><div id='file'> File Name: doctr/datasets/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: encode_sequence(2)</div><div id='n_method'> N Method Name: encode_sequence(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: doctr/datasets/utils.py</div><div id='n_file'> N File Name: doctr/datasets/utils.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 63</div><BR>