<html><h3>Pattern ID :271
</h3><img src='2097134.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    cluster_sums = X.groupby("cluster")[&quotweight&quot].sum()
    print("cluster_sums", cluster_sums)
    &#47&#47 Pandas object. (id-&gt;Index)
    clusters<a id="change"> = </a>[<a id="change">list(</a>X.groupby("cluster").get_group(c).sort_values("id").itertuples()<a id="change">)</a> for c in range(C)]
    clusters_lengths<a id="change"> = </a><a id="change">{i: len(clusters[i]) for i in range(len(clusters))}</a>
    print("cluster_lengths", clusters_lengths)
    bins = first_fit_cluster(K, clusters, id_to_node=id_to_node)
    &#47&#47 sort
    for v in bins.values():</code></pre><h3>After Change</h3><pre><code class='java'>
    id_to_node = {node.id: node for node in nodes}
    C = n_clusters

    clusters<a id="change">, to_unify</a> = make_clusters(work_graph, nodes, node_weight_function, C=C)
    bins = first_fit_cluster(K, clusters, id_to_node=id_to_node, to_unify=to_unify, C=C)
    &#47&#47 sort
    for v in bins.values():</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/saareliad/ftpipe/commit/bf1903e2f8a06b723ec2807e3315f4f8349d0aa3#diff-953ae8ba7f43ec5c4002c07e1a7b5162ec9c3bb94a76ae077cdbc9a9b706224bL213' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2097134</div><div id='project'> Project Name: saareliad/ftpipe</div><div id='commit'> Commit Name: bf1903e2f8a06b723ec2807e3315f4f8349d0aa3</div><div id='time'> Time: 2020-09-07</div><div id='author'> Author: saareliad@campus.technion.ac.il</div><div id='file'> File Name: pytorch_Gpipe/model_partitioning/bin_packing/partition_2dbinpack.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: partition_2dbin_pack(5)</div><div id='n_method'> N Method Name: partition_2dbin_pack(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pytorch_Gpipe/model_partitioning/bin_packing/partition_2dbinpack.py</div><div id='n_file'> N File Name: pytorch_Gpipe/model_partitioning/bin_packing/partition_2dbinpack.py</div><div id='m_start'> M Start Line: 213</div><div id='m_end'> M End Line: 232</div><div id='n_start'> N Start Line: 288</div><div id='n_end'> N End Line: 288</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    else:
        dataset = load_dataset(dataset_type, use_auth_token=use_auth_token)

    label_info<a id="change"> = </a>dataset[<a id="change">list(</a>dataset.keys()<a id="change">)</a>[0]].features[&quotlabel&quot]
    while True:
        if type(label_info) is Sequence:
            label_info = label_info.feature
        else:
            assert type(label_info) is ClassLabel, f"Error at retrieving label information {label_info}"
            break
    label2id<a id="change"> = </a><a id="change">{k: n for n, k in enumerate(label_info.names)}</a>
    return dataset, label2id


if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    else:
        assert dataset_type, "either of task_type or dataset_type should be specified"
    dataset = load_dataset(dataset_type, dataset_name, use_auth_token=use_auth_token)
    return dataset<a id="change">, get_label2id(dataset)</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cardiffnlp/tweetnlp/commit/0498b324a70ee12366948779a6f00180037cf443#diff-4ac4108ea5b542c31d93f556b984a53c144e93b13cbfcf3502d1ec1a2ca4aac9L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2097132</div><div id='project'> Project Name: cardiffnlp/tweetnlp</div><div id='commit'> Commit Name: 0498b324a70ee12366948779a6f00180037cf443</div><div id='time'> Time: 2022-11-28</div><div id='author'> Author: asahi1992ushio@gmail.com</div><div id='file'> File Name: tweetnlp/text_classification/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_dataset_text_classification(7)</div><div id='n_method'> N Method Name: load_dataset_text_classification(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tweetnlp/text_classification/dataset.py</div><div id='n_file'> N File Name: tweetnlp/text_classification/dataset.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 51</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    else:
        dataset = load_dataset(dataset_type, use_auth_token=use_auth_token)

    label_info<a id="change"> = </a>dataset[<a id="change">list(</a>dataset.keys()<a id="change">)</a>[0]].features[&quottags&quot]
    while True:
        if type(label_info) is Sequence:
            label_info = label_info.feature
        else:
            assert type(label_info) is ClassLabel, f"Error at retrieving label information {label_info}"
            break
    label2id<a id="change"> = </a><a id="change">{k: n for n, k in enumerate(label_info.names)}</a>
    return dataset, label2id


if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    else:
        assert dataset_type, "either of task_type or dataset_type should be specified"
    dataset = load_dataset(dataset_type, dataset_name, use_auth_token=use_auth_token)
    return dataset<a id="change">, get_label2id(dataset)</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cardiffnlp/tweetnlp/commit/0498b324a70ee12366948779a6f00180037cf443#diff-0c6399204f14d2ce45b2f387d2c22c897ff68a052fb7f2f0689e44eeb84b45f1L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2097131</div><div id='project'> Project Name: cardiffnlp/tweetnlp</div><div id='commit'> Commit Name: 0498b324a70ee12366948779a6f00180037cf443</div><div id='time'> Time: 2022-11-28</div><div id='author'> Author: asahi1992ushio@gmail.com</div><div id='file'> File Name: tweetnlp/ner/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_dataset_ner(4)</div><div id='n_method'> N Method Name: load_dataset_ner(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tweetnlp/ner/dataset.py</div><div id='n_file'> N File Name: tweetnlp/ner/dataset.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 26</div><BR>