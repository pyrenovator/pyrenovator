<html><h3>Pattern ID :15164
</h3><img src='51354438.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def main():
  nsds= Nasbench101Dataset(&quot~/dataroot/nasbench_ds/nasbench_only108.tfrecord.pkl&quot)
  data = nsds.query(model_builder.EXAMPLE_DESC_MATRIX, model_builder.EXAMPLE_VERTEX_OPS)
  <a id="change">print(</a>data<a id="change">)</a>

if __name__ == &quot__main__&quot:
    main()</code></pre><h3>After Change</h3><pre><code class='java'>

  &#47&#47 sample model
  &#47&#47 nsds is list type object of model statistics
  num_models = <a id="change">len(</a>nsds<a id="change">)</a>
  data = nsds[<a id="change">random.randint(0</a>, num_models<a id="change">-1</a><a id="change">)</a>]
  print(&quotrandom&quot, data)

  &#47&#47 nsds is pre-sorted by avg test accuracy</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/b16b726144fefbb9291016fdc7e2b62c3485bb4c#diff-119fc663d4e593da90ce52506715913221e3c57b634bc121d6d44e14e47a227fL7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51354438</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: b16b726144fefbb9291016fdc7e2b62c3485bb4c</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: scripts/nasbench101/query_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/nasbench101/query_test.py</div><div id='n_file'> N File Name: scripts/nasbench101/query_test.py</div><div id='m_start'> M Start Line: 7</div><div id='m_end'> M End Line: 8</div><div id='n_start'> N Start Line: 8</div><div id='n_end'> N End Line: 28</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ds = COCODataset(coco_dir, "val2017")

        sample = ds[0]
        <a id="change">print(</a>sample["img"].shape<a id="change">)</a>
        print(sample["img"])
        assert "img" in sample
        assert "bboxes" in sample
</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_coco(self):
        ds = COCODataset(self.coco_dir, "val2017")

        rand_idx = <a id="change">random.randint(0</a>,<a id="change">len(</a>ds<a id="change">)</a><a id="change">-1</a><a id="change">)</a>
        sample = ds[rand_idx]
        for x in ["image", "bboxes", "labels"]:
            assert x in sample
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gau-nernst/centernet-lightning/commit/2f52f97af43fba92a37d70bf243edb8c93e3459b#diff-09651b3ab4aa6cd48897e821bad395946f2993c8683b166e898d61c3cf2377eeL14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51354437</div><div id='project'> Project Name: gau-nernst/centernet-lightning</div><div id='commit'> Commit Name: 2f52f97af43fba92a37d70bf243edb8c93e3459b</div><div id='time'> Time: 2021-05-27</div><div id='author'> Author: gau.nernst@yahoo.com.sg</div><div id='file'> File Name: test_centernet.py</div><div id='m_class'> M Class Name: TestDatasets</div><div id='n_method'> N Class Name: TestDatasets</div><div id='m_method'> M Method Name: test_coco(1)</div><div id='n_method'> N Method Name: test_coco(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test_centernet.py</div><div id='n_file'> N File Name: test_centernet.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 19</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if np.amax(image) &gt; 1:
            image = image/255
        if len(image.shape) &lt; 2:
            <a id="change">print(</a>&quotThere are not enough edge maps in the channels to choose from&quot<a id="change">)</a>
            return  np.dstack((image, image, image))
        if (np.array_equal(image[:, :, 0], image[:, :, 1])
                and np.array_equal(image[:, :, 0], image[:, :, 2])):
            image = image[:, :, 0]</code></pre><h3>After Change</h3><pre><code class='java'>
            if &quotall&quot in edge_mode or &quotnormal&quot in edge_mode or &quota&quot in edge_mode or &quotn&quot in edge_mode:
                edge_mode = random.choice([&quotdollar&quot, &quothed&quot, &quotbdcn&quot])
            else:
                edge_mode = edge_mode[<a id="change">random.randint(0</a>, <a id="change">len(</a>edge_mode<a id="change">)</a><a id="change">-1</a><a id="change">)</a>]
        else:
            edge_mode = self.edge_mode.lower()
        if edge_mode in [&quotbdcn&quot, &quotb&quot]:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nikosefth/im2rbte/commit/55c58d93ea0e568299123a57be6648f99f7d0167#diff-07b8c32d2b33446d84b5ecfc23c28652cf7dd281d31605caee58ee499d766c0bL230' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51354434</div><div id='project'> Project Name: nikosefth/im2rbte</div><div id='commit'> Commit Name: 55c58d93ea0e568299123a57be6648f99f7d0167</div><div id='time'> Time: 2022-01-09</div><div id='author'> Author: nikos.efth@hotmail.com</div><div id='file'> File Name: augmentations.py</div><div id='m_class'> M Class Name: EdgeDetector</div><div id='n_method'> N Class Name: EdgeDetector</div><div id='m_method'> M Method Name: __call__(2)</div><div id='n_method'> N Method Name: __call__(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: augmentations.py</div><div id='n_file'> N File Name: augmentations.py</div><div id='m_start'> M Start Line: 231</div><div id='m_end'> M End Line: 253</div><div id='n_start'> N Start Line: 231</div><div id='n_end'> N End Line: 248</div><BR>