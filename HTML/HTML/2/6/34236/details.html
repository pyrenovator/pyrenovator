<html><h3>Pattern ID :34236
</h3><img src='98192122.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    _check_windowing_arguments(
        start_offset_samples, stop_offset_samples,
        window_size_samples, window_stride_samples)
    <a id="change">if stop_offset_samples == 0</a>:
        warnings.warn(
            &quotMeaning of `trial_stop_offset_samples`=0 has changed, use `None` &quot
            &quotto indicate end of trial/recording. Using `None`.&quot)
        stop_offset_samples<a id="change"> = </a>None

    if start_offset_samples is not None or stop_offset_samples is not None:
        warnings.warn(&quotUsage of offset_sample args in create_fixed_length_windows is deprecated and&quot</code></pre><h3>After Change</h3><pre><code class='java'>
        drop_last_window)

    &#47&#47 check if recordings are of different lengths
    lengths<a id="change"> = </a><a id="change">np.array(</a>[ds.raw.n_times - ds.raw.first_samp for ds in concat_ds.datasets]<a id="change">)</a>
    if (np.diff(lengths) != 0).any():
        warnings.warn(&quotRecordings have different lengths, they will not be batch-able!&quot)

    list_of_windows_ds = Parallel(n_jobs=n_jobs)(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/braindecode/braindecode/commit/d47991998e0a0687e73c12d89d61d45f5be26ecc#diff-e5967fa098aefdff4d85a5a4e37daa3b1261c2d67f5590048bfe2c542ec7fffdL122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98192122</div><div id='project'> Project Name: braindecode/braindecode</div><div id='commit'> Commit Name: d47991998e0a0687e73c12d89d61d45f5be26ecc</div><div id='time'> Time: 2021-06-25</div><div id='author'> Author: dan.c.wil@gmail.com</div><div id='file'> File Name: braindecode/preprocessing/windowers.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_fixed_length_windows(14)</div><div id='n_method'> N Method Name: create_fixed_length_windows(14)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: braindecode/preprocessing/windowers.py</div><div id='n_file'> N File Name: braindecode/preprocessing/windowers.py</div><div id='m_start'> M Start Line: 122</div><div id='m_end'> M End Line: 181</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 183</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        img = torch.from_numpy(img).to(self.device)
        img = img.float()  &#47&#47 uint8 to fp16/32
        img /= 255.0  &#47&#47 0 - 255 to 0.0 - 1.0
        <a id="change">if img.ndimension() == 3</a>:
            img<a id="change"> = </a>img.unsqueeze(0)
        return img
    
    def _postprocess(self, img, origimg, pred, conf_thres, iou_thres, height, width):</code></pre><h3>After Change</h3><pre><code class='java'>
            imgsz = check_img_size(max(img.shape[:2]), s=self.detector.stride.max())  &#47&#47 check img_size
            img = letterbox(img, new_shape=imgsz)[0]
            pp_imgs.append(img)
        pp_imgs = <a id="change">np.array(</a>pp_imgs<a id="change">)</a>
        pp_imgs = pp_imgs.transpose(0, 3, 1, 2)
        pp_imgs = torch.from_numpy(pp_imgs).to(self.device)
        pp_imgs<a id="change"> = </a>pp_imgs.float()  &#47&#47 uint8 to fp16/32
        pp_imgs /= 255.0  &#47&#47 0 - 255 to 0.0 - 1.0
        return pp_imgs
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/elyha7/yoloface/commit/794e25df420f25fd7937e0af41fefd7bf184fad6#diff-f1b9b6b0dc58eb8986b1bfad93f0267affbcc78f5f1f1a553babeec2b36a8780L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98192120</div><div id='project'> Project Name: elyha7/yoloface</div><div id='commit'> Commit Name: 794e25df420f25fd7937e0af41fefd7bf184fad6</div><div id='time'> Time: 2022-01-10</div><div id='author'> Author: artemrebrikov@gmail.com</div><div id='file'> File Name: face_detector.py</div><div id='m_class'> M Class Name: YoloDetector</div><div id='n_method'> N Class Name: YoloDetector</div><div id='m_method'> M Method Name: _preprocess(2)</div><div id='n_method'> N Method Name: _preprocess(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: face_detector.py</div><div id='n_file'> N File Name: face_detector.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 83</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            if h &gt; 0 and w &gt; 0:
                angle = np.degrees(np.arctan2(delta[1], delta[0]))
                <a id="change">if angle &gt;= 90</a>:
                    angle<a id="change"> -= </a>180

                radius = gaussian_radius((np.ceil(h), np.ceil(w)))
                radius = max(0, int(radius))</code></pre><h3>After Change</h3><pre><code class='java'>
            box[&quotrbbox&quot] = np.array(
                [cv_ct[0], cv_ct[1], cv_wh[0], cv_wh[1], cv_angle])
            cx, cy, w, h, angle = get_annotation_with_angle(box)
            ct<a id="change"> = </a><a id="change">np.array(</a>(cx, cy)<a id="change">)</a>

            cls_id = int(self.cat_mapping[ann[&quotcategory_id&quot]])

            if h &gt; 0 and w &gt; 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scheckmedia/centernet-uda/commit/fc74afb36733ef7201421748c4dc4e1a35f939ee#diff-666eaef5e9690ccb0e5866a98cdfbeef0b60cc8f3292d864be5e92692140b9f5L190' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98192111</div><div id='project'> Project Name: scheckmedia/centernet-uda</div><div id='commit'> Commit Name: fc74afb36733ef7201421748c4dc4e1a35f939ee</div><div id='time'> Time: 2020-10-03</div><div id='author'> Author: tobias.scheck@etit.tu-chemnitz.de</div><div id='file'> File Name: datasets/coco.py</div><div id='m_class'> M Class Name: Dataset</div><div id='n_method'> N Class Name: Dataset</div><div id='m_method'> M Method Name: __get_rotated_coco(4)</div><div id='n_method'> N Method Name: __get_rotated_coco(4)</div><div id='m_parent_class'> M Parent Class: data.Dataset</div><div id='n_parent_class'> N Parent Class: data.Dataset</div><div id='m_file'> M File Name: datasets/coco.py</div><div id='n_file'> N File Name: datasets/coco.py</div><div id='m_start'> M Start Line: 231</div><div id='m_end'> M End Line: 253</div><div id='n_start'> N Start Line: 229</div><div id='n_end'> N End Line: 247</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    crop_shape = [br[1] - ul[1], br[0] - ul[0]]

    new_shape = [br[1] - ul[1], br[0] - ul[0]]
    <a id="change">if len(img.shape) &gt; 2</a>:
        new_shape<a id="change"> += </a>[img.shape[2]]
    new_img = np.zeros(orig_shape, dtype=np.uint8)
    &#47&#47 Range to fill new array
    new_x = max(0, -ul[0]), min(br[0], orig_shape[1]) - ul[0]</code></pre><h3>After Change</h3><pre><code class='java'>
    old_x = max(0, ul[0]), min(orig_shape[1], br[0])
    old_y = max(0, ul[1]), min(orig_shape[0], br[1])
    
    img<a id="change"> = </a><a id="change">np.array(</a>Image.fromarray(img.astype(np.uint8)).resize(crop_shape)<a id="change">)</a>
    
    new_img[old_y[0]:old_y[1], old_x[0]:old_x[1]] = img[new_y[0]:new_y[1], new_x[0]:new_x[1]]
    
    return new_img</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yuliangxiu/icon/commit/0198e25265de836a9b0c79b017afa7fb5edcb56a#diff-47fac0c4f0072fc394bfbbb063b11a379cc14499565395b91fcf17a47b9746a0L239' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98192114</div><div id='project'> Project Name: yuliangxiu/icon</div><div id='commit'> Commit Name: 0198e25265de836a9b0c79b017afa7fb5edcb56a</div><div id='time'> Time: 2022-02-13</div><div id='author'> Author: yuliang.xiu@tuebingen.mpg.de</div><div id='file'> File Name: lib/pymaf/utils/imutils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: uncrop(4)</div><div id='n_method'> N Method Name: uncrop(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lib/pymaf/utils/imutils.py</div><div id='n_file'> N File Name: lib/pymaf/utils/imutils.py</div><div id='m_start'> M Start Line: 239</div><div id='m_end'> M End Line: 262</div><div id='n_start'> N Start Line: 201</div><div id='n_end'> N End Line: 212</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __call__(self, image, resize_method="bilinear", resize_antialias=False, input_shape=None):
        input_shape = self.input_shape if input_shape is None else input_shape[:2]
        image = tf.convert_to_tensor(image)
        <a id="change">if tf.reduce_max(image) &lt; 2</a>:
            image<a id="change"> *= </a>255
        image = tf.image.resize(image, input_shape, method=resize_method, antialias=resize_antialias)
        if len(image.shape) == 3:
            image = tf.expand_dims(image, 0)</code></pre><h3>After Change</h3><pre><code class='java'>
        if input_shape is not None:
            self.set_input_shape(input_shape)
        images = [image] if len(np.shape(image)) == 3 else image
        images = [<a id="change">np.array(</a>Image.fromarray(image).resize(self.input_shape)<a id="change">)</a> for image in images]
        images<a id="change"> = </a>(np.stack(images) - self.mean) / self.std

        images = images if backend.image_data_format() == "channels_last" else images.transpose([0, 3, 1, 2])
        return functional.convert_to_tensor(images)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/leondgarse/keras_cv_attention_models/commit/2f70b0d51c8f2b1f8664f32dc75ecc1001758946#diff-346aa59a353ab2958ad8559a1c05a8fc850eaead58fd103d6bcb5a5130b699ceL585' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98192112</div><div id='project'> Project Name: leondgarse/keras_cv_attention_models</div><div id='commit'> Commit Name: 2f70b0d51c8f2b1f8664f32dc75ecc1001758946</div><div id='time'> Time: 2023-01-29</div><div id='author'> Author: leondgarse@gmail.com</div><div id='file'> File Name: keras_cv_attention_models/common_layers.py</div><div id='m_class'> M Class Name: PreprocessInput</div><div id='n_method'> N Class Name: PreprocessInput</div><div id='m_method'> M Method Name: __call__(5)</div><div id='n_method'> N Method Name: __call__(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: keras_cv_attention_models/common_layers.py</div><div id='n_file'> N File Name: keras_cv_attention_models/common_layers.py</div><div id='m_start'> M Start Line: 586</div><div id='m_end'> M End Line: 601</div><div id='n_start'> N Start Line: 609</div><div id='n_end'> N End Line: 616</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 return df
    inputs = [lags]
    input_names = ["lags"]
    <a id="change">if n_trend == 1</a>:
        inputs<a id="change"> += </a>[time]
        input_names += ["trend"]
    elif n_trend &gt; 1:
        raise NotImplementedError</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 time is the time at each forecast step
    t = df.loc[:, &quott&quot].values
    time<a id="change"> = </a><a id="change">np.array(</a>[t[n_lags+i: n_lags+i+n_forecasts] for i in range(n_samples)]<a id="change">)</a>

    &#47&#47 if time were to be the present time at forecasting
    &#47&#47 time = df.loc[:, &quott&quot].iloc[n_lags-1:-n_forecasts].values
    &#47&#47 time = np.expand_dims(time, axis=1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/384f1803a758d07de17db9631d9941c4d7a65de3#diff-8909e3372a9dbfa9801c78cdd6a93d8a7cebb2034e9fd6e129d6aab402e2db96L125' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98192118</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 384f1803a758d07de17db9631d9941c4d7a65de3</div><div id='time'> Time: 2020-05-19</div><div id='author'> Author: oskar.triebe@merantix.com</div><div id='file'> File Name: code/make_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: tabularize_univariate_datetime(4)</div><div id='n_method'> N Method Name: tabularize_univariate_datetime(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: code/make_dataset.py</div><div id='n_file'> N File Name: code/make_dataset.py</div><div id='m_start'> M Start Line: 125</div><div id='m_end'> M End Line: 176</div><div id='n_start'> N Start Line: 152</div><div id='n_end'> N End Line: 184</div><BR>