<html><h3>Pattern ID :2644
</h3><img src='10729843.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.remove_puncs = remove_puncs
        self.remove_stop_word = remove_stop_word
        self.nim_fasele_correction = nim_fasele_correction
        self.STOPWORDS = <a id="change">open(prefix+save_dir+&quotstopwords.txt&quot).read()</a>.splitlines()
        self.PUNCS = open(prefix+save_dir+&quotpuncs.txt&quot).read().splitlines()

        if nim_fasele_correction:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.remove_puncs = remove_puncs
        self.remove_stop_word = remove_stop_word
        self.STOPWORDS = open(prefix+save_dir+&quotstopwords-fa.py&quot).read().splitlines()
        self.PUNCS = <a id="change">string.punctuation.replace(&quot&lt;&quot, &quot&quot).replace(&quot&gt;&quot</a>, <a id="change">&quot&quot</a><a id="change">) + </a>&quot،؟&quot

        if unify_chars:
            self.replace_patterns.extend(PERSIAN_CHAR_UNIFY_LIST)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dadmatech/dadmatools/commit/4733b74c00a4b6a1bd151cac2bbb6661bb1f93cd#diff-5f7a47d51a804c1cd0ba75a7c495319daba73232cad6c6f780de5cb1c8b4f8b4L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10729843</div><div id='project'> Project Name: dadmatech/dadmatools</div><div id='commit'> Commit Name: 4733b74c00a4b6a1bd151cac2bbb6661bb1f93cd</div><div id='time'> Time: 2021-12-05</div><div id='author'> Author: roetezadi@gmail.com</div><div id='file'> File Name: dadmatools/models/normalizer.py</div><div id='m_class'> M Class Name: Normalizer</div><div id='n_method'> N Class Name: Normalizer</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dadmatools/models/normalizer.py</div><div id='n_file'> N File Name: dadmatools/models/normalizer.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 36</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            except:
                depth = 0

            png = <a id="change">open(pngfile, "rb").read()</a>
            return png, depth

        finally:
            &#47&#47 Cleanup temporaries</code></pre><h3>After Change</h3><pre><code class='java'>
            if p.returncode != 0:
                raise Exception(&quotPDFpng error&quot, serr)

            png=[open(<a id="change">pngfile.replace(&quot.png&quot</a>, <a id="change">&quot&quot</a><a id="change">)+</a>&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
            return png

        finally:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/d4f7bfd36b2751ef8bb0ddd17e3e633d4d072467#diff-fa4089e8a1b4c36ad8263be050d34e31ea1d452268658ee5bc4298c393f1dc64L60' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10729846</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: d4f7bfd36b2751ef8bb0ddd17e3e633d4d072467</div><div id='time'> Time: 2020-12-13</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/latex2png.py</div><div id='m_class'> M Class Name: Latex</div><div id='n_method'> N Class Name: Latex</div><div id='m_method'> M Method Name: convert_file(3)</div><div id='n_method'> N Method Name: convert_file(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/latex2png.py</div><div id='n_file'> N File Name: dataset/latex2png.py</div><div id='m_start'> M Start Line: 79</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    temp_file = output_file + &quot.tmp&quot
    with open(temp_file, &quotw&quot) as fout:
        fout.write(<a id="change">open(output_file).read()</a>.replace(&quot\r&quot, &quot &quot))  &#47&#47 delete \r

    &#47&#47print(os.path.abspath(__file__))
    cmd = r"cat %s | node %s %s &gt; %s " % (temp_file, os.path.join(os.path.dirname(__file__), &quotpreprocess_latex.js&quot), parameters.mode, output_file)</code></pre><h3>After Change</h3><pre><code class='java'>
                if len(tokens_out) &gt; 5:
                    post = &quot &quot.join(tokens_out)
                    &#47&#47 use \sin instead of \operatorname{sin}
                    names = [&quot\\&quot<a id="change">+</a><a id="change">x.replace(&quot &quot</a>, <a id="change">&quot&quot</a><a id="change">)</a> for x in re.findall(ops, post)]
                    post = re.sub(ops, lambda match: str(names.pop(0)), post).replace(r&quot\\ \end{array}&quot, r&quot\end{array}&quot)
                    fout.write(post+&quot\n&quot)
    os.remove(temp_file)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/97df469003d35553b53b408fe18d7ce676eb136c#diff-21c709fda31261dd4da3a77d59ccb4e5e369311453122dd5afdcb48669923c0dL36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10729845</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 97df469003d35553b53b408fe18d7ce676eb136c</div><div id='time'> Time: 2021-02-18</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/preprocessing/preprocess_formulas.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/preprocessing/preprocess_formulas.py</div><div id='n_file'> N File Name: dataset/preprocessing/preprocess_formulas.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 89</div><BR>