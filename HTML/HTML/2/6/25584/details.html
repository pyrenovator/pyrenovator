<html><h3>Pattern ID :25584
</h3><img src='77862964.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    seq of sequences to input (can do this better - stemming, etc.)
    
    seqs = []
    unigrams_list<a id="change"> = </a><a id="change">sentence.split(&quot &quot</a><a id="change">)</a>
    for ngram_length in range(1, ngrams + 1):
        for idx_starting_word in range(0, len(unigrams_list) + 1 - ngram_length):
            if ngram_length == 1:
                seqs.append(unigrams_list[idx_starting_word])</code></pre><h3>After Change</h3><pre><code class='java'>
def generate_decomposed_ngrams(sentence, ngrams=1):
    seq of sequences to input (can do this better - stemming, etc.)
    
    unigrams_list = <a id="change">[str(x) for x in simple_tokenizer(sentence)]</a>
    &#47&#47 unigrams_list = sentence.split(&quot &quot)
    if ngrams == 1:
        return unigrams_list
    seqs<a id="change"> = </a>unigrams_list.copy()
    for ngram_length in range(2, ngrams + 1):
        for idx_starting_word in range(0, len(unigrams_list) + 1 - ngram_length):
                seqs.append(&quot &quot.join(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/csinva/imodelsx/commit/cabc807a5d17dbf065009cb60f0afd37291d0fff#diff-010e44152f5ee556643b383d3d0b8ff4d85bf1d0e1bf25dcfdc4f244bb83befdL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77862964</div><div id='project'> Project Name: csinva/imodelsx</div><div id='commit'> Commit Name: cabc807a5d17dbf065009cb60f0afd37291d0fff</div><div id='time'> Time: 2022-06-20</div><div id='author'> Author: chandan_singh@berkeley.edu</div><div id='file'> File Name: embed_dset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: generate_decomposed_ngrams(2)</div><div id='n_method'> N Method Name: generate_decomposed_ngrams(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: embed_dset.py</div><div id='n_file'> N File Name: embed_dset.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        global_num_max += 1
      return f"&lt;&lt;&lt; {x.global_num} &gt;&gt;&gt;"

    _<a id="change">,sop = </a><a id="change">str(op).split("."</a><a id="change">)</a>
    top_colors = {LoadOps: "&#47&#47ffffff", UnaryOps: "&#47&#47c0c0c0", ReduceOps: "&#47&#478080ff", BinaryOps: "&#47&#47c0c0c0", MovementOps: "&#47&#4780ff80", ProcessingOps: "&#47&#47ff8080"}

    for x in inp:
      G.add_edge(nm(x), nm(ret), label=sop)</code></pre><h3>After Change</h3><pre><code class='java'>

    for x in inp:
      if not isinstance(op, list): op = [op]
      sop<a id="change"> = </a>&quot.&quot.join(<a id="change">[str(y).split(".")[1] for y in op]</a>[::-1])
      G.add_edge(nm(x), nm(ret), label=sop, color=&quot&#47&#47808080&quot if dashed else &quot&quot, style=&quotdashed&quot if dashed else &quot&quot)
      if &quotlabel&quot not in G.nodes[nm(x)]: G.nodes[nm(x)][&quotlabel&quot] = str(x.shape)
    if nm(ret) not in G.nodes: G.add_node(nm(ret))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/6b652dafb2925c39c5da028ab24ead75fb28d751#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77862965</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 6b652dafb2925c39c5da028ab24ead75fb28d751</div><div id='time'> Time: 2022-06-19</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: log_op(5)</div><div id='n_method'> N Method Name: log_op(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 41</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                "`text` field is of type str. Pass a tokenized sentence or set `split_on_space` to True"
            )
        if isinstance(text, str) and split_on_space:
            text<a id="change"> = </a><a id="change">text.split(" "</a><a id="change">)</a>
            text_pair = text_pair.split(" ") if text_pair else None
        &#47&#47 get model max length if not specified by user
        if max_length == 0:
            max_length = self.tokenizer.model_max_length</code></pre><h3>After Change</h3><pre><code class='java'>
                text = self.pretokenize(text, use_spacy=use_spacy)
                text_pair = self.pretokenize(text_pair, use_spacy=use_spacy) if text_pair else None
            else:
                text<a id="change"> = </a><a id="change">[self.pretokenize(t, use_spacy=use_spacy) for t in text]</a>
                text_pair = (
                    [self.pretokenize(t, use_spacy=use_spacy) for t in text_pair]
                    if text_pair
                    else None</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/riccorl/transformer-embedder/commit/efeb610282698c7211c30ceba5cb392fb9f1d53b#diff-6b21987177fc59456953cbf78294a8551342cdee6ccac57115ec0f182444edc1L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77862960</div><div id='project'> Project Name: riccorl/transformer-embedder</div><div id='commit'> Commit Name: efeb610282698c7211c30ceba5cb392fb9f1d53b</div><div id='time'> Time: 2021-02-21</div><div id='author'> Author: orlandoricc@gmail.com</div><div id='file'> File Name: transformer_embedder/tokenizer.py</div><div id='m_class'> M Class Name: Tokenizer</div><div id='n_method'> N Class Name: Tokenizer</div><div id='m_method'> M Method Name: __call__(8)</div><div id='n_method'> N Method Name: __call__(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: transformer_embedder/tokenizer.py</div><div id='n_file'> N File Name: transformer_embedder/tokenizer.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 96</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            token_length = len(y[&quottext&quot].split(&quot &quot))
            if y[&quotner&quot] == &quotDATE&quot:
                dates.append(y[&quottext&quot])
                index<a id="change"> = </a>len(<a id="change">all_text[:y[&quotcharacterOffsetEnd&quot]].split(&quot &quot</a><a id="change">)</a>)
                if token_length &lt; 2:
                    indices.append([index - 1])
                else:</code></pre><h3>After Change</h3><pre><code class='java'>
        text_len = len(text)
        index = len(all_text[:idx].strip().split(&quot &quot))

        replaced_text = &quot &quot.join(<a id="change">[&quot*&quot*len(i) for i in text.split(&quot &quot)]</a>)

        indices.append(list(range(index, index + token_length)))

        index += token_length
        all_text<a id="change"> = </a>all_text[:idx + text_len].replace(text, replaced_text) + all_text[idx + text_len:]

    for date_indices in indices:
        date = &quot&quot</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/praneet9/representation-learning-for-information-extraction/commit/e369e0fb493febe1b1a3ad69bcef2218109d1134#diff-e3e2fa7a960cfe3a9de4d774081cb8bad0be9e8784d7a6f2b67f39d9dacd756aL26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77862962</div><div id='project'> Project Name: praneet9/representation-learning-for-information-extraction</div><div id='commit'> Commit Name: e369e0fb493febe1b1a3ad69bcef2218109d1134</div><div id='time'> Time: 2021-02-21</div><div id='author'> Author: praneetbomma@gmail.com</div><div id='file'> File Name: utils/extract_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_dates(2)</div><div id='n_method'> N Method Name: get_dates(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/extract_candidates.py</div><div id='n_file'> N File Name: utils/extract_candidates.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 46</div><BR>