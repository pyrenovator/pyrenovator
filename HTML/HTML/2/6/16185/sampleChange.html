<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if images_to_parametrize and "ecs_container_instance" in metafunc.fixturenames:
                ecs_parametrization = []
                for index, image in enumerate(images_to_parametrize):
                    image_tag<a id="change"> = </a><a id="change">image.split(":")[-1].replace("."</a>, <a id="change">"-"</a><a id="change">)</a>
                    ecs_parametrization.append(
                        (
                            image,
                            f"{metafunc.function.__name__}-{image_tag}-"</code></pre><h3>After Change</h3><pre><code class='java'>
                images_to_parametrize = [py3_image for py3_image in images_to_parametrize if &quotpy2&quot not in py3_image]

            &#47&#47 Parametrize tests that spin up an ecs cluster or tests that spin up an EC2 instance with a unique name
            values_to_generate_for_fixture<a id="change"> = </a><a id="change">{</a>"ecs_container_instance": "ecs_cluster_name",
                                              "ec2_connection": "ec2_key_name"<a id="change">}</a>

            fixtures_parametrized = generate_unique_values_for_fixtures(
                metafunc, images_to_parametrize, values_to_generate_for_fixture
            )</code></pre>