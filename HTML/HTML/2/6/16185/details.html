<html><h3>Pattern ID :16185
</h3><img src='54095801.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if images_to_parametrize and "ecs_container_instance" in metafunc.fixturenames:
                ecs_parametrization = []
                for index, image in enumerate(images_to_parametrize):
                    image_tag<a id="change"> = </a><a id="change">image.split(":")[-1].replace("."</a>, <a id="change">"-"</a><a id="change">)</a>
                    ecs_parametrization.append(
                        (
                            image,
                            f"{metafunc.function.__name__}-{image_tag}-"</code></pre><h3>After Change</h3><pre><code class='java'>
                images_to_parametrize = [py3_image for py3_image in images_to_parametrize if &quotpy2&quot not in py3_image]

            &#47&#47 Parametrize tests that spin up an ecs cluster or tests that spin up an EC2 instance with a unique name
            values_to_generate_for_fixture<a id="change"> = </a><a id="change">{</a>"ecs_container_instance": "ecs_cluster_name",
                                              "ec2_connection": "ec2_key_name"<a id="change">}</a>

            fixtures_parametrized = generate_unique_values_for_fixtures(
                metafunc, images_to_parametrize, values_to_generate_for_fixture
            )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aws/deep-learning-containers/commit/396813053eeb041349bde37d85b0403b713a280e#diff-c7a1c9feb86ba95d32acfcef82beb230ca23f1924e32364ae9fbf9f6724fb910L126' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54095801</div><div id='project'> Project Name: aws/deep-learning-containers</div><div id='commit'> Commit Name: 396813053eeb041349bde37d85b0403b713a280e</div><div id='time'> Time: 2020-03-29</div><div id='author'> Author: 54188298+saimidu@users.noreply.github.com</div><div id='file'> File Name: test/dlc_tests/conftest.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: pytest_generate_tests(1)</div><div id='n_method'> N Method Name: pytest_generate_tests(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/dlc_tests/conftest.py</div><div id='n_file'> N File Name: test/dlc_tests/conftest.py</div><div id='m_start'> M Start Line: 126</div><div id='m_end'> M End Line: 157</div><div id='n_start'> N Start Line: 192</div><div id='n_end'> N End Line: 220</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        d = id2sent[ins["id"]]
        d["relations"] = list(map(lambda x: id2rel[x], rels))
        for word in ["head", "tail"]:
            d[word] = <a id="change">d[word].replace(" "</a>, <a id="change">""</a><a id="change">)</a>
            d["text"] = d["text"].replace(" ", "")
            positions<a id="change"> = </a>rtp.find_all_positions(d["text"], d[word])
            if len(positions) == 0:
                print("warn! data skipped", d)
                continue</code></pre><h3>After Change</h3><pre><code class='java'>
    final_data = []
    for ins in sent_labels:
        sent_text = id2sent[ins["id"]]["text"]
        d<a id="change"> = </a><a id="change">{
            </a>"id": ins[&quotid&quot],
            "tokens": list(sent_text),  &#47&#47 char tokenize
            "entities": [],
            "relations": []<a id="change">
        }</a>
        positions = find_all_positions(sent_text, id2sent[ins["id"]]["head"])
        if len(positions) == 0:
            print("warn! data skipped", d)
            continue</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spico197/rex/commit/6c064639242c6f66893a4319081b7339ff6a43da#diff-c836c082f1d772bb00534f28860dfe7297b0b0c2d853e803819eea4ae04114c2L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54095578</div><div id='project'> Project Name: spico197/rex</div><div id='commit'> Commit Name: 6c064639242c6f66893a4319081b7339ff6a43da</div><div id='time'> Time: 2021-05-06</div><div id='author'> Author: spico1026@gmail.com</div><div id='file'> File Name: data/IPRE/convert.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: convert_data(3)</div><div id='n_method'> N Method Name: convert_data(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data/IPRE/convert.py</div><div id='n_file'> N File Name: data/IPRE/convert.py</div><div id='m_start'> M Start Line: 10</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
			print(selected_cells)
			selected_cells = [c.lstrip(&quot0&quot) if len(c)&gt;1 else c for c in selected_cells ]
			print(selected_cells)
			selected_cells<a id="change"> = </a>[int(ast.literal_eval(<a id="change">x.strip().replace(","</a>,<a id="change">""</a><a id="change">)</a>)) for x in selected_cells if not isinstance(x, int)]
			answer = [sum(selected_cells)/len(selected_cells)]

		return answer</code></pre><h3>After Change</h3><pre><code class='java'>
		elif agg_op == &quotsum&quot:
			&#47&#47selected_cells = [str(c).lstrip(&quot0&quot) for c in selected_cells if len(str(c))&gt;1]
			&#47&#47answer = [sum([int(ast.literal_eval(x.strip().replace(",",""))) for x in selected_cells if not isinstance(x, int)])]
			answer<a id="change"> = </a><a id="change">[</a>sum(selected_cells)<a id="change"></a>]
		elif agg_op == &quotaverage&quot:
			print(selected_cells)
			&#47&#47selected_cells = [str(c).lstrip(&quot0&quot) if len(str(c))&gt;1 else c for c in selected_cells ]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/primeqa/primeqa/commit/32f77bb89bc1dc354d6ecc6da81db34be8b59dc3#diff-64864e66e56a30afc1b134c02860dafa6594753f869647c334514c0a0f5a8df9L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54095742</div><div id='project'> Project Name: primeqa/primeqa</div><div id='commit'> Commit Name: 32f77bb89bc1dc354d6ecc6da81db34be8b59dc3</div><div id='time'> Time: 2022-07-05</div><div id='author'> Author: vishk024@in.ibm.com</div><div id='file'> File Name: primeqa/tableqa/utils/wikisql_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _execute_sql(2)</div><div id='n_method'> N Method Name: _execute_sql(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: primeqa/tableqa/utils/wikisql_utils.py</div><div id='n_file'> N File Name: primeqa/tableqa/utils/wikisql_utils.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 123</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    else:
        ic = pred_label.groupby(level="datetime").apply(lambda x: x["label"].corr(x["score"]))

    _index<a id="change"> = </a><a id="change">ic.index.get_level_values(0).astype("str").str.replace("-"</a>, <a id="change">""</a><a id="change">)</a>.str.slice(0, 6)
    _monthly_ic = ic.groupby(_index).mean()
    _monthly_ic.index = pd.MultiIndex.from_arrays(
        [_monthly_ic.index.str.slice(0, 4), _monthly_ic.index.str.slice(4, 6)],</code></pre><h3>After Change</h3><pre><code class='java'>
    For the Monthly IC, IC histogram, IC Q-Q plot.  Only the first type of IC will be plotted.
    :return:
    
    _methods_mapping<a id="change"> = </a><a id="change">{</a>"IC": "pearson", "Rank IC": "spearman"<a id="change">}</a>

    def _corr_series(x, method):
        return x["label"].corr(x["score"], method=method)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/2f5ce3dc01e6209520bd0d9bda52ed6d0188398e#diff-a28706f746eff161803205a7161ddc0a29609ee73863b45fed4e1db2ec428271L113' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54095806</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 2f5ce3dc01e6209520bd0d9bda52ed6d0188398e</div><div id='time'> Time: 2022-12-30</div><div id='author'> Author: qianyun210603@hotmail.com</div><div id='file'> File Name: qlib/contrib/report/analysis_model/analysis_model_performance.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _pred_ic(2)</div><div id='n_method'> N Method Name: _pred_ic(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: qlib/contrib/report/analysis_model/analysis_model_performance.py</div><div id='n_file'> N File Name: qlib/contrib/report/analysis_model/analysis_model_performance.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 120</div><div id='n_end'> N End Line: 187</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            semantics_ = df.semantics[i].replace(
                ",", "|"
            )  &#47&#47 Commas in dict will make using csv files tricky; replace with pipe.
            semantics_<a id="change"> = </a><a id="change">semantics_.replace(
                ".3333333333333333"</a>, <a id="change">".33"</a><a id="change">
            )</a>  &#47&#47 Fix formatting error in some labels
            if type == "direct" or type == "multistage" or type == "decoupled":
                semantics.append(semantics_)
            if type == "joint-transcript-semantics":</code></pre><h3>After Change</h3><pre><code class='java'>
    merge_csvs(save_folder, train_splits, "train-type=%s.csv" % type)

    &#47&#47 Create "all-real" split
    real_splits<a id="change"> = </a>[split + "-type=%s.csv" % type for split in <a id="change">[</a>"train-real", "dev-real", "test-real"<a id="change"></a>]]
    merge_csvs(save_folder, real_splits, "all-real-type=%s.csv" % type)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/930c64fd6dd94e3e7aae8509759af4243fe2621b#diff-3a26c0dd4d7a21b6e08b8bd1d68e1234d6c10474852cb21a859d21f815c345d2L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54095683</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 930c64fd6dd94e3e7aae8509759af4243fe2621b</div><div id='time'> Time: 2021-03-21</div><div id='author'> Author: loren.lugosch@gmail.com</div><div id='file'> File Name: recipes/timers-and-such/prepare.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: prepare_TAS(5)</div><div id='n_method'> N Method Name: prepare_TAS(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recipes/timers-and-such/prepare.py</div><div id='n_file'> N File Name: recipes/timers-and-such/prepare.py</div><div id='m_start'> M Start Line: 153</div><div id='m_end'> M End Line: 158</div><div id='n_start'> N Start Line: 185</div><div id='n_end'> N End Line: 186</div><BR>