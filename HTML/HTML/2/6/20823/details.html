<html><h3>Pattern ID :20823
</h3><img src='67127779.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        if dirname.startswith((".", "__")):
                            &#47&#47 skipping hidden directories; prune the search
                            &#47&#47 (only works for local paths as fsspec&quots walk doesn&quott support the in-place modification)
                            <a id="change">del dirnames[i]</a>
                    if xbasename(dirpath).startswith((".", "__")):
                        &#47&#47 skipping hidden directories
                        continue
                    for filename in filenames:</code></pre><h3>After Change</h3><pre><code class='java'>
                    &#47&#47 skipping hidden directories; prune the search
                    &#47&#47 [:] for the in-place list modification required by os.walk
                    &#47&#47 (only works for local paths as fsspec&quots walk doesn&quott support the in-place modification)
                    dirnames[:]<a id="change"> = </a><a id="change">[dirname for dirname in dirnames if not dirname.startswith((".", "__"))]</a>
                    if xbasename(dirpath).startswith((".", "__")):
                        &#47&#47 skipping hidden directories
                        continue
                    for filename in filenames:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/8239e7968ddcaaf6a9eff9297a5431478c1e0242#diff-33df8909b9fbada8b7f092030672563985e062603e30fe8238ca7d6ea5718ed1L781' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67127779</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 8239e7968ddcaaf6a9eff9297a5431478c1e0242</div><div id='time'> Time: 2022-06-09</div><div id='author'> Author: mariosasko777@gmail.com</div><div id='file'> File Name: src/datasets/download/streaming_download_manager.py</div><div id='m_class'> M Class Name: FilesIterable</div><div id='n_method'> N Class Name: FilesIterable</div><div id='m_method'> M Method Name: _iter_from_urlpaths(3)</div><div id='n_method'> N Method Name: _iter_from_urlpaths(3)</div><div id='m_parent_class'> M Parent Class: _IterableFromGenerator</div><div id='n_parent_class'> N Parent Class: _IterableFromGenerator</div><div id='m_file'> M File Name: src/datasets/download/streaming_download_manager.py</div><div id='n_file'> N File Name: src/datasets/download/streaming_download_manager.py</div><div id='m_start'> M Start Line: 781</div><div id='m_end'> M End Line: 787</div><div id='n_start'> N Start Line: 781</div><div id='n_end'> N End Line: 785</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if isinstance(callback, types.MethodType) and isinstance(
                callback.__self__, asset.DownloadFileCollector
            ):
                <a id="change">del event[listener_id]</a>
    app.add_env_collector(DownloadExternalFileCollector)

    return {
        "version": "0",</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Disable the old instance of DownloadFileCollector and replace it with ours.
    for key in app.events.listeners:
        event = app.events.listeners[key]
        app.events.listeners[key]<a id="change"> = </a><a id="change">[listener for listener in event if not (
                isinstance(listener.handler, types.MethodType) and
                isinstance(listener.handler.__self__, asset.DownloadFileCollector)
        )]</a>

    app.add_env_collector(DownloadExternalFileCollector)

    return {</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/8d08a42b273e3dde419c2205cffd2db205abed69#diff-eaae487ec640dd3137f9a6341b59f4827373639478a84842903cf55940f30fbfL48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67127781</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 8d08a42b273e3dde419c2205cffd2db205abed69</div><div id='time'> Time: 2021-10-13</div><div id='author'> Author: 23185484+shiyuann@users.noreply.github.com</div><div id='file'> File Name: docs/sphinx_ext_downloads.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: setup(1)</div><div id='n_method'> N Method Name: setup(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: docs/sphinx_ext_downloads.py</div><div id='n_file'> N File Name: docs/sphinx_ext_downloads.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 57</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
               config: Optional[JsonDict] = None) -&gt; List[JsonDict]:
    Naively scramble all words in an example.
    del model  &#47&#47 Unused.
    <a id="change">del config</a>  &#47&#47 Unused.

    &#47&#47 TODO(lit-dev): move this to generate_all(), so we read the spec once
    &#47&#47 instead of on every example.</code></pre><h3>After Change</h3><pre><code class='java'>
    if not text_keys:
      return []

    text_keys<a id="change"> = </a><a id="change">[key for key in text_keys if key in fields_to_scramble]</a>

    new_example = copy.deepcopy(example)
    for text_key in text_keys:
      new_example[text_key] = self.scramble(example[text_key])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pair-code/lit/commit/b43b4faf62c9f66583bd1c5e5de614df0fa61711#diff-a0a8ebb02e44fc61c9d4d8bf3835800499527a6a947564ada53207c06deea7c7L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67127783</div><div id='project'> Project Name: pair-code/lit</div><div id='commit'> Commit Name: b43b4faf62c9f66583bd1c5e5de614df0fa61711</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: no-reply@google.com</div><div id='file'> File Name: lit_nlp/components/scrambler.py</div><div id='m_class'> M Class Name: Scrambler</div><div id='n_method'> N Class Name: Scrambler</div><div id='m_method'> M Method Name: generate(5)</div><div id='n_method'> N Method Name: generate(5)</div><div id='m_parent_class'> M Parent Class: lit_components.Generator</div><div id='n_parent_class'> N Parent Class: lit_components.Generator</div><div id='m_file'> M File Name: lit_nlp/components/scrambler.py</div><div id='n_file'> N File Name: lit_nlp/components/scrambler.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 86</div><BR>