<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        PIL.Image
    
    data = np.array(img.convert(&quotLA&quot))
    data = (data-data.min())/(<a id="change">data.max()-</a>data.min())*255
    if data[..., 0].mean() &gt; 128:
        gray = 255*(data[..., 0] &lt; 128).astype(np.uint8)  &#47&#47 To invert the text to white
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
    invert = False  &#47&#47 when text is inverted, make up inverse background pixels otherwise always 255
    threshold = 128
    data = np.array(img.convert(&quotLA&quot))
    grayscale = (data[..., 0]-data[..., 0].min())<a id="change"> / </a>(data[..., 0].max()<a id="change">-</a><a id="change">data[..., 0].min()</a>)*255
    data<a id="change"> = </a>np.stack((grayscale, grayscale), axis=-1)
    if data[..., 0].mean() &gt; threshold:
        &#47&#47 To invert the text to white
        invert = True</code></pre>