<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        assert temporal.shape[-1] % self.step_size == 0, f&quotTemporal length of batch should be multiple of {self.step_size}.&quot
        assert self.val_size % self.step_size == 0, f&quotValidation size should be multiple of {self.step_size}.&quot
        <a id="change">assert </a>self.test_size % self.step_size == 0, f&quotTest size should be multiple of {self.step_size}.&quot

        if step == &quottrain&quot:
            if self.val_size + self.test_size &gt; 0:</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Truncated backprogatation during training (shorten sequence where RNNs unroll)
        n_windows = windows.shape[2]
        <a id="change">if </a>(step == &quottrain&quot) and <a id="change">(self.input_size &gt; 0)</a> and (n_windows &gt; self.input_size):
            max_sampleable_time = n_windows-self.input_size+1
            start = np.random.choice(max_sampleable_time)
            windows = <a id="change">windows[:, :, start:(start+self.input_size), :]</a>

        &#47&#47 [B, C, input_size, 1+H]
        windows_batch = dict(temporal=windows,
                             temporal_cols=temporal_cols,</code></pre>