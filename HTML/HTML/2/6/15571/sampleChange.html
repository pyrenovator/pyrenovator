<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if self.use_dtw_loss:
            &#47&#47 print("Regular Loss: {}".format(loss))
            dtw_loss = self.dtw_criterion(<a id="change">after_outs.transpose(0</a>, <a id="change">1</a><a id="change">)</a>, speech.transpose(0, 1)).mean() / 10.0  &#47&#47 division to balance orders of magnitude
            &#47&#47 print("\n\n")
            &#47&#47 import matplotlib.pyplot as plt
            &#47&#47 import librosa.display as lbd</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 lbd.specshow(after_outs[0].transpose(0,1).detach().cpu().numpy(), ax=ax[0], sr=16000, cmap=&quotGnBu&quot, y_axis=&quotmel&quot, x_axis=&quottime&quot, hop_length=256)
            &#47&#47 lbd.specshow(speech[0].transpose(0,1).cpu().numpy(), ax=ax[1], sr=16000, cmap=&quotGnBu&quot, y_axis=&quotmel&quot, x_axis=&quottime&quot, hop_length=256)
            &#47&#47 plt.show()
            <a id="change">print(</a><a id="change">"DTW Loss: {}".format(</a>dtw_loss<a id="change">))</a>
            loss += dtw_loss

        &#47&#47 calculate attention loss
        if self.use_guided_attn_loss:</code></pre>