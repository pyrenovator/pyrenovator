<html><h3>Pattern ID :27565
</h3><img src='81878465.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        min_f, inps = minifier(failing_f, inps, pass_checker)
        assert len(min_f.graph.nodes) == 3
        <a id="change">assert </a>len(inps) == 1


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
            return torch.isnan(fx_g(*inps)[0]).any()

        min_f, inps = minifier(failing_f, inps, has_nans)
        <a id="change">self.assertEqual(len(</a>min_f.graph.nodes<a id="change">)</a>, 3<a id="change">)</a>
        <a id="change">self.assertEqual(</a>len(inps), <a id="change">1</a><a id="change">)</a>

    def test_input_returned(self):
        def f(a, b, c):
            a = a.sin()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/f77adb71cb78eabf8967d1d8139dfd893d58c5c5#diff-8b0efb2224c9ad23f0539ef2783abe6de6de4306eb717f2f761b543f7b800418L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81878465</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: f77adb71cb78eabf8967d1d8139dfd893d58c5c5</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: chilli@fb.com</div><div id='file'> File Name: functorch/test/test_minifier.py</div><div id='m_class'> M Class Name: TestMinifier</div><div id='n_method'> N Class Name: TestMinifier</div><div id='m_method'> M Method Name: test_has_add_mul(1)</div><div id='n_method'> N Method Name: test_has_add_mul(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: functorch/test/test_minifier.py</div><div id='n_file'> N File Name: functorch/test/test_minifier.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        min_f, inps = minifier(failing_f, inps, pass_checker)
        assert len(min_f.graph.nodes) == 3
        <a id="change">assert </a>len(inps) == 1


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
            return torch.isnan(fx_g(*inps)[0]).any()

        min_f, inps = minifier(failing_f, inps, has_nans)
        <a id="change">self.assertEqual(</a>len(min_f.graph.nodes), <a id="change">3</a><a id="change">)</a>
        <a id="change">self.assertEqual(len(</a>inps<a id="change">)</a>, 1<a id="change">)</a>

    def test_input_returned(self):
        def f(a, b, c):
            a = a.sin()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/f77adb71cb78eabf8967d1d8139dfd893d58c5c5#diff-8b0efb2224c9ad23f0539ef2783abe6de6de4306eb717f2f761b543f7b800418L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81878464</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: f77adb71cb78eabf8967d1d8139dfd893d58c5c5</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: chilli@fb.com</div><div id='file'> File Name: functorch/test/test_minifier.py</div><div id='m_class'> M Class Name: TestMinifier</div><div id='n_method'> N Class Name: TestMinifier</div><div id='m_method'> M Method Name: test_has_add_mul(1)</div><div id='n_method'> N Method Name: test_has_add_mul(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: functorch/test/test_minifier.py</div><div id='n_file'> N File Name: functorch/test/test_minifier.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        sampler_config = SamplerConfig(n_samples=n_samples)
                        labeled_set, added_set = agent.query(sampler_config=sampler_config)

                    <a id="change">assert </a>len(added_set) &lt;= len(labeled_set)
                    assert set(added_set).issubset(labeled_set)
</code></pre><h3>After Change</h3><pre><code class='java'>
                        sampler_config = SamplerConfig(n_samples=n_samples)
                        labeled_set, added_set = agent.query(sampler_config=sampler_config)

                    <a id="change">self.assertEqual(</a>n_old_labeled + len(added_set), len(labeled_set)<a id="change">)</a>
                    assert set(added_set).issubset(labeled_set)
                    <a id="change">self.assertEqual(len(</a>list(set(agent.labeled_set) & set(agent.unlabeled_set))<a id="change">)</a>, <a id="change">0</a><a id="change">)</a>
                    self.assertEqual(n_old_unlabeled - len(added_set), len(agent.unlabeled_set))

    def test_agent_wrong_scores(self):
        self.api_workflow_client.embedding_id = "embedding_id_xyz"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lightly-ai/lightly/commit/e53f4ff5562144065342e3792ba68a3e58ad8310#diff-14eb59ed055a80f6948740251cf7452edf70470de4b8df435486f1840e0a47d7L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81878467</div><div id='project'> Project Name: lightly-ai/lightly</div><div id='commit'> Commit Name: e53f4ff5562144065342e3792ba68a3e58ad8310</div><div id='time'> Time: 2021-04-19</div><div id='author'> Author: malte.ebner@gmail.com</div><div id='file'> File Name: tests/active_learning/test_active_learning_agent.py</div><div id='m_class'> M Class Name: TestActiveLearningAgent</div><div id='n_method'> N Class Name: TestActiveLearningAgent</div><div id='m_method'> M Method Name: test_agent(1)</div><div id='n_method'> N Method Name: test_agent(1)</div><div id='m_parent_class'> M Parent Class: MockedApiWorkflowSetup</div><div id='n_parent_class'> N Parent Class: MockedApiWorkflowSetup</div><div id='m_file'> M File Name: tests/active_learning/test_active_learning_agent.py</div><div id='n_file'> N File Name: tests/active_learning/test_active_learning_agent.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return (torch.ops.aten.mul.Tensor in set([i.target for i in fx_g.graph.nodes]))

        min_f, inps = minifier(failing_f, inps, pass_checker)
        <a id="change">assert </a>len(min_f.graph.nodes) == 4
        assert len(inps) == 2

    def test_has_add_mul(self):</code></pre><h3>After Change</h3><pre><code class='java'>
            return (torch.ops.aten.mul.Tensor in set([i.target for i in fx_g.graph.nodes]))

        min_f, inps = minifier(failing_f, inps, has_mul)
        <a id="change">self.assertEqual(</a>len(min_f.graph.nodes), 4<a id="change">)</a>
        <a id="change">self.assertEqual(len(</a>inps<a id="change">)</a>, <a id="change">2</a><a id="change">)</a>

    def test_has_add_mul(self):
        def failing_f(x):
            x = x * 3</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/f77adb71cb78eabf8967d1d8139dfd893d58c5c5#diff-8b0efb2224c9ad23f0539ef2783abe6de6de4306eb717f2f761b543f7b800418L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81878475</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: f77adb71cb78eabf8967d1d8139dfd893d58c5c5</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: chilli@fb.com</div><div id='file'> File Name: functorch/test/test_minifier.py</div><div id='m_class'> M Class Name: TestMinifier</div><div id='n_method'> N Class Name: TestMinifier</div><div id='m_method'> M Method Name: test_has_mul_minifier(1)</div><div id='n_method'> N Method Name: test_has_mul_minifier(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: functorch/test/test_minifier.py</div><div id='n_file'> N File Name: functorch/test/test_minifier.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 25</div><BR>