<html><h3>Pattern ID :22678
</h3><img src='71767763.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        filepath
        for filepath in glob_iter
        if filepath.name not in data_files_ignore
        and not <a id="change">any(part</a><a id="change">.startswith((".", "__")) and set(part) != {"."} for part in filepath.parts)</a>
    ]  &#47&#47 ignore .ipynb and __pycache__, but keep /../
    if allowed_extensions is not None:
        out = [
            filepath</code></pre><h3>After Change</h3><pre><code class='java'>
    matched_paths = [
        filepath
        for filepath in glob_iter
        if <a id="change">(filepath.name not in FILES_TO_IGNORE or PurePath(pattern).name == filepath.name)
        and not _is_inside_unrequested_special_dir(
            os.path.relpath(filepath, base_path), os.path.relpath(pattern, base_path)
        )
        and not _is_unrequested_hidden_file_or_is_inside_unrequested_hidden_dir(
            os.path.relpath(filepath, base_path), os.path.relpath(pattern, base_path)
        )</a>
    ]  &#47&#47 ignore .ipynb and __pycache__, but keep /../
    if allowed_extensions is not None:
        out = [
            filepath</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/0e1c629cfb9f9ba124537ba294a0ec451584da5f#diff-91caec97636b809598fec1569ab59f5d020440565f4152a80ac339493afae50eL332' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71767763</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 0e1c629cfb9f9ba124537ba294a0ec451584da5f</div><div id='time'> Time: 2022-06-30</div><div id='author'> Author: mariosasko777@gmail.com</div><div id='file'> File Name: src/datasets/data_files.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _resolve_single_pattern_in_dataset_repository(4)</div><div id='n_method'> N Method Name: _resolve_single_pattern_in_dataset_repository(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/datasets/data_files.py</div><div id='n_file'> N File Name: src/datasets/data_files.py</div><div id='m_start'> M Start Line: 332</div><div id='m_end'> M End Line: 341</div><div id='n_start'> N Start Line: 442</div><div id='n_end'> N End Line: 455</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    for x in sorted(augmentations, key=lambda z: (z[1], -z[2])):
        tags, start, end = x
        if <a id="change">any(other_start &lt; start &lt; other_end &lt; end</a><a id="change"> for _, other_start, other_end in current_stack)</a>:
            &#47&#47 tree structure is not satisfied!
            logging.warning(f&quotTree structure is not satisfied! {current_stack}&quot)
            continue</code></pre><h3>After Change</h3><pre><code class='java'>
            logging.warning(f&quotTree structure is not satisfied! Dropping annotation {x}&quot)
            continue

        while <a id="change">current_stack[-1] &gt;= 0 and \
                not (augmentations[current_stack[-1]][1] &lt;= start &lt;= end &lt;= augmentations[current_stack[-1]][2])</a>:
            current_stack.pop()

        &#47&#47 add as a child of its father</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/amazon-research/tanl/commit/2394bc98c9050883fdced2bacd1f5b0f57f3ad1b#diff-09d0cbaf891d623ac245ccf84485a687b554217349ca55557c60b33234b969aeL71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71767762</div><div id='project'> Project Name: amazon-research/tanl</div><div id='commit'> Commit Name: 2394bc98c9050883fdced2bacd1f5b0f57f3ad1b</div><div id='time'> Time: 2021-06-04</div><div id='author'> Author: paoling@amazon.com</div><div id='file'> File Name: utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: augment_sentence(6)</div><div id='n_method'> N Method Name: augment_sentence(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils.py</div><div id='n_file'> N File Name: utils.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 124</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 128</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return {&quotMax Drift Score&quot: np.max(drift_values)}
        elif self.aggregation_method == &quotweighted&quot:
            feature_importance = [col[&quotImportance&quot] for col in check_result.value.values()]
            if <a id="change">any(importance is None</a><a id="change"> for importance in feature_importance)</a>:
                get_logger().warning(
                    &quotFailed to calculate feature importance to all features, using uniform mean instead.&quot)
                return {&quotMean Drift Score&quot: np.mean(drift_values)}</code></pre><h3>After Change</h3><pre><code class='java'>
            return {&quotMax Drift Score&quot: np.max(drift_values)}

        feature_importance = [col[&quotImportance&quot] for col in check_result.value.values()]
        if <a id="change">self.aggregation_method in [&quotweighted&quot, &quotl2_weighted&quot] and None in feature_importance</a>:
            get_logger().warning(
                    &quotFailed to calculate feature importance to all features, using uniform mean instead.&quot)
            return {&quotMean Drift Score&quot: np.mean(drift_values)}</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/5db318781a10db5f122b0949f2f6d5283ff5cbf6#diff-e2d17424b6a2c74ae5e4041b63c9945d412156d66b8fc4fca62df93fa6690e69L248' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71767760</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 5db318781a10db5f122b0949f2f6d5283ff5cbf6</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: 67195469+Nadav-Barak@users.noreply.github.com</div><div id='file'> File Name: deepchecks/tabular/checks/train_test_validation/train_test_feature_drift.py</div><div id='m_class'> M Class Name: TrainTestFeatureDrift</div><div id='n_method'> N Class Name: TrainTestFeatureDrift</div><div id='m_method'> M Method Name: reduce_output(2)</div><div id='n_method'> N Method Name: reduce_output(2)</div><div id='m_parent_class'> M Parent Class: TrainTestCheck,ReduceMixin</div><div id='n_parent_class'> N Parent Class: TrainTestCheck,ReduceMixin</div><div id='m_file'> M File Name: deepchecks/tabular/checks/train_test_validation/train_test_feature_drift.py</div><div id='n_file'> N File Name: deepchecks/tabular/checks/train_test_validation/train_test_feature_drift.py</div><div id='m_start'> M Start Line: 255</div><div id='m_end'> M End Line: 266</div><div id='n_start'> N Start Line: 254</div><div id='n_end'> N End Line: 276</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Path(filepath).resolve()
        for filepath in glob_iter
        if filepath.name not in data_files_ignore
        and not <a id="change">any(part</a><a id="change">.startswith((".", "__")) and set(part) != {"."} for part in filepath.parts)</a>
    ]  &#47&#47 ignore .ipynb and __pycache__, but keep /../
    if allowed_extensions is not None:
        out = [
            filepath</code></pre><h3>After Change</h3><pre><code class='java'>
    matched_paths = [
        Path(filepath).resolve()
        for filepath in glob_iter
        if <a id="change">(filepath.name not in FILES_TO_IGNORE or PurePath(pattern).name == filepath.name)
        and not _is_inside_unrequested_special_dir(
            os.path.relpath(filepath, base_path), os.path.relpath(pattern, base_path)
        )
        and not _is_unrequested_hidden_file_or_is_inside_unrequested_hidden_dir(
            os.path.relpath(filepath, base_path), os.path.relpath(pattern, base_path)
        )</a>
    ]  &#47&#47 ignore .ipynb and __pycache__, but keep /../
    if allowed_extensions is not None:
        out = [
            filepath</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/0e1c629cfb9f9ba124537ba294a0ec451584da5f#diff-91caec97636b809598fec1569ab59f5d020440565f4152a80ac339493afae50eL128' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71767768</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 0e1c629cfb9f9ba124537ba294a0ec451584da5f</div><div id='time'> Time: 2022-06-30</div><div id='author'> Author: mariosasko777@gmail.com</div><div id='file'> File Name: src/datasets/data_files.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _resolve_single_pattern_locally(3)</div><div id='n_method'> N Method Name: _resolve_single_pattern_locally(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/datasets/data_files.py</div><div id='n_file'> N File Name: src/datasets/data_files.py</div><div id='m_start'> M Start Line: 136</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 231</div><div id='n_end'> N End Line: 246</div><BR>