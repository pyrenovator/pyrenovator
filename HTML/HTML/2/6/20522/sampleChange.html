<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        for data_dir in data_dirs:
            data_dir_path = Path(data_dir)
            speaker_dirs = <a id="change">[x for x in data_dir_path.iterdir() if x.is_dir()]</a>

            for speaker_dir in speaker_dirs:
                audio_paths = find_files(speaker_dir)
                if len(audio_paths) == 0:</code></pre><h3>After Change</h3><pre><code class='java'>
        clean_data_dir = Path(clean_data_dir)
        noisy_data_dir = Path(noisy_data_dir)
        &#47&#47 spkers
        speakers = sorted(<a id="change">os.listdir(</a>clean_data_dir<a id="change">)</a>)
        speakers_ = sorted(os.listdir(noisy_data_dir))
        assert speakers == speakers_

        &#47&#47 add data
        for <a id="change">spk</a> in speakers:
            clean_spk_dir = clean_data_dir / spk
            noisy_spk_dir<a id="change"> = </a>noisy_data_dir / spk

            wav_files = os.listdir(clean_spk_dir)
            for wav_file in wav_files:
                clean_wav_path = clean_spk_dir / wav_file
                noisy_wav_path = noisy_spk_dir / wav_file
                <a id="change">if </a>clean_wav_path.is_file() and noisy_wav_path.is_file():
                    data.append((spk, clean_wav_path, noisy_wav_path))

        &#47&#47 === init === &#47&#47</code></pre>