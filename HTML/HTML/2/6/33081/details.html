<html><h3>Pattern ID :33081
</h3><img src='95682772.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def main():
    &#47&#47 Get all the images under the folder.
    for file in os.listdir(args.data):
        <a id="change">logger.info(f"Process: `{os.path.join(args.data, file)}`."</a><a id="change">)</a>
        &#47&#47 Get all cut image data.
        crop_images = crop_image(Image.open(os.path.join(args.data, file)))
        &#47&#47 Save all captured image data in turn.
        save_images(os.path.join(args.data, file), crop_images)</code></pre><h3>After Change</h3><pre><code class='java'>
    image_sizex4  = 32

    filenames = os.listdir("HR")
    <a id="change">for </a>filename in sorted(filenames)<a id="change">:
        </a>print(f"Process: `{filename}`.")

        imagex0 = Image.open(os.path.join("HR",          filename))
        imagex2<a id="change"> = </a>Image.open(os.path.join("LRunknownx2", filename))
        imagex4 = Image.open(os.path.join("LRunknownx4", filename))

        crop_imagesx0 = crop_image(imagex0, image_sizex0)
        crop_imagesx2<a id="change"> = </a>crop_image(imagex2, image_sizex2)
        crop_imagesx4 = crop_image(imagex4, image_sizex4)

        save_images(os.path.join("HR",          filename), crop_imagesx0)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lornatang/srgan-pytorch/commit/fa772cbeebba29f3bd38a1512b863875b0b7ad95#diff-a45e6bc34dbd1786645483b6e00ca31ec44bce22f23ed014154f11816f0c3185L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95682772</div><div id='project'> Project Name: lornatang/srgan-pytorch</div><div id='commit'> Commit Name: fa772cbeebba29f3bd38a1512b863875b0b7ad95</div><div id='time'> Time: 2021-08-05</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: scripts/split_image.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/split_image.py</div><div id='n_file'> N File Name: scripts/split_image.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def main():
    &#47&#47 Get all the images under the folder.
    for file in os.listdir(args.data):
        <a id="change">logger.info(f"Process: `{os.path.join(args.data, file)}`."</a><a id="change">)</a>
        &#47&#47 Get all cut image data.
        crop_images = crop_image(Image.open(os.path.join(args.data, file)))
        &#47&#47 Save all captured image data in turn.
        save_images(os.path.join(args.data, file), crop_images)</code></pre><h3>After Change</h3><pre><code class='java'>
    image_sizex4  = 32

    filenames = os.listdir("HR")
    <a id="change">for filename</a> in sorted(filenames)<a id="change">:
        </a>print(f"Process: `{filename}`.")

        imagex0 = Image.open(os.path.join("HR",          filename))
        imagex2 = Image.open(os.path.join("LRunknownx2", filename))
        imagex4<a id="change"> = </a>Image.open(os.path.join("LRunknownx4", filename))

        crop_imagesx0 = crop_image(imagex0, image_sizex0)
        crop_imagesx2 = crop_image(imagex2, image_sizex2)
        crop_imagesx4<a id="change"> = </a>crop_image(imagex4, image_sizex4)

        save_images(os.path.join("HR",          filename), crop_imagesx0)
        save_images(os.path.join("LRunknownx2", filename), crop_imagesx2)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/srgan-pytorch/commit/fa772cbeebba29f3bd38a1512b863875b0b7ad95#diff-a45e6bc34dbd1786645483b6e00ca31ec44bce22f23ed014154f11816f0c3185L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95682757</div><div id='project'> Project Name: lornatang/srgan-pytorch</div><div id='commit'> Commit Name: fa772cbeebba29f3bd38a1512b863875b0b7ad95</div><div id='time'> Time: 2021-08-05</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: scripts/split_image.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/split_image.py</div><div id='n_file'> N File Name: scripts/split_image.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def load_state_dict_pre_hook(module, state_dict, *args, **kwargs):
        Redirect input state_dict to model for OTE model compatibility
        
        <a id="change">logger.info(&quot----------------- SAMImageClassifier.load_state_dict_pre_hook() called&quot</a><a id="change">)</a>
        if type(module.backbone).__name__ == &quotOTEMobileNetV3&quot:
            for k in list(state_dict.keys()):
                v = state_dict.pop(k)
                if k.startswith(&quotclassifier.&quot) or k.startswith(&quothead.classifier&quot):</code></pre><h3>After Change</h3><pre><code class='java'>
                state_dict[k] = v

        elif backbone_type == &quotOTEEfficientNetV2&quot:
            <a id="change">for k</a> in list(state_dict.keys())<a id="change">:
                </a>v<a id="change"> = </a>state_dict.pop(k)
                if k.startswith(&quotmodel.classifier&quot):
                    k = k.replace(&quotmodel.classifier&quot, &quothead.fc&quot)
                    v = v.t()
                elif k.startswith(&quotmodel&quot):
                    k = &quotbackbone.&quot+k
                state_dict[k]<a id="change"> = </a>v
        else:
            logger.info(&quotconversion is not required.&quot)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/model_preparation_algorithm/commit/645893988f346dd87d1b1868bf6c58f4b9784cb4#diff-b42ff02ffef42e9ec4f5e721c5585e8fc50ad9c86d48308a1a7e3b1fc20cbeefL84' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95682790</div><div id='project'> Project Name: openvinotoolkit/model_preparation_algorithm</div><div id='commit'> Commit Name: 645893988f346dd87d1b1868bf6c58f4b9784cb4</div><div id='time'> Time: 2022-04-06</div><div id='author'> Author: songki.choi@intel.com</div><div id='file'> File Name: mpa/modules/models/classifiers/sam_classifier.py</div><div id='m_class'> M Class Name: SAMImageClassifier</div><div id='n_method'> N Class Name: SAMImageClassifier</div><div id='m_method'> M Method Name: load_state_dict_pre_hook(2)</div><div id='n_method'> N Method Name: load_state_dict_pre_hook(2)</div><div id='m_parent_class'> M Parent Class: ImageClassifier</div><div id='n_parent_class'> N Parent Class: ImageClassifier</div><div id='m_file'> M File Name: mpa/modules/models/classifiers/sam_classifier.py</div><div id='n_file'> N File Name: mpa/modules/models/classifiers/sam_classifier.py</div><div id='m_start'> M Start Line: 87</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 97</div><div id='n_end'> N End Line: 128</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                correct += (predicted == labels).sum().item()

        result = 100 * correct / total
        <a id="change">logging.info(f"Accuracy: {result:.3f}"</a><a id="change">)</a>
        return result

    def load_optimizer(self):
        Load the optimizer</code></pre><h3>After Change</h3><pre><code class='java'>

        response = {}

        <a id="change">for key</a> in metrics<a id="change">:
            </a>metric<a id="change"> = </a>CLASSIFICATION_METRICS[key]()
            response[metric.name]<a id="change"> = </a>metric.calculate(y_true, y_pred)
        return response

    def load_optimizer(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/biasvariancelabs/aitlas/commit/48822a5b4008ee1dbf8d741d5519571041218e44#diff-600a7a3136fd62640bfa068d0cf79d8de9d8b39cabfa45cdd0a179b562d9bf91L124' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95682748</div><div id='project'> Project Name: biasvariancelabs/aitlas</div><div id='commit'> Commit Name: 48822a5b4008ee1dbf8d741d5519571041218e44</div><div id='time'> Time: 2020-08-28</div><div id='author'> Author: ivan.kitanovski@gmail.com</div><div id='file'> File Name: aitlas/base/classifiers.py</div><div id='m_class'> M Class Name: BaseClassifier</div><div id='n_method'> N Class Name: BaseClassifier</div><div id='m_method'> M Method Name: evaluate_model(3)</div><div id='n_method'> N Method Name: evaluate_model(4)</div><div id='m_parent_class'> M Parent Class: BaseModel</div><div id='n_parent_class'> N Parent Class: BaseModel</div><div id='m_file'> M File Name: aitlas/base/classifiers.py</div><div id='n_file'> N File Name: aitlas/base/classifiers.py</div><div id='m_start'> M Start Line: 124</div><div id='m_end'> M End Line: 141</div><div id='n_start'> N Start Line: 121</div><div id='n_end'> N End Line: 138</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    for every sequence, original and reconstructed.
    
    if config is None:
        <a id="change">logging.info("!! Parameter config is not given: Using default_config"</a><a id="change">)</a>
        config = default_config

    x = input_data
    y = input_label</code></pre><h3>After Change</h3><pre><code class='java'>
                    for every sequence, original and reconstructed.
    

    <a id="change">for i_batch</a>, (x, y) in enumerate(zip(input_data, input_label))<a id="change">:

        </a>x, y = Variable(x), Variable(y)
        x, y = x.to(config.device), y.to(config.device)

        batch_one_hot<a id="change"> = </a>utils.batch_one_hot(y, config.label_dim)
        y<a id="change"> = </a>batch_one_hot.to(config.device)

        x_recon = model(x, y)  &#47&#47 has shape [batch_size, seq_len, 159]
        _, seq_len, _ = x.shape</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bioshape-lab/pirounet/commit/31dd7cbabee71a7b32c2f3a9411f2c56138730f5#diff-6205110fcfecbf5960d25aadf74a2bd828cd2f5cf706f565b3e92fa96b539dd9L427' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95682749</div><div id='project'> Project Name: bioshape-lab/pirounet</div><div id='commit'> Commit Name: 31dd7cbabee71a7b32c2f3a9411f2c56138730f5</div><div id='time'> Time: 2022-07-22</div><div id='author'> Author: papillon@umail.ucsb.edu</div><div id='file'> File Name: move/evaluate/generate_f.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: reconstruct(9)</div><div id='n_method'> N Method Name: reconstruct(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: move/evaluate/generate_f.py</div><div id='n_file'> N File Name: move/evaluate/generate_f.py</div><div id='m_start'> M Start Line: 433</div><div id='m_end'> M End Line: 516</div><div id='n_start'> N Start Line: 431</div><div id='n_end'> N End Line: 517</div><BR>