<html><h3>Pattern ID :16757
</h3><img src='56069975.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def save_samples(self, purpose_hdf5_group: h5py.Group, logdir: pathlib.Path):
        logdir.mkdir(exist_ok=True, parents=True)
        data_hdf5_group = purpose_hdf5_group[f"data"]
        num_samples = int(<a id="change">len(</a>data_hdf5_group[ChannelEnum.GROUND_TRUTH_ELEVATION_MAP.value]<a id="change">)</a> / self.config["sample_frequency"])
        for sample_idx in range(num_samples):
            idx = sample_idx * self.config["sample_frequency"]
            params = data_hdf5_group[ChannelEnum.PARAMS.value][idx, ...]</code></pre><h3>After Change</h3><pre><code class='java'>
            vmax = np.max([np.max(non_occluded_elevation_map), np.max(reconstructed_elevation_map),
                           np.max(inpainted_elevation_map)])
            if ground_truth_elevation_map is not None:
                vmin<a id="change"> = </a>np.min([vmin, <a id="change">np.min(</a>ground_truth_elevation_map<a id="change">)</a>])
                vmax<a id="change"> = </a>np.max([vmax, <a id="change">np.max(</a>ground_truth_elevation_map<a id="change">)</a>])

            cmap = plt.get_cmap("viridis")
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mstoelzle/solving-occlusion/commit/7ad7713f8c6ee7e49262e65307c1467bc7a56159#diff-f2364fa05641bd91599f7c5bbe833a1c5e4ef9c17d1cc8e968c3e4a6c80dbc22L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 56069975</div><div id='project'> Project Name: mstoelzle/solving-occlusion</div><div id='commit'> Commit Name: 7ad7713f8c6ee7e49262e65307c1467bc7a56159</div><div id='time'> Time: 2020-10-21</div><div id='author'> Author: maximilian@stoelzle.ch</div><div id='file'> File Name: src/learning/visualization/results_plotter.py</div><div id='m_class'> M Class Name: ResultsPlotter</div><div id='n_method'> N Class Name: ResultsPlotter</div><div id='m_method'> M Method Name: save_samples(3)</div><div id='n_method'> N Method Name: save_samples(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/learning/visualization/results_plotter.py</div><div id='n_file'> N File Name: src/learning/visualization/results_plotter.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 174</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 189</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    for i in range(rows):
        for j in range(cols):
            pillar_matrix[i][j] = <a id="change">len(</a>pillar_matrix[i][j]<a id="change">)</a>

    true_pillar_matrix = [
        [2, 1, 0],
        [0, 0, 1],</code></pre><h3>After Change</h3><pre><code class='java'>
    x_max = np.max(points[:, 0])
    x_min = np.min(points[:, 0])

    y_max<a id="change"> = </a><a id="change">np.max(</a>points[:, 1]<a id="change">)</a>
    y_min<a id="change"> = </a><a id="change">np.min(</a>points[:, 1]<a id="change">)</a>

    z_max = np.max(points[:, 2])
    z_min = np.min(points[:, 2])
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jabb0/fastflow3d/commit/fa5213b611fd96c6e2df69f237b25e47cca3be34#diff-9476c3a5bb08d1a72bced99bb169ca062fb9e2ff88e2b3f71d4be5a85fc13b21L5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 56069987</div><div id='project'> Project Name: jabb0/fastflow3d</div><div id='commit'> Commit Name: fa5213b611fd96c6e2df69f237b25e47cca3be34</div><div id='time'> Time: 2021-06-13</div><div id='author'> Author: aron.distelzweig@hotmail.com</div><div id='file'> File Name: tests/test_pillar.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_create_pillars(0)</div><div id='n_method'> N Method Name: test_create_pillars(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_pillar.py</div><div id='n_file'> N File Name: tests/test_pillar.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 34</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if f"/{self.purpose}/{ChannelEnum.GROUND_TRUTH_ELEVATION_MAP.value}" in hdf5_file:
                self.dataset_length = len(hdf5_file[f"/{self.purpose}/{ChannelEnum.GROUND_TRUTH_ELEVATION_MAP.value}"])
            elif f"/{self.purpose}/elevation_map" in hdf5_file:
                self.dataset_length = <a id="change">len(</a>hdf5_file[f"/{self.purpose}/elevation_map"]<a id="change">)</a>
            elif f"/{self.purpose}/{ChannelEnum.OCCLUDED_ELEVATION_MAP.value}" in hdf5_file:
                self.dataset_length = len(hdf5_file[f"/{self.purpose}/{ChannelEnum.OCCLUDED_ELEVATION_MAP.value}"])
            else:
                raise ValueError</code></pre><h3>After Change</h3><pre><code class='java'>
            if self.min is None or self.max is None:
                &#47&#47 Attention: this is very memory-demanding
                sample_notnan = sample_dataset[~np.isnan(sample_dataset)]
                self.min<a id="change"> = </a><a id="change">np.min(</a>sample_notnan<a id="change">)</a>
                self.max<a id="change"> = </a><a id="change">np.max(</a>sample_notnan<a id="change">)</a>

    def __getitem__(self, idx) -&gt; Dict[Union[str, ChannelEnum], torch.Tensor]:
        self.set_hdf5_dataset()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mstoelzle/solving-occlusion/commit/8fd012680ccac057095f148cc4cf2f1b4f4afcc5#diff-ce7a6a380d7310235e2884586c26ac0338d93fdc4d08242472db21aebbb9474fL11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 56069998</div><div id='project'> Project Name: mstoelzle/solving-occlusion</div><div id='commit'> Commit Name: 8fd012680ccac057095f148cc4cf2f1b4f4afcc5</div><div id='time'> Time: 2020-11-06</div><div id='author'> Author: maximilian@stoelzle.ch</div><div id='file'> File Name: src/datasets/hdf5_dataset.py</div><div id='m_class'> M Class Name: Hdf5Dataset</div><div id='n_method'> N Class Name: Hdf5Dataset</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: BaseDataset</div><div id='n_parent_class'> N Parent Class: BaseDataset</div><div id='m_file'> M File Name: src/datasets/hdf5_dataset.py</div><div id='n_file'> N File Name: src/datasets/hdf5_dataset.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 44</div><BR>