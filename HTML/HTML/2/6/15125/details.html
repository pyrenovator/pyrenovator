<html><h3>Pattern ID :15125
</h3><img src='51318108.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                assert isinstance(_mount_path, dict), f"type(provider_uri) != type(mount_path); {_mount_path}"
                _miss_freq = set(_provider_uri.keys()) - set(_mount_path.keys())
                assert len(_miss_freq) == 0, f"mount_path is missing freq: {_miss_freq}"
                self["mount_path"]<a id="change"> = </a>{_freq: <a id="change">str(</a>Path(_path).expanduser().resolve()<a id="change">)</a> for _freq, _path in _mount_path}
            for _freq, _uri in _provider_uri.items():
                if self.get_uri_type(_uri) == QlibConfig.LOCAL_URI:
                    self["provider_uri"][_freq] = str(Path(_uri).expanduser().resolve())</code></pre><h3>After Change</h3><pre><code class='java'>
            raise ValueError("provider_uri cannot be None")
        if not isinstance(_provider_uri, dict):
            _provider_uri = {self.DEFAULT_FREQ: _provider_uri}
        <a id="change">if not isinstance(_mount_path, dict)</a>:
            _mount_path<a id="change"> = </a>{_freq: _mount_path for _freq in _provider_uri.keys()}

        &#47&#47 check provider_uri and mount_path
        _miss_freq = set(_provider_uri.keys()) - set(_mount_path.keys())</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/e84cc23589e7169c59b9af3eb42e16fedc9c3e1e#diff-25dbdacea596f855c7fb06ff767cef8b4bef4dfbee5218bf6437aa20117fa8e4L257' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51318108</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: e84cc23589e7169c59b9af3eb42e16fedc9c3e1e</div><div id='time'> Time: 2021-09-07</div><div id='author'> Author: zhu.pengrong@foxmail.com</div><div id='file'> File Name: qlib/config.py</div><div id='m_class'> M Class Name: QlibConfig</div><div id='n_method'> N Class Name: QlibConfig</div><div id='m_method'> M Method Name: resolve_path(1)</div><div id='n_method'> N Method Name: resolve_path(1)</div><div id='m_parent_class'> M Parent Class: Config</div><div id='n_parent_class'> N Parent Class: Config</div><div id='m_file'> M File Name: qlib/config.py</div><div id='n_file'> N File Name: qlib/config.py</div><div id='m_start'> M Start Line: 257</div><div id='m_end'> M End Line: 278</div><div id='n_start'> N Start Line: 294</div><div id='n_end'> N End Line: 320</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        global_num_max += 1
      return f"&lt;&lt;&lt; {x.global_num} &gt;&gt;&gt;"

    _<a id="change">,sop = </a><a id="change">str(</a>op<a id="change">)</a>.split(".")
    top_colors = {LoadOps: "&#47&#47ffffff", UnaryOps: "&#47&#47c0c0c0", ReduceOps: "&#47&#478080ff", BinaryOps: "&#47&#47c0c0c0", MovementOps: "&#47&#4780ff80", ProcessingOps: "&#47&#47ff8080"}

    for x in inp:</code></pre><h3>After Change</h3><pre><code class='java'>
    top_colors = {LoadOps: "&#47&#47ffffff", UnaryOps: "&#47&#47c0c0c0", ReduceOps: "&#47&#478080ff", BinaryOps: "&#47&#47c0c0c0", MovementOps: "&#47&#4780ff80", ProcessingOps: "&#47&#47ff8080"}

    for x in inp:
      <a id="change">if not isinstance(op, list)</a>: op<a id="change"> = </a>[op]
      sop = &quot.&quot.join([str(y).split(".")[1] for y in op][::-1])
      G.add_edge(nm(x), nm(ret), label=sop, color=&quot&#47&#47808080&quot if dashed else &quot&quot, style=&quotdashed&quot if dashed else &quot&quot)
      if &quotlabel&quot not in G.nodes[nm(x)]: G.nodes[nm(x)][&quotlabel&quot] = str(x.shape)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/6b652dafb2925c39c5da028ab24ead75fb28d751#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51318116</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 6b652dafb2925c39c5da028ab24ead75fb28d751</div><div id='time'> Time: 2022-06-19</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: log_op(5)</div><div id='n_method'> N Method Name: log_op(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 41</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 Shape check
            if len(first_input[0].shape) &gt; 5 or len(first_input[0].shape) &lt; 2:

                err_msg<a id="change"> = </a>(
                    &quotThe input of "linear" must be a tensor with one of the  &quot
                    "following dimensions: [time] or [batch,time] or "
                    "[batch,channels,time]. Got %s "
                    % (<a id="change">str(</a>first_input[0].shape<a id="change">))</a>
                )

                logger_write(err_msg, logfile=logger)
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.transp_conv2d = False

        &#47&#47 Ensure kernel_size and padding are lists
        <a id="change">if not isinstance(self.kernel_size, list)</a>:
            self.kernel_size<a id="change"> = </a>[self.kernel_size]
        if self.padding is not None and not isinstance(self.padding, list):
            self.padding = [self.padding]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/0ff34ea8f75b108dc69542658d39b70118bf01ca#diff-a7c3190f943cb09b3b7e0b688790f61f6e5e838546dec54468346ae1c2be7e08L449' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51318115</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 0ff34ea8f75b108dc69542658d39b70118bf01ca</div><div id='time'> Time: 2020-03-31</div><div id='author'> Author: plantinga.peter@gmail.com</div><div id='file'> File Name: speechbrain/nnet/architectures.py</div><div id='m_class'> M Class Name: conv</div><div id='n_method'> N Class Name: conv</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: speechbrain/nnet/architectures.py</div><div id='n_file'> N File Name: speechbrain/nnet/architectures.py</div><div id='m_start'> M Start Line: 458</div><div id='m_end'> M End Line: 611</div><div id='n_start'> N Start Line: 387</div><div id='n_end'> N End Line: 516</div><BR>