<html><h3>Pattern ID :23670
</h3><img src='73899239.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            op = sim.session.graph.get_operation_by_name(op_name)
            is_symmetric_tensor = op.inputs[QuantizeOpIndices.use_symmetric_encoding]
            op_mode_tensor = op.inputs[QuantizeOpIndices.op_mode]
            self.assertEqual(<a id="change">sim.session.run(</a>is_symmetric_tensor<a id="change">)</a>, True)
            self.assertEqual(sim.session.run(op_mode_tensor),
                             int(pymo.TensorQuantizerOpMode.oneShotQuantizeDequantize))
            self.assertFalse(sim._param_quantizers[op_name].use_unsigned_symmetric)</code></pre><h3>After Change</h3><pre><code class='java'>
            is_symmetric_tensor = op.inputs[QuantizeOpIndices.use_symmetric_encoding]
            op_mode_tensor = op.inputs[QuantizeOpIndices.op_mode]
            print(op_name, &quot-&gt;&quot, sim.session.run(op_mode_tensor))
            activation_quantizers_in_passthrough<a id="change"> = </a><a id="change">[&quotinput_1_quantized&quot</a>,
                                                    <a id="change">&quotconv2d/BiasAdd_quantized&quot</a>,
                                                    <a id="change">&quotconv2d_3/BiasAdd_quantized&quot</a>]
            if op_name in activation_quantizers_in_passthrough:
                assert sim.session.run(op_mode_tensor) == int(pymo.TensorQuantizerOpMode.passThrough)
            else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/quic/aimet/commit/9b394867c0d35e58d8dffbb0783903df6ad60f6c#diff-ee03f34446028789bcdb2362b6f14d33452c85e57e9d6ec9ef069bd05a3426b7L263' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73899239</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 9b394867c0d35e58d8dffbb0783903df6ad60f6c</div><div id='time'> Time: 2023-04-12</div><div id='author'> Author: quic_hitameht@quicinc.com</div><div id='file'> File Name: TrainingExtensions/tensorflow/test/python/non_eager/test_quantsim_config.py</div><div id='m_class'> M Class Name: TestQuantsimConfig</div><div id='n_method'> N Class Name: TestQuantsimConfig</div><div id='m_method'> M Method Name: test_parse_config_file_defaults_tf2(1)</div><div id='n_method'> N Method Name: test_parse_config_file_defaults_tf2(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: TrainingExtensions/tensorflow/test/python/non_eager/test_quantsim_config.py</div><div id='n_file'> N File Name: TrainingExtensions/tensorflow/test/python/non_eager/test_quantsim_config.py</div><div id='m_start'> M Start Line: 263</div><div id='m_end'> M End Line: 279</div><div id='n_start'> N Start Line: 263</div><div id='n_end'> N End Line: 280</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def run_mypy(file: str) -&gt; int:
    return <a id="change">subprocess.run(</a>["mypy", "--config=mypy.ini", f"{str(file)}"]<a id="change">)</a>.returncode


def main() -&gt; int:</code></pre><h3>After Change</h3><pre><code class='java'>
    iteration = 1
    while files:
        print(f"Iteration {iteration}: running mypy on {len(files)}{&quot remaining&quot if iteration &gt; 1 else &quot&quot} files")
        command = <a id="change">["mypy"</a>, <a id="change">"--config=mypy.ini"</a>, <a id="change">"--verbose"</a>] + files
        &#47&#47 We pipe stdout and then print it, otherwise lines can appear in the wrong order in builds.
        process<a id="change"> = </a>subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)
        for line in process.stdout.split("\n"):
            print(line)
        &#47&#47 Set of files we are hoping to see mentioned in the mypy log.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/innereye-deeplearning/commit/1136e23352ac8b4e93705b96bdac9f08120f8399#diff-344abec58e93ca8213cf166ae9214a8c5e073b5fd2e8e6811a95832c1011e646L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73899232</div><div id='project'> Project Name: microsoft/innereye-deeplearning</div><div id='commit'> Commit Name: 1136e23352ac8b4e93705b96bdac9f08120f8399</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: dacart@microsoft.com</div><div id='file'> File Name: mypy_runner.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_mypy(1)</div><div id='n_method'> N Method Name: run_mypy(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mypy_runner.py</div><div id='n_file'> N File Name: mypy_runner.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    from os import path
    currentdir = path.dirname(__file__)
    updir = path.join(currentdir, &quot..&quot)
    <a id="change">nose.run(</a>&quotmahotas&quot<a id="change">, argv=[&quot&quot, &quot--exe&quot, &quot-w&quot, updir])</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
    from os import path
    currentdir = path.dirname(__file__)
    updir = path.join(currentdir, &quot..&quot)
    argv<a id="change"> = </a><a id="change">[&quot&quot</a>, <a id="change">&quot--exe&quot</a>, <a id="change">&quot-w&quot</a>, updir<a id="change"></a>]
    if verbose:
        argv.append(&quot--verbose&quot)
    nose.run(&quotmahotas&quot, argv=argv)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/luispedro/mahotas/commit/2cd478e3fffe6efc9522908d8a13c05bb04e820e#diff-f7ce57bb997fac4e7147d1b2cfa1798023642e3be45242825c2239d8ef71fe0cL1' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73899215</div><div id='project'> Project Name: luispedro/mahotas</div><div id='commit'> Commit Name: 2cd478e3fffe6efc9522908d8a13c05bb04e820e</div><div id='time'> Time: 2013-01-09</div><div id='author'> Author: luis@luispedro.org</div><div id='file'> File Name: mahotas/tests/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mahotas/tests/__init__.py</div><div id='n_file'> N File Name: mahotas/tests/__init__.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 6</div><div id='n_start'> N Start Line: 1</div><div id='n_end'> N End Line: 9</div><BR>