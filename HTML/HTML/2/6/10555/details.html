<html><h3>Pattern ID :10555
</h3><img src='36736707.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        elif in_source == to_source:
            pass
        else:
            <a id="change">raise </a><a id="change">Exception(
                </a>f&quotConversion form {in_source} to {to_source} is not Supported.&quot
                f&quot Supported types: {Box.__get_enum_names(Point.PointSource)}&quot<a id="change">)</a>
        return point


class Box:</code></pre><h3>After Change</h3><pre><code class='java'>
    def point2point(point, in_source, to_source):
        if point is None or len(point) == 0:
            pass
        elif <a id="change"></a>type(point[0]) in [tuple, list, np.ndarray]:
            point = <a id="change">[Point.point2point(p, in_source=in_source, to_source=to_source) for p in point]</a>
        else:
            point<a id="change"> = </a>Point.point2point(point, in_source=in_source, to_source=to_source)
        return point

    @staticmethod</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pooya-mohammadi/deep_utils/commit/2ef8e70d9e4b3bc53df5294415180ce10a4ed033#diff-3ceb9fa0303b3f44b715ed4c9b696a70081baf0d12eb4c7fc08d14514519f85aL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36736707</div><div id='project'> Project Name: pooya-mohammadi/deep_utils</div><div id='commit'> Commit Name: 2ef8e70d9e4b3bc53df5294415180ce10a4ed033</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: practical.ai.programming@gmail.com</div><div id='file'> File Name: deep_utils/utils/box_utils/boxes.py</div><div id='m_class'> M Class Name: Point</div><div id='n_method'> N Class Name: Point</div><div id='m_method'> M Method Name: point2point(3)</div><div id='n_method'> N Method Name: point2point(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deep_utils/utils/box_utils/boxes.py</div><div id='n_file'> N File Name: deep_utils/utils/box_utils/boxes.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 17</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        else:
            raise Exception(e)
    except Exception as e:
        <a id="change">raise </a><a id="change">Exception(</a>e<a id="change">)</a>
    if simplify:
        model_opt, check_ok = onnx_simplify(onnx_model, input_shape)
        if check_ok:
            print(&quotsave onnx&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    convert torch model to tflite model using onnx
    
    if type(input_shape[0]) == tuple:
        <a id="change">if </a>check_model_is_cuda(model):
            dummy_input = tuple(<a id="change">[torch.randn(ishape, device="cuda") for ishape in input_shape]</a>)
        else:
            dummy_input<a id="change"> = </a>tuple([torch.randn(ishape, device="cpu") for ishape in input_shape])
    elif type(input_shape) == tuple:
        if check_model_is_cuda(model):
            dummy_input = torch.randn(input_shape, device="cuda")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kuroko1t/nne/commit/a00ac8516ac6f9381d377673bd5eeb6db0c7961c#diff-fce3963ac4e3974ea4e6e8994066ae3c32f6cdfbbc4b09613cda6b754b521f7fL26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36736693</div><div id='project'> Project Name: kuroko1t/nne</div><div id='commit'> Commit Name: a00ac8516ac6f9381d377673bd5eeb6db0c7961c</div><div id='time'> Time: 2021-05-18</div><div id='author'> Author: kurosawa.yk@gmail.com</div><div id='file'> File Name: nne/onnx.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: cv2onnx(4)</div><div id='n_method'> N Method Name: cv2onnx(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nne/onnx.py</div><div id='n_file'> N File Name: nne/onnx.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            sout, serr=p.communicate()
            if p.returncode != 0:
                <a id="change">raise </a><a id="change">Exception(</a>&quotPDFpng error&quot, serr<a id="change">)</a>

            png=[open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
            return png
</code></pre><h3>After Change</h3><pre><code class='java'>
            sout, serr = p.communicate()
            if p.returncode != 0:
                raise Exception(&quotPDFpng error&quot, serr, cmd, os.path.exists(pdffile), os.path.exists(infile))
            <a id="change">if </a>return_bytes:
                if len(self.math) &gt; 1:
                    png = [open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
                else:
                    png<a id="change"> = </a>open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot.png&quot, &quotrb&quot).read()
                return png
            else:
                if len(self.math) &gt; 1:
                    return <a id="change">[(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i) for i in range(len(self.math))]</a>
                else:
                    return (pngfile.replace(&quot.png&quot, &quot&quot)+&quot.png&quot)
        finally:
            &#47&#47 Cleanup temporaries</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/1ac35a887d70fd94c4324af8a3f3a6ef624e5878#diff-fa4089e8a1b4c36ad8263be050d34e31ea1d452268658ee5bc4298c393f1dc64L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36736694</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 1ac35a887d70fd94c4324af8a3f3a6ef624e5878</div><div id='time'> Time: 2021-01-20</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/latex2png.py</div><div id='m_class'> M Class Name: Latex</div><div id='n_method'> N Class Name: Latex</div><div id='m_method'> M Method Name: convert_file(4)</div><div id='n_method'> N Method Name: convert_file(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/latex2png.py</div><div id='n_file'> N File Name: dataset/latex2png.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 106</div><BR>