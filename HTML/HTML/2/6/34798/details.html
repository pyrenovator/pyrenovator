<html><h3>Pattern ID :34798
</h3><img src='99780018.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        shape = (t.size,) + start.shape
        expected = np.full(shape, start)

        actual<a id="change"> = </a>geometric_slerp(start=start, end=start, t=t)
        <a id="change">assert_allclose(</a>actual, expected<a id="change">)</a>

        &#47&#47 Check that degenerate and non-degenerate inputs yield the same size
        non_degenerate = geometric_slerp(start=start, end=start[::-1], t=t)
        assert actual.size == non_degenerate.size</code></pre><h3>After Change</h3><pre><code class='java'>
        np.linspace(0, 1, 5),
    ])
    def test_degenerate_input(self, start, t):
        <a id="change">if np.asarray(t).ndim &gt; 1</a>:
            with pytest.raises(ValueError):
                geometric_slerp(start=start, end=start, t=t)
        else:

            shape = (t.size,) + start.shape
            expected = np.full(shape, start)

            actual<a id="change"> = </a>geometric_slerp(start=start, end=start, t=t)
            <a id="change">assert_allclose(</a>actual, expected<a id="change">)</a>

            &#47&#47 Check that degenerate and non-degenerate
            &#47&#47 inputs yield the same size
            non_degenerate = geometric_slerp(start=start, end=start[::-1], t=t)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/1f3ceabb48964d8cec4eca6f7f277f5181e4cdf7#diff-bce7a56a04230af8e7100e3de7b87efc3aa95b3ae7b65ca91a2ccd458665ea2cL366' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99780018</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 1f3ceabb48964d8cec4eca6f7f277f5181e4cdf7</div><div id='time'> Time: 2021-07-25</div><div id='author'> Author: tyler.je.reddy@gmail.com</div><div id='file'> File Name: scipy/spatial/tests/test_slerp.py</div><div id='m_class'> M Class Name: TestGeometricSlerp</div><div id='n_method'> N Class Name: TestGeometricSlerp</div><div id='m_method'> M Method Name: test_degenerate_input(3)</div><div id='n_method'> N Method Name: test_degenerate_input(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scipy/spatial/tests/test_slerp.py</div><div id='n_file'> N File Name: scipy/spatial/tests/test_slerp.py</div><div id='m_start'> M Start Line: 366</div><div id='m_end'> M End Line: 374</div><div id='n_start'> N Start Line: 366</div><div id='n_end'> N End Line: 382</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        normalize=True,
    )
    assert len(loglikelihoods) == len(sequences)
    results<a id="change"> = </a>loglikelihoods_results[test_trans._model_dir][params]
    <a id="change">assert_allclose(</a>loglikelihoods, results<a id="change">, rtol=0.01)</a>


@pytest.mark.parametrize("batch_size, tokens_list, pass_mode", test_params_fasta)
def test_loglikelihoods_type_shape_and_range_fasta(</code></pre><h3>After Change</h3><pre><code class='java'>
        normalize=True,
    )
    assert len(loglikelihoods) == len(sequences)
    <a id="change">if test_trans._model_dir in loglikelihoods_results.keys()</a>:
        results<a id="change"> = </a>loglikelihoods_results[test_trans._model_dir][params]
        <a id="change">assert_allclose(</a>loglikelihoods, results<a id="change">, rtol=0.01)</a>


@pytest.mark.parametrize("batch_size, tokens_list, pass_mode", test_params_fasta)
def test_loglikelihoods_type_shape_and_range_fasta(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchainbio/bio-transformers/commit/032693b08bba38d89ab74004fd86d060f2f593fc#diff-2ac263511ac06c79747f2ba35f60bb908976aac61453a0ed0c8202a217b29cf1L15' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99780022</div><div id='project'> Project Name: deepchainbio/bio-transformers</div><div id='commit'> Commit Name: 032693b08bba38d89ab74004fd86d060f2f593fc</div><div id='time'> Time: 2021-07-16</div><div id='author'> Author: a.delfosse@instadeep.com</div><div id='file'> File Name: biotransformers/tests/test_loglikelihoods.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_loglikelihoods_type_shape_and_range(7)</div><div id='n_method'> N Method Name: test_loglikelihoods_type_shape_and_range(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: biotransformers/tests/test_loglikelihoods.py</div><div id='n_file'> N File Name: biotransformers/tests/test_loglikelihoods.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        normalize=True,
    )
    assert len(loglikelihoods) == len(lengths_sequence_fasta)
    results<a id="change"> = </a>loglikelihoods_fasta_results[test_trans._model_dir]
    <a id="change">assert_allclose(</a>loglikelihoods, results<a id="change">, rtol=0.01)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        normalize=True,
    )
    assert len(loglikelihoods) == len(lengths_sequence_fasta)
    <a id="change">if test_trans._model_dir in loglikelihoods_fasta_results.keys()</a>:
        results<a id="change"> = </a>loglikelihoods_fasta_results[test_trans._model_dir]
        <a id="change">assert_allclose(</a>loglikelihoods, results<a id="change">, rtol=0.01)</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchainbio/bio-transformers/commit/032693b08bba38d89ab74004fd86d060f2f593fc#diff-2ac263511ac06c79747f2ba35f60bb908976aac61453a0ed0c8202a217b29cf1L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99780021</div><div id='project'> Project Name: deepchainbio/bio-transformers</div><div id='commit'> Commit Name: 032693b08bba38d89ab74004fd86d060f2f593fc</div><div id='time'> Time: 2021-07-16</div><div id='author'> Author: a.delfosse@instadeep.com</div><div id='file'> File Name: biotransformers/tests/test_loglikelihoods.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_loglikelihoods_type_shape_and_range_fasta(7)</div><div id='n_method'> N Method Name: test_loglikelihoods_type_shape_and_range_fasta(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: biotransformers/tests/test_loglikelihoods.py</div><div id='n_file'> N File Name: biotransformers/tests/test_loglikelihoods.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 53</div><BR>