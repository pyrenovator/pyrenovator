<html><h3>Pattern ID :6769
</h3><img src='23138529.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    max_displacement = 7.5
    if parameters["patch_size"] is not None:
        &#47&#47 define the control points and swap axes for augmentation
        num_controls<a id="change"> = </a><a id="change">[]</a>
        for _, n in enumerate(parameters["patch_size"]):
            num_controls.append(max(n, 5))  &#47&#47 always at least have 5
        max_displacement = np.divide(num_controls, 10)
        if num_controls[-1] == 1:
            &#47&#47 ensure maximum displacement is never greater than patch size
            max_displacement[-1] = 0.1
        max_displacement<a id="change"> = </a>max_displacement.tolist()

    return RandomElasticDeformation(
        num_control_points=num_controls,</code></pre><h3>After Change</h3><pre><code class='java'>
        if parameters["num_control_points"][-1] == 1:
            &#47&#47 ensure maximum displacement is never greater than patch size
            parameters["max_displacement"][-1] = 0.1
        parameters["max_displacement"]<a id="change"> = parameters["max_displacement"]</a><a id="change">.tolist()</a>

    return RandomElasticDeformation(
        num_control_points=parameters["num_control_points"],
        max_displacement=parameters["max_displacement"],</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mlcommons/gandlf/commit/b03e20cd6c6c5b1bdd52d88e3b6a27c8fb75cd45#diff-7efb57336fc605a2c6916db6bee4869e43b10b74aa7326d0cbd4c1aeaaab9278L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23138529</div><div id='project'> Project Name: mlcommons/gandlf</div><div id='commit'> Commit Name: b03e20cd6c6c5b1bdd52d88e3b6a27c8fb75cd45</div><div id='time'> Time: 2023-02-03</div><div id='author'> Author: sarthak.pati@hotmail.com</div><div id='file'> File Name: GANDLF/data/augmentation/wrap_torchio.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: elastic(1)</div><div id='n_method'> N Method Name: elastic(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: GANDLF/data/augmentation/wrap_torchio.py</div><div id='n_file'> N File Name: GANDLF/data/augmentation/wrap_torchio.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    max_displacement = 7.5
    if parameters["patch_size"] is not None:
        &#47&#47 define the control points and swap axes for augmentation
        num_controls<a id="change"> = </a><a id="change">[]</a>
        for _, n in enumerate(parameters["patch_size"]):
            num_controls.append(max(n, 5))  &#47&#47 always at least have 5
        max_displacement = np.divide(num_controls, 10)
        if num_controls[-1] == 1:
            &#47&#47 ensure maximum displacement is never greater than patch size
            max_displacement[-1] = 0.1
        max_displacement<a id="change"> = </a>max_displacement.tolist()

    return RandomElasticDeformation(
        num_control_points=num_controls,</code></pre><h3>After Change</h3><pre><code class='java'>
        if parameters["num_control_points"][-1] == 1:
            &#47&#47 ensure maximum displacement is never greater than patch size
            parameters["max_displacement"][-1] = 0.1
        parameters["max_displacement"]<a id="change"> = parameters["max_displacement"]</a><a id="change">.tolist()</a>

    return RandomElasticDeformation(
        num_control_points=parameters["num_control_points"],
        max_displacement=parameters["max_displacement"],</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mlcommons/gandlf/commit/b03e20cd6c6c5b1bdd52d88e3b6a27c8fb75cd45#diff-7efb57336fc605a2c6916db6bee4869e43b10b74aa7326d0cbd4c1aeaaab9278L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23138532</div><div id='project'> Project Name: mlcommons/gandlf</div><div id='commit'> Commit Name: b03e20cd6c6c5b1bdd52d88e3b6a27c8fb75cd45</div><div id='time'> Time: 2023-02-03</div><div id='author'> Author: sarthak.pati@hotmail.com</div><div id='file'> File Name: GANDLF/data/augmentation/wrap_torchio.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: elastic(1)</div><div id='n_method'> N Method Name: elastic(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: GANDLF/data/augmentation/wrap_torchio.py</div><div id='n_file'> N File Name: GANDLF/data/augmentation/wrap_torchio.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return all(a is None or b is None or a &lt;= b
                       for a, b in zip(size_fn(idx), max_positions))

    ignored<a id="change"> = </a><a id="change">[]</a>
    itr<a id="change"> = </a>collect_filtered(check_size, indices, ignored)

    for idx in itr:
        if len(ignored) &gt; 0 and raise_exception:</code></pre><h3>After Change</h3><pre><code class='java'>
    
    if isinstance(max_positions, float) or isinstance(max_positions, int):
        if hasattr(dataset, &quotsizes&quot) and isinstance(dataset.sizes, np.ndarray):
            ignored<a id="change"> = indices[dataset.sizes &gt; max_positions]</a><a id="change">.tolist()</a>
            indices = indices[dataset.sizes &lt;= max_positions]
        elif (
                hasattr(dataset, &quotsizes&quot) and
                isinstance(dataset.sizes, list) and</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kssteven418/i-bert/commit/108f94bc2aaf32ba1882dc9fd8f014496fe8f0c5#diff-fb6fe24870121c1c289bc42823d2d2f41d677688ac7e87b657aac0efa5835dc8L127' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23138536</div><div id='project'> Project Name: kssteven418/i-bert</div><div id='commit'> Commit Name: 108f94bc2aaf32ba1882dc9fd8f014496fe8f0c5</div><div id='time'> Time: 2019-08-28</div><div id='author'> Author: namangoyal@devfair0110.h2.fair</div><div id='file'> File Name: fairseq/data/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: filter_by_size(4)</div><div id='n_method'> N Method Name: filter_by_size(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fairseq/data/data_utils.py</div><div id='n_file'> N File Name: fairseq/data/data_utils.py</div><div id='m_start'> M Start Line: 164</div><div id='m_end'> M End Line: 175</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 198</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 remove selected prediction from source list
            del source_object_predictions[0]
            &#47&#47 if any element from remaining source prediction list matches, remove it
            new_source_object_predictions<a id="change">: List[ObjectPrediction] = </a><a id="change">[]</a>
            for candidate_object_prediction in source_object_predictions:
                if self._has_match(selected_object_prediction, candidate_object_prediction):
                    pass
                else:
                    new_source_object_predictions.append(candidate_object_prediction)
            source_object_predictions<a id="change"> = </a>new_source_object_predictions
            &#47&#47 append selected prediction to selected list
            selected_object_predictions.append(selected_object_prediction)
        return selected_object_predictions</code></pre><h3>After Change</h3><pre><code class='java'>
                object_predictions_as_torch, match_threshold=self.match_threshold, match_metric=self.match_metric
            )

        selected_object_predictions<a id="change"> = object_prediction_list[keep.tolist()]</a><a id="change">.tolist()</a>

        return selected_object_predictions

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/dedafd3c8c982c428d3f52efbb3c6ba5460d28d9#diff-847b22323bec0b9159785c4727bb2e0ee4f60c0c9eac81ead36c369e015346ecL104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23138524</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: dedafd3c8c982c428d3f52efbb3c6ba5460d28d9</div><div id='time'> Time: 2022-01-01</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/postprocess/combine.py</div><div id='m_class'> M Class Name: NMSPostprocess</div><div id='n_method'> N Class Name: NMSPostprocess</div><div id='m_method'> M Method Name: __call__(2)</div><div id='n_method'> N Method Name: __call__(2)</div><div id='m_parent_class'> M Parent Class: PostprocessPredictions</div><div id='n_parent_class'> N Parent Class: PostprocessPredictions</div><div id='m_file'> M File Name: sahi/postprocess/combine.py</div><div id='n_file'> N File Name: sahi/postprocess/combine.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 597</div><div id='n_end'> N End Line: 608</div><BR>