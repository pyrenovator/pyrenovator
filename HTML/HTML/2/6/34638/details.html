<html><h3>Pattern ID :34638
</h3><img src='99520446.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        x[:, 3, :, :] *= self.sc_y * self.buffer
        x[:, 4, :, :] *= self.sc_z * self.buffer

        <a id="change">return </a><a id="change">x.squeeze(0</a><a id="change">)</a>


class InverseOffsetRescale(OffsetRescale):
    def __init__(self, scale_x: float, scale_y: float, scale_z: float, scale_phot: float, buffer=1.):</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            squeeze_before_return = False

        x_<a id="change"> = </a><a id="change">x.clone()</a>

        x_[:, 1, :, :] *= self.sc_phot * self.buffer
        x_[:, 2, :, :] *= self.sc_x * self.buffer
        x_[:, 3, :, :] *= self.sc_y * self.buffer
        x_[:, 4, :, :] *= self.sc_z * self.buffer

        if squeeze_before_return:
            return x_.squeeze(0)
        else:
            <a id="change">return </a>x_


class InverseOffsetRescale(OffsetRescale):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/0ae804812c956cfa1d9566935f74705fb6ad94a8#diff-053a599485ae859b909c50675285a0264652ac4dfb411967f52468a7de2530a9L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99520446</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: 0ae804812c956cfa1d9566935f74705fb6ad94a8</div><div id='time'> Time: 2019-05-09</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: deepsmlm/neuralfitter/scale_transform.py</div><div id='m_class'> M Class Name: OffsetRescale</div><div id='n_method'> N Class Name: OffsetRescale</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepsmlm/neuralfitter/scale_transform.py</div><div id='n_file'> N File Name: deepsmlm/neuralfitter/scale_transform.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.model_rank * self.model_batch_size
        )
        *all_X, target = [batch[0][v] for v in self.output_map]
        target = <a id="change">target.squeeze(-1</a><a id="change">)</a>.long()
        <a id="change">return </a>indexes, all_X, target


class Wrapper(BaseWrapper):</code></pre><h3>After Change</h3><pre><code class='java'>
                .clone()
            )

        all_X<a id="change"> = </a>[<a id="change">x.detach().clone()</a> for x in all_X]
        <a id="change">return </a>[indexes, all_X, targets]


class Wrapper(BaseWrapper):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vturrisi/contrastive-learning/commit/e90d420fa19620f36fead1b1a5b4c3478d59dd8a#diff-527ab26b393514123250cc89cb3d79c382aa1876a09d56cea20163b3360660b6L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99520445</div><div id='project'> Project Name: vturrisi/contrastive-learning</div><div id='commit'> Commit Name: e90d420fa19620f36fead1b1a5b4c3478d59dd8a</div><div id='time'> Time: 2021-08-13</div><div id='author'> Author: enrico.fini@gmail.com</div><div id='file'> File Name: solo/methods/dali.py</div><div id='m_class'> M Class Name: PretrainWrapper</div><div id='n_method'> N Class Name: PretrainWrapper</div><div id='m_method'> M Method Name: __next__(1)</div><div id='n_method'> N Method Name: __next__(1)</div><div id='m_parent_class'> M Parent Class: BaseWrapper</div><div id='n_parent_class'> N Parent Class: BaseWrapper</div><div id='m_file'> M File Name: solo/methods/dali.py</div><div id='n_file'> N File Name: solo/methods/dali.py</div><div id='m_start'> M Start Line: 60</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 97</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        x[:, 3, :, :] /= (self.sc_y * self.buffer)
        x[:, 4, :, :] /= (self.sc_z * self.buffer)

        <a id="change">return </a><a id="change">x.squeeze(0</a><a id="change">)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            squeeze_before_return = False

        x_<a id="change"> = </a><a id="change">x.clone()</a>

        x_[:, 1, :, :] /= (self.sc_phot * self.buffer)
        x_[:, 2, :, :] /= (self.sc_x * self.buffer)
        x_[:, 3, :, :] /= (self.sc_y * self.buffer)
        x_[:, 4, :, :] /= (self.sc_z * self.buffer)

        if squeeze_before_return:
            return x_.squeeze(0)
        else:
            <a id="change">return </a>x_
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/0ae804812c956cfa1d9566935f74705fb6ad94a8#diff-053a599485ae859b909c50675285a0264652ac4dfb411967f52468a7de2530a9L50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99520448</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: 0ae804812c956cfa1d9566935f74705fb6ad94a8</div><div id='time'> Time: 2019-05-09</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: deepsmlm/neuralfitter/scale_transform.py</div><div id='m_class'> M Class Name: InverseOffsetRescale</div><div id='n_method'> N Class Name: InverseOffsetRescale</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: OffsetRescale</div><div id='n_parent_class'> N Parent Class: OffsetRescale</div><div id='m_file'> M File Name: deepsmlm/neuralfitter/scale_transform.py</div><div id='n_file'> N File Name: deepsmlm/neuralfitter/scale_transform.py</div><div id='m_start'> M Start Line: 59</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 80</div><BR>