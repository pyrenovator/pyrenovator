<html><h3>Pattern ID :36845
</h3><img src='104990978.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            continue

        if isinstance(x, Expr) and isinstance(y, int):
            <a id="change">if x not in vdims</a>:
                <a id="change">vdims[x] = </a>y
            elif vdims[x] != y:
                return False, vdims
            continue

        if isinstance(y, Expr) and isinstance(x, int):
            if y not in vdims:
                vdims[y] = x
            elif <a id="change">vdims[y]</a> != x:
                return False, vdims
            continue
</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Case 3: ``y`` is an expression.
        if isinstance(y, Expr) and isinstance(x, int):
            <a id="change">equations.add(</a>y - x<a id="change">)</a>
            continue

        &#47&#47 &#47&#47 TODO: Check mathematical equality with sympy.
        if isinstance(x, Expr) and isinstance(y, Expr):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/brendanxwhitaker/asta/commit/6b69ad6c20a32256100e55cf4892d129cae88276#diff-c16aaea90f9e9b50261c039b38c212f4e56ebc6825f1b82d88662e7c6f603dbdL199' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104990978</div><div id='project'> Project Name: brendanxwhitaker/asta</div><div id='commit'> Commit Name: 6b69ad6c20a32256100e55cf4892d129cae88276</div><div id='time'> Time: 2020-03-17</div><div id='author'> Author: 35980963+langfield@users.noreply.github.com</div><div id='file'> File Name: asta/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_equal(3)</div><div id='n_method'> N Method Name: check_equal(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: asta/utils.py</div><div id='n_file'> N File Name: asta/utils.py</div><div id='m_start'> M Start Line: 199</div><div id='m_end'> M End Line: 229</div><div id='n_start'> N Start Line: 214</div><div id='n_end'> N End Line: 238</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return self._metadata

    def add_annotation(self, name: str, annotation: Annotation) -&gt; None:
        <a id="change">if name not in self._annotations</a>:
            <a id="change">self._annotations[name] = </a>[]

        <a id="change">self._annotations[name]</a>.append(annotation)

    def add_prediction(self, name: str, prediction: Annotation) -&gt; None:
        if name not in self._predictions:</code></pre><h3>After Change</h3><pre><code class='java'>
        return self._metadata

    def add_annotation(self, name: str, annotation: Annotation):
        <a id="change">self.annotations.add(name=name, annotation=annotation)</a>

    def add_prediction(self, name: str, prediction: Annotation):
        self.predictions.add(name=name, annotation=prediction)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/christophalt/pytorch-ie/commit/d0726ff1e3b160d5c89b2d5c62c9c7de92ae258f#diff-6bf02a384b92d942a3c4cd0b9feaaba79808e0c64499ddec8c11730a28163b4cL172' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104990914</div><div id='project'> Project Name: christophalt/pytorch-ie</div><div id='commit'> Commit Name: d0726ff1e3b160d5c89b2d5c62c9c7de92ae258f</div><div id='time'> Time: 2022-03-04</div><div id='author'> Author: ArneBinder@users.noreply.github.com</div><div id='file'> File Name: src/pytorch_ie/data/document.py</div><div id='m_class'> M Class Name: Document</div><div id='n_method'> N Class Name: Document</div><div id='m_method'> M Method Name: add_annotation(3)</div><div id='n_method'> N Method Name: add_annotation(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pytorch_ie/data/document.py</div><div id='n_file'> N File Name: src/pytorch_ie/data/document.py</div><div id='m_start'> M Start Line: 173</div><div id='m_end'> M End Line: 176</div><div id='n_start'> N Start Line: 248</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._annotations[name].append(annotation)

    def add_prediction(self, name: str, prediction: Annotation) -&gt; None:
        <a id="change">if name not in self._predictions</a>:
            <a id="change">self._predictions[name] = </a>[]

        <a id="change">self._predictions[name]</a>.append(prediction)

    &#47&#47 TODO: rework all getters for annotations (e.g. remove type: ignore)
    def annotations(self, name: str) -&gt; Optional[AnnotationLayer]:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.annotations.add(name=name, annotation=annotation)

    def add_prediction(self, name: str, prediction: Annotation):
        <a id="change">self.predictions.add(name=name, annotation=prediction)</a>

    def clear_predictions(self, name: str) -&gt; None:
        &#47&#47 TODO: should we respect the base_type?
        for base_type, collection in self.predictions.typed_collections:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/christophalt/pytorch-ie/commit/d0726ff1e3b160d5c89b2d5c62c9c7de92ae258f#diff-6bf02a384b92d942a3c4cd0b9feaaba79808e0c64499ddec8c11730a28163b4cL178' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104990931</div><div id='project'> Project Name: christophalt/pytorch-ie</div><div id='commit'> Commit Name: d0726ff1e3b160d5c89b2d5c62c9c7de92ae258f</div><div id='time'> Time: 2022-03-04</div><div id='author'> Author: ArneBinder@users.noreply.github.com</div><div id='file'> File Name: src/pytorch_ie/data/document.py</div><div id='m_class'> M Class Name: Document</div><div id='n_method'> N Class Name: Document</div><div id='m_method'> M Method Name: add_prediction(3)</div><div id='n_method'> N Method Name: add_prediction(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pytorch_ie/data/document.py</div><div id='n_file'> N File Name: src/pytorch_ie/data/document.py</div><div id='m_start'> M Start Line: 179</div><div id='m_end'> M End Line: 182</div><div id='n_start'> N Start Line: 251</div><div id='n_end'> N End Line: 251</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            continue

        if isinstance(x, Expr) and isinstance(y, int):
            <a id="change">if x not in vdims</a>:
                <a id="change">vdims[x] = </a>y
            elif vdims[x] != y:
                return False, vdims
            continue

        if isinstance(y, Expr) and isinstance(x, int):
            if y not in vdims:
                vdims[y] = x
            elif vdims[y] != x:
                return False, vdims
            continue

        &#47&#47 &#47&#47 TODO: Check mathematical equality with sympy.
        if isinstance(x, Expr) and isinstance(y, Expr):
            if x in vdims and y in vdims and vdims[x] != vdims[y]:
                return False, vdims
            if x in vdims and y not in vdims:
                vdims[y] = <a id="change">vdims[x]</a>
            elif y in vdims and x not in vdims:
                vdims[x] = vdims[y]
            continue
</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Case 3: ``y`` is an expression.
        if isinstance(y, Expr) and isinstance(x, int):
            <a id="change">equations.add(</a>y - x<a id="change">)</a>
            continue

        &#47&#47 &#47&#47 TODO: Check mathematical equality with sympy.
        if isinstance(x, Expr) and isinstance(y, Expr):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/brendanxwhitaker/asta/commit/6b69ad6c20a32256100e55cf4892d129cae88276#diff-c16aaea90f9e9b50261c039b38c212f4e56ebc6825f1b82d88662e7c6f603dbdL184' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104990976</div><div id='project'> Project Name: brendanxwhitaker/asta</div><div id='commit'> Commit Name: 6b69ad6c20a32256100e55cf4892d129cae88276</div><div id='time'> Time: 2020-03-17</div><div id='author'> Author: 35980963+langfield@users.noreply.github.com</div><div id='file'> File Name: asta/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_equal(3)</div><div id='n_method'> N Method Name: check_equal(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: asta/utils.py</div><div id='n_file'> N File Name: asta/utils.py</div><div id='m_start'> M Start Line: 199</div><div id='m_end'> M End Line: 229</div><div id='n_start'> N Start Line: 214</div><div id='n_end'> N End Line: 238</div><BR>