<html><h3>Pattern ID :17760
</h3><img src='58491684.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            def ppr(x):
                print_topk(x, text)

            <a id="change">f.search_lines(
                lines=[
                    text,
                ],
                line_format=&quottext&quot,
                on_done=ppr,
                top_k=top_k,
            )</a>


def query_restful():
    f = Flow().load_config(&quotflows/query.yml&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
                print_topk(x, text)

            lines = [text]
            <a id="change">with </a><a id="change">TimeContext(f&quotQPS: querying {len(lines)}&quot, logger=f.logger):
                </a><a id="change">f.search_lines(
                    lines=lines,
                    line_format=&quottext&quot,
                    on_done=ppr,
                    top_k=top_k,
                )</a>


def query_restful():
    f = Flow().load_config(&quotflows/query.yml&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/dc36fee6c43ef11c33354b58c79af6ce11fae6ff#diff-44b0c66c8c1caaf228c1371a0d640c09059dcdf9e6d941ae255663a68cf81626L82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58491684</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: dc36fee6c43ef11c33354b58c79af6ce11fae6ff</div><div id='time'> Time: 2021-05-10</div><div id='author'> Author: 51201318+slettner@users.noreply.github.com</div><div id='file'> File Name: wikipedia-sentences-incremental/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: query(1)</div><div id='n_method'> N Method Name: query(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wikipedia-sentences-incremental/app.py</div><div id='n_file'> N File Name: wikipedia-sentences-incremental/app.py</div><div id='m_start'> M Start Line: 82</div><div id='m_end'> M End Line: 89</div><div id='n_start'> N Start Line: 84</div><div id='n_end'> N End Line: 100</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            def ppr(x):
                print_topk(x, text)

            <a id="change">f.search_lines(
                lines=[
                    text,
                ],
                line_format=&quottext&quot,
                on_done=ppr,
                top_k=top_k,
            )</a>


def query_restful():
    f = Flow().load_config("flows/query.yml")</code></pre><h3>After Change</h3><pre><code class='java'>
                print_topk(x, text)

            lines = [text]
            <a id="change">with </a><a id="change">TimeContext(f&quotQPS: querying {len(lines)}&quot, logger=f.logger):
                </a><a id="change">f.search_lines(lines=lines, line_format=&quottext&quot, on_done=ppr, top_k=top_k)</a>


def query_restful():
    f = Flow().load_config(&quotflows/query.yml&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/dc36fee6c43ef11c33354b58c79af6ce11fae6ff#diff-def4447edc2667e78227e0f5fee5b0c63664208309581a18e50eb887dee324b7L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58491685</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: dc36fee6c43ef11c33354b58c79af6ce11fae6ff</div><div id='time'> Time: 2021-05-10</div><div id='author'> Author: 51201318+slettner@users.noreply.github.com</div><div id='file'> File Name: wikipedia-sentences/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: query(1)</div><div id='n_method'> N Method Name: query(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wikipedia-sentences/app.py</div><div id='n_file'> N File Name: wikipedia-sentences/app.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 81</div><div id='n_start'> N Start Line: 70</div><div id='n_end'> N End Line: 81</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            def ppr(x):
                print_topk(x, text)

            <a id="change">f.search_lines(lines=[text, ], line_format=&quottext&quot, on_done=ppr, top_k=top_k)</a>


def query_restful():
    f = Flow().load_config("flows/query.yml")</code></pre><h3>After Change</h3><pre><code class='java'>
            if not text:
                break

            <a id="change">with </a><a id="change">TimeContext(f&quotQPS: query with 1&quot, logger=f.logger):
                </a><a id="change">f.search_lines(lines=[text, ], line_format=&quottext&quot, top_k=top_k)</a>


def query_restful():
    f = Flow().load_config("flows/query.yml")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/460a2d0da44fe733db094cfa0f4abb8cdbc52a34#diff-ed63f73b16558b812e1b39f90f1cf3754c75f1c1218f005ef925b0830a93548aL60' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58491683</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: 460a2d0da44fe733db094cfa0f4abb8cdbc52a34</div><div id='time'> Time: 2021-05-06</div><div id='author'> Author: tobias.jacobowitz@jina.ai</div><div id='file'> File Name: chinese-text-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: query(1)</div><div id='n_method'> N Method Name: query(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: chinese-text-search/app.py</div><div id='n_file'> N File Name: chinese-text-search/app.py</div><div id='m_start'> M Start Line: 71</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 72</div><BR>