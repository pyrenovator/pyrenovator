<html><h3>Pattern ID :15638
</h3><img src='52975453.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        random.seed(self.random_seed)

    def configure_optimizers(self):
        <a id="change">return </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=self.learning_rate)</a>

    def _create_windows(self, batch, step):
        &#47&#47 Parse common data
        window_size = self.input_size + self.h</code></pre><h3>After Change</h3><pre><code class='java'>
        random.seed(self.random_seed)

    def configure_optimizers(self):
        optimizer<a id="change"> = </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=self.learning_rate)</a>
        scheduler = {
            "scheduler": torch.optim.lr_scheduler.StepLR(
                optimizer=optimizer, step_size=self.lr_decay_steps, gamma=0.5
            ),</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nixtla/neuralforecast/commit/e3dd1690cb7e6fc84a4cf89bacc0762f209d1b0f#diff-b8c7e7a9ac6c26769b83d2ce9335c094faa34f8dd37f6552c7fe2da7b8042294L106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52975453</div><div id='project'> Project Name: nixtla/neuralforecast</div><div id='commit'> Commit Name: e3dd1690cb7e6fc84a4cf89bacc0762f209d1b0f</div><div id='time'> Time: 2022-12-28</div><div id='author'> Author: cristiani.challu@gmail.com</div><div id='file'> File Name: neuralforecast/common/_base_windows.py</div><div id='m_class'> M Class Name: BaseWindows</div><div id='n_method'> N Class Name: BaseWindows</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: neuralforecast/common/_base_windows.py</div><div id='n_file'> N File Name: neuralforecast/common/_base_windows.py</div><div id='m_start'> M Start Line: 106</div><div id='m_end'> M End Line: 106</div><div id='n_start'> N Start Line: 134</div><div id='n_end'> N End Line: 142</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for k,v in kwargs.items():
            setattr(self,k,v)
        if self.type==&quotAdam&quot:
            <a id="change">return </a><a id="change">torch.optim.Adam(self.classifier.parameters()</a>,self.learning_rate<a id="change">)</a>
        if self.type==&quotASGD&quot:
            return torch.optim.ASGD(self.classifier.parameters(), self.learning_rate)
        if self.type==&quotRMSprop&quot:
            return torch.optim.RMSprop(self.classifier.parameters(), self.learning_rate)</code></pre><h3>After Change</h3><pre><code class='java'>
        for k,v in kwargs.items():
            setattr(self,k,v)
        if self.type==&quotAdam&quot:
            self.optimizer<a id="change">=</a><a id="change">torch.optim.Adam(self.classifier.parameters()</a>,self.learning_rate<a id="change">)</a>
        if self.type==&quotASGD&quot:
            self.optimizer=torch.optim.ASGD(self.classifier.parameters(), self.learning_rate)
        if self.type==&quotRMSprop&quot:
            self.optimizer=torch.optim.RMSprop(self.classifier.parameters(), self.learning_rate)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/radtorch/radtorch/commit/732971a23863c8c51aa9387d7d92acda00924e26#diff-203dbc007b1e7a27456d652e0fd87290400c8cf18342d22638277a19a4266119L67' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52975456</div><div id='project'> Project Name: radtorch/radtorch</div><div id='commit'> Commit Name: 732971a23863c8c51aa9387d7d92acda00924e26</div><div id='time'> Time: 2020-04-06</div><div id='author'> Author: elbanan@users.noreply.github.com</div><div id='file'> File Name: radtorch/test.py</div><div id='m_class'> M Class Name: Optimizer</div><div id='n_method'> N Class Name: Optimizer</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: radtorch/test.py</div><div id='n_file'> N File Name: radtorch/test.py</div><div id='m_start'> M Start Line: 71</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def configure_optimizers(self):
        lr = self.hparams.learning_rate
        <a id="change">return </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=lr)</a>

    def log_images(self, batch, **kwargs):
        log = dict()
        x, _ = batch</code></pre><h3>After Change</h3><pre><code class='java'>

    def configure_optimizers(self):
        lr = self.hparams.learning_rate
        opt<a id="change"> = </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">,lr=lr, betas=(0.5, 0.9))</a>
        sched = torch.optim.lr_scheduler.ExponentialLR(optimizer = opt, gamma = self.args.lr_decay_rate)
        return [opt], [sched]

    def log_images(self, batch, **kwargs):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/e75506c00b56b972bb1aca3969c2fd96f66b4e6a#diff-b67cd188cd3cf1c52f61d59aed8f2b04c7f9e750598da4fff7ce728c3f8e3c30L148' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52975458</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: e75506c00b56b972bb1aca3969c2fd96f66b4e6a</div><div id='time'> Time: 2021-07-14</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: pl_dalle/models/vqvae2.py</div><div id='m_class'> M Class Name: VQVAE2</div><div id='n_method'> N Class Name: VQVAE2</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: pl_dalle/models/vqvae2.py</div><div id='n_file'> N File Name: pl_dalle/models/vqvae2.py</div><div id='m_start'> M Start Line: 150</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 152</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if isinstance(self.optimizer, (tuple, list)):
            return self.optimizer[0](self.parameters(), **self.optimizer[1])
        elif self.optimizer == &quotadam&quot:
            <a id="change">return </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=0.001)</a>
        elif self.optimizer == &quotsgd&quot:
            return torch.optim.SGD(self.parameters(), lr=0.01, weight_decay=5e-4)
        elif isinstance(self.optimizer, (torch.optim.Adam, torch.optim.SGD)):
            return self.optimizer</code></pre><h3>After Change</h3><pre><code class='java'>
                )
                d[&quotscheduler&quot] = scheduler
        elif self.optimizer == &quotadam&quot:
            opt<a id="change"> = </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=0.001)</a>
        elif self.optimizer == &quotsgd&quot:
            opt =  torch.optim.SGD(self.parameters(), lr=0.01, weight_decay=5e-4)
        elif isinstance(self.optimizer, (torch.optim.Adam, torch.optim.SGD)):
            opt =  self.optimizer</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zj-zhang/amber/commit/eb350f428561bccc7c9548f367ee9d92afeff87e#diff-0f19f727d83cebec9f9f82befdb5c669c6305a2bab84428c0fe447281b8d49ddL139' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52975459</div><div id='project'> Project Name: zj-zhang/amber</div><div id='commit'> Commit Name: eb350f428561bccc7c9548f367ee9d92afeff87e</div><div id='time'> Time: 2022-11-23</div><div id='author'> Author: zj.z@ucla.edu</div><div id='file'> File Name: amber/modeler/base.py</div><div id='m_class'> M Class Name: BaseTorchModel</div><div id='n_method'> N Class Name: BaseTorchModel</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: LightningModule</div><div id='n_parent_class'> N Parent Class: LightningModule</div><div id='m_file'> M File Name: amber/modeler/base.py</div><div id='n_file'> N File Name: amber/modeler/base.py</div><div id='m_start'> M Start Line: 145</div><div id='m_end'> M End Line: 153</div><div id='n_start'> N Start Line: 144</div><div id='n_end'> N End Line: 168</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        random.seed(self.random_seed)

    def configure_optimizers(self):
        <a id="change">return </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=self.learning_rate)</a>

    def _normalization(self, batch, val_size=0, test_size=0):

        temporal = batch["temporal"]  &#47&#47 B, C, T</code></pre><h3>After Change</h3><pre><code class='java'>
        random.seed(self.random_seed)

    def configure_optimizers(self):
        optimizer<a id="change"> = </a><a id="change">torch.optim.Adam(self.parameters()</a><a id="change">, lr=self.learning_rate)</a>
        scheduler = {
            "scheduler": torch.optim.lr_scheduler.StepLR(
                optimizer=optimizer, step_size=self.lr_decay_steps, gamma=0.5
            ),</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nixtla/neuralforecast/commit/e3dd1690cb7e6fc84a4cf89bacc0762f209d1b0f#diff-0cdc48ec55ce1c327b6316201813cea3fd20ef83eed8571090ee63e103951c18L98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52975462</div><div id='project'> Project Name: nixtla/neuralforecast</div><div id='commit'> Commit Name: e3dd1690cb7e6fc84a4cf89bacc0762f209d1b0f</div><div id='time'> Time: 2022-12-28</div><div id='author'> Author: cristiani.challu@gmail.com</div><div id='file'> File Name: neuralforecast/common/_base_recurrent.py</div><div id='m_class'> M Class Name: BaseRecurrent</div><div id='n_method'> N Class Name: BaseRecurrent</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: neuralforecast/common/_base_recurrent.py</div><div id='n_file'> N File Name: neuralforecast/common/_base_recurrent.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 99</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 132</div><BR>