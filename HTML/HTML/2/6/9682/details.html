<html><h3>Pattern ID :9682
</h3><img src='34879060.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.initialize_positions(poker_position, gripper_position)

        &#47&#47 align
        poke_vector = <a id="change">v.Vector(</a>self.prev_poker_position, goal_position, self.env<a id="change">)</a>
        aim_vector  = v.Vector(self.prev_gripper_position, self.prev_poker_position, self.env)

        &#47&#47 align = poke_vector.get_align(aim_vector)
        align = np.dot(self.set_vector_len(poke_vector.vector, 1), self.set_vector_len(aim_vector.vector, 1))</code></pre><h3>After Change</h3><pre><code class='java'>

        self.finish(observation, poker_position, gripper_position, align, len, reward)

        <a id="change">self.env.p.addUserDebugText(</a>"Reward: " + str(round(self.env.episode_reward, 7)), <a id="change">[0.7</a>,<a id="change">0.7</a>,<a id="change">0.7</a>]<a id="change">, lifeTime=0.1)</a>
        return reward

    def init(self, observation):
        &#47&#47 load positions</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/2f1c0aa857f09b4521dec2c7afbd652b3ac90334#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL926' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34879060</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: 2f1c0aa857f09b4521dec2c7afbd652b3ac90334</div><div id='time'> Time: 2021-08-17</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: compute(2)</div><div id='n_method'> N Method Name: compute(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 926</div><div id='m_end'> M End Line: 976</div><div id='n_start'> N Start Line: 926</div><div id='n_end'> N End Line: 958</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        gripper_position = self.get_accurate_gripper_position(observation[6:9])


        poke_vector = <a id="change">v.Vector(</a>poker_position, goal_position, self.env.p<a id="change">)</a>
        poke_vector.set_len(-0.2)

        poker_in_XY = poker_position + poke_vector.vector
</code></pre><h3>After Change</h3><pre><code class='java'>


        if self.touched:
            <a id="change">self.env.p.addUserDebugText(</a>"touched", <a id="change">[-0.3</a>,<a id="change">0.3</a>,<a id="change">0.3</a>]<a id="change">, lifeTime=0.1, textColorRGB=[0,0,125])</a>

        if is_aimed or self.touched:
            owner = 1 &#47&#47 poke
        elif not is_aimed and not self.touched:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/67718bbfd338398527332fd155399c5d57ada6c6#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL1257' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34879063</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: 67718bbfd338398527332fd155399c5d57ada6c6</div><div id='time'> Time: 2021-08-23</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: decide(2)</div><div id='n_method'> N Method Name: decide(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 1259</div><div id='m_end'> M End Line: 1280</div><div id='n_start'> N Start Line: 1038</div><div id='n_end'> N End Line: 1055</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.last_len = len

        if len &lt; 0.1:  
            poke_vector = <a id="change">v.Vector(</a>self.prev_poker_position, observation[0:3], self.env<a id="change">)</a>    
            real_vector = v.Vector(self.prev_gripper_position, gripper_position, self.env)
            align = np.dot(self.set_vector_len(poke_vector.vector, 1), self.set_vector_len(real_vector.vector, 1))
            reward = align</code></pre><h3>After Change</h3><pre><code class='java'>

        self.finish(observation, poker_position, gripper_position, len, reward)

        <a id="change">self.env.p.addUserDebugText(</a>"Reward: " + str(round(self.env.episode_reward, 7)), <a id="change">[0.7</a>,<a id="change">0.7</a>,<a id="change">0.7</a>]<a id="change">, lifeTime=0.1)</a>
        return reward

    def init(self, observation):
        &#47&#47 load positions</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/c848e8553244882cac642a44706273bda9e0fc94#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL1100' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34879056</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: c848e8553244882cac642a44706273bda9e0fc94</div><div id='time'> Time: 2021-08-19</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: compute(2)</div><div id='n_method'> N Method Name: compute(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 1109</div><div id='m_end'> M End Line: 1134</div><div id='n_start'> N Start Line: 1105</div><div id='n_end'> N End Line: 1146</div><BR>