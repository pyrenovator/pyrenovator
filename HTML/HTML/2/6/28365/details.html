<html><h3>Pattern ID :28365
</h3><img src='83713149.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    temp_file = output_file + &quot.tmp&quot
    with open(temp_file, &quotw&quot) as fout:
        fout.write(<a id="change">open(output_file).read().replace(&quot\r&quot</a>, <a id="change">&quot &quot</a><a id="change">)</a>)  &#47&#47 delete \r

    &#47&#47print(os.path.abspath(__file__))
    cmd = r"cat %s | node %s %s &gt; %s " % (temp_file, os.path.join(os.path.dirname(__file__), &quotpreprocess_latex.js&quot), parameters.mode, output_file)</code></pre><h3>After Change</h3><pre><code class='java'>
                tokens_out = []
                for token in tokens:
                    tokens_out.append(token)
                <a id="change">if len(tokens_out) &gt; 5</a>:
                    post = &quot &quot.join(tokens_out)
                    &#47&#47 use \sin instead of \operatorname{sin}
                    names = [&quot\\&quot+x.replace(&quot &quot, &quot&quot) for x in re.findall(ops, post)]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/97df469003d35553b53b408fe18d7ce676eb136c#diff-21c709fda31261dd4da3a77d59ccb4e5e369311453122dd5afdcb48669923c0dL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83713149</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 97df469003d35553b53b408fe18d7ce676eb136c</div><div id='time'> Time: 2021-02-18</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/preprocessing/preprocess_formulas.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/preprocessing/preprocess_formulas.py</div><div id='n_file'> N File Name: dataset/preprocessing/preprocess_formulas.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    for i in range(len(matches)):
        for s in sub:
            matches[i] = re.sub(s, &quot&quot, matches[i])
        matches[i] = <a id="change">matches[i].replace(&quot\n&quot, &quot&quot).replace(r&quot&amp;&quot, r&quot&&quot).replace(r&quot&gt;&quot</a>, <a id="change">r&quot&gt;&quot</a><a id="change">)</a>.replace(r&quot&lt;&quot, r&quot&lt;&quot)
        matches[i] = re.sub(r&quot(\^|\_|\\vec\ |\\sqrt\ )([a-zA-Z0-9])&quot, r&quot\1{\2}&quot, matches[i])
    return matches
</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 matches[i] = re.sub(r&quot(\^|\_|\\vec\ |\\sqrt\ )([a-zA-Z0-9]|\\(?:[a-zA-Z])+)&quot, r&quot\1{\2}&quot, matches[i]) &#47&#47 not complete yet. failure regression: x_\vec p
        matches[i] = re.sub(whitespace, &quot&quot, matches[i])

    matches = [m for m in matches if <a id="change">len(m) &gt;= min_chars</a>]
    return list(set(matches))

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/37c16475f37e15ec635a28e530c14fcbc099dd41#diff-759a72c3e89c0ebcf03b8c40814fac0019c40b9c0f2b44070dcc08f712c093c7L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83713145</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 37c16475f37e15ec635a28e530c14fcbc099dd41</div><div id='time'> Time: 2020-12-12</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: extract_latex.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: clean_matches(2)</div><div id='n_method'> N Method Name: clean_matches(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: extract_latex.py</div><div id='n_file'> N File Name: extract_latex.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 16</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 25</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        d = id2sent[ins["id"]]
        d["relations"] = list(map(lambda x: id2rel[x], rels))
        for word in ["head", "tail"]:
            d[word] = <a id="change">d[word].replace(" "</a>, <a id="change">""</a><a id="change">)</a>
            d["text"] = d["text"].replace(" ", "")
            positions = rtp.find_all_positions(d["text"], d[word])
            if len(positions) == 0:
                print("warn! data skipped", d)</code></pre><h3>After Change</h3><pre><code class='java'>
            continue
        d[&quotentities&quot].append(["PER", *positions[0]])  &#47&#47 only take the first occurrence
        positions = find_all_positions(sent_text, id2sent[ins["id"]]["tail"])
        <a id="change">if len(positions) == 0</a>:
            print("warn! data skipped", d)
            continue
        d[&quotentities&quot].append(["PER", *positions[0]])   &#47&#47 only take the first occurrence</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spico197/rex/commit/6c064639242c6f66893a4319081b7339ff6a43da#diff-c836c082f1d772bb00534f28860dfe7297b0b0c2d853e803819eea4ae04114c2L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83713147</div><div id='project'> Project Name: spico197/rex</div><div id='commit'> Commit Name: 6c064639242c6f66893a4319081b7339ff6a43da</div><div id='time'> Time: 2021-05-06</div><div id='author'> Author: spico1026@gmail.com</div><div id='file'> File Name: data/IPRE/convert.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: convert_data(3)</div><div id='n_method'> N Method Name: convert_data(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data/IPRE/convert.py</div><div id='n_file'> N File Name: data/IPRE/convert.py</div><div id='m_start'> M Start Line: 10</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for i in range(batch_size):
            mcfile = self.src_mc_files[i]
            filename = basename(mcfile).split(&quot-&quot)[-1]
            wavfile_path = join(self.src_wav_dir, <a id="change">filename.replace(&quotnpy&quot</a>, <a id="change">&quotwav&quot</a><a id="change">)</a>)

            batch_data.append(wavfile_path)
</code></pre><h3>After Change</h3><pre><code class='java'>
                if num == trg_num:
                    batch_data.append(wav_file)
                    break
                elif <a id="change">j == len(self.trg_wav_files) - 1</a>:
                    batch_size += 1

            i += 1</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/samuelbroughton/stargan-voice-conversion-2/commit/26484a2db5a00247535c7ec7c1f97c10e711e022#diff-db4ed1f953cd7f07c37dfe2d725ac7f8ccae3fbb822cebd01662682f77e6ffe7L45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83713169</div><div id='project'> Project Name: samuelbroughton/stargan-voice-conversion-2</div><div id='commit'> Commit Name: 26484a2db5a00247535c7ec7c1f97c10e711e022</div><div id='time'> Time: 2020-09-01</div><div id='author'> Author: broughtonjsam@gmail.com</div><div id='file'> File Name: convert.py</div><div id='m_class'> M Class Name: ConvertDataset</div><div id='n_method'> N Class Name: ConvertDataset</div><div id='m_method'> M Method Name: get_batch_test_data(2)</div><div id='n_method'> N Method Name: get_batch_test_data(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: convert.py</div><div id='n_file'> N File Name: convert.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 71</div><BR>