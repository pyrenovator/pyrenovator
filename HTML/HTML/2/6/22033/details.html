<html><h3>Pattern ID :22033
</h3><img src='69875162.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ):
        sample_labels.pop("detections", None)

    if <a id="change">(
        "keypoints" in sample_labels
        and not sample_labels["keypoints"].keypoints
    )</a>:
        sample_labels.pop("keypoints", None)

    if (</code></pre><h3>After Change</h3><pre><code class='java'>
    _remove_empty_label_type(sample_labels, "keypoints", "keypoints")
    if seg_type == SegmentationType.POLYLINE:
        _remove_empty_label_type(sample_labels, "segmentations", "polylines")
    elif <a id="change">seg_type == SegmentationType.INSTANCE</a>:
        _remove_empty_label_type(sample_labels, "segmentations", "detections")
    else:
        <a id="change">raise </a><a id="change">NotImplementedError(
            "Loading semantic segmentations is not yet supported"</a><a id="change">
        )</a>

    return sample_labels

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/fb933f832a37b0ddfea9c7344dccb0201aa4cb0e#diff-ebd0a4b351c8b6c0c60eab6071f0d5a4e28287c40f0e3612d9236c9228c1f40aL1794' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69875162</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: fb933f832a37b0ddfea9c7344dccb0201aa4cb0e</div><div id='time'> Time: 2022-05-24</div><div id='author'> Author: ehofesmann@gmail.com</div><div id='file'> File Name: fiftyone/utils/openlabel.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _remove_empty_labels(2)</div><div id='n_method'> N Method Name: _remove_empty_labels(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/utils/openlabel.py</div><div id='n_file'> N File Name: fiftyone/utils/openlabel.py</div><div id='m_start'> M Start Line: 1794</div><div id='m_end'> M End Line: 1810</div><div id='n_start'> N Start Line: 1831</div><div id='n_end'> N End Line: 1841</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            logger.info(info_str)
            logger.info(&quot-&quot * 89)

        if <a id="change">args.steps &gt; 0 and steps &gt;= args.steps</a>:
            logger.info(
                f"Finished all steps. Total steps:{steps}, rank:{args.local_rank}"
            )</code></pre><h3>After Change</h3><pre><code class='java'>
                        logger.info(
                            f"breaking early since can&quott complete a full step with {args.step_every} gradient accumulations.")
                        break
                elif <a id="change">SMALLER_LAST_BATCH_POLICY == SmallerLastBatchPolicy.ProportionalStep</a>:
                    logger.info(
                        f"Got reminder of {reminder_to_drop} micro batches. Will take proportional {reminder_to_drop/args.step_every} last step")
                else:
                    <a id="change">raise </a><a id="change">NotImplementedError(f"Unknown SMALLER_LAST_BATCH_POLICY, {SMALLER_LAST_BATCH_POLICY}"</a><a id="change">)</a>
        else:
            train_batches_limit_to_use = train_batches_limit

        epoch_start_time = time.time()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/saareliad/ftpipe/commit/8e69008ad7d0abb9b9773cc2da632e24de50270b#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69875165</div><div id='project'> Project Name: saareliad/ftpipe</div><div id='commit'> Commit Name: 8e69008ad7d0abb9b9773cc2da632e24de50270b</div><div id='time'> Time: 2020-09-10</div><div id='author'> Author: saareliad@campus.technion.ac.il</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: training_loop(11)</div><div id='n_method'> N Method Name: training_loop(11)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 128</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 162</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
  array_types = []
  other_types = []
  for leaf in leaf_types:
    if <a id="change">(isinstance(leaf, type) and
        issubclass(leaf, array_dataclass.DataclassArray))</a>:
      dc_types.append(leaf)
    elif isinstance(leaf, array_types_lib.ArrayAliasMeta):
      array_types.append(leaf)</code></pre><h3>After Change</h3><pre><code class='java'>
    if len(dc_types) &gt; 1:
      &#47&#47 Validate the inner shape
      common_shapes = {x.shape for x in dc_types}
      <a id="change">if len(common_shapes) != 1</a>:
        <a id="change">raise </a><a id="change">NotImplementedError(
            f&quot{hint} mix dataclass with different inner shape. Please open an &quot
            &quotissue if you need this feature.&quot</a><a id="change">)</a>
      (common_shape,) = common_shapes
      return field_utils.DataclassWithShape(
          cls=array_dataclass.DataclassArray,
          shape=common_shape,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/dataclass_array/commit/7feefc175ed0ee82b78ab8fc23e8901d8746b91d#diff-9caf9fc0eaf1b865530ad4f692976cc43a109651ce9610ed3f8d2d48108d9870L77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69875156</div><div id='project'> Project Name: google-research/dataclass_array</div><div id='commit'> Commit Name: 7feefc175ed0ee82b78ab8fc23e8901d8746b91d</div><div id='time'> Time: 2022-08-11</div><div id='author'> Author: epot@google.com</div><div id='file'> File Name: dataclass_array/type_parsing.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_array_type(1)</div><div id='n_method'> N Method Name: get_array_type(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataclass_array/type_parsing.py</div><div id='n_file'> N File Name: dataclass_array/type_parsing.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 128</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 138</div><BR>