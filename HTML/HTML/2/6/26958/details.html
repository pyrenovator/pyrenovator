<html><h3>Pattern ID :26958
</h3><img src='80341805.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            phones = phones.replace("ˌ", "").replace("ː", "").replace("ˑ", "").replace("˘", "").replace("|", "").replace("‖", "")
        if not self.use_word_boundaries:
            phones = phones.replace(" ", "")
        <a id="change">return </a>phones + "&#47&#47"


def english_text_expansion(text):</code></pre><h3>After Change</h3><pre><code class='java'>
        if not self.use_word_boundaries:
            phones = phones.replace(" ", "")
        else:
            phones<a id="change"> = </a><a id="change">re.sub(r"\s+"</a>, <a id="change">" "</a>, phones<a id="change">)</a>
        if include_eos_symbol:
            phones += "&#47&#47"
        <a id="change">return </a>phones


def english_text_expansion(text):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/d5ac9de46dc4d554e12742d8ed42df7870187c8a#diff-0bca1916590cbfc49e3aea103c45504e4ce48b822cfd5c0dcb9f2b83a6366f45L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80341805</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: d5ac9de46dc4d554e12742d8ed42df7870187c8a</div><div id='time'> Time: 2021-06-06</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: PreprocessingForTTS/ProcessText.py</div><div id='m_class'> M Class Name: TextFrontend</div><div id='n_method'> N Class Name: TextFrontend</div><div id='m_method'> M Method Name: get_phone_string(3)</div><div id='n_method'> N Method Name: get_phone_string(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: PreprocessingForTTS/ProcessText.py</div><div id='n_file'> N File Name: PreprocessingForTTS/ProcessText.py</div><div id='m_start'> M Start Line: 136</div><div id='m_end'> M End Line: 141</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 126</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 fix spaces in contractions
    updated_sent = re.sub(r"([a-zA-Z0-9])\s+(\*?n&quott)", r"\1\2", updated_sent)

    <a id="change">return </a>updated_sent
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 fix spaces in contractions
    updated_sent = re.sub(r"([a-zA-Z0-9])\s+(\*?n&quott)", r"\1\2", updated_sent)
    &#47&#47 remove ``
    updated_sent<a id="change"> = </a><a id="change">re.sub(r"\s*``\s*"</a>, <a id="change">" "</a>, updated_sent<a id="change">)</a>

    <a id="change">return </a>updated_sent.strip()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/chanind/frame-semantic-transformer/commit/726126ddc977212a52963566de8fada7b48e188d#diff-f44ef801ec2cb01354e0c3106ab8c5cdfa81148596e1abb715b7ca0a7a170d7aL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80341807</div><div id='project'> Project Name: chanind/frame-semantic-transformer</div><div id='commit'> Commit Name: 726126ddc977212a52963566de8fada7b48e188d</div><div id='time'> Time: 2022-05-09</div><div id='author'> Author: chanindav@gmail.com</div><div id='file'> File Name: frame_semantic_transformer/data/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: standardize_punct(1)</div><div id='n_method'> N Method Name: standardize_punct(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: frame_semantic_transformer/data/data_utils.py</div><div id='n_file'> N File Name: frame_semantic_transformer/data/data_utils.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 22</div><div id='n_end'> N End Line: 26</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        import re
        r = re.sub(r&quot(.+)( \1)+&quot, r&quot\1&quot, text).replace(&quot _&quot, &quot&quot).replace(&quot_ &quot, &quot&quot)
        if r == &quot_&quot: r = &quot&quot
        <a id="change">return </a>r
</code></pre><h3>After Change</h3><pre><code class='java'>
    def merge_repeated(self, text):
        import re
        text = re.sub(r&quot(.)\1+&quot, r&quot\1&quot, text)
        text<a id="change"> = </a><a id="change">re.sub(r&quot +&quot</a>, <a id="change">r&quot &quot</a>, text<a id="change">)</a>
        if text == &quot &quot: text = &quot&quot
        <a id="change">return </a>text
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kaiidams/voice100/commit/5948424c99deeb7b562afb7eee83aea08887d642#diff-401d33b38881d45353f6525d9adddfe6499edfea873b9ff63a689fae04156ebcL65' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80341806</div><div id='project'> Project Name: kaiidams/voice100</div><div id='commit'> Commit Name: 5948424c99deeb7b562afb7eee83aea08887d642</div><div id='time'> Time: 2021-06-08</div><div id='author'> Author: katsuya.iida@gmail.com</div><div id='file'> File Name: voice100/encoder.py</div><div id='m_class'> M Class Name: CharEncoder</div><div id='n_method'> N Class Name: CharEncoder</div><div id='m_method'> M Method Name: merge_repeated(2)</div><div id='n_method'> N Method Name: merge_repeated(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: voice100/encoder.py</div><div id='n_file'> N File Name: voice100/encoder.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        t = &quot@user&quot if t.startswith(&quot@&quot) and len(t) &gt; 1 else t
        t = &quothttp&quot if t.startswith(&quothttp&quot) else t
        new_text.append(t)
    <a id="change">return </a>" ".join(new_text)


class SentenceEmbedding:</code></pre><h3>After Change</h3><pre><code class='java'>


def preprocess(text):
    text = <a id="change">re.sub(r"@[A-Z,0-9]+"</a>, <a id="change">"@user"</a>, text<a id="change">)</a>
    urls<a id="change"> = </a>URLEx.find_urls(text)
    for _url in urls:
        try:
            text = text.replace(_url, "http")
        except re.error:
            logging.warning(f&quotre.error:\t - {text}\n\t - {_url}&quot)
    <a id="change">return </a>text


class SentenceEmbedding:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cardiffnlp/tweetnlp/commit/212c96af4178f684070e64408e393b5d08079edb#diff-bf1eb81fc456bc10e0c37ac070c81c250b8d4262629ecd34bf09bd5f55e68383L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80341809</div><div id='project'> Project Name: cardiffnlp/tweetnlp</div><div id='commit'> Commit Name: 212c96af4178f684070e64408e393b5d08079edb</div><div id='time'> Time: 2022-06-27</div><div id='author'> Author: asahi1992ushio@gmail.com</div><div id='file'> File Name: tweetnlp/model_sentence_embedding/model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: preprocess(1)</div><div id='n_method'> N Method Name: preprocess(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tweetnlp/model_sentence_embedding/model.py</div><div id='n_file'> N File Name: tweetnlp/model_sentence_embedding/model.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 31</div><BR>