<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        return 0

    def compute_global_classification(self, speaker_vector, speaker_id):
        <a id="change">return </a>0


class SpeakerStack(nn.Module):</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            loss: (batch_size, T, n_sources)
        
        loss<a id="change"> = </a>distance<a id="change"> + </a><a id="change">torch.logsumexp(- all_distance</a><a id="change">, dim=3)</a> &#47&#47 (batch_size, T, n_sources)

        if batch_mean:
            loss = loss.mean(dim=0)

        <a id="change">return </a>loss
    
    def compute_pit_speaker_loss(self, speaker_vector, speaker_embedding, all_speaker_embedding, feature_last=True, batch_mean=True):
        </code></pre>