<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ap = None
        &#47&#47 build cache
        print("... building dataset cache ...")
        self.cached_text = <a id="change">list()</a>
        self.cached_text_lens = list()
        self.cached_speech = list()
        self.cached_speech_lens = list()
        for path in key_list:</code></pre><h3>After Change</h3><pre><code class='java'>
        key_splits = list()
        thread_list = list()
        for i in range(loading_threads):
            key_splits.append(key_list[<a id="change">i * len(key_list) / loading_threads:i + 1 * len(key_list) / loading_threads</a>])
        for key_split in key_splits:
            thread_list.append(Thread(target=self.cache_builder_thread, args=(key_split,)))
            thread_list[-1].start()</code></pre>