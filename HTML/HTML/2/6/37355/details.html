<html><h3>Pattern ID :37355
</h3><img src='107498760.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        for i in range(batch_size):
            mcfile = self.src_mc_files[i]
            filename = basename(mcfile).split(&quot-&quot)[-1]
            wavfile_path = join(self.src_wav_dir, <a id="change">filename.replace(</a>&quotnpy&quot, <a id="change">&quotwav&quot</a><a id="change">)</a>)

            batch_data.append(wavfile_path)
</code></pre><h3>After Change</h3><pre><code class='java'>
        batch_data = []
        i = 0

        <a id="change">while </a>i != batch_size<a id="change">:
            </a>wav_file = self.src_wav_files[i]
            filename = basename(wav_file)
            num = filename.split(&quot.&quot)[0].split(&quot_&quot)[1]

            for j in range(len(self.trg_wav_files)):
                trg_wav_file = self.trg_wav_files[j]
                trg_filename = basename(trg_wav_file)
                trg_num = trg_filename.split(&quot.&quot)[0].split(&quot_&quot)[1]

                if num == trg_num:
                    batch_data.append(wav_file)
                    break
                elif <a id="change">j == len(self.trg_wav_files) - 1</a>:
                    batch_size += 1

            i<a id="change"> += </a>1

        return batch_data
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/samuelbroughton/stargan-voice-conversion-2/commit/26484a2db5a00247535c7ec7c1f97c10e711e022#diff-db4ed1f953cd7f07c37dfe2d725ac7f8ccae3fbb822cebd01662682f77e6ffe7L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107498760</div><div id='project'> Project Name: samuelbroughton/stargan-voice-conversion-2</div><div id='commit'> Commit Name: 26484a2db5a00247535c7ec7c1f97c10e711e022</div><div id='time'> Time: 2020-09-01</div><div id='author'> Author: broughtonjsam@gmail.com</div><div id='file'> File Name: convert.py</div><div id='m_class'> M Class Name: ConvertDataset</div><div id='n_method'> N Class Name: ConvertDataset</div><div id='m_method'> M Method Name: get_batch_test_data(2)</div><div id='n_method'> N Method Name: get_batch_test_data(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: convert.py</div><div id='n_file'> N File Name: convert.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                while mention and idx &lt; len(tokens):
                    current_token = tokens[idx]
                    if current_token in mention:
                        mention = <a id="change">mention.replace(</a>current_token, <a id="change">""</a><a id="change">)</a>
                    idx += 1

                assert (
                    not mention</code></pre><h3>After Change</h3><pre><code class='java'>
                    current_token = tokens[idx]
                    current_mention = mention
                    jdx = idx
                    <a id="change">while </a>(
                        current_mention.startswith(current_token)
                        and current_mention and jdx &lt;= len(tokens)
                    )<a id="change">:
                        </a>current_mention<a id="change"> = </a>current_mention[len(current_token) :]
                        current_mention = current_mention.lstrip()
                        jdx += 1
                        <a id="change">if jdx &lt; len(tokens)</a>:
                            current_token = tokens[jdx]

                    if not current_mention:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/recognai/rubrix/commit/a203193b2a8e55a04acbc49428efa8aeb5fc3345#diff-8f0bc1e93daa5f38723f86cf5fdbff65673ecc702748a112e8a05980b84b905dL96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107498779</div><div id='project'> Project Name: recognai/rubrix</div><div id='commit'> Commit Name: a203193b2a8e55a04acbc49428efa8aeb5fc3345</div><div id='time'> Time: 2021-05-03</div><div id='author'> Author: daniel@recogn.ai</div><div id='file'> File Name: src/rubrix/server/tasks/token_classification/api/model.py</div><div id='m_class'> M Class Name: CreationTokenClassificationRecord</div><div id='n_method'> N Class Name: CreationTokenClassificationRecord</div><div id='m_method'> M Method Name: check_annotation(3)</div><div id='n_method'> N Method Name: check_annotation(3)</div><div id='m_parent_class'> M Parent Class: Subscript</div><div id='n_parent_class'> N Parent Class: Subscript</div><div id='m_file'> M File Name: src/rubrix/server/tasks/token_classification/api/model.py</div><div id='n_file'> N File Name: src/rubrix/server/tasks/token_classification/api/model.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 104</div><div id='n_end'> N End Line: 124</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    file_description = ("\n"
                        + " Path: " +
                        <a id="change">video_path.replace(</a>video_name, <a id="change">""</a><a id="change">)</a> + "\n\n"
                        + " File: " + video_name + "\n\n"
                        + " Resolution: " +
                        str(width) + "x" + str(height) + "\n\n"</code></pre><h3>After Change</h3><pre><code class='java'>
    video_name   = str(path_as_list[-1])
    
    &#47&#47 2) get first frame of the video
    <a id="change">while</a>(cap.isOpened())<a id="change">:
        </a>ret, frame = cap.read()
        <a id="change">if ret == False</a>:
            break
        cv2.imwrite(fist_frame, frame)
        break
    cap.release()

    &#47&#47 3) resize the frame to fit the UI
    image_to_show_resized = resize_image_to_show(fist_frame)

    &#47&#47 4) show the resized image in the UI
    image = tk.PhotoImage(file = image_to_show_resized)
    drag_drop_and_images = ttk.Label(root,
                                     image   = image,
                                     ondrop  = function_drop,
                                     anchor  = "center",
                                     relief  = "flat",
                                     justify = "center",
                                     background = background_color,
                                     foreground = "&#47&#47202020")
    drag_drop_and_images.place(x = 30 + left_bar_width + drag_drop_width/2 - show_image_width/2,
                               y = drag_drop_height/2 - show_image_height/2 - 15,
                               width  = show_image_width,
                               height = show_image_height)

    &#47&#47 5) remove the temp first frame
    os.remove(fist_frame)

    &#47&#47 6) create string video description
    file_description = ( video_name + "\n"
                        + "[" + str(width) + "x" + str(height) + "]" + " | " + str(minutes) + &quotm:&quot + str(round(seconds)) + "s | " + str(num_frames) + "frames | " + str(round(frame_rate)) + "fps")

    video_info_width<a id="change"> = </a>drag_drop_width * 0.8

    video_info_space = ttk.Label(root,
                                 text    = file_description,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/djdefrag/qualityscaler/commit/66b6f13eca96c3a97a48871850754b01b7403ab2#diff-84f2858c19a17bc7224331c82c8eb4a2050df894e2e6f84183ecec96e1e47024L1073' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107498769</div><div id='project'> Project Name: djdefrag/qualityscaler</div><div id='commit'> Commit Name: 66b6f13eca96c3a97a48871850754b01b7403ab2</div><div id='time'> Time: 2022-06-02</div><div id='author'> Author: jjluca96@gmail.com</div><div id='file'> File Name: QualityScaler.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: show_video_info_with_drag_drop(1)</div><div id='n_method'> N Method Name: show_video_info_with_drag_drop(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: QualityScaler.py</div><div id='n_file'> N File Name: QualityScaler.py</div><div id='m_start'> M Start Line: 1081</div><div id='m_end'> M End Line: 1126</div><div id='n_start'> N Start Line: 1128</div><div id='n_end'> N End Line: 1198</div><BR>