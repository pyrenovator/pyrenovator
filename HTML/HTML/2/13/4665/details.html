<html><h3>Pattern ID :4665
</h3><img src='16728191.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def args():
    parsed_args = parse_args([&quot--tab&quot, &quotROMP_v1&quot]) 
    <a id="change">if </a>os.path.exists(ConfigContext.yaml_filename):
        <a id="change">with </a>open<a id="change">(ConfigContext.yaml_filename, &quotr&quot) as f:
            </a>argsdict<a id="change"> = yaml</a><a id="change">.load(</a>f<a id="change">, Loader=yaml.FullLoader)</a>
    else:
        &#47&#47 This will write a new Yaml if the yaml doesn&quott exist.
        &#47&#47 configcontext.__forceyaml__(configcontext.yaml_filename)
        with open(ConfigContext.yaml_filename, &quotw&quot) as f:
            d = ConfigContext.parsed_args.__dict__
            yaml.dump(d, f)
        <a id="change">with open</a><a id="change">(ConfigContext.yaml_filename, &quotr&quot) as f:
            </a>argsdict<a id="change"> = yaml.load(f</a><a id="change">, Loader=yaml.FullLoader)</a>
    for k, v in argsdict.items():
        parsed_args.__dict__[k] = v
    return parsed_args</code></pre><h3>After Change</h3><pre><code class='java'>
        self.clean()

def args():
    <a id="change">return </a>ConfigContext.parsed_args

&#47&#47 This would result in low FPS
&#47&#47 def args():</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/arthur151/centerhmr/commit/30c45025e92971a955a244a02cfa68e969902c78#diff-51677be6fcec8a0b18b1815bb40e4110e426cf5245f5f97e2cb4e2b552cd181aL234' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16728191</div><div id='project'> Project Name: arthur151/centerhmr</div><div id='commit'> Commit Name: 30c45025e92971a955a244a02cfa68e969902c78</div><div id='time'> Time: 2021-09-13</div><div id='author'> Author: sunyu15@jd.com</div><div id='file'> File Name: romp/lib/config.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: args(0)</div><div id='n_method'> N Method Name: args(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: romp/lib/config.py</div><div id='n_file'> N File Name: romp/lib/config.py</div><div id='m_start'> M Start Line: 237</div><div id='m_end'> M End Line: 251</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 234</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def args():
    parsed_args = parse_args([&quot--tab&quot, &quotROMP_v1&quot]) 
    <a id="change">if </a>os.path.exists(ConfigContext.yaml_filename):
        <a id="change">with </a>open<a id="change">(ConfigContext.yaml_filename, &quotr&quot) as f:
            </a>argsdict<a id="change"> = </a><a id="change">yaml.load(</a>f<a id="change">, Loader=yaml.FullLoader)</a>
    else:
        &#47&#47 This will write a new Yaml if the yaml doesn&quott exist.
        &#47&#47 configcontext.__forceyaml__(configcontext.yaml_filename)
        with open(ConfigContext.yaml_filename, &quotw&quot) as f:
            d = ConfigContext.parsed_args.__dict__
            yaml.dump(d, f)
        <a id="change">with open</a><a id="change">(ConfigContext.yaml_filename, &quotr&quot) as f:
            </a>argsdict<a id="change"> = yaml.load(</a>f<a id="change">, Loader=yaml.FullLoader)</a>
    for k, v in argsdict.items():
        parsed_args.__dict__[k] = v
    return parsed_args</code></pre><h3>After Change</h3><pre><code class='java'>
        self.clean()

def args():
    <a id="change">return </a>ConfigContext.parsed_args

&#47&#47 This would result in low FPS
&#47&#47 def args():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/arthur151/romp/commit/30c45025e92971a955a244a02cfa68e969902c78#diff-51677be6fcec8a0b18b1815bb40e4110e426cf5245f5f97e2cb4e2b552cd181aL236' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16728190</div><div id='project'> Project Name: arthur151/romp</div><div id='commit'> Commit Name: 30c45025e92971a955a244a02cfa68e969902c78</div><div id='time'> Time: 2021-09-13</div><div id='author'> Author: sunyu15@jd.com</div><div id='file'> File Name: romp/lib/config.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: args(0)</div><div id='n_method'> N Method Name: args(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: romp/lib/config.py</div><div id='n_file'> N File Name: romp/lib/config.py</div><div id='m_start'> M Start Line: 237</div><div id='m_end'> M End Line: 251</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 234</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def test(net, test_loader, device, window_size, batch_size, plot=True):
	<a id="change">if </a>plot:
		<a id="change">with </a>open<a id="change">(config.RESOURCES_DIR + &quot/loss.pkl&quot, &quotrb&quot) as f:
			</a>loss<a id="change"> = </a><a id="change">pickle.load(</a>f<a id="change">)</a>
			plot_learning_curve(loss, xlabel=&quotEpisode&quot, ylabel=&quotLoss&quot)

		<a id="change">with open</a><a id="change">(config.RESOURCES_DIR + &quot/accuracy.pkl&quot, &quotrb&quot) as f:
			</a>acc<a id="change"> = pickle.load(</a>f<a id="change">)</a>
			plot_learning_curve(acc, xlabel=&quotEpisode&quot, ylabel=&quotAccuracy&quot)

	with torch.no_grad():
		ecgs_list = []</code></pre><h3>After Change</h3><pre><code class='java'>

		print("{} ACC: {:.4f}".format(&quottesting&quot, right / total))

		<a id="change">return </a>ecgs, labels_list, predicted_list


def eval (ecgs, y_true, y_pred, labels, target_names, plot_acc=False, plot_loss=False, plot_conf_matrix=False, plot_ecg=False, plot_ecg_windows_size=None):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jergusadamec/ecg-deep-segmentation/commit/0b7f33c6c37f70bfe920a0193a61f28d645e81af#diff-fefbb6143b320843cb9a79af99894fb971b17c28cd74dd104faab74aebb6f7a8L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16728194</div><div id='project'> Project Name: jergusadamec/ecg-deep-segmentation</div><div id='commit'> Commit Name: 0b7f33c6c37f70bfe920a0193a61f28d645e81af</div><div id='time'> Time: 2020-05-29</div><div id='author'> Author: jergus.adamec@gmail.com</div><div id='file'> File Name: engine/test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test(6)</div><div id='n_method'> N Method Name: test(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: engine/test.py</div><div id='n_file'> N File Name: engine/test.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 94</div><BR>