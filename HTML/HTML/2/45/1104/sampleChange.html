<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    log_dir = il_train_ex.observers[0].dir
    imitation_logger.configure(log_dir, ["stdout", "tensorboard"])

    <a id="change">if benchmark[&quotbenchmark_name&quot] == &quotmagical&quot</a>:
        <a id="change">gym_env_name_chans_first</a><a id="change">, dataset_dict = </a><a id="change">load_dataset_magical()</a>
        venv_chans_first<a id="change"> = make_vec_env(gym_env_name_chans_first</a><a id="change">,
                                        n_envs=1,
                                        parallel=False)</a>
    elif <a id="change">benchmark[&quotbenchmark_name&quot] == &quotdm_control&quot</a>:
        <a id="change">gym_env_name_chans_first</a><a id="change">, dataset_dict = </a><a id="change">load_dataset_dm_control()</a>
        venv_chans_first<a id="change"> = </a><a id="change">make_vec_env(gym_env_name_chans_first</a><a id="change">,
                                        n_envs=1,
                                        parallel=False)</a>
    elif <a id="change">benchmark[&quotbenchmark_name&quot] == &quotatari&quot</a>:
        dataset_dict<a id="change"> = </a><a id="change">load_dataset_atari()</a>
        gym_env_name_chans_last<a id="change"> = benchmark</a><a id="change">[&quotatari_env_id&quot]</a>
        venv_nhwc = <a id="change">VecFrameStack(make_atari_env(</a>gym_env_name_chans_last<a id="change">)</a>, <a id="change">4</a><a id="change">)</a>
        venv_chans_first<a id="change"> = </a><a id="change">VecTransposeImage(</a>venv_nhwc<a id="change">)</a>
    else:
        <a id="change">raise </a><a id="change">NotImplementedError(
            f"this code does not yet support "
            f"benchmark_name={benchmark[&quotbenchmark_name&quot]!r}"</a><a id="change">)</a>

    dataset = TransitionsMinimalDataset(dataset_dict)

    if encoder_path:</code></pre><h3>After Change</h3><pre><code class='java'>
    log_dir = il_train_ex.observers[0].dir
    imitation_logger.configure(log_dir, ["stdout", "tensorboard"])

    venv = <a id="change">auto_env.load_vec_env()</a>
    dataset_dict<a id="change"> = auto_env</a><a id="change">.load_dataset()</a>
    dataset = TransitionsMinimalDataset(dataset_dict)

    if encoder_path:
        logging.info(f"Loading pretrained encoder from &quot{encoder_path}&quot")</code></pre>