<html><h3>Pattern ID :36293
</h3><img src='102853152.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def unnormalize_bbox(coord, img_w, img_h):
    &#47&#47 either [x1 y1 x2 y2] or [x y w h]
    <a id="change">return </a><a id="change">[coord</a><a id="change">[0] * </a>img_w, <a id="change">coord[1] * </a>img_h, <a id="change">coord[2] * </a>img_w, <a id="change">coord[3] * </a>img_h<a id="change"></a>]


def xywh_to_x1y1x2y2(xywh):</code></pre><h3>After Change</h3><pre><code class='java'>
    img_w : float or int
    img_h : float or int
    
    input_type<a id="change"> = </a><a id="change">type(coord</a><a id="change">)</a>
    &#47&#47 either [x1 y1 x2 y2] or [x y w h] format, either 1d or 2d: shape(4,) [[x1 y1 x2 y2], ...]
    <a id="change">if not isinstance(coord, torch.Tensor)</a>:
        <a id="change">coord = </a><a id="change">torch.tensor(coord</a><a id="change">)</a>
    <a id="change">return </a><a id="change">input_type(
        stack_and_round_boxes(
            </a><a id="change">[
                coord[..., 0]</a><a id="change"> * </a>img_w,
                <a id="change">coord[..., 1]</a><a id="change"> * </a>img_h,
                <a id="change">coord[..., 2]</a><a id="change"> * </a>img_w,
                <a id="change">coord[..., 3]</a><a id="change"> * </a>img_h<a id="change"></a>,
            ]<a id="change">
        )</a><a id="change">
    )</a>


def xywh_to_x1y1x2y2(xywh):
    </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 37</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/krenerd/awesome-modular-pytorch-lightning/commit/3f592c9713d3bcd143a9a59dde3e93688e31f414#diff-f65f7bf792a9c88df9c75b8bf3b3fef054fddf27c2a32d87f8959d1358fac836L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102853152</div><div id='project'> Project Name: krenerd/awesome-modular-pytorch-lightning</div><div id='commit'> Commit Name: 3f592c9713d3bcd143a9a59dde3e93688e31f414</div><div id='time'> Time: 2022-06-07</div><div id='author'> Author: 48239275+krenerd@users.noreply.github.com</div><div id='file'> File Name: utils/bbox.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: unnormalize_bbox(3)</div><div id='n_method'> N Method Name: unnormalize_bbox(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/bbox.py</div><div id='n_file'> N File Name: utils/bbox.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 11</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def xywh_to_x1y1x2y2(xywh):
    <a id="change">return </a><a id="change">[</a>xywh[0]<a id="change"> - </a><a id="change">xywh[2]</a>, xywh[1]<a id="change"> - </a><a id="change">xywh[3]</a>, <a id="change">xywh[0] + </a>xywh[2], xywh[1]<a id="change"> + </a><a id="change">xywh[3]</a>]


def x1y1x2y2_to_xywh(x1y1x2y2):</code></pre><h3>After Change</h3><pre><code class='java'>
    ----------
    xywh : np.array: [*, 4], torch.tensor: [*, 4], or list[*, 4]
    
    input_type<a id="change"> = </a><a id="change">type(</a>xywh<a id="change">)</a>
    <a id="change">if not isinstance(xywh, torch.Tensor)</a>:
        <a id="change">xywh = </a><a id="change">torch.tensor(</a>xywh<a id="change">)</a>
    <a id="change">return </a><a id="change">input_type(
        stack_and_round_boxes(
            </a><a id="change">[
                </a>xywh[..., 0] - <a id="change">xywh[..., 2]</a><a id="change"> / </a>2,
                <a id="change">xywh[..., 1]</a><a id="change"> - </a>xywh[..., 3] / 2,
                xywh[..., 0] + <a id="change">xywh[..., 2]</a><a id="change"> / </a>2,
                xywh[..., 1] + <a id="change">xywh[..., 3]</a><a id="change"> / </a>2<a id="change"></a>,
            ]<a id="change">
        )</a><a id="change">
    )</a>


def x1y1x2y2_to_xywh(x1y1x2y2):
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/krenerd/awesome-modular-pytorch-lightning/commit/3f592c9713d3bcd143a9a59dde3e93688e31f414#diff-f65f7bf792a9c88df9c75b8bf3b3fef054fddf27c2a32d87f8959d1358fac836L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102853157</div><div id='project'> Project Name: krenerd/awesome-modular-pytorch-lightning</div><div id='commit'> Commit Name: 3f592c9713d3bcd143a9a59dde3e93688e31f414</div><div id='time'> Time: 2022-06-07</div><div id='author'> Author: 48239275+krenerd@users.noreply.github.com</div><div id='file'> File Name: utils/bbox.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: xywh_to_x1y1x2y2(1)</div><div id='n_method'> N Method Name: xywh_to_x1y1x2y2(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/bbox.py</div><div id='n_file'> N File Name: utils/bbox.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def normalize_bbox(coord, img_w, img_h):
    &#47&#47 either [x1 y1 x2 y2] or [x y w h]
    <a id="change">return </a><a id="change">[</a><a id="change">coord[0] / </a>img_w, <a id="change">coord[1] / </a>img_h, <a id="change">coord[2] / </a>img_w, <a id="change">coord[3] / </a>img_h<a id="change"></a>]


def unnormalize_bbox(coord, img_w, img_h):</code></pre><h3>After Change</h3><pre><code class='java'>
    img_w : float or int
    img_h : float or int
    
    input_type<a id="change"> = </a><a id="change">type(</a>coord<a id="change">)</a>
    &#47&#47 either [x1 y1 x2 y2] or [x y w h] format, either 1d or 2d [[x1 y1 x2 y2], ...]
    <a id="change">if not isinstance(coord, torch.Tensor)</a>:
        <a id="change">coord = </a><a id="change">torch.tensor(</a>coord<a id="change">)</a>
    <a id="change">return </a><a id="change">input_type(
        stack_and_round_boxes(
            </a><a id="change">[
                </a><a id="change">coord[..., 0]</a><a id="change"> / </a>img_w,
                <a id="change">coord[..., 1]</a><a id="change"> / </a>img_h,
                <a id="change">coord[..., 2]</a><a id="change"> / </a>img_w,
                <a id="change">coord[..., 3]</a><a id="change"> / </a>img_h<a id="change"></a>,
            ]<a id="change">
        )</a><a id="change">
    )</a>


def unnormalize_bbox(coord, img_w, img_h):
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/krenerd/awesome-modular-pytorch-lightning/commit/3f592c9713d3bcd143a9a59dde3e93688e31f414#diff-f65f7bf792a9c88df9c75b8bf3b3fef054fddf27c2a32d87f8959d1358fac836L4' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102853158</div><div id='project'> Project Name: krenerd/awesome-modular-pytorch-lightning</div><div id='commit'> Commit Name: 3f592c9713d3bcd143a9a59dde3e93688e31f414</div><div id='time'> Time: 2022-06-07</div><div id='author'> Author: 48239275+krenerd@users.noreply.github.com</div><div id='file'> File Name: utils/bbox.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: normalize_bbox(3)</div><div id='n_method'> N Method Name: normalize_bbox(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/bbox.py</div><div id='n_file'> N File Name: utils/bbox.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 6</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 29</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def unnormalize_bbox(coord, img_w, img_h):
    &#47&#47 either [x1 y1 x2 y2] or [x y w h]
    <a id="change">return </a><a id="change">[</a><a id="change">coord[0] * </a>img_w, <a id="change">coord[1] * </a>img_h, <a id="change">coord[2] * </a>img_w, <a id="change">coord[3] * </a>img_h<a id="change"></a>]


def xywh_to_x1y1x2y2(xywh):</code></pre><h3>After Change</h3><pre><code class='java'>
    img_w : float or int
    img_h : float or int
    
    input_type<a id="change"> = </a><a id="change">type(</a>coord<a id="change">)</a>
    &#47&#47 either [x1 y1 x2 y2] or [x y w h] format, either 1d or 2d: shape(4,) [[x1 y1 x2 y2], ...]
    <a id="change">if not isinstance(coord, torch.Tensor)</a>:
        <a id="change">coord = </a><a id="change">torch.tensor(</a>coord<a id="change">)</a>
    <a id="change">return </a><a id="change">input_type(
        stack_and_round_boxes(
            </a><a id="change">[
                </a><a id="change">coord[..., 0]</a><a id="change"> * </a>img_w,
                <a id="change">coord[..., 1]</a><a id="change"> * </a>img_h,
                <a id="change">coord[..., 2]</a><a id="change"> * </a>img_w,
                <a id="change">coord[..., 3]</a><a id="change"> * </a>img_h<a id="change"></a>,
            ]<a id="change">
        )</a><a id="change">
    )</a>


def xywh_to_x1y1x2y2(xywh):
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/krenerd/awesome-modular-pytorch-lightning/commit/3f592c9713d3bcd143a9a59dde3e93688e31f414#diff-f65f7bf792a9c88df9c75b8bf3b3fef054fddf27c2a32d87f8959d1358fac836L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102853177</div><div id='project'> Project Name: krenerd/awesome-modular-pytorch-lightning</div><div id='commit'> Commit Name: 3f592c9713d3bcd143a9a59dde3e93688e31f414</div><div id='time'> Time: 2022-06-07</div><div id='author'> Author: 48239275+krenerd@users.noreply.github.com</div><div id='file'> File Name: utils/bbox.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: unnormalize_bbox(3)</div><div id='n_method'> N Method Name: unnormalize_bbox(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/bbox.py</div><div id='n_file'> N File Name: utils/bbox.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 11</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 53</div><BR>