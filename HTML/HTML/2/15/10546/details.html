<html><h3>Pattern ID :10546
</h3><img src='36706848.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        <a id="change">if </a>check_version(torch.__version__, &quot1.10.0&quot):  &#47&#47 torch&gt;=1.10.0 meshgrid workaround for torch&gt;=0.7 compatibility
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(y</a>, <a id="change">x</a><a id="change">, indexing=&quotij&quot)</a>
        else:
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(y</a>, <a id="change">x</a><a id="change">)</a>
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid
        </code></pre><h3>After Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        yv, xv = <a id="change">torch.meshgrid(y</a>, <a id="change">x</a><a id="change">, indexing=&quotij&quot)</a><a id="change"> if torch_1_10</a><a id="change"> else </a><a id="change">torch.meshgrid(y</a>, <a id="change">x</a><a id="change">)</a>  &#47&#47 torch&gt;=0.7 compatibility
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/positive666/yolov5_research/commit/01f82b4ac01ca8871b9872666cd6d9efeeb8ccb5#diff-2cd118cbb69c9ca7b5544f4187b11335fc3addbaf2c3c5bb45435cac648c957bL140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36706848</div><div id='project'> Project Name: positive666/yolov5_research</div><div id='commit'> Commit Name: 01f82b4ac01ca8871b9872666cd6d9efeeb8ccb5</div><div id='time'> Time: 2022-09-02</div><div id='author'> Author: 286040359@qq.com</div><div id='file'> File Name: models/yolo.py</div><div id='m_class'> M Class Name: Decoupled_Detect</div><div id='n_method'> N Class Name: Decoupled_Detect</div><div id='m_method'> M Method Name: _make_grid(4)</div><div id='n_method'> N Method Name: _make_grid(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/yolo.py</div><div id='n_file'> N File Name: models/yolo.py</div><div id='m_start'> M Start Line: 140</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 140</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        <a id="change">if </a>check_version(torch.__version__, &quot1.10.0&quot):  &#47&#47 torch&gt;=1.10.0 meshgrid workaround for torch&gt;=0.7 compatibility
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(</a>y, x<a id="change">, indexing=&quotij&quot)</a>
        else:
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(</a>y, x<a id="change">)</a>
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid
        </code></pre><h3>After Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        yv, xv = <a id="change">torch.meshgrid(</a>y, x<a id="change">, indexing=&quotij&quot)</a><a id="change"> if torch_1_10</a><a id="change"> else </a><a id="change">torch.meshgrid(</a>y, x<a id="change">)</a>  &#47&#47 torch&gt;=0.7 compatibility
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/positive666/yolov5_research/commit/01f82b4ac01ca8871b9872666cd6d9efeeb8ccb5#diff-2cd118cbb69c9ca7b5544f4187b11335fc3addbaf2c3c5bb45435cac648c957bL135' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36706849</div><div id='project'> Project Name: positive666/yolov5_research</div><div id='commit'> Commit Name: 01f82b4ac01ca8871b9872666cd6d9efeeb8ccb5</div><div id='time'> Time: 2022-09-02</div><div id='author'> Author: 286040359@qq.com</div><div id='file'> File Name: models/yolo.py</div><div id='m_class'> M Class Name: Decoupled_Detect</div><div id='n_method'> N Class Name: Decoupled_Detect</div><div id='m_method'> M Method Name: _make_grid(4)</div><div id='n_method'> N Method Name: _make_grid(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/yolo.py</div><div id='n_file'> N File Name: models/yolo.py</div><div id='m_start'> M Start Line: 140</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 140</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        <a id="change">if </a>torch_1_10:  &#47&#47 torch&gt;=1.10.0 meshgrid workaround for torch&gt;=0.7 compatibility
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(</a>y, x<a id="change">, indexing=&quotij&quot)</a>
        else:
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(</a>y, x<a id="change">)</a>
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid
</code></pre><h3>After Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        yv, xv = <a id="change">torch.meshgrid(</a>y, x<a id="change">, indexing=&quotij&quot)</a><a id="change"> if torch_1_10</a><a id="change"> else </a><a id="change">torch.meshgrid(</a>y, x<a id="change">)</a>  &#47&#47 torch&gt;=0.7 compatibility
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ultralytics/yolov5/commit/5d3d051c9b6bb25c45d254ceabab669c758ed72b#diff-2cd118cbb69c9ca7b5544f4187b11335fc3addbaf2c3c5bb45435cac648c957bL79' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36706850</div><div id='project'> Project Name: ultralytics/yolov5</div><div id='commit'> Commit Name: 5d3d051c9b6bb25c45d254ceabab669c758ed72b</div><div id='time'> Time: 2022-08-26</div><div id='author'> Author: glenn.jocher@ultralytics.com</div><div id='file'> File Name: models/yolo.py</div><div id='m_class'> M Class Name: Detect</div><div id='n_method'> N Class Name: Detect</div><div id='m_method'> M Method Name: _make_grid(5)</div><div id='n_method'> N Method Name: _make_grid(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/yolo.py</div><div id='n_file'> N File Name: models/yolo.py</div><div id='m_start'> M Start Line: 84</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 84</div><div id='n_end'> N End Line: 84</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        <a id="change">if </a>torch_1_10:  &#47&#47 torch&gt;=1.10.0 meshgrid workaround for torch&gt;=0.7 compatibility
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(</a>y, x<a id="change">, indexing=&quotij&quot)</a>
        else:
            yv<a id="change">, xv = </a><a id="change">torch.meshgrid(</a>y, x<a id="change">)</a>
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid
  </code></pre><h3>After Change</h3><pre><code class='java'>
        t = self.anchors[i].dtype
        shape = 1, self.na, ny, nx, 2  &#47&#47 grid shape
        y, x = torch.arange(ny, device=d, dtype=t), torch.arange(nx, device=d, dtype=t)
        yv, xv = <a id="change">torch.meshgrid(</a>y, x<a id="change">, indexing=&quotij&quot)</a><a id="change"> if torch_1_10</a><a id="change"> else </a><a id="change">torch.meshgrid(</a>y, x<a id="change">)</a>  &#47&#47 torch&gt;=0.7 compatibility
        grid = torch.stack((xv, yv), 2).expand(shape) - 0.5  &#47&#47 add grid offset, i.e. y = 2.0 * x - 0.5
        anchor_grid = (self.anchors[i] * self.stride[i]).view((1, self.na, 1, 1, 2)).expand(shape)
        return grid, anchor_grid</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/positive666/yolov5_research/commit/18c85c3a6fe872f2e1178aabcae84a6da5c00548#diff-2cd118cbb69c9ca7b5544f4187b11335fc3addbaf2c3c5bb45435cac648c957bL82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36706854</div><div id='project'> Project Name: positive666/yolov5_research</div><div id='commit'> Commit Name: 18c85c3a6fe872f2e1178aabcae84a6da5c00548</div><div id='time'> Time: 2022-09-01</div><div id='author'> Author: 286040359@qq.com</div><div id='file'> File Name: models/yolo.py</div><div id='m_class'> M Class Name: Detect</div><div id='n_method'> N Class Name: Detect</div><div id='m_method'> M Method Name: _make_grid(5)</div><div id='n_method'> N Method Name: _make_grid(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/yolo.py</div><div id='n_file'> N File Name: models/yolo.py</div><div id='m_start'> M Start Line: 87</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 87</div><div id='n_end'> N End Line: 87</div><BR>