<html><h3>Pattern ID :41133
</h3><img src='115925674.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                       batch_size=cfg.hps.test_batch_size,
                                       shuffle=False,
                                       num_workers=0)
    return totaltext_train_loader<a id="change">, totaltext_test_loader</a>


def main(cfg):
</code></pre><h3>After Change</h3><pre><code class='java'>
    train_gt_dir = cfg.data[dataset_name].train_gt_dir
    test_gt_dir = cfg.data[dataset_name].test_gt_dir

    <a id="change">if dataset_name == &quottotaltext&quot</a>:
        from data_loaders import TotalTextDatasetIter
        TextDatasetIter = TotalTextDatasetIter
    elif <a id="change">dataset_name == &quotctw1500&quot</a>:
        from data_loaders import CTW1500DatasetIter
        TextDatasetIter = CTW1500DatasetIter
    elif dataset_name == &quoticdar2015&quot:
        from data_loaders import ICDAR2015DatasetIter
        TextDatasetIter = ICDAR2015DatasetIter
    elif <a id="change">dataset_name == &quotmsra_td500&quot</a>:
        from data_loaders import MSRATD500DatasetIter
        TextDatasetIter<a id="change"> = </a>MSRATD500DatasetIter
    else:
        <a id="change">raise </a><a id="change">NotImplementedError("Pls provide valid dataset name!"</a><a id="change">)</a>

    train_iter = TextDatasetIter(train_dir,
                                 train_gt_dir,
                                 ignore_tags,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huyhoang17/db_text_minimal/commit/afea2dfe00db383e3fb9e959e1fcfe375c277c8d#diff-a454ee593451c002ad5a1322d7dc3d2574f234a8290c006a07243760eb453bbdL31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115925674</div><div id='project'> Project Name: huyhoang17/db_text_minimal</div><div id='commit'> Commit Name: afea2dfe00db383e3fb9e959e1fcfe375c277c8d</div><div id='time'> Time: 2020-06-19</div><div id='author'> Author: hoangphan0710@gmail.com</div><div id='file'> File Name: src/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_data_loaders(1)</div><div id='n_method'> N Method Name: get_data_loaders(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/train.py</div><div id='n_file'> N File Name: src/train.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def get_data_loaders(cfg):

    &#47&#47 train
    tt_train_img_fps<a id="change">, tt_train_gt_fps</a> = load_metadata(
        cfg.data.totaltext.train_dir, cfg.data.totaltext.train_gt_dir)
    &#47&#47 test
    tt_test_img_fps, tt_test_gt_fps = load_metadata(</code></pre><h3>After Change</h3><pre><code class='java'>

def get_data_loaders(cfg):

    <a id="change">dataset_name</a> = cfg.dataset.name
    ignore_tags = cfg.data[dataset_name].ignore_tags
    train_dir = cfg.data[dataset_name].train_dir
    test_dir = cfg.data[dataset_name].test_dir
    train_gt_dir = cfg.data[dataset_name].train_gt_dir
    test_gt_dir = cfg.data[dataset_name].test_gt_dir

    <a id="change">if dataset_name == &quottotaltext&quot</a>:
        from data_loaders import TotalTextDatasetIter
        TextDatasetIter = TotalTextDatasetIter
    elif <a id="change">dataset_name == &quotctw1500&quot</a>:
        from data_loaders import CTW1500DatasetIter
        TextDatasetIter = CTW1500DatasetIter
    elif dataset_name == &quoticdar2015&quot:
        from data_loaders import ICDAR2015DatasetIter
        TextDatasetIter = ICDAR2015DatasetIter
    elif <a id="change">dataset_name == &quotmsra_td500&quot</a>:
        from data_loaders import MSRATD500DatasetIter
        TextDatasetIter<a id="change"> = </a>MSRATD500DatasetIter
    else:
        <a id="change">raise </a><a id="change">NotImplementedError("Pls provide valid dataset name!"</a><a id="change">)</a>

    train_iter = TextDatasetIter(train_dir,
                                 train_gt_dir,
                                 ignore_tags,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huyhoang17/db_text_minimal/commit/afea2dfe00db383e3fb9e959e1fcfe375c277c8d#diff-a454ee593451c002ad5a1322d7dc3d2574f234a8290c006a07243760eb453bbdL30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115925610</div><div id='project'> Project Name: huyhoang17/db_text_minimal</div><div id='commit'> Commit Name: afea2dfe00db383e3fb9e959e1fcfe375c277c8d</div><div id='time'> Time: 2020-06-19</div><div id='author'> Author: hoangphan0710@gmail.com</div><div id='file'> File Name: src/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_data_loaders(1)</div><div id='n_method'> N Method Name: get_data_loaders(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/train.py</div><div id='n_file'> N File Name: src/train.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        
        self.pos_embedder, self.pos_embed_dim = get_positional_embedder(self.pos_multires, 
                                                                       self.embedder_type == "positional")
        self.view_embedder<a id="change">, self.view_embed_dim</a> = get_positional_embedder(self.view_multires, 
                                                                         self.embedder_type == "positional")
        log.info(f"Position Embed Dim: {self.pos_embed_dim}")
        log.info(f"View Embed Dim: {self.view_embed_dim}")</code></pre><h3>After Change</h3><pre><code class='java'>
    def init_embedder(self, embedder_type, frequencies=None):
        Creates positional embedding functions for the position and view direction.
        
        <a id="change">if embedder_type == &quotnone&quot</a>:
            embedder, embed_dim = None, 0
        elif <a id="change">embedder_type == &quotidentity&quot</a>:
            embedder, embed_dim = torch.nn.Identity(), 0
        elif <a id="change">embedder_type == &quotpositional&quot</a>:
            embedder<a id="change">, embed_dim = </a>get_positional_embedder(frequencies=frequencies)
        else:
            <a id="change">raise </a><a id="change">NotImplementedError(f&quotUnsupported embedder type for NeuralRadianceField: {embedder_type}&quot</a><a id="change">)</a>
        return embedder, embed_dim

    def init_decoders(self, activation_type, layer_type, num_layers, hidden_dim):
        Initializes the decoder object. </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nvidiagameworks/kaolin-wisp/commit/688dfebfd03fbfa81560f103244bc7e776e47245#diff-6efb23a0a6d659486b19aa87b9baed0582e8e7c05b4f427f15be2bf47c2efcd3L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115925578</div><div id='project'> Project Name: nvidiagameworks/kaolin-wisp</div><div id='commit'> Commit Name: 688dfebfd03fbfa81560f103244bc7e776e47245</div><div id='time'> Time: 2022-12-20</div><div id='author'> Author: 9556101+orperel@users.noreply.github.com</div><div id='file'> File Name: wisp/models/nefs/nerf.py</div><div id='m_class'> M Class Name: NeuralRadianceField</div><div id='n_method'> N Class Name: NeuralRadianceField</div><div id='m_method'> M Method Name: init_embedder(3)</div><div id='n_method'> N Method Name: init_embedder(1)</div><div id='m_parent_class'> M Parent Class: BaseNeuralField</div><div id='n_parent_class'> N Parent Class: BaseNeuralField</div><div id='m_file'> M File Name: wisp/models/nefs/nerf.py</div><div id='n_file'> N File Name: wisp/models/nefs/nerf.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def init_embedder(self):
        Creates positional embedding functions for the position and view direction.
        
        self.pos_embedder<a id="change">, self.pos_embed_dim</a> = get_positional_embedder(self.pos_multires, 
                                                                       self.embedder_type == "positional")
        log.info(f"Position Embed Dim: {self.pos_embed_dim}")
</code></pre><h3>After Change</h3><pre><code class='java'>
    def init_embedder(self, embedder_type, frequencies=None, position_input=True):
        Creates positional embedding functions for the position and view direction.
        
        <a id="change">if embedder_type == &quotnone&quot</a>:
            embedder, embed_dim = None, 0
        elif <a id="change">embedder_type == &quotidentity&quot</a>:
            embedder, embed_dim = torch.nn.Identity(), 0
        elif <a id="change">embedder_type == &quotpositional&quot</a>:
            embedder<a id="change">, embed_dim = </a>get_positional_embedder(frequencies=frequencies, position_input=position_input)
        else:
            <a id="change">raise </a><a id="change">NotImplementedError(f&quotUnsupported embedder type for NeuralSDF: {embedder_type}&quot</a><a id="change">)</a>
        return embedder, embed_dim

    def init_decoder(self, activation_type, layer_type, num_layers, hidden_dim):
        Initializes the decoder object.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nvidiagameworks/kaolin-wisp/commit/688dfebfd03fbfa81560f103244bc7e776e47245#diff-3167e0bec8ccf5615ba8eb5a95ba110eaf9653f0e244d09083f37682740e9b65L103' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115925675</div><div id='project'> Project Name: nvidiagameworks/kaolin-wisp</div><div id='commit'> Commit Name: 688dfebfd03fbfa81560f103244bc7e776e47245</div><div id='time'> Time: 2022-12-20</div><div id='author'> Author: 9556101+orperel@users.noreply.github.com</div><div id='file'> File Name: wisp/models/nefs/neural_sdf.py</div><div id='m_class'> M Class Name: NeuralSDF</div><div id='n_method'> N Class Name: NeuralSDF</div><div id='m_method'> M Method Name: init_embedder(4)</div><div id='n_method'> N Method Name: init_embedder(1)</div><div id='m_parent_class'> M Parent Class: BaseNeuralField</div><div id='n_parent_class'> N Parent Class: BaseNeuralField</div><div id='m_file'> M File Name: wisp/models/nefs/neural_sdf.py</div><div id='n_file'> N File Name: wisp/models/nefs/neural_sdf.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 65</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

@hydra.main(config_path="../config.yaml", strict=False)
def run(cfg):
    image_paths<a id="change">, gt_paths</a> = load_metadata(cfg.data.totaltext.train_dir,
                                          cfg.data.totaltext.train_gt_dir)
    totaltext_train_iter = TotalTextDatasetIter(image_paths,
                                                gt_paths,</code></pre><h3>After Change</h3><pre><code class='java'>

@hydra.main(config_path="../config.yaml", strict=False)
def run(cfg):
    <a id="change">dataset_name</a> = cfg.dataset.name
    ignore_tags = cfg.data[dataset_name].ignore_tags
    train_dir = cfg.data[dataset_name].train_dir
    train_gt_dir = cfg.data[dataset_name].train_gt_dir

    if dataset_name == &quottotaltext&quot:
        TextDatasetIter = TotalTextDatasetIter
    elif <a id="change">dataset_name == &quotctw1500&quot</a>:
        TextDatasetIter = CTW1500DatasetIter
    elif <a id="change">dataset_name == &quoticdar2015&quot</a>:
        TextDatasetIter = ICDAR2015DatasetIter
    elif <a id="change">dataset_name == &quotmsra_td500&quot</a>:
        TextDatasetIter<a id="change"> = </a>MSRATD500DatasetIter
    else:
        <a id="change">raise </a><a id="change">NotImplementedError("Pls provide valid dataset name!"</a><a id="change">)</a>
    train_iter = TextDatasetIter(train_dir,
                                 train_gt_dir,
                                 ignore_tags,
                                 is_training=True,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huyhoang17/db_text_minimal/commit/afea2dfe00db383e3fb9e959e1fcfe375c277c8d#diff-4f64d3cf185856bf97e6aafaf27a45ebbd069972dc408794aeecdde63faaf1fdL208' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115925606</div><div id='project'> Project Name: huyhoang17/db_text_minimal</div><div id='commit'> Commit Name: afea2dfe00db383e3fb9e959e1fcfe375c277c8d</div><div id='time'> Time: 2020-06-19</div><div id='author'> Author: hoangphan0710@gmail.com</div><div id='file'> File Name: src/data_loaders.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/data_loaders.py</div><div id='n_file'> N File Name: src/data_loaders.py</div><div id='m_start'> M Start Line: 209</div><div id='m_end'> M End Line: 219</div><div id='n_start'> N Start Line: 357</div><div id='n_end'> N End Line: 381</div><BR>