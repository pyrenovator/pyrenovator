<html><h3>Pattern ID :18866
</h3><img src='61348760.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            env.render()
        sum_r += r
        if isOver:
            <a id="change">return </a>sum_r<a id="change">, info[&quotfilename&quot], info[&quotdistError&quot], q_values</a>


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre><h3>After Change</h3><pre><code class='java'>
    obs = env.reset()
    obs = list(obs)
    sum_r = np.zeros((agents,))
    <a id="change">filenames_list</a><a id="change"> = </a><a id="change">[]</a>
    <a id="change">distError_list = </a><a id="change">[]</a>
    isOver = [False] * agents
    while True:
        acts, q_values = predict(obs, agents)
        obs, r, isOver, info = env.step(acts, q_values, isOver)
        obs = list(obs)
        if render:
            env.render()

        <a id="change">for </a>i in range(agents)<a id="change">:
            </a>if not isOver[i]:
                sum_r[i] += r[i]
            <a id="change">if </a>np.all(isOver):
                <a id="change">filenames_list.append(</a>info[&quotfilename_{}&quot.format(i)]<a id="change">)</a>
                <a id="change">distError_list.append(</a>info[&quotdistError_{}&quot.format(i)]<a id="change">)</a>
        if np.all(isOver):
            <a id="change">return </a>sum_r<a id="change">, filenames_list, distError_list, q_values</a>


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/ae284ec4a6f465986ae65c28ffc87ff14ac1b312#diff-1b977db9493bff4ace091ffc9af2bd2d763fd5c69de2c0e27bb2f8f3c9613c7fL29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 61348760</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: ae284ec4a6f465986ae65c28ffc87ff14ac1b312</div><div id='time'> Time: 2020-01-18</div><div id='author'> Author: g.m.leroy@outlook.com</div><div id='file'> File Name: examples/LandmarkDetection/DQN/common.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: play_one_episode(4)</div><div id='n_method'> N Method Name: play_one_episode(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/LandmarkDetection/DQN/common.py</div><div id='n_file'> N File Name: examples/LandmarkDetection/DQN/common.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                
        &#47&#47 TODO 对接
        users, items = test_data
        <a id="change">return </a>users<a id="change">, items</a>
    
    def get_result_pairs(self, result):
        [summary]
</code></pre><h3>After Change</h3><pre><code class='java'>
                
        &#47&#47 TODO 对接
        users = set(users)
        <a id="change">users_lst = </a><a id="change">[]</a>
        <a id="change">items_lst</a><a id="change"> = </a><a id="change">[]</a>

        for interaction in test_data:
            <a id="change">for i</a> in range(interaction[&quotuser_id&quot].shape[0])<a id="change">:
                </a>uid = interaction[&quotuser_id&quot][i].item()
                iid = interaction[&quotitem_id&quot][i].item()
                label = interaction[&quotlabel&quot][i].item()
                <a id="change">if </a>label == 0 or uid not in users: continue
                <a id="change">users_lst.append(</a>uid<a id="change">)</a>
                <a id="change">items_lst.append(</a>iid<a id="change">)</a>
        <a id="change">return </a>users_lst<a id="change">, items_lst</a>
    
    def get_result_pairs(self, result):
        [summary]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/8a1273a4b6d1642a55b37570eb093a3ad8fa45a7#diff-dfbfd298811e2d0b32301e6e8886f7d9e7b498d8537618afad941a09a07e3f2cL91' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 61348763</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: 8a1273a4b6d1642a55b37570eb093a3ad8fa45a7</div><div id='time'> Time: 2020-06-30</div><div id='author'> Author: houyupeng@ruc.edu.cn</div><div id='file'> File Name: evaluator/evaluator.py</div><div id='m_class'> M Class Name: UnionEvaluator</div><div id='n_method'> N Class Name: UnionEvaluator</div><div id='m_method'> M Method Name: get_ground_truth(3)</div><div id='n_method'> N Method Name: get_ground_truth(3)</div><div id='m_parent_class'> M Parent Class: BaseEvaluator</div><div id='n_parent_class'> N Parent Class: BaseEvaluator</div><div id='m_file'> M File Name: evaluator/evaluator.py</div><div id='n_file'> N File Name: evaluator/evaluator.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 115</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            env.render()
        sum_r += r
        if isOver:
            <a id="change">return </a>sum_r<a id="change">, info[&quotfilename&quot], info[&quotdistError&quot], q_values</a>


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre><h3>After Change</h3><pre><code class='java'>
    obs = env.reset()
    obs = list(obs)
    sum_r = np.zeros((agents,))
    <a id="change">filenames_list = </a><a id="change">[]</a>
    <a id="change">distError_list</a><a id="change"> = </a><a id="change">[]</a>
    isOver = [False] * agents
    while True:
        acts, q_values = predict(obs, agents)
        obs, r, isOver, info = env.step(acts, q_values, isOver)
        obs = list(obs)
        if render:
            env.render()

        <a id="change">for i</a> in range(agents)<a id="change">:
            </a>if not isOver[i]:
                sum_r[i] += r[i]
            <a id="change">if </a>np.all(isOver):
                <a id="change">filenames_list.append(</a>info[&quotfilename_{}&quot.format(i)]<a id="change">)</a>
                <a id="change">distError_list.append(</a>info[&quotdistError_{}&quot.format(i)]<a id="change">)</a>
        if np.all(isOver):
            <a id="change">return </a>sum_r<a id="change">, filenames_list, distError_list, q_values</a>


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/84773b90d7e1b396788ef958872e27cfd5cb2e64#diff-1b977db9493bff4ace091ffc9af2bd2d763fd5c69de2c0e27bb2f8f3c9613c7fL29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 61348767</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: 84773b90d7e1b396788ef958872e27cfd5cb2e64</div><div id='time'> Time: 2020-01-14</div><div id='author'> Author: g.m.leroy@outlook.com</div><div id='file'> File Name: examples/LandmarkDetection/DQN/common.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: play_one_episode(4)</div><div id='n_method'> N Method Name: play_one_episode(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/LandmarkDetection/DQN/common.py</div><div id='n_file'> N File Name: examples/LandmarkDetection/DQN/common.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            env.render()
        sum_r += r
        if isOver:
            <a id="change">return </a>sum_r<a id="change">, info[&quotfilename&quot], info[&quotdistError&quot], q_values</a>


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre><h3>After Change</h3><pre><code class='java'>
    obs = env.reset()
    obs = list(obs)
    sum_r = np.zeros((agents,))
    <a id="change">filenames_list = </a><a id="change">[]</a>
    <a id="change">distError_list</a><a id="change"> = </a><a id="change">[]</a>
    isOver = [False] * agents
    while True:
        acts, q_values = predict(obs, agents)
        obs, r, isOver, info = env.step(acts, q_values, isOver)
        obs = list(obs)
        if render:
            env.render()

        <a id="change">for i</a> in range(agents)<a id="change">:
            </a>if not isOver[i]:
                sum_r[i] += r[i]
            <a id="change">if </a>np.all(isOver):
                <a id="change">filenames_list.append(</a>info[&quotfilename_{}&quot.format(i)]<a id="change">)</a>
                <a id="change">distError_list.append(</a>info[&quotdistError_{}&quot.format(i)]<a id="change">)</a>
        if np.all(isOver):
            <a id="change">return </a>sum_r<a id="change">, filenames_list, distError_list, q_values</a>


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/ae284ec4a6f465986ae65c28ffc87ff14ac1b312#diff-1b977db9493bff4ace091ffc9af2bd2d763fd5c69de2c0e27bb2f8f3c9613c7fL29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 61348755</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: ae284ec4a6f465986ae65c28ffc87ff14ac1b312</div><div id='time'> Time: 2020-01-18</div><div id='author'> Author: g.m.leroy@outlook.com</div><div id='file'> File Name: examples/LandmarkDetection/DQN/common.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: play_one_episode(4)</div><div id='n_method'> N Method Name: play_one_episode(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/LandmarkDetection/DQN/common.py</div><div id='n_file'> N File Name: examples/LandmarkDetection/DQN/common.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 82</div><BR>