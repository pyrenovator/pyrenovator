<html><h3>Pattern ID :38978
</h3><img src='111114751.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        etalon = 0.691239
        with pm.Model():
            cov = pm.gp.cov.Circular(1, 1, tau=4)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(X</a><a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(X</a>, <a id="change">X</a><a id="change">))</a>()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(X</a><a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)
</code></pre><h3>After Change</h3><pre><code class='java'>
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_1d_tau2(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        etalon = 0.691239
        with pm.Model():
            cov = pm.gp.cov.Circular(1, 1, tau=4)
        K = <a id="change">cov(X</a><a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        K = <a id="change">cov(X</a>, <a id="change">X</a><a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(X</a><a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 18</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL707' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114751</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestCircular</div><div id='n_method'> N Class Name: TestCircular</div><div id='m_method'> M Method Name: test_1d_tau2(1)</div><div id='n_method'> N Method Name: test_1d_tau2(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 1222</div><div id='m_end'> M End Line: 1231</div><div id='n_start'> N Start Line: 707</div><div id='n_end'> N End Line: 716</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestConstant:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Constant(2.5)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 2.5, atol=1e-3)
        npt.assert_allclose(K[0, 0], 2.5, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 2.5, atol=1e-3)
        npt.assert_allclose(K[0, 0], 2.5, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestConstant:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Constant(2.5)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 2.5, atol=1e-3)
        npt.assert_allclose(K[0, 0], 2.5, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 2.5, atol=1e-3)
        npt.assert_allclose(K[0, 0], 2.5, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL474' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114783</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestConstant</div><div id='n_method'> N Class Name: TestConstant</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 475</div><div id='m_end'> M End Line: 485</div><div id='n_start'> N Start Line: 475</div><div id='n_end'> N End Line: 485</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_1d_tau2(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        etalon = 0.691239
        with pm.Model():
            cov = pm.gp.cov.Circular(1, 1, tau=4)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)
</code></pre><h3>After Change</h3><pre><code class='java'>
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_1d_tau2(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        etalon = 0.691239
        with pm.Model():
            cov = pm.gp.cov.Circular(1, 1, tau=4)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL1221' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114750</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestCircular</div><div id='n_method'> N Class Name: TestCircular</div><div id='m_method'> M Method Name: test_1d_tau2(1)</div><div id='n_method'> N Method Name: test_1d_tau2(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 1222</div><div id='m_end'> M End Line: 1231</div><div id='n_start'> N Start Line: 707</div><div id='n_end'> N End Line: 716</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestScaledCov:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]

        def scaling_func(x, a, b):
            return a + b * x

        with pm.Model() as model:
            cov_m52 = pm.gp.cov.Matern52(1, 0.2)
            cov = pm.gp.cov.ScaledCov(1, scaling_func=scaling_func, args=(2, -1), cov_func=cov_m52)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 3.00686, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 3.00686, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_raises(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class TestScaledCov:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]

        def scaling_func(x, a, b):
            return a + b * x

        with pm.Model() as model:
            cov_m52 = pm.gp.cov.Matern52(1, 0.2)
            cov = pm.gp.cov.ScaledCov(1, scaling_func=scaling_func, args=(2, -1), cov_func=cov_m52)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 3.00686, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 3.00686, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_raises(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL667' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114782</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestScaledCov</div><div id='n_method'> N Class Name: TestScaledCov</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 668</div><div id='m_end'> M End Line: 681</div><div id='n_start'> N Start Line: 668</div><div id='n_end'> N End Line: 681</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestPolynomial:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Polynomial(1, 0.5, 2, 0)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.03780, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.03780, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True))</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestPolynomial:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Polynomial(1, 0.5, 2, 0)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.03780, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.03780, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL601' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114749</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestPolynomial</div><div id='n_method'> N Class Name: TestPolynomial</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 602</div><div id='m_end'> M End Line: 610</div><div id='n_start'> N Start Line: 602</div><div id='n_end'> N End Line: 610</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestCosine:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Cosine(1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.766, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.766, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestCosine:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Cosine(1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.766, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.766, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL559' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114748</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestCosine</div><div id='n_method'> N Class Name: TestCosine</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 560</div><div id='m_end'> M End Line: 568</div><div id='n_start'> N Start Line: 560</div><div id='n_end'> N End Line: 568</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestExpQuad:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.ExpQuad(1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True))</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_2d(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class TestExpQuad:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.ExpQuad(1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_2d(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL410' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114747</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestExpQuad</div><div id='n_method'> N Class Name: TestExpQuad</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 411</div><div id='m_end'> M End Line: 419</div><div id='n_start'> N Start Line: 411</div><div id='n_end'> N End Line: 419</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestLinear:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Linear(1, 0.5)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.19444, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.19444, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True))</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestLinear:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Linear(1, 0.5)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.19444, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.19444, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL587' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114744</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestLinear</div><div id='n_method'> N Class Name: TestLinear</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 588</div><div id='m_end'> M End Line: 596</div><div id='n_start'> N Start Line: 588</div><div id='n_end'> N End Line: 596</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_inv_lengthscale(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.ExpQuad(1, ls_inv=10)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_inv_lengthscale(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.ExpQuad(1, ls_inv=10)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.53940, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL442' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114776</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestExpQuad</div><div id='n_method'> N Class Name: TestExpQuad</div><div id='m_method'> M Method Name: test_inv_lengthscale(1)</div><div id='n_method'> N Method Name: test_inv_lengthscale(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 443</div><div id='m_end'> M End Line: 451</div><div id='n_start'> N Start Line: 443</div><div id='n_end'> N End Line: 451</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestMatern32:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Matern32(1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.42682, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.42682, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestMatern32:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Matern32(1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.42682, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.42682, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL532' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114743</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestMatern32</div><div id='n_method'> N Class Name: TestMatern32</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 533</div><div id='m_end'> M End Line: 541</div><div id='n_start'> N Start Line: 533</div><div id='n_end'> N End Line: 541</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestRatQuad:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.RatQuad(1, ls=0.1, alpha=0.5)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.66896, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.66896, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestRatQuad:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.RatQuad(1, ls=0.1, alpha=0.5)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.66896, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.66896, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL490' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114742</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestRatQuad</div><div id='n_method'> N Class Name: TestRatQuad</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 491</div><div id='m_end'> M End Line: 499</div><div id='n_start'> N Start Line: 491</div><div id='n_end'> N End Line: 499</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestGibbs:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 2, 10)[:, None]

        def tanh_func(x, x1, x2, w, x0):
            return (x1 + x2) / 2.0 - (x1 - x2) / 2.0 * at.tanh((x - x0) / w)

        with pm.Model() as model:
            cov = pm.gp.cov.Gibbs(1, tanh_func, args=(0.05, 0.6, 0.4, 1.0))
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">))</a>()
        npt.assert_allclose(K[2, 3], 0.136683, atol=1e-4)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[2, 3], 0.136683, atol=1e-4)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_raises(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class TestGibbs:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 2, 10)[:, None]

        def tanh_func(x, x1, x2, w, x0):
            return (x1 + x2) / 2.0 - (x1 - x2) / 2.0 * at.tanh((x - x0) / w)

        with pm.Model() as model:
            cov = pm.gp.cov.Gibbs(1, tanh_func, args=(0.05, 0.6, 0.4, 1.0))
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[2, 3], 0.136683, atol=1e-4)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[2, 3], 0.136683, atol=1e-4)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_raises(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL641' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114774</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestGibbs</div><div id='n_method'> N Class Name: TestGibbs</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 642</div><div id='m_end'> M End Line: 654</div><div id='n_start'> N Start Line: 642</div><div id='n_end'> N End Line: 654</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestWarpedInput:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]

        def warp_func(x, a, b, c):
            return x + (a * at.tanh(b * (x - c)))

        with pm.Model() as model:
            cov_m52 = pm.gp.cov.Matern52(1, 0.2)
            cov = pm.gp.cov.WarpedInput(1, warp_func=warp_func, args=(1, 10, 1), cov_func=cov_m52)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.79593, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.79593, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_raises(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class TestWarpedInput:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]

        def warp_func(x, a, b, c):
            return x + (a * at.tanh(b * (x - c)))

        with pm.Model() as model:
            cov_m52 = pm.gp.cov.Matern52(1, 0.2)
            cov = pm.gp.cov.WarpedInput(1, warp_func=warp_func, args=(1, 10, 1), cov_func=cov_m52)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.79593, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.79593, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_raises(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL615' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114804</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestWarpedInput</div><div id='n_method'> N Class Name: TestWarpedInput</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 616</div><div id='m_end'> M End Line: 629</div><div id='n_start'> N Start Line: 616</div><div id='n_end'> N End Line: 629</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestWhiteNoise:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.WhiteNoise(sigma=0.5)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.0, atol=1e-3)
        npt.assert_allclose(K[0, 0], 0.5 ** 2, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)
        &#47&#47 check predict
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.0, atol=1e-3)
        &#47&#47 white noise predicting should return all zeros
        npt.assert_allclose(K[0, 0], 0.0, atol=1e-3)</code></pre><h3>After Change</h3><pre><code class='java'>

class TestWhiteNoise:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.WhiteNoise(sigma=0.5)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.0, atol=1e-3)
        npt.assert_allclose(K[0, 0], 0.5 ** 2, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)
        &#47&#47 check predict
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.0, atol=1e-3)
        &#47&#47 white noise predicting should return all zeros
        npt.assert_allclose(K[0, 0], 0.0, atol=1e-3)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL456' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114836</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestWhiteNoise</div><div id='n_method'> N Class Name: TestWhiteNoise</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 457</div><div id='m_end'> M End Line: 467</div><div id='n_start'> N Start Line: 457</div><div id='n_end'> N End Line: 467</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestExponential:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Exponential(1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.57375, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.57375, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestExponential:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Exponential(1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.57375, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.57375, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL504' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114739</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestExponential</div><div id='n_method'> N Class Name: TestExponential</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 505</div><div id='m_end'> M End Line: 513</div><div id='n_start'> N Start Line: 505</div><div id='n_end'> N End Line: 513</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestPeriodic:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Periodic(1, 0.1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.00288, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.00288, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestPeriodic:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Periodic(1, 0.1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.00288, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.00288, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL573' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114737</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestPeriodic</div><div id='n_method'> N Class Name: TestPeriodic</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 574</div><div id='m_end'> M End Line: 582</div><div id='n_start'> N Start Line: 574</div><div id='n_end'> N End Line: 582</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestCircular:
    def test_1d_tau1(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        etalon = 0.600881
        with pm.Model():
            cov = pm.gp.cov.Circular(1, 1, tau=5)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True))</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_1d_tau2(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class TestCircular:
    def test_1d_tau1(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        etalon = 0.600881
        with pm.Model():
            cov = pm.gp.cov.Circular(1, 1, tau=5)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], etalon, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

    def test_1d_tau2(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL1208' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114769</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestCircular</div><div id='n_method'> N Class Name: TestCircular</div><div id='m_method'> M Method Name: test_1d_tau1(1)</div><div id='n_method'> N Method Name: test_1d_tau1(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 1209</div><div id='m_end'> M End Line: 1218</div><div id='n_start'> N Start Line: 694</div><div id='n_end'> N End Line: 703</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestMatern52:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Matern52(1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.46202, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.46202, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestMatern52:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Matern52(1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.46202, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.46202, atol=1e-3)
        &#47&#47 check diagonal
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL518' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114734</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestMatern52</div><div id='n_method'> N Class Name: TestMatern52</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 519</div><div id='m_end'> M End Line: 527</div><div id='n_start'> N Start Line: 519</div><div id='n_end'> N End Line: 527</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TestMatern12:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Matern12(1, 0.1)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">))</a>()
        npt.assert_allclose(K[0, 1], 0.32919, atol=1e-3)
        K = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X, X<a id="change">)</a><a id="change">)</a>()
        npt.assert_allclose(K[0, 1], 0.32919, atol=1e-3)
        Kd = <a id="change">aesara.function([]</a>, <a id="change">cov(</a>X<a id="change">, diag=True)</a><a id="change">)</a>()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre><h3>After Change</h3><pre><code class='java'>

class TestMatern12:
    def test_1d(self):
        <a id="change">X</a> = np.linspace(0, 1, 10)[:, None]
        with pm.Model() as model:
            cov = pm.gp.cov.Matern12(1, 0.1)
        K = <a id="change">cov(</a>X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.32919, atol=1e-3)
        K = <a id="change">cov(</a>X, X<a id="change">)</a>.eval()
        npt.assert_allclose(K[0, 1], 0.32919, atol=1e-3)
        Kd = <a id="change">cov(</a>X<a id="change">, diag=True)</a>.eval()
        npt.assert_allclose(np.diag(K), Kd, atol=1e-5)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/64c1464ea5cffa47cb0199cda82ff85cd84a4d9c#diff-95077f5a816fc75dbe9bfab3f9c36bb1f55b0eecc8b9a0bbaaa248ab04ef396cL546' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111114760</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 64c1464ea5cffa47cb0199cda82ff85cd84a4d9c</div><div id='time'> Time: 2021-11-21</div><div id='author'> Author: w.j.engels@gmail.com</div><div id='file'> File Name: pymc/tests/test_gp.py</div><div id='m_class'> M Class Name: TestMatern12</div><div id='n_method'> N Class Name: TestMatern12</div><div id='m_method'> M Method Name: test_1d(1)</div><div id='n_method'> N Method Name: test_1d(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/test_gp.py</div><div id='m_start'> M Start Line: 547</div><div id='m_end'> M End Line: 554</div><div id='n_start'> N Start Line: 547</div><div id='n_end'> N End Line: 554</div><BR>