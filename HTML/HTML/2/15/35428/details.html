<html><h3>Pattern ID :35428
</h3><img src='100632079.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            sample[&quotindex&quot] - Index.
        
        record = self.csv.iloc[idx]
        image<a id="change"> = self</a><a id="change">._read_image(</a>self.path<a id="change"> / record[self.path_column]</a><a id="change">)</a>
        sample<a id="change"> = </a><a id="change">{</a>"image": image, &quotindex&quot: idx<a id="change">}</a>
        sample<a id="change"> = self</a><a id="change">._apply_transform(</a>self.augment, sample<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)
        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.input_dtype])

        if self.test_mode:
            return sample

        if self.train:
            &#47&#47 The labels start with 1 for train
            sample[&quottarget&quot] = <a id="change">record[self.target_column]</a> - 1
        else:
            &#47&#47 The labels start with 11319 for train
            <a id="change">sample[&quottarget&quot] = </a>record[self.target_column] - 11319

        return sample
</code></pre><h3>After Change</h3><pre><code class='java'>
            sample[&quottarget&quot] - Target class or labels.
            sample[&quotindex&quot] - Index.
        
        sample = <a id="change">self.get_raw(</a>idx<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)
        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.input_dtype])

        return sample</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 13</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/c2d3be5c4b8168a53d821d1b516e24ae7e1fe42a#diff-803c46dfc747f94ca85322ee5b9280f95f3873a558e7eee5eba56b9ff2f5fa4dL83' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100632079</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: c2d3be5c4b8168a53d821d1b516e24ae7e1fe42a</div><div id='time'> Time: 2022-08-26</div><div id='author'> Author: shulz134700@gmail.com</div><div id='file'> File Name: torchok/data/datasets/examples/sop.py</div><div id='m_class'> M Class Name: SOP</div><div id='n_method'> N Class Name: SOP</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: ImageDataset</div><div id='n_parent_class'> N Parent Class: ImageDataset</div><div id='m_file'> M File Name: torchok/data/datasets/examples/sop.py</div><div id='n_file'> N File Name: torchok/data/datasets/examples/sop.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 108</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                                                        self.target_column: &quotstr&quot})

    def __getitem__(self, idx: int) -&gt; Dict[str, Any]:
        <a id="change">record</a> = self.csv.iloc[idx]
        image_path = self.data_folder<a id="change"> / record[self.input_column]</a>
        image<a id="change"> = </a><a id="change">self._read_image(</a>image_path<a id="change">)</a>
        sample<a id="change"> = </a><a id="change">{</a>&quotimage&quot: image<a id="change">}</a>

        if not self.test_mode:
            mask_path = self.data_folder / <a id="change">record[self.target_column]</a>
            mask = self._read_mask(mask_path)
            sample[&quotmask&quot] = mask

        sample<a id="change"> = </a><a id="change">self._apply_transform(</a>self.augment, sample<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)

        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.image_dtype])
        <a id="change">sample[&quotindex&quot] = </a>idx

        if not self.test_mode:
            sample[&quottarget&quot] = sample[&quotmask&quot].type(torch.__dict__[self.target_dtype])</code></pre><h3>After Change</h3><pre><code class='java'>
        return sample

    def __getitem__(self, idx: int) -&gt; Dict[str, Any]:
        sample = <a id="change">self.get_raw(</a>idx<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)

        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.input_dtype])
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/e366696857b9dc5116ed2f3c2985a049a8e7b81a#diff-bea3fbcc9b5e43ed54fed3d776ae385f4f752caaf620e4183da0a80ba4fb33beL67' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100632075</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: e366696857b9dc5116ed2f3c2985a049a8e7b81a</div><div id='time'> Time: 2022-08-25</div><div id='author'> Author: shulz134700@gmail.com</div><div id='file'> File Name: torchok/data/datasets/segmentation/image_segmentation.py</div><div id='m_class'> M Class Name: ImageSegmentationDataset</div><div id='n_method'> N Class Name: ImageSegmentationDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: ImageDataset</div><div id='n_parent_class'> N Parent Class: ImageDataset</div><div id='m_file'> M File Name: torchok/data/datasets/segmentation/image_segmentation.py</div><div id='n_file'> N File Name: torchok/data/datasets/segmentation/image_segmentation.py</div><div id='m_start'> M Start Line: 68</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 77</div><div id='n_end'> N End Line: 83</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            sample[&quottarget&quot] - Target class or labels, dtype=target_dtype.
            sample[&quotindex&quot] - Index.
        
        <a id="change">record</a> = self.csv.iloc[idx]
        image<a id="change"> = </a><a id="change">self._read_image(</a>self.path<a id="change"> / record[self.path_column]</a><a id="change">)</a>
        sample<a id="change"> = </a><a id="change">{</a>"image": image, &quotindex&quot: idx<a id="change">}</a>
        sample<a id="change"> = </a><a id="change">self._apply_transform(</a>self.augment, sample<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)
        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.input_dtype])

        if self.test_mode:
            return sample

        if self.train:
            &#47&#47 The labels start with 1 for train
            <a id="change">sample[&quottarget&quot] = </a><a id="change">record[self.target_column]</a> - 1
        else:
            &#47&#47 The labels start with 11319 for train
            sample[&quottarget&quot] = record[self.target_column] - 11319</code></pre><h3>After Change</h3><pre><code class='java'>
            sample[&quottarget&quot] - Target class or labels.
            sample[&quotindex&quot] - Index.
        
        sample = <a id="change">self.get_raw(</a>idx<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)
        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.input_dtype])

        return sample</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/c2d3be5c4b8168a53d821d1b516e24ae7e1fe42a#diff-803c46dfc747f94ca85322ee5b9280f95f3873a558e7eee5eba56b9ff2f5fa4dL74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100632073</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: c2d3be5c4b8168a53d821d1b516e24ae7e1fe42a</div><div id='time'> Time: 2022-08-26</div><div id='author'> Author: shulz134700@gmail.com</div><div id='file'> File Name: torchok/data/datasets/examples/sop.py</div><div id='m_class'> M Class Name: SOP</div><div id='n_method'> N Class Name: SOP</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: ImageDataset</div><div id='n_parent_class'> N Parent Class: ImageDataset</div><div id='m_file'> M File Name: torchok/data/datasets/examples/sop.py</div><div id='n_file'> N File Name: torchok/data/datasets/examples/sop.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 108</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            sample[&quottarget&quot] - Target class or labels, dtype=target_dtype.
            sample[&quotindex&quot] - Index.
        
        <a id="change">record</a> = self.csv.iloc[idx]
        image_path = self.data_folder<a id="change"> / record[self.input_column]</a>
        image<a id="change"> = </a><a id="change">self._read_image(</a>image_path<a id="change">)</a>
        sample<a id="change"> = </a><a id="change">{</a>&quotimage&quot: image<a id="change">}</a>
        sample<a id="change"> = </a><a id="change">self._apply_transform(</a>self.augment, sample<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)
        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.image_dtype])
        <a id="change">sample[&quotindex&quot] = </a>idx

        if self.test_mode:
            return sample

        sample[&quottarget&quot] = <a id="change">record[self.target_column]</a>

        if self.lazy_init:
            if self.multilabel:
                sample[&quottarget&quot] = self.__process_multilabel(str(sample[&quottarget&quot]))</code></pre><h3>After Change</h3><pre><code class='java'>
            sample[&quottarget&quot] - Target class or labels, dtype=target_dtype.
            sample[&quotindex&quot] - Index.
        
        sample = <a id="change">self.get_raw(</a>idx<a id="change">)</a>
        sample = self._apply_transform(self.transform, sample)
        sample[&quotimage&quot] = sample[&quotimage&quot].type(torch.__dict__[self.input_dtype])

        if not self.test_mode:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/e366696857b9dc5116ed2f3c2985a049a8e7b81a#diff-bc0c68865c00d51c849bf1559973a888e934547e158ede897c97b74fe26d0ceaL96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100632064</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: e366696857b9dc5116ed2f3c2985a049a8e7b81a</div><div id='time'> Time: 2022-08-25</div><div id='author'> Author: shulz134700@gmail.com</div><div id='file'> File Name: torchok/data/datasets/classification/classification.py</div><div id='m_class'> M Class Name: ImageClassificationDataset</div><div id='n_method'> N Class Name: ImageClassificationDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: ImageDataset</div><div id='n_parent_class'> N Parent Class: ImageDataset</div><div id='m_file'> M File Name: torchok/data/datasets/classification/classification.py</div><div id='n_file'> N File Name: torchok/data/datasets/classification/classification.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 126</div><div id='n_end'> N End Line: 133</div><BR>