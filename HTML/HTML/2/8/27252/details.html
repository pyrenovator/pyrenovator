<html><h3>Pattern ID :27252
</h3><img src='80946499.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if data_path[-1]==&quot\n&quot:
            data_path=data_path[:-1]
        if self.cls_num==2:
            cls<a id="change">=</a>1-int(<a id="change">data_path.split(&quot/&quot</a><a id="change">)</a>[-1][0]==&quotc&quot or data_path.split(&quot/&quot)[-1][1]==&quot.&quot or
                      data_path.split(&quot/&quot)[-2]==&quotmasked_ild&quot)
        elif self.cls_num==4:
            if &quothealthy&quot in data_path:</code></pre><h3>After Change</h3><pre><code class='java'>
            if self.mod==&quotab&quot:&#47&#47abnormal detection
                cls = int(&quotpos&quot in data_path)
            else:
                cls = 1-int(<a id="change">&quotild&quot in data_path or &quotcap&quot in data_path</a>)
        elif self.cls_num==3:
            if &quothealthy&quot in data_path:
                cls = 0</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/chenwwweixiang/opencoviddetector/commit/8909104cb57ef877076c775372e08b8538243526#diff-74cad45aefddbfaa7bb449f5cacab993634353f0add41f56dcee2ce9d185cd42L695' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80946499</div><div id='project'> Project Name: chenwwweixiang/opencoviddetector</div><div id='commit'> Commit Name: 8909104cb57ef877076c775372e08b8538243526</div><div id='time'> Time: 2020-04-18</div><div id='author'> Author: chenwx_thu@foxmail.com</div><div id='file'> File Name: data/dataset.py</div><div id='m_class'> M Class Name: NCPJPGDataset_new</div><div id='n_method'> N Class Name: NCPJPGDataset_new</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data/dataset.py</div><div id='n_file'> N File Name: data/dataset.py</div><div id='m_start'> M Start Line: 695</div><div id='m_end'> M End Line: 709</div><div id='n_start'> N Start Line: 696</div><div id='n_end'> N End Line: 710</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    if len(words):
                        items.append({"pos": [start, i], "entity": words, "label": tag})
                    if label_name.startswith("B-"):
                        tag<a id="change"> = </a><a id="change">label_name.split("-"</a><a id="change">)</a>[1]
                    else:
                        tag = label_name
                    start = i</code></pre><h3>After Change</h3><pre><code class='java'>
            items = []
            input_data = input_datas[batch]
            for i, label in enumerate(token_label):
                if <a id="change">(label_list[label] == "O" or "B-" in label_list[label])</a> and start &gt;= 0:
                    entity = input_data[start : i - 1]
                    if isinstance(entity, list):
                        entity = "".join(entity)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/47fe71d98378e46e691d4fde7b1ba8ecb144afa4#diff-21c8dd460dff45096ebcb9e97d773c12b0d0aa6c1c99319dd6b701d92c2c9a38L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80946497</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 47fe71d98378e46e691d4fde7b1ba8ecb144afa4</div><div id='time'> Time: 2023-01-05</div><div id='author'> Author: fangzeyang0904@hotmail.com</div><div id='file'> File Name: model_zoo/ernie-3.0/deploy/simple_serving/server_token_cls.py</div><div id='m_class'> M Class Name: NERPostHandler</div><div id='n_method'> N Class Name: NERPostHandler</div><div id='m_method'> M Method Name: process(3)</div><div id='n_method'> N Method Name: process(3)</div><div id='m_parent_class'> M Parent Class: BasePostHandler</div><div id='n_parent_class'> N Parent Class: BasePostHandler</div><div id='m_file'> M File Name: model_zoo/ernie-3.0/deploy/simple_serving/server_token_cls.py</div><div id='n_file'> N File Name: model_zoo/ernie-3.0/deploy/simple_serving/server_token_cls.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if data_path[-1]==&quot\n&quot:
            data_path=data_path[:-1]
        if self.cls_num == 2:
            cls<a id="change"> = </a>1 - int(<a id="change">data_path.split(&quot/&quot</a><a id="change">)</a>[-1][0] == &quotc&quot or data_path.split(&quot/&quot)[-1][1] == &quot.&quot or
                          data_path.split(&quot/&quot)[-3] == &quotILD&quot)
        elif self.cls_num==4:
            if &quothealthy&quot in data_path:</code></pre><h3>After Change</h3><pre><code class='java'>
            if self.mod==&quotab&quot:&#47&#47abnormal detection
                cls = int(&quotpos&quot in data_path)
            else:
                cls = 1-int(<a id="change">&quotild&quot in data_path or &quotcap&quot in data_path</a>)
        elif self.cls_num==3:
            if &quothealthy&quot in data_path:
                cls = 0</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/chenwwweixiang/opencoviddetector/commit/8909104cb57ef877076c775372e08b8538243526#diff-74cad45aefddbfaa7bb449f5cacab993634353f0add41f56dcee2ce9d185cd42L766' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80946503</div><div id='project'> Project Name: chenwwweixiang/opencoviddetector</div><div id='commit'> Commit Name: 8909104cb57ef877076c775372e08b8538243526</div><div id='time'> Time: 2020-04-18</div><div id='author'> Author: chenwx_thu@foxmail.com</div><div id='file'> File Name: data/dataset.py</div><div id='m_class'> M Class Name: NCPJPGtestDataset_new</div><div id='n_method'> N Class Name: NCPJPGtestDataset_new</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data/dataset.py</div><div id='n_file'> N File Name: data/dataset.py</div><div id='m_start'> M Start Line: 768</div><div id='m_end'> M End Line: 784</div><div id='n_start'> N Start Line: 781</div><div id='n_end'> N End Line: 797</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                objects = line.split(&quot, &quot)
                if len(objects) == 2:
                    image = objects[0]
                    objects<a id="change"> = </a><a id="change">objects[1].split(&quot\"&quot</a><a id="change">)</a>
                    if 1 &lt; len(objects):
                        if len(objects) % 2:
                            captions = [objects[2 * i + 1]
                                for i in range(int(len(objects) / 2))]</code></pre><h3>After Change</h3><pre><code class='java'>
                    image = objects[0]
                    captions = []
                    for caption in objects[1:]:
                        if <a id="change">caption[0] != &quot\"&quot or caption[-1] != &quot\"&quot</a>:
                            log.warning("Line %s: unexpected number "
                                "of quotes" % line)
                        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/551fa11a820347080aaa92b43cac2fe61f1691a6#diff-8dabf26e19c18cd14fd53c6edd8a4b1d2dda9ebff6029ef2786e570df53ac0daL53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80946509</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 551fa11a820347080aaa92b43cac2fe61f1691a6</div><div id='time'> Time: 2021-07-22</div><div id='author'> Author: kirill.sizov@intel.com</div><div id='file'> File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_class'> M Class Name: _IcdarExtractor</div><div id='n_method'> N Class Name: _IcdarExtractor</div><div id='m_method'> M Method Name: _load_recognition_items(1)</div><div id='n_method'> N Method Name: _load_recognition_items(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 59</div><div id='n_end'> N End Line: 70</div><BR>