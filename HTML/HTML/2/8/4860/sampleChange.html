<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            pl_penalty = (pl_lengths - pl_mean).square()
            loss_Gpl = pl_penalty * self.pl_weight

            loss_Gpl = (<a id="change">gen_img[:, 0, 0, 0]</a> * 0 + loss_Gpl).mean() * float(gain)
            loss_numpy[&quotloss_Gpl&quot] = loss_Gpl.cpu().detach().numpy()
            loss_Gpl.backward()  &#47&#47 咩酱：gain即上文提到的这个阶段的训练间隔。
</code></pre><h3>After Change</h3><pre><code class='java'>
            phase = {&quotGreg&quot: &quotnone&quot, &quotGboth&quot: &quotGmain&quot}.get(phase, phase)
        if self.r1_gamma == 0:
            phase = {&quotDreg&quot: &quotnone&quot, &quotDboth&quot: &quotDmain&quot}.get(phase, phase)
        blur_sigma = max(<a id="change">1</a><a id="change"> - </a>cur_nimg / (self.blur_fade_kimg<a id="change"> * </a>1e3), 0)<a id="change"> * </a>self.blur_init_sigma<a id="change"> if self.blur_fade_kimg &gt; 0</a><a id="change"> else </a>0

        loss_numpy = {}
</code></pre>