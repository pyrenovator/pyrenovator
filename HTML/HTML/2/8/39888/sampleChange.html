<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    N_mask  = lengths%l_aa == 0
    CA_mask = lengths%l_aa == 1
    if boolean:
        <a id="change">return </a>N_mask<a id="change">, CA_mask</a>
    return N_mask.nonzero(), CA_mask.nonzero()

def nerf_torch(a, b, c, l, theta, chi):
     Custom Natural extension of Reference Frame. </code></pre><h3>After Change</h3><pre><code class='java'>
    
    wrapper = torch.zeros(*scn_seq.shape, 14)
    &#47&#47 N is the first atom in every AA. CA is the 2nd.
    wrapper[:, 0]<a id="change"> = </a>1
    wrapper[:, 1] = 2
    wrapper[:, 2] = 3
    wrapper<a id="change"> = </a><a id="change">rearrange(</a>wrapper, <a id="change">&quot... l c -&gt; ... (l c)&quot</a><a id="change">)</a>
    &#47&#47 find idxs
    N_mask  = wrapper == 1
    CA_mask = wrapper == 2
    C_mask  = wrapper == 3 
    if boolean:
        <a id="change">return </a>N_mask<a id="change">, CA_mask, C_mask</a>
    return N_mask.nonzero(), CA_mask.nonzero(), C_mask.nonzero()

def nerf_torch(a, b, c, l, theta, chi):
     Custom Natural extension of Reference Frame. </code></pre>