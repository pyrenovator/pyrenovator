<html><h3>Pattern ID :1347
</h3><img src='6500787.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    annotations.append(Label(label=label))
                item_id = item_id[len(item_id.split(&quot/&quot)[0]) + 1:]

            bbox_count = lines[image_id<a id="change"> + 1</a>]
            bbox_lines<a id="change"> = </a>lines[image_id + 2 : image_id + <a id="change">int(</a>bbox_count<a id="change">)</a> + 2]
            for bbox in bbox_lines:
                bbox_list = bbox.split()
                if 4 &lt;= len(bbox_list):</code></pre><h3>After Change</h3><pre><code class='java'>
            lines = f.readlines()

        line_ids = [line_idx for line_idx, line in enumerate(lines)
            if <a id="change">(&quot/&quot in line or &quot\\&quot in line) and &quot.&quot in line</a>] \
            &#47&#47 a heuristic for paths

        for line_idx in line_ids:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/22728f23e850b31562cdb5da80cd34722a091574#diff-dcc3865d4003733a40ba256dbd184219166ca924faabe268a0f147aee8aee498L68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6500787</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 22728f23e850b31562cdb5da80cd34722a091574</div><div id='time'> Time: 2021-03-19</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/widerface_format.py</div><div id='m_class'> M Class Name: WiderFaceExtractor</div><div id='n_method'> N Class Name: WiderFaceExtractor</div><div id='m_method'> M Method Name: _load_items(2)</div><div id='n_method'> N Method Name: _load_items(2)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/widerface_format.py</div><div id='n_file'> N File Name: datumaro/plugins/widerface_format.py</div><div id='m_start'> M Start Line: 68</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 100</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 If requested, add a 1/2PSF border around the convolution window to get rid of edge effects
        if "border" in self.psf_mode:
            psf_border_int = (
                <a id="change">int(</a>psf_image.window.shape[0]/(<a id="change">2</a><a id="change">*</a>working_image.pixelscale)+1<a id="change">)</a>,
                int(psf_image.window.shape[1]/(2*working_image.pixelscale)+1),
            )
            psf_border = (
                psf_border_int[0]*working_image.pixelscale,
                psf_border_int[1]*working_image.pixelscale,
            )
            psf_window<a id="change"> += </a>psf_border
            
        &#47&#47 Perform the convolution according to the requested method
        if "direct" in self.psf_mode:</code></pre><h3>After Change</h3><pre><code class='java'>
            convolution = direct_convolve(working_image[working_window].data, psf_image.data)
        elif "fft" in self.psf_mode:
            convolution = fft_convolve(working_image[working_window].data, psf_image.data)
        elif <a id="change">max(psf_image.data.shape) &lt; 20 or max(working_image[working_window].data.shape) &lt; 100</a>:
            convolution = direct_convolve(working_image[working_window].data, psf_image.data)
        else:
            convolution = fft_convolve(working_image[working_window].data, psf_image.data)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/94b98c7b3f8d932c5b369e9fce696b13bb07b9c0#diff-f48e7e4f4617c56a91cecf87400e1b8c67ec5491c53dceae61328526ff99ebfeL163' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6500755</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: 94b98c7b3f8d932c5b369e9fce696b13bb07b9c0</div><div id='time'> Time: 2022-09-09</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/models/model_object.py</div><div id='m_class'> M Class Name: BaseModel</div><div id='n_method'> N Class Name: BaseModel</div><div id='m_method'> M Method Name: convolve_psf(3)</div><div id='n_method'> N Method Name: convolve_psf(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: autoprof/models/model_object.py</div><div id='n_file'> N File Name: autoprof/models/model_object.py</div><div id='m_start'> M Start Line: 164</div><div id='m_end'> M End Line: 198</div><div id='n_start'> N Start Line: 173</div><div id='n_end'> N End Line: 194</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    objects = objects[1].split(&quot\"&quot)
                    if 1 &lt; len(objects):
                        if len(objects) % 2:
                            captions<a id="change"> = </a>[objects[2 * i + 1]
                                for i in range(<a id="change">int(</a>len(objects)<a id="change"> / 2</a><a id="change">)</a>)]
                        else:
                            raise Exception("Line %s: unexpected number "
                                "of quotes in filename" % line)</code></pre><h3>After Change</h3><pre><code class='java'>
                    image = objects[0]
                    captions = []
                    for caption in objects[1:]:
                        <a id="change">if </a><a id="change">caption[0] != &quot\"&quot or caption[-1] != &quot\"&quot</a>:
                            log.warning("Line %s: unexpected number "
                                "of quotes" % line)
                        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/551fa11a820347080aaa92b43cac2fe61f1691a6#diff-8dabf26e19c18cd14fd53c6edd8a4b1d2dda9ebff6029ef2786e570df53ac0daL53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6500769</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 551fa11a820347080aaa92b43cac2fe61f1691a6</div><div id='time'> Time: 2021-07-22</div><div id='author'> Author: kirill.sizov@intel.com</div><div id='file'> File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_class'> M Class Name: _IcdarExtractor</div><div id='n_method'> N Class Name: _IcdarExtractor</div><div id='m_method'> M Method Name: _load_recognition_items(1)</div><div id='n_method'> N Method Name: _load_recognition_items(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 59</div><div id='n_end'> N End Line: 70</div><BR>