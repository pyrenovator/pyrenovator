<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    this_dir = os.path.dirname(os.path.abspath(__file__))
    extensions_dir = os.path.join(this_dir, &quotDCLS/src&quot)

    ext_list = <a id="change">[</a>&quotdcls_1d&quot,
                <a id="change">&quotdcls_2_1d&quot</a>,                
                &quotdcls_2d&quot,
                <a id="change">&quotdcls_3_1d&quot</a>,
                &quotdcls_3_2d&quot,                
                &quotdcls_3d&quot,                
                &quotdcls&quot,
                &quotim2col_dcls&quot<a id="change"></a>]    
    if not sys.platform == &quotwin32&quot:
        &#47&#47 win32 does not support cuSparse
        ext_list.extend([&quotspmm&quot, 
                         &quotsparse_weight_conv&quot])
    
    extra_compile_args = {&quotcxx&quot: [&quot-g&quot], &quotnvcc&quot: [&quot-use_fast_math&quot]}
    
    extension = CUDAExtension
    define_macros = [("WITH_CUDA", None)]
    ext_modules<a id="change"> = </a>list([
        extension(
            ext_name,
            glob.glob(os.path.join(extensions_dir, ext_name + &quot.cpp&quot)) + glob.glob(os.path.join(extensions_dir, &quotcuda&quot, ext_name + &quot_cuda_kernel.cu&quot)),</code></pre><h3>After Change</h3><pre><code class='java'>
    else:
        print(&quotInstall With CUDA Extension&quot)
    this_dir = os.path.dirname(os.path.abspath(__file__))
    extensions_dir_construct<a id="change"> = </a><a id="change">os.path.join(</a>this_dir, <a id="change">&quotDCLS/construct/src&quot</a><a id="change">)</a>
    extensions_dir = os.path.join(this_dir, &quotDCLS/src&quot)    

    ext_list_construct = [&quotdcls_construct_1d&quot,
                          &quotdcls_construct_2_1d&quot,                
                          &quotdcls_construct_2d&quot,
                          &quotdcls_construct_3_1d&quot,
                          &quotdcls_construct_3_2d&quot,                
                          &quotdcls_construct_3d&quot]
    ext_list = [&quotdcls_2d&quot,
                &quotim2col_dcls_2d&quot]    
    if not sys.platform == &quotwin32&quot:
        &#47&#47 win32 does not support cuSparse
        ext_list_construct.extend([&quotspmm&quot, 
                         &quotsparse_weight_conv&quot])
    
    extra_compile_args = {&quotcxx&quot: [&quot-g&quot], &quotnvcc&quot: [&quot-use_fast_math&quot]}
    
    extension = CUDAExtension
    define_macros = [("WITH_CUDA", None)]
    ext_modules<a id="change"> = </a>list([
        extension(
            ext_name,
            glob.glob(os.path.join(extensions_dir_construct, ext_name + &quot.cpp&quot)) + glob.glob(os.path.join(extensions_dir_construct, &quotcuda&quot, ext_name + &quot_cuda_kernel.cu&quot)),</code></pre>