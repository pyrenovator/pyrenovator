<html><h3>Pattern ID :13233
</h3><img src='44641037.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def forward(self, x):
        B, N, C = x.shape

        x_l<a id="change"> = </a><a id="change">x.view(</a>B, <a id="change">N</a>, 1, C<a id="change">)</a>.expand(B, N, N, C)
        x_r<a id="change"> = </a><a id="change">x.view(</a>B, <a id="change">1</a>, <a id="change">N</a>, C<a id="change">)</a>.expand(B, N, N, C)
        if self.join==&quotcat&quot:
            v = torch.cat((x_l, x_r), dim=3) &#47&#47 (B, N, N, C*2)
        elif self.join==&quotadd&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.fc = nn.ModuleList(linears)

    def forward(self, x_l, x_r=None):
        x_r = x_l<a id="change"> if x_r is None</a><a id="change"> else </a>x_r
        assert(x_l.shape == x_r.shape)
        B, N, C = x_l.shape
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/keio-bioinformatics/mxfold2/commit/b9b30f95972bd1505673b6a2e9fbc765329401a4#diff-c9a664b6ab969299efeb624a60d9f43a2f26d097fa73e50c22da2a6220cbabfaL95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44641037</div><div id='project'> Project Name: keio-bioinformatics/mxfold2</div><div id='commit'> Commit Name: b9b30f95972bd1505673b6a2e9fbc765329401a4</div><div id='time'> Time: 2019-11-10</div><div id='author'> Author: satoken@bio.keio.ac.jp</div><div id='file'> File Name: dnnfold/fold/layers.py</div><div id='m_class'> M Class Name: FCPairedLayer</div><div id='n_method'> N Class Name: FCPairedLayer</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: dnnfold/fold/layers.py</div><div id='n_file'> N File Name: dnnfold/fold/layers.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 sigmoid activation for rgb
        color = torch.sigmoid(h)
    
        sigma<a id="change"> = </a><a id="change">sigma.view(</a>*<a id="change">prefix)</a>
        color<a id="change"> = </a><a id="change">color.view(</a>*prefix, <a id="change">-1</a><a id="change">)</a>

        return sigma, color

    def density(self, x, bound):</code></pre><h3>After Change</h3><pre><code class='java'>
        d = self.encoder_dir(d)

        &#47&#47p = torch.zeros_like(geo_feat[..., :1]) &#47&#47 manual input padding
        h = geo_feat<a id="change"> if d is None</a><a id="change"> else </a>torch.cat([d, geo_feat], dim=-1)
        h = self.color_net(h)
        
        &#47&#47 sigmoid activation for rgb</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ashawkey/dreamfields-torch/commit/118106fd46e2503e1d1d01fe0b0b17d8d6059a01#diff-91f13ad3106a8196fdb67f69876632f0d6380c8e9dd8fc712d783cefd7df4131L78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44641036</div><div id='project'> Project Name: ashawkey/dreamfields-torch</div><div id='commit'> Commit Name: 118106fd46e2503e1d1d01fe0b0b17d8d6059a01</div><div id='time'> Time: 2022-05-15</div><div id='author'> Author: ashawkey1999@gmail.com</div><div id='file'> File Name: nerf/network_tcnn.py</div><div id='m_class'> M Class Name: NeRFNetwork</div><div id='n_method'> N Class Name: NeRFNetwork</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(4)</div><div id='m_parent_class'> M Parent Class: NeRFRenderer</div><div id='n_parent_class'> N Parent Class: NeRFRenderer</div><div id='m_file'> M File Name: nerf/network_tcnn.py</div><div id='n_file'> N File Name: nerf/network_tcnn.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 90</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def forward(self, x):
        B, N, C = x.shape

        x_l<a id="change"> = </a><a id="change">x.view(</a>B, N, 1, C<a id="change">)</a>.expand(B, N, N, C)
        x_r<a id="change"> = </a><a id="change">x.view(</a>B, <a id="change">1</a>, N, C<a id="change">)</a>.expand(B, N, N, C)
        if self.join==&quotcat&quot:
            v = torch.cat((x_l, x_r), dim=3) &#47&#47 (B, N, N, C*2)
        elif self.join==&quotadd&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.fc = nn.ModuleList(linears)

    def forward(self, x_l, x_r=None):
        x_r = x_l<a id="change"> if x_r is None</a><a id="change"> else </a>x_r
        assert(x_l.shape == x_r.shape)
        B, N, C = x_l.shape
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/keio-bioinformatics/mxfold2/commit/b9b30f95972bd1505673b6a2e9fbc765329401a4#diff-c9a664b6ab969299efeb624a60d9f43a2f26d097fa73e50c22da2a6220cbabfaL94' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44641039</div><div id='project'> Project Name: keio-bioinformatics/mxfold2</div><div id='commit'> Commit Name: b9b30f95972bd1505673b6a2e9fbc765329401a4</div><div id='time'> Time: 2019-11-10</div><div id='author'> Author: satoken@bio.keio.ac.jp</div><div id='file'> File Name: dnnfold/fold/layers.py</div><div id='m_class'> M Class Name: FCPairedLayer</div><div id='n_method'> N Class Name: FCPairedLayer</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: dnnfold/fold/layers.py</div><div id='n_file'> N File Name: dnnfold/fold/layers.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 109</div><BR>