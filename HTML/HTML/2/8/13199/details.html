<html><h3>Pattern ID :13199
</h3><img src='44580833.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if model is not None:
            if hasattr(model, &quothash&quot):
                header += &quot\n Model initialisation file SHA-1 hash: {}&quot.format(<a id="change">{</a>model.hash<a id="change"></a>})

        if comments is not None:
            header += &quot\nUser comment during export: {}&quot.format(comments)</code></pre><h3>After Change</h3><pre><code class='java'>
        np.savetxt(filename, grand_matrix.numpy(), delimiter=&quot,&quot, header=header)

        if plain_header:
            <a id="change">with open(</a><a id="change">filename, "r+") as f:
                </a>content = <a id="change">f.read()</a>  &#47&#47 read everything in the file
                content<a id="change"> = </a>content[2:]
                f.seek(0)  &#47&#47 rewind
                f.write(content)  &#47&#47 write the new line before
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/0e751ede4cc6896061a73b4506a2569e7d8ea49d#diff-1b5f5673f452891ede5b95117510ca14fe70ddb705ced9505e61f35210176608L207' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44580833</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: 0e751ede4cc6896061a73b4506a2569e7d8ea49d</div><div id='time'> Time: 2019-09-04</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: deepsmlm/generic/emitter.py</div><div id='m_class'> M Class Name: EmitterSet</div><div id='n_method'> N Class Name: EmitterSet</div><div id='m_method'> M Method Name: write_to_csv(5)</div><div id='n_method'> N Method Name: write_to_csv(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepsmlm/generic/emitter.py</div><div id='n_file'> N File Name: deepsmlm/generic/emitter.py</div><div id='m_start'> M Start Line: 207</div><div id='m_end'> M End Line: 207</div><div id='n_start'> N Start Line: 220</div><div id='n_end'> N End Line: 252</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if model is not None:
            if hasattr(model, &quothash&quot):
                header += &quot\n Model initialisation file SHA-1 hash: {}&quot.format(<a id="change">{</a>model.hash<a id="change"></a>})

        if comments is not None:
            header += &quot\nUser comment during export: {}&quot.format(comments)</code></pre><h3>After Change</h3><pre><code class='java'>
        np.savetxt(filename, grand_matrix.numpy(), delimiter=&quot,&quot, header=header)

        if plain_header:
            <a id="change">with open(</a><a id="change">filename, "r+") as f:
                </a>content<a id="change"> = </a><a id="change">f.read()</a>  &#47&#47 read everything in the file
                content = content[2:]
                f.seek(0)  &#47&#47 rewind
                f.write(content)  &#47&#47 write the new line before</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/0e751ede4cc6896061a73b4506a2569e7d8ea49d#diff-1b5f5673f452891ede5b95117510ca14fe70ddb705ced9505e61f35210176608L190' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44580834</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: 0e751ede4cc6896061a73b4506a2569e7d8ea49d</div><div id='time'> Time: 2019-09-04</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: deepsmlm/generic/emitter.py</div><div id='m_class'> M Class Name: EmitterSet</div><div id='n_method'> N Class Name: EmitterSet</div><div id='m_method'> M Method Name: write_to_csv(5)</div><div id='n_method'> N Method Name: write_to_csv(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepsmlm/generic/emitter.py</div><div id='n_file'> N File Name: deepsmlm/generic/emitter.py</div><div id='m_start'> M Start Line: 207</div><div id='m_end'> M End Line: 207</div><div id='n_start'> N Start Line: 220</div><div id='n_end'> N End Line: 252</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    return version

def get_requirements():
    requirements = <a id="change">[
        </a>&quotattrs&gt;=19.3.0&quot,
        &quotdefusedxml&quot,
        &quotGitPython&quot,
        &quotlxml&quot,
        &quotmatplotlib&quot,
        &quotnumpy&gt;=1.17.3&quot,
        &quotPillow&quot,

        &#47&#47 Avoid 2.0.2 Linux binary distribution because of
        &#47&#47 a conflict in numpy versions with TensorFlow:
        &#47&#47 - TF is compiled with numpy 1.19 ABI
        &#47&#47 - pycocotools is compiled with numpy 1.20 ABI
        &#47&#47 Using a previous version allows to force package rebuilding.
        &#47&#47
        &#47&#47 https://github.com/openvinotoolkit/datumaro/issues/253
        &quotpycocotools!=2.0.2; platform_system != "Windows"&quot,
        &quotpycocotools-windows; platform_system == "Windows"&quot,

        &quotPyYAML&quot,
        &quotscikit-image&quot,
        &quottensorboardX&quot<a id="change"></a>,
    ]
    if strtobool(os.getenv(&quotDATUMARO_HEADLESS&quot, &quot0&quot).lower()):
        requirements.append(&quotopencv-python-headless&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    return version

def get_requirements():
    <a id="change">with open(&quotrequirements-core.txt&quot</a><a id="change">) as fh:
        </a>requirements<a id="change"> = </a>[<a id="change">fh.read()</a>]

    if strtobool(os.getenv(&quotDATUMARO_HEADLESS&quot, &quot0&quot).lower()):
        requirements.append(&quotopencv-python-headless&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/f53d4230770269d0855836def7ab055720898fa0#diff-60f61ab7a8d1910d86d9fda2261620314edcae5894d5aaa236b821c7256badd7L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44580835</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: f53d4230770269d0855836def7ab055720898fa0</div><div id='time'> Time: 2021-06-24</div><div id='author'> Author: roman.donchenko@intel.com</div><div id='file'> File Name: setup.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_requirements(0)</div><div id='n_method'> N Method Name: get_requirements(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: setup.py</div><div id='n_file'> N File Name: setup.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 40</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def test_read_pdf(mock_pdf, mock_pdf_stream):
    for file in <a id="change">[</a>mock_pdf, mock_pdf_stream<a id="change"></a>]:
        doc = io.read_pdf(file)
        assert isinstance(doc, fitz.Document)
</code></pre><h3>After Change</h3><pre><code class='java'>
    doc = io.read_pdf(mock_pdf)
    assert isinstance(doc, fitz.Document)

    <a id="change">with open(</a><a id="change">mock_pdf, &quotrb&quot) as f:
        </a>doc<a id="change"> = </a>io.read_pdf(<a id="change">f.read()</a>)
    assert isinstance(doc, fitz.Document)

    &#47&#47 Wrong input type</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/eb35c5f2cd00ef4b8589e500ee33e5ce4dbf687a#diff-1d0c31b7d8fba203f69f0540a656c6da26d06185736e1b611172b45ff61ed2caL39' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44580836</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: eb35c5f2cd00ef4b8589e500ee33e5ce4dbf687a</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: 76527547+fg-mindee@users.noreply.github.com</div><div id='file'> File Name: tests/common/test_io.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_read_pdf(1)</div><div id='n_method'> N Method Name: test_read_pdf(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/common/test_io.py</div><div id='n_file'> N File Name: tests/common/test_io.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    print(&quotEndpoint deployed in local mode&quot)

    dummy_inputs = <a id="change">{
        </a>&quotbucket_name&quot: &quotaws-ml-blog&quot,
        &quotobject_name&quot: &quotartifacts/tensorflow-script-mode-local-model-inference/instances.json&quot<a id="change">
    }</a>

    predictions = predictor.predict(dummy_inputs)
    print("predictions: {}".format(predictions))
</code></pre><h3>After Change</h3><pre><code class='java'>

    print(&quotEndpoint deployed in local mode&quot)

    <a id="change">with open(</a><a id="change">"instances.json", &quotr&quot) as f:
        </a>payload<a id="change"> = </a><a id="change">f.read()</a>.strip()

    predictions = predictor.predict(payload)
    print("predictions: {}".format(predictions))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aws-samples/amazon-sagemaker-local-mode/commit/1f1748e6ebded35f8e473390ab0c7a99e3565dca#diff-7a8eda23a2bd829347c37b3ee489168e145cd4243ba213a0aec59e99072d75daL22' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44580837</div><div id='project'> Project Name: aws-samples/amazon-sagemaker-local-mode</div><div id='commit'> Commit Name: 1f1748e6ebded35f8e473390ab0c7a99e3565dca</div><div id='time'> Time: 2022-06-20</div><div id='author'> Author: eitan.sela@gmail.com</div><div id='file'> File Name: tensorflow_script_mode_local_model_inference/tensorflow_script_mode_local_model_inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tensorflow_script_mode_local_model_inference/tensorflow_script_mode_local_model_inference.py</div><div id='n_file'> N File Name: tensorflow_script_mode_local_model_inference/tensorflow_script_mode_local_model_inference.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 50</div><BR>