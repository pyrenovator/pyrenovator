<html><h3>Pattern ID :10229
</h3><img src='36013013.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            w = int(round(math.sqrt(target_area * aspect_ratio)))
            h = int(round(math.sqrt(target_area / aspect_ratio)))

            <a id="change">if random.random() &lt; 0.5</a><a id="change"> and min(ratio) &lt;= (h / w) &lt;= max(ratio)</a>:
                w, h = h, w

            if w &lt;= img.size[0] and h &lt;= img.size[1]:</code></pre><h3>After Change</h3><pre><code class='java'>

        for attempt in range(10):
            target_area = random.uniform(*scale) * area
            log_ratio = (<a id="change">math.log(</a>ratio[0]<a id="change">)</a>, <a id="change">math.log(</a>ratio[1]<a id="change">)</a>)
            aspect_ratio = math.exp(random.uniform(*log_ratio))

            w = int(round(math.sqrt(target_area * aspect_ratio)))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/alvinwan/nbdt-pytorch-image-models/commit/66634d2200efd5cb3f0f8ebb45c7628c57549fe3#diff-54385436e04ed0f50e30b19b4a21e6af4f802e42f4078aeca60700ee0134d7daL110' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36013013</div><div id='project'> Project Name: alvinwan/nbdt-pytorch-image-models</div><div id='commit'> Commit Name: 66634d2200efd5cb3f0f8ebb45c7628c57549fe3</div><div id='time'> Time: 2019-08-12</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: timm/data/transforms.py</div><div id='m_class'> M Class Name: RandomResizedCropAndInterpolation</div><div id='n_method'> N Class Name: RandomResizedCropAndInterpolation</div><div id='m_method'> M Method Name: get_params(3)</div><div id='n_method'> N Method Name: get_params(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: timm/data/transforms.py</div><div id='n_file'> N File Name: timm/data/transforms.py</div><div id='m_start'> M Start Line: 110</div><div id='m_end'> M End Line: 127</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                raise SourceIteratorNotIterableException(f&quot{self.__class__.__name__}.source_iterator is not iterable, use yield instead of return&quot)
            for inputData in sourceIterator:
                self.counter += 1
                <a id="change">if self.logAtEachN != 0</a><a id="change"> and self.counter % self.logAtEachN == 0</a>:
                    _log(f&quotProcessed: {self.counter}&quot)
                self.run(*inputData, *self.loadedData)
        self._close_input_chunks()</code></pre><h3>After Change</h3><pre><code class='java'>
        
        self.jobId = job.id
        self.jobTotal = job.total
        <a id="change">self.log(</a>&quotExecute - START&quot<a id="change">)</a>
        try:
            self.initialise()
            self._open_input_chunks(job=job)
            with self._get_temporary_dataset(jobId=job.id).open(&quotw&quot) as self.output:
                sourceIterator = self.source_iterator(parameters=job.parameters)
                if not isinstance(sourceIterator, GeneratorType):
                    raise SourceIteratorNotIterableException(f&quot{self.__class__.__name__}.source_iterator is not iterable, use yield instead of return&quot)
                for inputData in sourceIterator:
                    self.log_counter()
                    try:
                        self.run(*inputData, *self.loadedData)
                    except Exception as ex:  &#47&#47 pylint: disable=broad-except
                        self.log_exception(ex)
            self._close_input_chunks()
            self.log_counter(final=True)
        except Exception as ex:  &#47&#47 pylint: disable=broad-except
            self.log_exception(ex)
        <a id="change">self.log(</a>&quotExecute - END&quot<a id="change">)</a>
        return JobReport(jobId=job.id, exceptions=self.exceptions, results=self.results)

    def initialise(self):
        After opening input chunks and loading loaded inputs, creates :term:`delayed` classes, initialises the results to be returned in JobReports and calls the task&quots custom `init()`</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hypergol/hypergol/commit/b6dc554db79e948b55209766cc938b89614bd968#diff-76d6f128fd8f639cc4a3260ebe83030326ec5fa80bdf1bdf7c69efd2a1ee8fb5L93' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36013015</div><div id='project'> Project Name: hypergol/hypergol</div><div id='commit'> Commit Name: b6dc554db79e948b55209766cc938b89614bd968</div><div id='time'> Time: 2020-12-09</div><div id='author'> Author: sragner@gmail.com</div><div id='file'> File Name: src/hypergol/task.py</div><div id='m_class'> M Class Name: Task</div><div id='n_method'> N Class Name: Task</div><div id='m_method'> M Method Name: execute(2)</div><div id='n_method'> N Method Name: execute(2)</div><div id='m_parent_class'> M Parent Class: Repr</div><div id='n_parent_class'> N Parent Class: Repr</div><div id='m_file'> M File Name: src/hypergol/task.py</div><div id='n_file'> N File Name: src/hypergol/task.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 118</div><div id='n_start'> N Start Line: 125</div><div id='n_end'> N End Line: 145</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            w = int(round(math.sqrt(target_area * aspect_ratio)))
            h = int(round(math.sqrt(target_area / aspect_ratio)))

            <a id="change">if random.random() &lt; 0.5</a><a id="change"> and min(ratio) &lt;= (h / w) &lt;= max(ratio)</a>:
                w, h = h, w

            if w &lt;= img.size[0] and h &lt;= img.size[1]:</code></pre><h3>After Change</h3><pre><code class='java'>

        for attempt in range(10):
            target_area = random.uniform(*scale) * area
            log_ratio = (<a id="change">math.log(</a>ratio[0]<a id="change">)</a>, <a id="change">math.log(</a>ratio[1]<a id="change">)</a>)
            aspect_ratio = math.exp(random.uniform(*log_ratio))

            w = int(round(math.sqrt(target_area * aspect_ratio)))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alvinwan/nbdt-pytorch-image-models/commit/66634d2200efd5cb3f0f8ebb45c7628c57549fe3#diff-54385436e04ed0f50e30b19b4a21e6af4f802e42f4078aeca60700ee0134d7daL94' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36013014</div><div id='project'> Project Name: alvinwan/nbdt-pytorch-image-models</div><div id='commit'> Commit Name: 66634d2200efd5cb3f0f8ebb45c7628c57549fe3</div><div id='time'> Time: 2019-08-12</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: timm/data/transforms.py</div><div id='m_class'> M Class Name: RandomResizedCropAndInterpolation</div><div id='n_method'> N Class Name: RandomResizedCropAndInterpolation</div><div id='m_method'> M Method Name: get_params(3)</div><div id='n_method'> N Method Name: get_params(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: timm/data/transforms.py</div><div id='n_file'> N File Name: timm/data/transforms.py</div><div id='m_start'> M Start Line: 110</div><div id='m_end'> M End Line: 127</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 134</div><BR>