<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    if ln != n_tup:
                        warn(f&quot{tup} with invalid number of notes added - expect {n_tup}, got {ln}&quot)
                    if number == 134:
                        ic(<a id="change">lst[-1]</a>)
                &#47&#47 Processed til last element, last tuplet group not enough elements
                if idx == idx_last and n_tup_curr &lt; n_tup:
                    assert trip_added</code></pre><h3>After Change</h3><pre><code class='java'>
            if not keep_chord:
                tups_new = []
                has_chord = False
                <a id="change">for </a>i in range(idx_tup_strt, len(lst))<a id="change">:  &#47&#47 Ensure all tuplet groups contain no Chord
                    </a>tup = lst[i]
                    &#47&#47 Bad transcription quality =&gt; Keep all possible tuplet combinations
                    &#47&#47 Expect to be the same
                    <a id="change">if </a><a id="change">any(isinstance</a><a id="change">(n, Chord) for n in tup)</a>:
                        has_chord = True
                        opns = [tuple(n.notes) if isinstance(n, Chord) else (n,) for n in tup]
                        tups_new.extend(list(itertools.product(*opns)))</code></pre>