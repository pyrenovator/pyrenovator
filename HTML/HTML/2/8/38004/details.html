<html><h3>Pattern ID :38004
</h3><img src='108857213.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            features, adj, mask = self._to_tensor([features, adj, mask])
            logit = self.model.predict_on_batch([features, adj, mask])

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            features, adj, mask = self._to_tensor([features, adj, mask])
            logit = self.model.predict_on_batch([features, adj, mask])

        <a id="change">if </a><a id="change">tf.is_tensor(logit</a><a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return logit</a>
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 11</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-174fc06641a2620b0bac4b7ca3fa5b5fd92f9ffe23f27567a1fa824f8c5aad57L137' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857213</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/lgcn.py</div><div id='m_class'> M Class Name: LGCN</div><div id='n_method'> N Class Name: LGCN</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/lgcn.py</div><div id='n_file'> N File Name: nn/models/lgcn.py</div><div id='m_start'> M Start Line: 137</div><div id='m_end'> M End Line: 137</div><div id='n_start'> N Start Line: 137</div><div id='n_end'> N End Line: 139</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            features = tf.gather(self.features, index)
            logit = self.model.predict_on_batch(features)

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            features = tf.gather(self.features, index)
            logit = self.model.predict_on_batch(features)

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-b4240e4d38e3d024905b596e80da833329dc7ef432be11c62c04d4d7f3b4b6cbL94' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857212</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/sgc.py</div><div id='m_class'> M Class Name: SGC</div><div id='n_method'> N Class Name: SGC</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/sgc.py</div><div id='n_file'> N File Name: nn/models/sgc.py</div><div id='m_start'> M Start Line: 101</div><div id='m_end'> M End Line: 101</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">return logit.numpy()</a>

    def train_sequence(self, index):
        index = self._check_and_convert(index)
        labels = self.labels[index]</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit

    def train_sequence(self, index):
        index = self._check_and_convert(index)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-c2e9e005fbef70bc7fe04f0069ae453797403d5a00bd1e373594096d6b2781e5L117' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857228</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/s_obvat.py</div><div id='m_class'> M Class Name: SimplifiedOBVAT</div><div id='n_method'> N Class Name: SimplifiedOBVAT</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/s_obvat.py</div><div id='n_file'> N File Name: nn/models/s_obvat.py</div><div id='m_start'> M Start Line: 125</div><div id='m_end'> M End Line: 125</div><div id='n_start'> N Start Line: 125</div><div id='n_end'> N End Line: 127</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.edge_index, self.edge_weight, index])

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.edge_index, self.edge_weight, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-95cd69982b959c701bdf1f51dbc495c3d9a96966623fb9555335351ac4cc60b0L112' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857215</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/gcn_edgeconv.py</div><div id='m_class'> M Class Name: EdgeGCN</div><div id='n_method'> N Class Name: EdgeGCN</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/gcn_edgeconv.py</div><div id='n_file'> N File Name: nn/models/gcn_edgeconv.py</div><div id='m_start'> M Start Line: 119</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 119</div><div id='n_end'> N End Line: 121</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-a956342f78fcba9978785de619c61f925b42facf93186463ad360562b26e4792L156' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857225</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/gmnn.py</div><div id='m_class'> M Class Name: GMNN</div><div id='n_method'> N Class Name: GMNN</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/gmnn.py</div><div id='n_file'> N File Name: nn/models/gmnn.py</div><div id='m_start'> M Start Line: 163</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 166</div><div id='n_end'> N End Line: 168</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">return logit.numpy()</a>

    def train_sequence(self, index):
        index = self._check_and_convert(index)
        labels = self.labels[index]</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit

    def train_sequence(self, index):
        index = self._check_and_convert(index)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-4bd43bcd5567c2ceaec005dacda3dd2e0cc8493c227129999a0b6c353f66bd02L130' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857210</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/obvat.py</div><div id='m_class'> M Class Name: OBVAT</div><div id='n_method'> N Class Name: OBVAT</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/obvat.py</div><div id='n_file'> N File Name: nn/models/obvat.py</div><div id='m_start'> M Start Line: 138</div><div id='m_end'> M End Line: 138</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-ab2d7b1bf5478725000943aec5f94b898d08be68c0c187fc1ecdf31934533195L114' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857220</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/dense_gcn.py</div><div id='m_class'> M Class Name: DenseGCN</div><div id='n_method'> N Class Name: DenseGCN</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/dense_gcn.py</div><div id='n_file'> N File Name: nn/models/dense_gcn.py</div><div id='m_start'> M Start Line: 123</div><div id='m_end'> M End Line: 123</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 125</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with tf.device(self.device):
            adj = self._to_tensor(adj)
            logit = self.model.predict_on_batch([self.features, adj])
        <a id="change">return logit.numpy()</a>

    def train_sequence(self, index):
        index = self._check_and_convert(index)
        labels = self.labels[index]</code></pre><h3>After Change</h3><pre><code class='java'>
            adj = self._to_tensor(adj)
            logit = self.model.predict_on_batch([self.features, adj])
            
        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit

    def train_sequence(self, index):
        index = self._check_and_convert(index)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-4ce64efde6ff342f2da08a68cca25f354b9467d55d47dfd6fdd8d86b576c2a80L97' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857207</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/fastgcn.py</div><div id='m_class'> M Class Name: FastGCN</div><div id='n_method'> N Class Name: FastGCN</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/fastgcn.py</div><div id='n_file'> N File Name: nn/models/fastgcn.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 105</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-2adbbdf4a850b5d9f2bde76d58aa4fee79f4d4f9cc7db58b96607681cddff250L101' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857223</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/gcn.py</div><div id='m_class'> M Class Name: GCN</div><div id='n_method'> N Class Name: GCN</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/gcn.py</div><div id='n_file'> N File Name: nn/models/gcn.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 110</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                output = self.propagation(x, adj, training=False)
                logit = softmax(tf.gather(output, index))

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
                output = self.propagation(x, adj, training=False)
                logit = softmax(tf.gather(output, index))

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-e28fa835c7e36ce25a8b2954683210598ad9994d0431b245f46b99ad4fa1e40fL209' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857222</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/sbvat.py</div><div id='m_class'> M Class Name: SBVAT</div><div id='n_method'> N Class Name: SBVAT</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/sbvat.py</div><div id='n_file'> N File Name: nn/models/sbvat.py</div><div id='m_start'> M Start Line: 223</div><div id='m_end'> M End Line: 223</div><div id='n_start'> N Start Line: 223</div><div id='n_end'> N End Line: 225</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">return logit.numpy()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
            index = self._to_tensor(index)
            logit = self.model.predict_on_batch([self.features, self.adj, index])

        <a id="change">if </a><a id="change">tf.is_tensor(</a>logit<a id="change">)</a>:
            logit<a id="change"> = logit.numpy()</a>
        <a id="change">return </a>logit
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5#diff-748781aa336ce990d8fbafc7997df34f5f8abdb97d2ec64b9c68d8c360076137L107' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108857218</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: fd7b744bbddb94cfd9c6c1c981f7e1cd86b5a4b5</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: nn/models/gat.py</div><div id='m_class'> M Class Name: GAT</div><div id='n_method'> N Class Name: GAT</div><div id='m_method'> M Method Name: predict(2)</div><div id='n_method'> N Method Name: predict(2)</div><div id='m_parent_class'> M Parent Class: SupervisedModel</div><div id='n_parent_class'> N Parent Class: SupervisedModel</div><div id='m_file'> M File Name: nn/models/gat.py</div><div id='n_file'> N File Name: nn/models/gat.py</div><div id='m_start'> M Start Line: 114</div><div id='m_end'> M End Line: 114</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 116</div><BR>