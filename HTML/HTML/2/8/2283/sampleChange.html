<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        img = np.array(Image.open(os.path.join(config.ROOT_DIR, self.fname, img_name)).convert("RGB"))

        if self.rect_training:
            bboxes<a id="change"> = [ann[1:] for ann in annotations if (ann[2] &gt; 0 and ann[3] &gt; 0)]</a>
            bboxes<a id="change"> = </a><a id="change">torch.tensor(</a>bboxes<a id="change">)</a>
            classes = torch.tensor([ann[0] for ann in annotations])
            labels<a id="change"> = </a>torch.cat([classes.unsqueeze(1), bboxes], dim=-1)
            sh, sw = img.shape[0:2]
            img, ratio, pad = letterbox(img, (tg_height, tg_width), auto=False, scaleup=False)
            if labels.size:  &#47&#47 normalized xywh to pixel xyxy format</code></pre><h3>After Change</h3><pre><code class='java'>
            warnings.simplefilter("ignore")
            labels = np.loadtxt(fname=label_path, delimiter=" ", ndmin=2)
            &#47&#47 removing annotations with negative values
            labels = <a id="change">labels[np.all(labels&gt;=0, axis=1),:]</a>

        img = np.array(Image.open(os.path.join(config.ROOT_DIR, self.fname, img_name)).convert("RGB"))

        sh, sw = img.shape[0:2]</code></pre>