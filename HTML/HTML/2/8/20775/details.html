<html><h3>Pattern ID :20775
</h3><img src='66944761.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self._check_field(&quotsource_field&quot, &quottarget_field&quot)

        self.inter_feat, self.user_feat, self.item_feat = self._load_data(self.dataset_name, self.dataset_path)
        self.feat_list = <a id="change">[feat for feat in [self.inter_feat, self.user_feat, self.item_feat, self.net_feat] if feat is not None]</a>

        self._filter_by_inter_num()
        self._filter_by_field_value()
        self._reset_index()</code></pre><h3>After Change</h3><pre><code class='java'>

        self.inter_feat, self.user_feat, self.item_feat = self._load_data(self.dataset_name, self.dataset_path)
        self.net_feat = self._load_net(self.dataset_name, self.dataset_path)
        self.feat_list = <a id="change">self._build_feat_list()</a>

        self._filter_by_inter_num()
        self._filter_by_field_value()
        self._reset_index()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/a70337aa12646228c7f41f16a26012ce0f9d12f7#diff-34134db2e88d559738ea85408b5673935345590fa3138d0116644d0d2d313983L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66944761</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: a70337aa12646228c7f41f16a26012ce0f9d12f7</div><div id='time'> Time: 2020-09-08</div><div id='author'> Author: houyupeng@ruc.edu.cn</div><div id='file'> File Name: recbox/data/dataset/social_dataset.py</div><div id='m_class'> M Class Name: SocialDataset</div><div id='n_method'> N Class Name: SocialDataset</div><div id='m_method'> M Method Name: _from_scratch(2)</div><div id='n_method'> N Method Name: _from_scratch(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: recbox/data/dataset/social_dataset.py</div><div id='n_file'> N File Name: recbox/data/dataset/social_dataset.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 32</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._check_field(&quothead_entity_field&quot, &quottail_entity_field&quot, &quotrelation_field&quot, &quotentity_field&quot)

        self.inter_feat, self.user_feat, self.item_feat = self._load_data(self.dataset_name, self.dataset_path)
        self.feat_list = <a id="change">[feat for feat in [self.inter_feat, self.user_feat, self.item_feat] if feat is not None]</a>

        self.kg_feat = self._load_kg(self.dataset_name, self.dataset_path)
        self.item2entity, self.entity2item = self._load_link(self.dataset_name, self.dataset_path)
</code></pre><h3>After Change</h3><pre><code class='java'>
        self._check_field(&quothead_entity_field&quot, &quottail_entity_field&quot, &quotrelation_field&quot, &quotentity_field&quot)

        self.inter_feat, self.user_feat, self.item_feat = self._load_data(self.dataset_name, self.dataset_path)
        self.feat_list = <a id="change">self._build_feat_list()</a>

        self.kg_feat = self._load_kg(self.dataset_name, self.dataset_path)
        self.item2entity, self.entity2item = self._load_link(self.dataset_name, self.dataset_path)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/a70337aa12646228c7f41f16a26012ce0f9d12f7#diff-1b5255bd2257e1b85f62533b85b549035713df4082ea4c175034665cf444afc0L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66944760</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: a70337aa12646228c7f41f16a26012ce0f9d12f7</div><div id='time'> Time: 2020-09-08</div><div id='author'> Author: houyupeng@ruc.edu.cn</div><div id='file'> File Name: recbox/data/dataset/kg_dataset.py</div><div id='m_class'> M Class Name: KnowledgeBasedDataset</div><div id='n_method'> N Class Name: KnowledgeBasedDataset</div><div id='m_method'> M Method Name: _from_scratch(2)</div><div id='n_method'> N Method Name: _from_scratch(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: recbox/data/dataset/kg_dataset.py</div><div id='n_file'> N File Name: recbox/data/dataset/kg_dataset.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.net_feat = self._load_net(self.dataset_name, self.dataset_path)

    def _build_feat_list(self):
        return <a id="change">[feat for feat in [self.inter_feat, self.user_feat, self.item_feat, self.net_feat] if feat is not None]</a>

    def _load_net(self, dataset_name, dataset_path): 
        net_file_path = os.path.join(dataset_path, &quot{}.{}&quot.format(dataset_name, &quotnet&quot))
        if os.path.isfile(net_file_path):</code></pre><h3>After Change</h3><pre><code class='java'>
        self.net_feat = self._load_net(self.dataset_name, self.dataset_path)

    def _build_feat_list(self):
        feat_list = <a id="change">super()._build_feat_list()</a>
        if self.net_feat is not None:
            feat_list.append(self.net_feat)
        return feat_list
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/bbf6c86d0f84c7ebb00cf0bd4625577246fade1e#diff-34134db2e88d559738ea85408b5673935345590fa3138d0116644d0d2d313983L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66944762</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: bbf6c86d0f84c7ebb00cf0bd4625577246fade1e</div><div id='time'> Time: 2020-10-09</div><div id='author'> Author: houyupeng@ruc.edu.cn</div><div id='file'> File Name: recbox/data/dataset/social_dataset.py</div><div id='m_class'> M Class Name: SocialDataset</div><div id='n_method'> N Class Name: SocialDataset</div><div id='m_method'> M Method Name: _build_feat_list(1)</div><div id='n_method'> N Method Name: _build_feat_list(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: recbox/data/dataset/social_dataset.py</div><div id='n_file'> N File Name: recbox/data/dataset/social_dataset.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 42</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return &quot\n&quot.join(info)

    def _build_feat_list(self):
        return <a id="change">[feat for feat in [self.inter_feat, self.user_feat, self.item_feat, self.kg_feat] if feat is not None]</a>

    def _restore_saved_dataset(self, saved_dataset):
        raise NotImplementedError()
</code></pre><h3>After Change</h3><pre><code class='java'>
        return &quot\n&quot.join(info)

    def _build_feat_list(self):
        feat_list = <a id="change">super()._build_feat_list()</a>
        if self.kg_feat is not None:
            feat_list.append(self.kg_feat)
        return feat_list
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/bbf6c86d0f84c7ebb00cf0bd4625577246fade1e#diff-1b5255bd2257e1b85f62533b85b549035713df4082ea4c175034665cf444afc0L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66944759</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: bbf6c86d0f84c7ebb00cf0bd4625577246fade1e</div><div id='time'> Time: 2020-10-09</div><div id='author'> Author: houyupeng@ruc.edu.cn</div><div id='file'> File Name: recbox/data/dataset/kg_dataset.py</div><div id='m_class'> M Class Name: KnowledgeBasedDataset</div><div id='n_method'> N Class Name: KnowledgeBasedDataset</div><div id='m_method'> M Method Name: _build_feat_list(1)</div><div id='n_method'> N Method Name: _build_feat_list(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: recbox/data/dataset/kg_dataset.py</div><div id='n_file'> N File Name: recbox/data/dataset/kg_dataset.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 55</div><BR>