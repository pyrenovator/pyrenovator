<html><h3>Pattern ID :9183
</h3><img src='33273739.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            data[key] = data[key][0]
            if key in data.pattern:
                &#47&#47 was &quotn &quot + previous_pattern, remove &quotn &quot
                data.pattern[key] = <a id="change">data.pattern[key][2:]</a>

        return data

    @property</code></pre><h3>After Change</h3><pre><code class='java'>
            data[key] = data[key][idx]
            if key in data.pattern:
                pattern_dims = data.pattern[key].split(&quot &quot)
                pattern_dims = [tkn <a id="change">for</a> i, tkn in <a id="change">enumerate(</a>pattern_dims<a id="change">)</a>
                                if <a id="change">i not in dims</a>]
                data.pattern[key]<a id="change"> = </a>&quot &quot.join(pattern_dims)

        return data
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/torchspatiotemporal/tsl/commit/f8f05a22a15ae2ad6751ae4ba5fe615b73803d34#diff-efc346187fb6e8ebeb94e780403d24856adf1652dc1344eb175c45618db31a98L438' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33273739</div><div id='project'> Project Name: torchspatiotemporal/tsl</div><div id='commit'> Commit Name: f8f05a22a15ae2ad6751ae4ba5fe615b73803d34</div><div id='time'> Time: 2023-01-07</div><div id='author'> Author: ivan.marisca@hotmail.it</div><div id='file'> File Name: tsl/data/batch.py</div><div id='m_class'> M Class Name: DisjointBatch</div><div id='n_method'> N Class Name: DisjointBatch</div><div id='m_method'> M Method Name: get_example(2)</div><div id='n_method'> N Method Name: get_example(2)</div><div id='m_parent_class'> M Parent Class: Batch</div><div id='n_parent_class'> N Parent Class: Batch</div><div id='m_file'> M File Name: tsl/data/batch.py</div><div id='n_file'> N File Name: tsl/data/batch.py</div><div id='m_start'> M Start Line: 438</div><div id='m_end'> M End Line: 456</div><div id='n_start'> N Start Line: 463</div><div id='n_end'> N End Line: 485</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if len(samples[i][&quottokens&quot]) &gt; 350:
            to_single_batch.append(i)
    
    for i in <a id="change">to_single_batch[::-1]</a>:
        logger.info(&quotSingle batch sample: %s-%d&quot, samples[i][&quotdoc_key&quot], samples[i][&quotsentence_ix&quot])
        list_samples_batches.append([samples[i]])
        samples.remove(samples[i])</code></pre><h3>After Change</h3><pre><code class='java'>
    for i in to_single_batch:
        logger.info(&quotSingle batch sample: %s-%d&quot, samples[i][&quotdoc_key&quot], samples[i][&quotsentence_ix&quot])
        list_samples_batches.append([samples[i]])
    samples<a id="change"> = </a>[sample <a id="change">for</a> i, sample in <a id="change">enumerate(</a>samples<a id="change">)</a> if <a id="change">i not in to_single_batch</a>]

    for i in range(0, len(samples), batch_size):
        list_samples_batches.append(samples[i:i+batch_size])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/princeton-nlp/pure/commit/fae458224e3dd907764830439578fa3dccf4145e#diff-eff2ad114650aea963504931d2fb9e8257cc461de3c691194ec792d5a1daef25L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33273741</div><div id='project'> Project Name: princeton-nlp/pure</div><div id='commit'> Commit Name: fae458224e3dd907764830439578fa3dccf4145e</div><div id='time'> Time: 2021-06-17</div><div id='author'> Author: jwuwuwu24@gmail.com</div><div id='file'> File Name: entity/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: batchify(2)</div><div id='n_method'> N Method Name: batchify(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: entity/utils.py</div><div id='n_file'> N File Name: entity/utils.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 24</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    vars = [statistics.variance(statistics.mean(nsds.get_test_acc(i, epochs=e)) for e in Nasbench101Dataset.VALID_EPOCHS) \
            for i in range(len(nsds))]

    print(<a id="change">vars[:100]</a>)


if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    vars = [statistics.variance(statistics.mean(nsds.get_test_acc(i, epochs=e)) for e in Nasbench101Dataset.VALID_EPOCHS) \
            for i in range(len(nsds))]

    bad_archs<a id="change"> = </a>list((i,v) <a id="change">for</a> i,v in <a id="change">enumerate(</a>vars<a id="change">)</a> if <a id="change">v &lt; 0.01</a>)
    print(bad_archs)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/6b50633c7a5d2861f3d3352e0e3df93ec8a670f7#diff-114128b0497ad502806a9d4b6bad6948794d161c729d8b70652db971a812d09fL7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33273740</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 6b50633c7a5d2861f3d3352e0e3df93ec8a670f7</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: scripts/nasbench101/bad_data.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/nasbench101/bad_data.py</div><div id='n_file'> N File Name: scripts/nasbench101/bad_data.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 16</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 17</div><BR>