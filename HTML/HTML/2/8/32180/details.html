<html><h3>Pattern ID :32180
</h3><img src='94130508.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            filename = (&quotQAPtrain_{}_{}_{}.np&quot.format(self.generative_model,
                        self.noise, self.edge_density))
        path<a id="change"> = </a><a id="change">os.path.join(</a>self.path_dataset, filename<a id="change">)</a>
        <a id="change">if os.path.exists(</a>path<a id="change">)</a>:
            print(&quotReading training dataset at {}&quot.format(path))
            with open(path, &quotrb&quot) as f:
                self.data_train = np.load(f, allow_pickle=True)</code></pre><h3>After Change</h3><pre><code class='java'>
            print(&quotCreating dataset.&quot)
            self.data = []
            self.create_dataset()
        if <a id="change">saving</a>:
            <a id="change">print(</a><a id="change">&quotSaving datatset at {}&quot.format(</a>path<a id="change">))</a>
            with open(path, &quotwb&quot) as f:
                    np.save(f, self.data)

        return self.data</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mlelarge/graph_neural_net/commit/5adb23122ceb14ce6e09e6009e2d084dc74f5402#diff-845718abb813d7715646b2d63513ac597d626177ca2332ddb4baeb3588fa7f9cL95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 94130508</div><div id='project'> Project Name: mlelarge/graph_neural_net</div><div id='commit'> Commit Name: 5adb23122ceb14ce6e09e6009e2d084dc74f5402</div><div id='time'> Time: 2020-02-10</div><div id='author'> Author: marc.lelarge@gmail.com</div><div id='file'> File Name: loaders/data_generator.py</div><div id='m_class'> M Class Name: Generator</div><div id='n_method'> N Class Name: Generator</div><div id='m_method'> M Method Name: load_dataset(2)</div><div id='n_method'> N Method Name: load_dataset(1)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: loaders/data_generator.py</div><div id='n_file'> N File Name: loaders/data_generator.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 141</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 117</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if model_storage_url != "":
                local_model_package = self.pull_model_from_s3(model_storage_url, model_name)
                if local_model_package != "":
                    model_dir<a id="change"> = </a><a id="change">os.path.join(</a>ClientConstants.get_model_dir(), model_name<a id="change">)</a>
                    ClientConstants.unzip_file(local_model_package, model_dir)
                    <a id="change">if os.path.exists(</a>model_dir<a id="change">)</a>:
                        return True

        return False</code></pre><h3>After Change</h3><pre><code class='java'>
            return False

        result = True
        for <a id="change">model</a> in model_query_result.model_list:
            model_storage_url = model.model_url
            query_model_name = model.model_name
            if query_model_name != model_name:
                continue
            if model_storage_url is None or model_storage_url == "":
                continue
            local_model_package = self.pull_model_from_s3(model_storage_url, model_name)
            if local_model_package == "":
                result = False
                <a id="change">print(</a><a id="change">"Failed to pull model name {}".format(</a>query_model_name<a id="change">))</a>

        return result

    def deploy_model(self, model_name, device_type, devices, user_id, user_api_key, params, use_local_deployment):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/0c7b40c6966035386f402c76fce7c521ed213251#diff-6175f532ef93361717402dc5f52476b67f294f94743cf41104ba1aa4291644d1L188' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 94130509</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 0c7b40c6966035386f402c76fce7c521ed213251</div><div id='time'> Time: 2023-01-07</div><div id='author'> Author: alexliang.kh@gmail.com</div><div id='file'> File Name: python/fedml/cli/model_deployment/device_model_cards.py</div><div id='m_class'> M Class Name: FedMLModelCards</div><div id='n_method'> N Class Name: FedMLModelCards</div><div id='m_method'> M Method Name: pull_model(4)</div><div id='n_method'> N Method Name: pull_model(2)</div><div id='m_parent_class'> M Parent Class: Singleton</div><div id='n_parent_class'> N Parent Class: Singleton</div><div id='m_file'> M File Name: python/fedml/cli/model_deployment/device_model_cards.py</div><div id='n_file'> N File Name: python/fedml/cli/model_deployment/device_model_cards.py</div><div id='m_start'> M Start Line: 189</div><div id='m_end'> M End Line: 200</div><div id='n_start'> N Start Line: 221</div><div id='n_end'> N End Line: 239</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if model_storage_url != "":
                local_model_package = self.pull_model_from_s3(model_storage_url, model_name)
                if local_model_package != "":
                    model_dir<a id="change"> = </a><a id="change">os.path.join(</a>ClientConstants.get_model_dir(), model_name<a id="change">)</a>
                    ClientConstants.unzip_file(local_model_package, model_dir)
                    <a id="change">if os.path.exists(</a>model_dir<a id="change">)</a>:
                        return True

        return False</code></pre><h3>After Change</h3><pre><code class='java'>
            return False

        result = True
        for <a id="change">model</a> in model_query_result.model_list:
            model_storage_url = model.model_url
            query_model_name = model.model_name
            if query_model_name != model_name:
                continue
            if model_storage_url is None or model_storage_url == "":
                continue
            local_model_package = self.pull_model_from_s3(model_storage_url, model_name)
            if local_model_package == "":
                result = False
                <a id="change">print(</a><a id="change">"Failed to pull model name {}".format(</a>query_model_name<a id="change">))</a>

        return result

    def deploy_model(self, model_name, device_type, devices, user_id, user_api_key, params, use_local_deployment):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/f8571c7e58ff079b7efa375e28d59f1e49c07b8f#diff-6175f532ef93361717402dc5f52476b67f294f94743cf41104ba1aa4291644d1L188' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 94130507</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: f8571c7e58ff079b7efa375e28d59f1e49c07b8f</div><div id='time'> Time: 2023-01-07</div><div id='author'> Author: alex.gpt.llm@gmail.com</div><div id='file'> File Name: python/fedml/cli/model_deployment/device_model_cards.py</div><div id='m_class'> M Class Name: FedMLModelCards</div><div id='n_method'> N Class Name: FedMLModelCards</div><div id='m_method'> M Method Name: pull_model(4)</div><div id='n_method'> N Method Name: pull_model(2)</div><div id='m_parent_class'> M Parent Class: Singleton</div><div id='n_parent_class'> N Parent Class: Singleton</div><div id='m_file'> M File Name: python/fedml/cli/model_deployment/device_model_cards.py</div><div id='n_file'> N File Name: python/fedml/cli/model_deployment/device_model_cards.py</div><div id='m_start'> M Start Line: 189</div><div id='m_end'> M End Line: 200</div><div id='n_start'> N Start Line: 221</div><div id='n_end'> N End Line: 239</div><BR>