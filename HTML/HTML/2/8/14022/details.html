<html><h3>Pattern ID :14022
</h3><img src='46502597.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def test_embed_mws_voi(self):
        from torch_em.metric import EmbeddingMWSVOIMetric
        embed = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = EmbeddingMWSVOIMetric(delta=2.0, offsets=self.offsets, min_seg_size=self.min_size)
        self._test_metric(embed, gt, metric)

    @unittest.skipIf(hdbscan is None, "Needs hdbscan")</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_embed_mws_voi(self):
        from torch_em.metric import EmbeddingMWSVOIMetric
        embed = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = EmbeddingMWSVOIMetric(delta=2.0, offsets=self.offsets, min_seg_size=self.min_size)
        self._test_metric(embed, gt, metric)

    @unittest.skipIf(hdbscan is None, "Needs hdbscan")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502597</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_embed_mws_voi(1)</div><div id='n_method'> N Method Name: test_embed_mws_voi(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 95</div><div id='n_start'> N Start Line: 75</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_hdbscan_rand(self):
        from torch_em.metric import HDBScanRandMetric
        embed = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = HDBScanRandMetric(min_size=50, eps=1.0e-4)
        self._test_metric(embed, gt, metric, upper_bound=1.0)

    @unittest.skipIf(hdbscan is None, "Needs hdbscan")</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_hdbscan_rand(self):
        from torch_em.metric import HDBScanRandMetric
        embed = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = HDBScanRandMetric(min_size=50, eps=1.0e-4)
        self._test_metric(embed, gt, metric, upper_bound=1.0)

    @unittest.skipIf(hdbscan is None, "Needs hdbscan")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502581</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_hdbscan_rand(1)</div><div id='n_method'> N Method Name: test_hdbscan_rand(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 111</div><div id='m_end'> M End Line: 111</div><div id='n_start'> N Start Line: 91</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_mws_voi(self):
        from torch_em.metric import MWSVOIMetric
        affs = torch.from_numpy(np.random.rand(self.batch_size, 4, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = MWSVOIMetric(self.offsets, min_seg_size=self.min_size)
        self._test_metric(affs, gt, metric)

    def test_mws_iou(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_mws_voi(self):
        from torch_em.metric import MWSVOIMetric
        affs = torch.from_numpy(np.random.rand(self.batch_size, 4, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = MWSVOIMetric(self.offsets, min_seg_size=self.min_size)
        self._test_metric(affs, gt, metric)

    def test_mws_iou(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502599</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_mws_voi(1)</div><div id='n_method'> N Method Name: test_mws_voi(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_mws_rand(self):
        from torch_em.metric import MWSRandMetric
        affs = torch.from_numpy(np.random.rand(self.batch_size, 4, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = MWSRandMetric(self.offsets, min_seg_size=self.min_size)
        self._test_metric(affs, gt, metric, upper_bound=1.0)

    def test_mws_voi(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_mws_rand(self):
        from torch_em.metric import MWSRandMetric
        affs = torch.from_numpy(np.random.rand(self.batch_size, 4, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = MWSRandMetric(self.offsets, min_seg_size=self.min_size)
        self._test_metric(affs, gt, metric, upper_bound=1.0)

    def test_mws_voi(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502593</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_mws_rand(1)</div><div id='n_method'> N Method Name: test_mws_rand(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 26</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_embed_mws_rand(self):
        from torch_em.metric import EmbeddingMWSRandMetric
        emebd = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = EmbeddingMWSRandMetric(delta=2.0, offsets=self.offsets, min_seg_size=self.min_size)
        self._test_metric(emebd, gt, metric, upper_bound=1.0)

    def test_embed_mws_voi(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_embed_mws_rand(self):
        from torch_em.metric import EmbeddingMWSRandMetric
        emebd = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = EmbeddingMWSRandMetric(delta=2.0, offsets=self.offsets, min_seg_size=self.min_size)
        self._test_metric(emebd, gt, metric, upper_bound=1.0)

    def test_embed_mws_voi(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L85' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502579</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_embed_mws_rand(1)</div><div id='n_method'> N Method Name: test_embed_mws_rand(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_hdbscan_voi(self):
        from torch_em.metric import HDBScanVOIMetric
        embed = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = HDBScanVOIMetric(min_size=50, eps=1.0e-4)
        self._test_metric(embed, gt, metric)

</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_hdbscan_voi(self):
        from torch_em.metric import HDBScanVOIMetric
        embed = torch.from_numpy(np.random.rand(self.batch_size, 6, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = HDBScanVOIMetric(min_size=50, eps=1.0e-4)
        self._test_metric(embed, gt, metric)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L116' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502605</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_hdbscan_voi(1)</div><div id='n_method'> N Method Name: test_hdbscan_voi(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 119</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 99</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_multicut_rand(self):
        from torch_em.metric import MulticutRandMetric
        bd = torch.from_numpy(np.random.rand(self.batch_size, 1, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = MulticutRandMetric(self.min_size)
        self._test_metric(bd, gt, metric, upper_bound=1.0)

    def test_multicut_voi(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_multicut_rand(self):
        from torch_em.metric import MulticutRandMetric
        bd = torch.from_numpy(np.random.rand(self.batch_size, 1, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = MulticutRandMetric(self.min_size)
        self._test_metric(bd, gt, metric, upper_bound=1.0)

    def test_multicut_voi(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502600</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_multicut_rand(1)</div><div id='n_method'> N Method Name: test_multicut_rand(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_multicut_voi(self):
        from torch_em.metric import MulticutVOIMetric
        bd = torch.from_numpy(np.random.rand(self.batch_size, 1, 128, 128))
        gt = <a id="change">self._make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">)</a>
        metric = MulticutVOIMetric(self.min_size)
        self._test_metric(bd, gt, metric)

    def test_embed_mws_iou(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_multicut_voi(self):
        from torch_em.metric import MulticutVOIMetric
        bd = torch.from_numpy(np.random.rand(self.batch_size, 1, 128, 128))
        gt = <a id="change">make_gt(</a>(<a id="change">128</a><a id="change">, 128</a>)<a id="change">, n_batches=self.batch_size, with_channels=True)</a>
        metric = MulticutVOIMetric(self.min_size)
        self._test_metric(bd, gt, metric)

    def test_embed_mws_iou(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/constantinpape/torch-em/commit/c5a320b705e1245784565812d580e28c2e0afe40#diff-ed46719940bf94458d41dba382630ba7686e48fc8f2392d7d20a2fe3808b3593L71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46502602</div><div id='project'> Project Name: constantinpape/torch-em</div><div id='commit'> Commit Name: c5a320b705e1245784565812d580e28c2e0afe40</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: c.pape@gmx.net</div><div id='file'> File Name: test/metric/test_metric.py</div><div id='m_class'> M Class Name: TestMetric</div><div id='n_method'> N Class Name: TestMetric</div><div id='m_method'> M Method Name: test_multicut_voi(1)</div><div id='n_method'> N Method Name: test_multicut_voi(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: test/metric/test_metric.py</div><div id='n_file'> N File Name: test/metric/test_metric.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 54</div><BR>