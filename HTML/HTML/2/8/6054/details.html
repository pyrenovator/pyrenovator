<html><h3>Pattern ID :6054
</h3><img src='21059201.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            index.load_or_build_cache()
        all_indices = {index.parser.name: index for index in self.indices}

        <a id="change">for </a>entity_class, ontologies in <a id="change">self.entity_class_to_ontology_mappings.items():
            </a>current_indices = set()
            <a id="change">for ontology_name</a> in ontologies<a id="change">:
                </a>index<a id="change"> = </a>all_indices.get(ontology_name)
                <a id="change">if </a>index is None:
                    logger.warning(f"No index found for {ontology_name}")
                else:
                    current_indices.add(index)

            if not current_indices:
                logger.warning(f"No indices loaded for entity class {entity_class}")
            self.entity_class_to_indices[entity_class]<a id="change"> = </a>current_indices

    def _run(self, docs: List[Document]) -&gt; Tuple[List[Document], List[Document]]:
        </code></pre><h3>After Change</h3><pre><code class='java'>
            indices_for_current_class = self.entity_class_to_indices.setdefault(
                index.parser.entity_class, set()
            )
            <a id="change">indices_for_current_class.add(</a>index<a id="change">)</a>

    def _run(self, docs: List[Document]) -&gt; Tuple[List[Document], List[Document]]:
        
        logic of entity linker:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/2a204ce1ab31f084903c52033590280652950470#diff-5d0b0ded5b343b5692f05ff69dc8f3b4f8d860427b9eb29f6b3cbe52194fa86cL65' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21059201</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 2a204ce1ab31f084903c52033590280652950470</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: elliot.ford@astrazeneca.com</div><div id='file'> File Name: kazu/steps/linking/sapbert.py</div><div id='m_class'> M Class Name: SapBertForEntityLinkingStep</div><div id='n_method'> N Class Name: SapBertForEntityLinkingStep</div><div id='m_method'> M Method Name: load_or_build_caches(1)</div><div id='n_method'> N Method Name: load_or_build_caches(1)</div><div id='m_parent_class'> M Parent Class: BaseStep</div><div id='n_parent_class'> N Parent Class: BaseStep</div><div id='m_file'> M File Name: kazu/steps/linking/sapbert.py</div><div id='n_file'> N File Name: kazu/steps/linking/sapbert.py</div><div id='m_start'> M Start Line: 71</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>



    <a id="change">for </a>k, v in <a id="change">ivy.__dict__.copy().items():
        </a>if k == "Array":
            <a id="change">for method_name</a> in dir(v)<a id="change">:
                </a>method<a id="change"> = </a>getattr(ivy.Array, method_name)
                <a id="change">if </a>helpers.docstring_examples_run(method, from_array=True):
                    continue
                success = False
                failures.append("Array." + method_name)

        elif k == "Container":
            for method_name in dir(v):
                method = getattr(ivy.Container, method_name)
                if helpers.docstring_examples_run(method, from_container=True):
                    continue
                success = False
                failures.append("Container." + method_name)

        else:
            if k in to_skip or helpers.docstring_examples_run(v):
                continue
            success<a id="change"> = </a>False
            failures.append(k)

    if not success:</code></pre><h3>After Change</h3><pre><code class='java'>
                      b=ivy.array([2, 3, 4]))
    y = ivy.Container(a=ivy.array([4, 5, 6]), \
                           b=ivy.array([5, 6, 7]))
    z = <a id="change">ivy.add(</a>x, y<a id="change">)</a>
    print(type(z))


    ivy.unset_backend()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ivy-dl/ivy/commit/f7f5bb5980c30e554ae0ce1c4e9599f77108703e#diff-48ffb3a283811c82d46de1000e0dbf654f102f8fbb23f5dcf9c974e21964bc90L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21059200</div><div id='project'> Project Name: ivy-dl/ivy</div><div id='commit'> Commit Name: f7f5bb5980c30e554ae0ce1c4e9599f77108703e</div><div id='time'> Time: 2022-06-29</div><div id='author'> Author: rishabhkkumarsc1@gmail.com</div><div id='file'> File Name: ivy_tests/test_docstrings.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_docstrings(1)</div><div id='n_method'> N Method Name: test_docstrings(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ivy_tests/test_docstrings.py</div><div id='n_file'> N File Name: ivy_tests/test_docstrings.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 86</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            index.load_or_build_cache()
        all_indices = {index.parser.name: index for index in self.indices}

        <a id="change">for </a>entity_class, ontologies in <a id="change">self.entity_class_to_ontology_mappings.items():
            </a>current_indices = set()
            <a id="change">for ontology_name</a> in ontologies<a id="change">:
                </a>index<a id="change"> = </a>all_indices.get(ontology_name)
                <a id="change">if </a>index is None:
                    logger.warning(f"No index found for {ontology_name}")
                else:
                    current_indices.add(index)

            if not current_indices:
                logger.warning(f"No indices loaded for entity class {entity_class}")
            self.entity_class_to_indices[entity_class]<a id="change"> = </a>current_indices

    def _run(self, docs: List[Document]) -&gt; Tuple[List[Document], List[Document]]:
        </code></pre><h3>After Change</h3><pre><code class='java'>
            indices_for_current_class = self.entity_class_to_indices.setdefault(
                index.parser.entity_class, set()
            )
            <a id="change">indices_for_current_class.add(</a>index<a id="change">)</a>

    def _run(self, docs: List[Document]) -&gt; Tuple[List[Document], List[Document]]:
        
        logic of entity linker:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/2a204ce1ab31f084903c52033590280652950470#diff-71197b63fb1b485f5ee9392ade30e6a0ba93ab996b673490cb245a7cf61ccf8cL50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21059202</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 2a204ce1ab31f084903c52033590280652950470</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: elliot.ford@astrazeneca.com</div><div id='file'> File Name: kazu/steps/linking/dictionary.py</div><div id='m_class'> M Class Name: DictionaryEntityLinkingStep</div><div id='n_method'> N Class Name: DictionaryEntityLinkingStep</div><div id='m_method'> M Method Name: load_or_build_caches(1)</div><div id='n_method'> N Method Name: load_or_build_caches(1)</div><div id='m_parent_class'> M Parent Class: BaseStep</div><div id='n_parent_class'> N Parent Class: BaseStep</div><div id='m_file'> M File Name: kazu/steps/linking/dictionary.py</div><div id='n_file'> N File Name: kazu/steps/linking/dictionary.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 52</div><BR>