<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    with open(conllu,"r",encoding="utf-8") as f:
      i,u=[],[]
      for t in f:
        w=<a id="change">t.split("\t"</a><a id="change">)</a>
        if len(w)==10 and w[0].isdecimal():
          v=tokenizer(<a id="change">w[1]</a>,add_special_tokens=False)["input_ids"]
          i+=v
          u+=[w[3]] if len(v)==1 else ["B-"+w[3]]+["I-"+w[3]]*(len(v)-1)
        elif t.strip()=="" and len(i)&gt;0:</code></pre><h3>After Change</h3><pre><code class='java'>
    self.ids=[]
    self.upos=[]
    with open(conllu,"r",encoding="utf-8") as f:
      <a id="change">for </a>s in f.read().strip().split("\n\n")<a id="change">:
        </a>u=[(<a id="change">w[1]</a>,w[3]) for w in [<a id="change">t.split("\t"</a><a id="change">)</a> for t in s.split("\n")] if <a id="change">len(w)==10 and w[0].isdecimal()</a>]
        v=tokenizer([t for t,p in u],add_special_tokens=False)["input_ids"]
        self.ids.append([tokenizer.cls_token_id]+sum(v,[])+[tokenizer.sep_token_id])
        self.upos.append(["SYM"]+sum([["B-"+p]+["I-"+p]*(len(v[i])-1) if len(v[i])&gt;1 else [p] for i,(t,p) in enumerate(u)],[])+["SYM"])</code></pre>