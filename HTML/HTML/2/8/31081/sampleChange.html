<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ret[..., 2, 2] = q00 - q11 - q22 + q33

    temp = -2 * quaternion / quaternion_norm
    jac = <a id="change">quaternion.new_zeros(</a>size<a id="change"> + </a>(<a id="change">3</a><a id="change">, 4</a>)<a id="change">)</a>
    jac[..., :, :1] = temp[..., 1:].view(size + (3, 1))
    jac[..., :, 1:] = _hat_autograd_fn(temp[..., 1:])
    jac[..., 0, 1] = -temp[..., 0]
    jac[..., 1, 2] = -temp[..., 0]</code></pre><h3>After Change</h3><pre><code class='java'>
    ret[..., 2, 2] = q00 - q11 - q22 + q33

    temp = -2 * quaternion / quaternion_norm
    jac = <a id="change">quaternion.new_zeros(</a>*size, <a id="change">3</a>, <a id="change">4</a><a id="change">)</a>
    jac[..., :, :1] = temp[..., 1:].view(*size, 3, 1)
    jac[..., :, 1:] = _hat_autograd_fn(temp[..., 1:])
    jac[..., 0, 1] = -temp[..., 0]
    jac[..., 1, 2] = -temp[..., 0]</code></pre>