<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    index = -1
    annotations = json.loads(nlp.annotate(all_text))

    <a id="change">for </a>x in annotations[&quotsentences&quot]<a id="change">:
        </a>for y in x[&quotentitymentions&quot]:
            token_length<a id="change"> = </a>len(y[&quottext&quot].split(&quot &quot))
            if y[&quotner&quot] == &quotDATE&quot:
                dates.append(y[&quottext&quot])
                index = len(all_text[:y[&quotcharacterOffsetEnd&quot]].split(&quot &quot))</code></pre><h3>After Change</h3><pre><code class='java'>
        text_len = len(text)
        index = len(all_text[:idx].strip().split(&quot &quot))

        replaced_text<a id="change"> = &quot &quot</a><a id="change">.join([&quot*&quot*len(i) for i in text.split(&quot &quot)]</a><a id="change">)</a>

        indices.append(list(range(index, index + token_length)))

        index += token_length</code></pre>