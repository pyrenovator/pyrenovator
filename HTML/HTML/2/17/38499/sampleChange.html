<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            swapped = True
        elif type(mod) in mapping:
            qmod = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = qmod</a><a id="change">.from_float(mod</a>, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = qmod</a><a id="change">.from_float(mod</a><a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre>