<html><h3>Pattern ID :38499
</h3><img src='110045407.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            swapped = True
        elif type(mod) in mapping:
            qmod = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = qmod</a><a id="change">.from_float(mod</a>, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = qmod</a><a id="change">.from_float(mod</a><a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 14</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/710f12f58e2d24d583c3e3bab75ec8c169ebbf57#diff-38a9d08b6c3024381edd3d3b85aece91b015450738e68c36ea3f81db8022904cL568' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110045407</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 710f12f58e2d24d583c3e3bab75ec8c169ebbf57</div><div id='time'> Time: 2022-02-17</div><div id='author'> Author: terrychen@fb.com</div><div id='file'> File Name: torch/ao/quantization/quantize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: swap_module(3)</div><div id='n_method'> N Method Name: swap_module(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch/ao/quantization/quantize.py</div><div id='n_file'> N File Name: torch/ao/quantization/quantize.py</div><div id='m_start'> M Start Line: 568</div><div id='m_end'> M End Line: 568</div><div id='n_start'> N Start Line: 568</div><div id='n_end'> N End Line: 577</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            <a id="change">qmod</a> = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/710f12f58e2d24d583c3e3bab75ec8c169ebbf57#diff-38a9d08b6c3024381edd3d3b85aece91b015450738e68c36ea3f81db8022904cL550' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110045406</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 710f12f58e2d24d583c3e3bab75ec8c169ebbf57</div><div id='time'> Time: 2022-02-17</div><div id='author'> Author: terrychen@fb.com</div><div id='file'> File Name: torch/ao/quantization/quantize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: swap_module(3)</div><div id='n_method'> N Method Name: swap_module(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch/ao/quantization/quantize.py</div><div id='n_file'> N File Name: torch/ao/quantization/quantize.py</div><div id='m_start'> M Start Line: 568</div><div id='m_end'> M End Line: 568</div><div id='n_start'> N Start Line: 568</div><div id='n_end'> N End Line: 577</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            <a id="change">qmod</a> = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/477d1bd6cfa86e868e0e09648a6c1a08f2befaf2#diff-38a9d08b6c3024381edd3d3b85aece91b015450738e68c36ea3f81db8022904cL550' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110045405</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 477d1bd6cfa86e868e0e09648a6c1a08f2befaf2</div><div id='time'> Time: 2022-02-18</div><div id='author'> Author: janeyx@fb.com</div><div id='file'> File Name: torch/ao/quantization/quantize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: swap_module(3)</div><div id='n_method'> N Method Name: swap_module(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch/ao/quantization/quantize.py</div><div id='n_file'> N File Name: torch/ao/quantization/quantize.py</div><div id='m_start'> M Start Line: 568</div><div id='m_end'> M End Line: 577</div><div id='n_start'> N Start Line: 568</div><div id='n_end'> N End Line: 568</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            <a id="change">qmod</a> = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/16e2f5d291379d5846dd485e0292035e4145ef51#diff-38a9d08b6c3024381edd3d3b85aece91b015450738e68c36ea3f81db8022904cL550' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110045404</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 16e2f5d291379d5846dd485e0292035e4145ef51</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: terrychen@fb.com</div><div id='file'> File Name: torch/ao/quantization/quantize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: swap_module(3)</div><div id='n_method'> N Method Name: swap_module(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch/ao/quantization/quantize.py</div><div id='n_file'> N File Name: torch/ao/quantization/quantize.py</div><div id='m_start'> M Start Line: 568</div><div id='m_end'> M End Line: 568</div><div id='n_start'> N Start Line: 568</div><div id='n_end'> N End Line: 577</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            <a id="change">qmod</a> = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/7a031ec17f5cfc052e618694d4bee28381a6051d#diff-38a9d08b6c3024381edd3d3b85aece91b015450738e68c36ea3f81db8022904cL550' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110045411</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 7a031ec17f5cfc052e618694d4bee28381a6051d</div><div id='time'> Time: 2022-02-15</div><div id='author'> Author: terrychen@fb.com</div><div id='file'> File Name: torch/ao/quantization/quantize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: swap_module(3)</div><div id='n_method'> N Method Name: swap_module(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch/ao/quantization/quantize.py</div><div id='n_file'> N File Name: torch/ao/quantization/quantize.py</div><div id='m_start'> M Start Line: 568</div><div id='m_end'> M End Line: 568</div><div id='n_start'> N Start Line: 568</div><div id='n_end'> N End Line: 577</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            <a id="change">qmod</a> = mapping[type(mod)]
            <a id="change">if hasattr(qmod, &quot_IS_REFERENCE&quot) and qmod._IS_REFERENCE</a>:
                <a id="change">assert </a>mod.qconfig is not None
                weight_post_process<a id="change"> = </a><a id="change">mod.qconfig.weight()</a>
                <a id="change">weight_post_process(</a>mod.weight<a id="change">)</a>
                weight_qparams<a id="change"> = get_qparam_dict(</a>weight_post_process<a id="change">)</a>
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod, weight_qparams<a id="change">)</a>
            else:
                new_mod<a id="change"> = </a><a id="change">qmod.from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre><h3>After Change</h3><pre><code class='java'>
            new_mod = custom_module_class_mapping[type(mod)].from_observed(mod)
            swapped = True
        elif type(mod) in mapping:
            new_mod = <a id="change">mapping[type(mod)].from_float(</a>mod<a id="change">)</a>
            swapped = True

        if swapped:
            &#47&#47 Preserve module&quots pre forward hooks. They&quotll be called on quantized input</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/e6fd28fb0560bccc267fc206a9b5052c255a4b34#diff-38a9d08b6c3024381edd3d3b85aece91b015450738e68c36ea3f81db8022904cL550' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110045409</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: e6fd28fb0560bccc267fc206a9b5052c255a4b34</div><div id='time'> Time: 2022-02-16</div><div id='author'> Author: nshulga@fb.com</div><div id='file'> File Name: torch/ao/quantization/quantize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: swap_module(3)</div><div id='n_method'> N Method Name: swap_module(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch/ao/quantization/quantize.py</div><div id='n_file'> N File Name: torch/ao/quantization/quantize.py</div><div id='m_start'> M Start Line: 568</div><div id='m_end'> M End Line: 577</div><div id='n_start'> N Start Line: 568</div><div id='n_end'> N End Line: 568</div><BR>