<html><h3>Pattern ID :17451
</h3><img src='57784641.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def test_get_resolution_as_tuple(self, posenet_config, model_dir):
        resolution = {"height": 225, "width": 225}
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        tuple_res = predictor.get_resolution_as_tuple(resolution)
        assert type(tuple_res) is tuple, "Loaded data must be a tuple"
        assert len(tuple_res) == 2, "Loaded data must be of length 2"
</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_get_resolution_as_tuple(self, posenet_config, model_dir):
        resolution = {"height": 225, "width": 225}
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        tuple_res = predictor.get_resolution_as_tuple(resolution)
        assert type(tuple_res) is tuple, "Loaded data must be a tuple"
        assert len(tuple_res) == 2, "Loaded data must be of length 2"
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784641</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_get_resolution_as_tuple(3)</div><div id='n_method'> N Method Name: test_get_resolution_as_tuple(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 87</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
@pytest.mark.mlmodel
class TestPredictor:
    def test_predictor(self, posenet_config, model_dir):
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        assert predictor is not None, "Predictor is not instantiated"

    def test_predict(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))</code></pre><h3>After Change</h3><pre><code class='java'>
@pytest.mark.mlmodel
class TestPredictor:
    def test_predictor(self, posenet_config, model_dir):
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        assert predictor is not None, "Predictor is not instantiated"

    def test_predict(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784625</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_predictor(3)</div><div id='n_method'> N Method Name: test_predictor(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def test_get_resolution_as_tuple(self, posenet_config, model_dir):
        resolution = {"height": 225, "width": 225}
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        tuple_res = predictor.get_resolution_as_tuple(resolution)
        assert type(tuple_res) is tuple, "Loaded data must be a tuple"
        assert len(tuple_res) == 2, "Loaded data must be of length 2"
</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_get_resolution_as_tuple(self, posenet_config, model_dir):
        resolution = {"height": 225, "width": 225}
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        tuple_res = predictor.get_resolution_as_tuple(resolution)
        assert type(tuple_res) is tuple, "Loaded data must be a tuple"
        assert len(tuple_res) == 2, "Loaded data must be of length 2"
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784640</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_get_resolution_as_tuple(3)</div><div id='n_method'> N Method Name: test_get_resolution_as_tuple(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 87</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def test_predict(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        output = predictor.predict(frame)
        assert len(output) == 4, "Predicted output has missing keys"
        for i in output:
            assert len(i) == 1, "Unexpected number of outputs"</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_predict(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        output = predictor.predict(frame)
        assert len(output) == 4, "Predicted output has missing keys"
        for i in output:
            assert len(i) == 1, "Unexpected number of outputs"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784624</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_predict(3)</div><div id='n_method'> N Method Name: test_predict(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def test_predict_all_poses(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        posenet_model = predictor._create_posenet_model()
        assert posenet_model is not None, "Model is not created"
        coords, scores, masks = predictor._predict_all_poses(posenet_model, frame, "75")
        assert coords.shape == (1, 17, 2), "Coordinates is of wrong shape"</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_predict_all_poses(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        posenet_model = predictor._create_posenet_model()
        assert posenet_model is not None, "Model is not created"
        coords, scores, masks = predictor._predict_all_poses(frame)
        assert coords.shape == (1, 17, 2), "Coordinates is of wrong shape"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784642</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_predict_all_poses(3)</div><div id='n_method'> N Method Name: test_predict_all_poses(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 128</div><div id='n_end'> N End Line: 136</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def test_create_image_from_frame(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        _, output_scale, image_size = predictor._create_image_from_frame(
            16, frame, (225, 225), "75"
        )
        assert type(image_size) is list, "Image size must be a list"</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_create_image_from_frame(self, posenet_config, model_dir):
        frame = cv2.imread(str(TEST_IMAGES_DIR / "t2.jpg"))
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        _, output_scale, image_size = predictor._create_image_from_frame(
            16, frame, (225, 225), "75"
        )
        assert type(image_size) is list, "Image size must be a list"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784626</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_create_image_from_frame(3)</div><div id='n_method'> N Method Name: test_create_image_from_frame(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 94</div><div id='n_end'> N End Line: 102</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ), "Incorrect scale"

    def test_model_instantiation(self, posenet_config, model_dir):
        predictor = <a id="change">Predictor(</a>posenet_config, model_dir<a id="change">)</a>
        posenet_model = predictor._create_posenet_model()
        assert posenet_model is not None, "Model is not instantiated"

    def test_predict_all_poses(self, posenet_config, model_dir):</code></pre><h3>After Change</h3><pre><code class='java'>
        ), "Incorrect scale"

    def test_model_instantiation(self, posenet_config, model_dir):
        predictor = <a id="change">Predictor(
            </a>model_dir,
            <a id="change">posenet_config["model_type"]</a>,
            <a id="change">posenet_config["weights"]["model_file"]</a>,
            <a id="change">posenet_config["model_nodes"]</a>,
            <a id="change">posenet_config["resolution"]</a>,
            <a id="change">posenet_config["max_pose_detection"]</a>,
            <a id="change">posenet_config["score_threshold"],
        )</a>
        posenet_model = predictor._create_posenet_model()
        assert posenet_model is not None, "Model is not instantiated"

    def test_predict_all_poses(self, posenet_config, model_dir):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/12cf4880226d0c14795545ad2b21d9be8572bee4#diff-bde6905e7b0cc9f787481834b8edae97aa315f0e4059401630794d430a0bbcc6L81' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57784422</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 12cf4880226d0c14795545ad2b21d9be8572bee4</div><div id='time'> Time: 2022-04-08</div><div id='author'> Author: 56420072+liyier90@users.noreply.github.com</div><div id='file'> File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_class'> M Class Name: TestPredictor</div><div id='n_method'> N Class Name: TestPredictor</div><div id='m_method'> M Method Name: test_model_instantiation(3)</div><div id='n_method'> N Method Name: test_model_instantiation(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/posenetv1/test_predictor.py</div><div id='m_start'> M Start Line: 82</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 122</div><BR>