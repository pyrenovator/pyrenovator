<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                xrec, _ = pl_module(x)
                pl_module.train()   
            &quot&quot&quot
            x = <a id="change">outputs[&quotinput&quot]</a>
            xrec = <a id="change">outputs[&quotreconstruction&quot]</a>  

            x_grid = torchvision.utils.make_grid(
                tensor=x,</code></pre><h3>After Change</h3><pre><code class='java'>
        Called when the train batch ends.
        if trainer.global_step % self.every_n_steps == 0:
            
            x<a id="change">, _</a> = batch
            x = <a id="change">x.to(</a>pl_module.device<a id="change">)</a>
            <a id="change">with torch</a><a id="change">.no_grad():
                pl_module.eval()</a>
                xrec<a id="change">, _ = pl_module(</a>x<a id="change">)</a>
                <a id="change">pl_module.train()</a>   

            x_grid = torchvision.utils.make_grid(
                tensor=x,</code></pre>