<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        Called when the train batch ends.
        if trainer.global_step % self.every_n_steps == 0:
            
            x<a id="change">, _</a> = batch

            x = <a id="change">x.to(</a>pl_module.device<a id="change">)</a>
            <a id="change">with torch.no_grad()</a><a id="change">:
                pl_module</a><a id="change">.eval()</a>
                xrec<a id="change">, _ = </a><a id="change">pl_module(</a>x<a id="change">)</a>
                <a id="change">pl_module.train()</a>   
            
            x_grid = torchvision.utils.make_grid(
                tensor=x,</code></pre><h3>After Change</h3><pre><code class='java'>
    ) -&gt; None:
        Called when the train batch ends.
        if trainer.global_step % self.every_n_steps == 0:
            x = <a id="change">outputs[&quotx&quot]</a>
            xrec = <a id="change">outputs[&quotxrec&quot]</a>
            &quot&quot&quot
            x, _ = batch

            x = x.to(pl_module.device)</code></pre>