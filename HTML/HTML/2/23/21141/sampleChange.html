<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        super(CKE, self).__init__()

        self.USER_ID = config[&quotUSER_ID_FIELD&quot]
        <a id="change">self.ITEM_ID</a><a id="change"> = config</a><a id="change">[&quotITEM_ID_FIELD&quot]</a>
        self.NEG_ITEM_ID<a id="change"> = config</a><a id="change">[&quotNEG_PREFIX&quot] + self.ITEM_ID</a>
        &#47&#47 todo: 和data部分对接
        self.ENTITY_ID = config[&quotENTITY_ID_FIELD&quot]
        self.RELATION_ID<a id="change"> = config[&quotRELATION_ID_FIELD&quot]</a>
        self.HEAD_ENTITY_ID = config[&quotHEAD_ENTITY_ID_FIELD&quot]
        self.TAIL_ENTITY_ID<a id="change"> = config</a><a id="change">[&quotTAIL_ENTITY_ID_FIELD&quot]</a>
        self.NEG_TAIL_ENTITY_ID = <a id="change">config[&quotNEG_PREFIX&quot]</a> + self.TAIL_ENTITY_ID

        self.n_users = dataset.num(self.USER_ID)
        self.n_items<a id="change"> = dataset</a><a id="change">.num(self.ITEM_ID</a><a id="change">)</a>
        self.n_entities = dataset.num(self.ENTITY_ID)
        self.n_relations<a id="change"> = dataset</a><a id="change">.num(</a>self.RELATION_ID<a id="change">)</a>

        self.embedding_size = config[&quotembedding_size&quot]
        self.kg_embedding_size = config[&quotkg_embedding_size&quot]</code></pre><h3>After Change</h3><pre><code class='java'>
class CKE(KnowledgeRecommender):

    def __init__(self, config, dataset):
        <a id="change">super(CKE, self).__init__(</a>config, dataset<a id="change">)</a>

        self.embedding_size = config[&quotembedding_size&quot]
        self.kg_embedding_size = config[&quotkg_embedding_size&quot]</code></pre>