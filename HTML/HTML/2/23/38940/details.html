<html><h3>Pattern ID :38940
</h3><img src='110996655.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if window_size is None or window_size &gt; len(self._data[key]):
            window_size = len(self._data[key])

        <a id="change">return torch.Tensor(self._data[key][-window_size:]).sum().item()</a>

    def avg(self, key, by=&quot_num_samples&quot, window_size=None):
        
        Return the average of the latest `window_size` values in the buffer.</code></pre><h3>After Change</h3><pre><code class='java'>
        if window_size is None or window_size &gt; len(self._data[key]):
            window_size = len(self._data[key])

        <a id="change">if isinstance(</a><a id="change">self._data[key][0]</a>, dict<a id="change">)</a>:
            data<a id="change"> = </a><a id="change">nncore.to_dict_of_list(self._data[key][-window_size:]</a><a id="change">)</a>
            sum<a id="change"> = </a><a id="change">{k: torch.Tensor(v).sum().item() for k, v in data.items()}</a>
        else:
            sum<a id="change"> = </a><a id="change">torch.Tensor(self._data[key][-window_size:]).sum().item()</a>

        return sum

    def avg(self, key, by=&quot_num_samples&quot, window_size=None):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 20</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/240a12b1571547d4215297f7f4830ad0aab74e54#diff-63a32a03b794fd58a03879d950ccd200e613f06dee5595404eede40037c8afdaL138' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110996655</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: 240a12b1571547d4215297f7f4830ad0aab74e54</div><div id='time'> Time: 2020-03-24</div><div id='author'> Author: goolhanrry@gmail.com</div><div id='file'> File Name: nncore/engine/buffer.py</div><div id='m_class'> M Class Name: Buffer</div><div id='n_method'> N Class Name: Buffer</div><div id='m_method'> M Method Name: sum(3)</div><div id='n_method'> N Method Name: sum(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: nncore/engine/buffer.py</div><div id='n_file'> N File Name: nncore/engine/buffer.py</div><div id='m_start'> M Start Line: 138</div><div id='m_end'> M End Line: 138</div><div id='n_start'> N Start Line: 154</div><div id='n_end'> N End Line: 162</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if window_size is None or window_size &gt; len(self._data[key]):
            window_size = len(self._data[key])

        <a id="change">return torch.Tensor(self._data[key][-window_size:]).mean().item()</a>

    def sum(self, key, window_size=None):
        
        Return the sum of the latest `window_size` values in the buffer.</code></pre><h3>After Change</h3><pre><code class='java'>
        if window_size is None or window_size &gt; len(self._data[key]):
            window_size = len(self._data[key])

        <a id="change">if isinstance(</a><a id="change">self._data[key][0]</a>, dict<a id="change">)</a>:
            data<a id="change"> = </a><a id="change">nncore.to_dict_of_list(self._data[key][-window_size:]</a><a id="change">)</a>
            mean<a id="change"> = </a><a id="change">{k: torch.Tensor(v).mean().item() for k, v in data.items()}</a>
        else:
            mean<a id="change"> = </a><a id="change">torch.Tensor(self._data[key][-window_size:]).mean().item()</a>

        return mean

    def sum(self, key, window_size=None):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/240a12b1571547d4215297f7f4830ad0aab74e54#diff-63a32a03b794fd58a03879d950ccd200e613f06dee5595404eede40037c8afdaL106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110996657</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: 240a12b1571547d4215297f7f4830ad0aab74e54</div><div id='time'> Time: 2020-03-24</div><div id='author'> Author: goolhanrry@gmail.com</div><div id='file'> File Name: nncore/engine/buffer.py</div><div id='m_class'> M Class Name: Buffer</div><div id='n_method'> N Class Name: Buffer</div><div id='m_method'> M Method Name: mean(3)</div><div id='n_method'> N Method Name: mean(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: nncore/engine/buffer.py</div><div id='n_file'> N File Name: nncore/engine/buffer.py</div><div id='m_start'> M Start Line: 121</div><div id='m_end'> M End Line: 121</div><div id='n_start'> N Start Line: 131</div><div id='n_end'> N End Line: 139</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if window_size is None or window_size &gt; len(self._data[key]):
            window_size = len(self._data[key])

        <a id="change">return torch.Tensor(self._data[key][-window_size:]).median().item()</a>

    def mean(self, key, window_size=None):
        
        Return the mean of the latest `window_size` values in the buffer.</code></pre><h3>After Change</h3><pre><code class='java'>
        if window_size is None or window_size &gt; len(self._data[key]):
            window_size = len(self._data[key])

        <a id="change">if isinstance(</a><a id="change">self._data[key][0]</a>, dict<a id="change">)</a>:
            data<a id="change"> = </a><a id="change">nncore.to_dict_of_list(self._data[key][-window_size:]</a><a id="change">)</a>
            median<a id="change"> = </a><a id="change">{
                k: torch.Tensor(v).median().item()
                for k, v in data.items()
            }</a>
        else:
            median<a id="change"> = </a><a id="change">torch.Tensor(
                self._data[key][-window_size:]).median().item()</a>

        return median

    def mean(self, key, window_size=None):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/240a12b1571547d4215297f7f4830ad0aab74e54#diff-63a32a03b794fd58a03879d950ccd200e613f06dee5595404eede40037c8afdaL89' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110996656</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: 240a12b1571547d4215297f7f4830ad0aab74e54</div><div id='time'> Time: 2020-03-24</div><div id='author'> Author: goolhanrry@gmail.com</div><div id='file'> File Name: nncore/engine/buffer.py</div><div id='m_class'> M Class Name: Buffer</div><div id='n_method'> N Class Name: Buffer</div><div id='m_method'> M Method Name: median(3)</div><div id='n_method'> N Method Name: median(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: nncore/engine/buffer.py</div><div id='n_file'> N File Name: nncore/engine/buffer.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 104</div><div id='n_end'> N End Line: 116</div><BR>