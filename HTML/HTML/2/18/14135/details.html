<html><h3>Pattern ID :14135
</h3><img src='47194943.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        <a id="change">for </a><a id="change">name</a>, <a id="change">attr</a> in <a id="change">node.schema.attributes.items():
            </a><a id="change">if </a><a id="change">hasattr(node</a>, <a id="change">name</a><a id="change">)</a>:
                <a id="change">if str(</a><a id="change">node.schema.attributes[name]) == "axes"</a>:
                    axes<a id="change"> = </a><a id="change">getattr(node</a>, <a id="change">name</a><a id="change">)</a>
                elif str(node.schema.attributes[name]) == "keepdims":
                    keepdims = getattr(node, name)

        in_edges = state.in_edges(node)</code></pre><h3>After Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        <a id="change">if </a><a id="change">hasattr(</a>node, <a id="change">"axes"</a><a id="change">)</a>:
            axes<a id="change"> = </a>node.axes
        if hasattr(node, "keepdims"):
            keepdims = node.keepdims
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 13</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L949' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47194943</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureReduceSum</div><div id='n_method'> N Class Name: PureReduceSum</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 949</div><div id='m_end'> M End Line: 956</div><div id='n_start'> N Start Line: 986</div><div id='n_end'> N End Line: 991</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        <a id="change">for </a><a id="change">name</a>, <a id="change">attr</a> in <a id="change">node.schema.attributes.items():
            </a><a id="change">if </a><a id="change">hasattr(</a>node, name<a id="change">)</a>:
                if str(node.schema.attributes[name]) == "axes":
                    axes = getattr(node, name)
                elif <a id="change">str(node.schema.attributes[name]) == "keepdims"</a>:
                    keepdims<a id="change"> = </a><a id="change">getattr(</a>node, name<a id="change">)</a>

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())
</code></pre><h3>After Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        <a id="change">if </a><a id="change">hasattr(</a>node, <a id="change">"axes"</a><a id="change">)</a>:
            axes<a id="change"> = </a>node.axes
        if hasattr(node, "keepdims"):
            keepdims = node.keepdims
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L945' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47194944</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureReduceSum</div><div id='n_method'> N Class Name: PureReduceSum</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 949</div><div id='m_end'> M End Line: 956</div><div id='n_start'> N Start Line: 986</div><div id='n_end'> N End Line: 991</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        <a id="change">for </a><a id="change">name</a>, <a id="change">attr</a> in <a id="change">node.schema.attributes.items():
            </a><a id="change">if </a><a id="change">hasattr(</a>node, name<a id="change">)</a>:
                <a id="change">if str(</a><a id="change">node.schema.attributes[name]) == "axes"</a>:
                    axes = getattr(node, name)
                elif str(node.schema.attributes[name]) == "keepdims":
                    keepdims<a id="change"> = </a><a id="change">getattr(</a>node, name<a id="change">)</a>

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())
</code></pre><h3>After Change</h3><pre><code class='java'>
        keepdims = None
        if hasattr(node, "axes"):
            axes = node.axes
        <a id="change">if </a><a id="change">hasattr(</a>node, <a id="change">"keepdims"</a><a id="change">)</a>:
            keepdims<a id="change"> = </a>node.keepdims

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L453' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47194946</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureReduceMean</div><div id='n_method'> N Class Name: PureReduceMean</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 457</div><div id='m_end'> M End Line: 464</div><div id='n_start'> N Start Line: 489</div><div id='n_end'> N End Line: 494</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def forward_can_be_applied(node: ONNXOp, state: SDFGState,
                               sdfg: SDFG) -&gt; bool:
        perm = None
        <a id="change">for </a><a id="change">name</a>, <a id="change">attr</a> in <a id="change">node.schema.attributes.items():
            </a><a id="change">if </a><a id="change">hasattr(</a>node, name<a id="change">)</a>:
                <a id="change">if str(</a><a id="change">node.schema.attributes[name]) == "perm"</a>:
                    perm<a id="change"> = </a><a id="change">getattr(</a>node, name<a id="change">)</a>

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())
</code></pre><h3>After Change</h3><pre><code class='java'>
    def forward_can_be_applied(node: ONNXOp, state: SDFGState,
                               sdfg: SDFG) -&gt; bool:
        perm = None
        <a id="change">if </a><a id="change">hasattr(</a>node, <a id="change">"perm"</a><a id="change">)</a>:
            perm<a id="change"> = </a>node.perm
        
        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L1135' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47194950</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureTranspose</div><div id='n_method'> N Class Name: PureTranspose</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 1138</div><div id='m_end'> M End Line: 1143</div><div id='n_start'> N Start Line: 1171</div><div id='n_end'> N End Line: 1174</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def forward_can_be_applied(node: ONNXOp, state: SDFGState,
                               sdfg: SDFG) -&gt; bool:
        axis = None
        <a id="change">for </a><a id="change">name</a>, <a id="change">attr</a> in <a id="change">node.schema.attributes.items():
            </a><a id="change">if </a><a id="change">hasattr(</a>node, name<a id="change">)</a>:
                <a id="change">if str(</a><a id="change">node.schema.attributes[name]) == "axis"</a>:
                    axis<a id="change"> = </a><a id="change">getattr(</a>node, name<a id="change">)</a>

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())
        if input_dim == 4 and axis == 3:</code></pre><h3>After Change</h3><pre><code class='java'>
    def forward_can_be_applied(node: ONNXOp, state: SDFGState,
                               sdfg: SDFG) -&gt; bool:
        axis = None
        <a id="change">if </a><a id="change">hasattr(</a>node, <a id="change">"axis"</a><a id="change">)</a>:
            axis<a id="change"> = </a>node.axis

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L1016' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47194951</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureSoftmax</div><div id='n_method'> N Class Name: PureSoftmax</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 1019</div><div id='m_end'> M End Line: 1024</div><div id='n_start'> N Start Line: 1054</div><div id='n_end'> N End Line: 1057</div><BR>