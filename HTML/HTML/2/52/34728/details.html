<html><h3>Pattern ID :34728
</h3><img src='99634352.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_s_flag = 0
    w1_orig<a id="change"> = None</a>
    w1_pos_sem<a id="change"> = None</a>

    <a id="change">for </a>s in s_ls<a id="change">:
        </a><a id="change">if w1 in eval(s)</a>:
            w1_s_flag<a id="change"> = 1</a>
            w1_pos_sem<a id="change"> = s</a>
            w1_orig<a id="change"> = </a><a id="change">eval(s)[w1]</a>
            <a id="change">break</a>
    <a id="change">if w1_s_flag == 0</a>:
        w1_orig<a id="change"> = w1</a>
        w1_pos_sem<a id="change"> = &quotorig&quot</a>

    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for w2, i2 in dataset.dict.items():

        if i1 == i2:
            continue
        w2_s_flag<a id="change"> = 0</a>
        w2_orig = <a id="change">None</a>
        w2_pos_sem<a id="change"> = None</a>
        <a id="change">for </a>s in s_ls<a id="change">:
            </a><a id="change">if w2 in eval(s)</a>:
                w2_s_flag<a id="change"> = 1</a>
                w2_pos_sem<a id="change"> = s</a>
                w2_orig<a id="change"> = eval(s)[w2]</a>
                <a id="change">break</a>
        <a id="change">if w2_s_flag == 0</a>:
            w2_orig<a id="change"> = w2</a>
            w2_pos_sem<a id="change"> = &quotorig&quot</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre><h3>After Change</h3><pre><code class='java'>

def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_pos_sem=<a id="change">word_influction[i1]</a>



    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for w2, i2 in dataset.dict.items():
        <a id="change">if i2&gt;50000</a>:
            <a id="change">break</a>
        if i1 == i2:
            continue
        w2_pos_sem=<a id="change">word_influction[i2]</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 37</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thunlp/sememepso-attack/commit/9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342#diff-13edb5e6af41ff15f013657987db5178f11411be44226647b100bc135ec143b7L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99634352</div><div id='project'> Project Name: thunlp/sememepso-attack</div><div id='commit'> Commit Name: 9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342</div><div id='time'> Time: 2020-06-28</div><div id='author'> Author: zangy17@mails.tsinghua.edu.cn</div><div id='file'> File Name: SST/gen_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_w1(2)</div><div id='n_method'> N Method Name: add_w1(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: SST/gen_candidates.py</div><div id='n_file'> N File Name: SST/gen_candidates.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_s_flag = 0
    w1_orig<a id="change"> = </a>None
    w1_pos_sem<a id="change"> = </a>None

    <a id="change">for </a><a id="change">s</a> in s_ls<a id="change">:
        </a><a id="change">if w1 in eval(s)</a>:
            w1_s_flag<a id="change"> = 1</a>
            w1_pos_sem<a id="change"> = </a>s
            w1_orig<a id="change"> = </a><a id="change">eval(s)[w1]</a>
            <a id="change">break</a>
    <a id="change">if w1_s_flag == 0</a>:
        w1_orig<a id="change"> = </a>w1
        w1_pos_sem<a id="change"> = &quotorig&quot</a>

    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for <a id="change">w2</a>, i2 in dataset.dict.items():

        if i1 == i2:
            continue
        w2_s_flag<a id="change"> = 0</a>
        w2_orig = None
        w2_pos_sem<a id="change"> = </a>None
        <a id="change">for </a><a id="change">s</a> in s_ls<a id="change">:
            </a><a id="change">if w2 in eval(s)</a>:
                w2_s_flag<a id="change"> = 1</a>
                w2_pos_sem<a id="change"> = </a>s
                w2_orig<a id="change"> = eval(s)[w2]</a>
                <a id="change">break</a>
        <a id="change">if w2_s_flag == 0</a>:
            w2_orig<a id="change"> = </a>w2
            w2_pos_sem<a id="change"> = &quotorig&quot</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre><h3>After Change</h3><pre><code class='java'>

def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_pos_sem=<a id="change">word_influction[i1]</a>



    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for w2, <a id="change">i2</a> in dataset.dict.items():
        <a id="change">if i2&gt;50000</a>:
            <a id="change">break</a>
        if i1 == i2:
            continue
        w2_pos_sem=<a id="change">word_influction[i2]</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thunlp/sememepso-attack/commit/9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342#diff-13edb5e6af41ff15f013657987db5178f11411be44226647b100bc135ec143b7L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99634353</div><div id='project'> Project Name: thunlp/sememepso-attack</div><div id='commit'> Commit Name: 9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342</div><div id='time'> Time: 2020-06-28</div><div id='author'> Author: zangy17@mails.tsinghua.edu.cn</div><div id='file'> File Name: SST/gen_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_w1(2)</div><div id='n_method'> N Method Name: add_w1(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: SST/gen_candidates.py</div><div id='n_file'> N File Name: SST/gen_candidates.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_s_flag = 0
    w1_orig<a id="change"> = </a>None
    w1_pos_sem<a id="change"> = </a>None

    <a id="change">for </a><a id="change">s</a> in s_ls<a id="change">:
        </a><a id="change">if w1 in eval(s)</a>:
            w1_s_flag<a id="change"> = 1</a>
            w1_pos_sem<a id="change"> = </a>s
            w1_orig<a id="change"> = </a><a id="change">eval(s)[w1]</a>
            <a id="change">break</a>
    <a id="change">if w1_s_flag == 0</a>:
        w1_orig<a id="change"> = </a>w1
        w1_pos_sem<a id="change"> = &quotorig&quot</a>

    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for <a id="change">w2</a>, i2 in dataset.dict.items():

        if i1 == i2:
            continue
        w2_s_flag<a id="change"> = 0</a>
        w2_orig = None
        w2_pos_sem<a id="change"> = </a>None
        <a id="change">for </a><a id="change">s</a> in s_ls<a id="change">:
            </a><a id="change">if w2 in eval(s)</a>:
                w2_s_flag<a id="change"> = 1</a>
                w2_pos_sem<a id="change"> = </a>s
                w2_orig<a id="change"> = eval(s)[w2]</a>
                <a id="change">break</a>
        <a id="change">if w2_s_flag == 0</a>:
            w2_orig<a id="change"> = </a>w2
            w2_pos_sem<a id="change"> = &quotorig&quot</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre><h3>After Change</h3><pre><code class='java'>

def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_pos_sem=<a id="change">word_influction[i1]</a>



    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for w2, <a id="change">i2</a> in dataset.dict.items():
        <a id="change">if i2&gt;50000</a>:
            <a id="change">break</a>
        if i1 == i2:
            continue
        w2_pos_sem=<a id="change">word_influction[i2]</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thunlp/sememepso-attack/commit/9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342#diff-94e15e46e68172077261bf421d2c1badd20184c71312241aee4d7ed8d988e463L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99634342</div><div id='project'> Project Name: thunlp/sememepso-attack</div><div id='commit'> Commit Name: 9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342</div><div id='time'> Time: 2020-06-28</div><div id='author'> Author: zangy17@mails.tsinghua.edu.cn</div><div id='file'> File Name: IMDB/gen_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_w1(2)</div><div id='n_method'> N Method Name: add_w1(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: IMDB/gen_candidates.py</div><div id='n_file'> N File Name: IMDB/gen_candidates.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_s_flag = 0
    w1_orig<a id="change"> = </a>None
    w1_pos_sem<a id="change"> = </a>None

    <a id="change">for </a><a id="change">s</a> in s_ls<a id="change">:
        </a><a id="change">if w1 in eval(s)</a>:
            w1_s_flag<a id="change"> = 1</a>
            w1_pos_sem<a id="change"> = </a>s
            w1_orig<a id="change"> = </a><a id="change">eval(s)[w1]</a>
            <a id="change">break</a>
    <a id="change">if w1_s_flag == 0</a>:
        w1_orig<a id="change"> = </a>w1
        w1_pos_sem<a id="change"> = &quotorig&quot</a>

    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for <a id="change">w2</a>, i2 in vocab.items():

        if i1 == i2:
            continue
        w2_s_flag<a id="change"> = 0</a>
        w2_orig = None
        w2_pos_sem<a id="change"> = </a>None
        <a id="change">for </a><a id="change">s</a> in s_ls<a id="change">:
            </a><a id="change">if w2 in eval(s)</a>:
                w2_s_flag<a id="change"> = 1</a>
                w2_pos_sem<a id="change"> = </a>s
                w2_orig<a id="change"> = eval(s)[w2]</a>
                <a id="change">break</a>
        <a id="change">if w2_s_flag == 0</a>:
            w2_orig<a id="change"> = </a>w2
            w2_pos_sem<a id="change"> = &quotorig&quot</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre><h3>After Change</h3><pre><code class='java'>

def add_w1(w1, i1):
    word_candidate[i1] = {}
    w1_pos_sem=<a id="change">word_influction[i1]</a>



    w1_pos = set(word_pos[i1])
    for pos in pos_set:
        word_candidate[i1][pos] = []
    valid_pos_w1 = w1_pos & pos_set

    if len(valid_pos_w1) == 0:
        return

    new_w1_sememes = word_sem[i1]
    if len(new_w1_sememes) == 0:
        return

    for w2, <a id="change">i2</a> in vocab.items():
        <a id="change">if i2&gt;50000</a>:
            <a id="change">break</a>
        if i1 == i2:
            continue
        w2_pos_sem=<a id="change">word_influction[i2]</a>

        w2_pos = set(word_pos[i2])
        all_pos = w2_pos & w1_pos & pos_set
        if len(all_pos) == 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thunlp/sememepso-attack/commit/9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342#diff-67a818472b83919f3f69bff801a3a2666756124c788806c67b72d03c495e2f3cL55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99634344</div><div id='project'> Project Name: thunlp/sememepso-attack</div><div id='commit'> Commit Name: 9cb5c3b7521eddd58d951f3a4a8ac26b68ee2342</div><div id='time'> Time: 2020-06-28</div><div id='author'> Author: zangy17@mails.tsinghua.edu.cn</div><div id='file'> File Name: SNLI/gen_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_w1(2)</div><div id='n_method'> N Method Name: add_w1(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: SNLI/gen_candidates.py</div><div id='n_file'> N File Name: SNLI/gen_candidates.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 81</div><BR>