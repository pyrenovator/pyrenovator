<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        _catid2clsid = {}
        _clsid2catid = {}
        _clsid2cname = {}
        <a id="change">with open</a><a id="change">(train_path, &quotr&quot, encoding=&quotutf-8&quot) as f2:
            </a>dataset_text = &quot&quot
            <a id="change">for line</a> in <a id="change">f2</a><a id="change">:
                </a>line = <a id="change">line.strip()</a>
                dataset_text<a id="change"> += </a>line
            eval_dataset = json.loads(dataset_text)
            categories = eval_dataset[&quotcategories&quot]
            for clsid, cate_dic in enumerate(categories):
                catid = cate_dic[&quotid&quot]
                cname<a id="change"> = </a>cate_dic[&quotname&quot]
                _catid2clsid[catid] = clsid
                _clsid2catid[clsid]<a id="change"> = </a>catid
                _clsid2cname[clsid] = cname
        class_names = []
        num_classes = len(_clsid2cname.keys())</code></pre><h3>After Change</h3><pre><code class='java'>
        train_pre_path = os.path.join(self.data_dir, self.name)

        &#47&#47 种类id
        _catid2clsid<a id="change">, _clsid2catid, _clsid2cname, class_names</a> = get_class_msg(train_path)

        train_dataset = COCO(train_path)
        train_img_ids = train_dataset.getImgIds()</code></pre>