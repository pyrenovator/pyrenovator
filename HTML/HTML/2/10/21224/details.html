<html><h3>Pattern ID :21224
</h3><img src='67867275.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        _catid2clsid = {}
        _clsid2catid = {}
        _clsid2cname = {}
        <a id="change">with open</a><a id="change">(train_path, &quotr&quot, encoding=&quotutf-8&quot) as f2:
            </a>dataset_text = &quot&quot
            <a id="change">for line</a> in <a id="change">f2</a><a id="change">:
                </a>line = <a id="change">line.strip()</a>
                dataset_text<a id="change"> += </a>line
            eval_dataset = json.loads(dataset_text)
            categories = eval_dataset[&quotcategories&quot]
            for clsid, cate_dic in enumerate(categories):
                catid = cate_dic[&quotid&quot]
                cname<a id="change"> = </a>cate_dic[&quotname&quot]
                _catid2clsid[catid] = clsid
                _clsid2catid[clsid]<a id="change"> = </a>catid
                _clsid2cname[clsid] = cname
        class_names = []
        num_classes = len(_clsid2cname.keys())</code></pre><h3>After Change</h3><pre><code class='java'>
        train_pre_path = os.path.join(self.data_dir, self.name)

        &#47&#47 种类id
        _catid2clsid<a id="change">, _clsid2catid, _clsid2cname, class_names</a> = get_class_msg(train_path)

        train_dataset = COCO(train_path)
        train_img_ids = train_dataset.getImgIds()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/miemie2013/miemiedetection/commit/a5dd8c31e9edef5be2b76cece461f06a9d7d23b5#diff-e937b1cf8e981bd933c3b2ed23cd7d132a3e73af8071aec4186c42898ef490fdL379' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67867275</div><div id='project'> Project Name: miemie2013/miemiedetection</div><div id='commit'> Commit Name: a5dd8c31e9edef5be2b76cece461f06a9d7d23b5</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: 53960695+miemie2013@users.noreply.github.com</div><div id='file'> File Name: mmdet/data/datasets/coco.py</div><div id='m_class'> M Class Name: PPYOLO_COCOTrainDataset</div><div id='n_method'> N Class Name: PPYOLO_COCOTrainDataset</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Dataset</div><div id='m_file'> M File Name: mmdet/data/datasets/coco.py</div><div id='n_file'> N File Name: mmdet/data/datasets/coco.py</div><div id='m_start'> M Start Line: 379</div><div id='m_end'> M End Line: 404</div><div id='n_start'> N Start Line: 380</div><div id='n_end'> N End Line: 442</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        _catid2clsid = {}
        _clsid2catid = {}
        _clsid2cname = {}
        <a id="change">with open</a><a id="change">(val_path, &quotr&quot, encoding=&quotutf-8&quot) as f2:
            </a>dataset_text = &quot&quot
            <a id="change">for line</a> in f2<a id="change">:
                </a>line = <a id="change">line.strip()</a>
                dataset_text<a id="change"> += </a>line
            eval_dataset = json.loads(dataset_text)
            categories = eval_dataset[&quotcategories&quot]
            for clsid, cate_dic in enumerate(categories):
                catid = cate_dic[&quotid&quot]
                cname = cate_dic[&quotname&quot]
                _catid2clsid[catid]<a id="change"> = </a>clsid
                _clsid2catid[clsid]<a id="change"> = </a>catid
                _clsid2cname[clsid] = cname
        class_names = []
        num_classes = len(_clsid2cname.keys())</code></pre><h3>After Change</h3><pre><code class='java'>
        val_pre_path = os.path.join(self.data_dir, self.name)

        &#47&#47 种类id
        _catid2clsid<a id="change">, _clsid2catid, _clsid2cname, class_names</a> = get_class_msg(val_path)

        val_dataset = COCO(val_path)
        val_img_ids = val_dataset.getImgIds()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/miemie2013/miemiedetection/commit/a5dd8c31e9edef5be2b76cece461f06a9d7d23b5#diff-e937b1cf8e981bd933c3b2ed23cd7d132a3e73af8071aec4186c42898ef490fdL295' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67867402</div><div id='project'> Project Name: miemie2013/miemiedetection</div><div id='commit'> Commit Name: a5dd8c31e9edef5be2b76cece461f06a9d7d23b5</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: 53960695+miemie2013@users.noreply.github.com</div><div id='file'> File Name: mmdet/data/datasets/coco.py</div><div id='m_class'> M Class Name: PPYOLO_COCOEvalDataset</div><div id='n_method'> N Class Name: PPYOLO_COCOEvalDataset</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Dataset</div><div id='m_file'> M File Name: mmdet/data/datasets/coco.py</div><div id='n_file'> N File Name: mmdet/data/datasets/coco.py</div><div id='m_start'> M Start Line: 302</div><div id='m_end'> M End Line: 327</div><div id='n_start'> N Start Line: 326</div><div id='n_end'> N End Line: 330</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        _catid2clsid = {}
        _clsid2catid = {}
        _clsid2cname = {}
        <a id="change">with open</a><a id="change">(train_path, &quotr&quot, encoding=&quotutf-8&quot) as f2:
            </a>dataset_text = &quot&quot
            <a id="change">for line</a> in f2<a id="change">:
                </a>line = <a id="change">line.strip()</a>
                dataset_text<a id="change"> += </a>line
            eval_dataset = json.loads(dataset_text)
            categories = eval_dataset[&quotcategories&quot]
            for clsid, cate_dic in enumerate(categories):
                catid = cate_dic[&quotid&quot]
                cname<a id="change"> = </a>cate_dic[&quotname&quot]
                _catid2clsid[catid]<a id="change"> = </a>clsid
                _clsid2catid[clsid] = catid
                _clsid2cname[clsid] = cname
        class_names = []</code></pre><h3>After Change</h3><pre><code class='java'>
        train_pre_path = os.path.join(self.data_dir, self.name)

        &#47&#47 种类id
        _catid2clsid<a id="change">, _clsid2catid, _clsid2cname, class_names</a> = get_class_msg(train_path)

        train_dataset = COCO(train_path)
        train_img_ids = train_dataset.getImgIds()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/miemie2013/miemiedetection/commit/a5dd8c31e9edef5be2b76cece461f06a9d7d23b5#diff-e937b1cf8e981bd933c3b2ed23cd7d132a3e73af8071aec4186c42898ef490fdL372' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67867267</div><div id='project'> Project Name: miemie2013/miemiedetection</div><div id='commit'> Commit Name: a5dd8c31e9edef5be2b76cece461f06a9d7d23b5</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: 53960695+miemie2013@users.noreply.github.com</div><div id='file'> File Name: mmdet/data/datasets/coco.py</div><div id='m_class'> M Class Name: PPYOLO_COCOTrainDataset</div><div id='n_method'> N Class Name: PPYOLO_COCOTrainDataset</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Dataset</div><div id='m_file'> M File Name: mmdet/data/datasets/coco.py</div><div id='n_file'> N File Name: mmdet/data/datasets/coco.py</div><div id='m_start'> M Start Line: 379</div><div id='m_end'> M End Line: 404</div><div id='n_start'> N Start Line: 380</div><div id='n_end'> N End Line: 442</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    import pkg_resources

    <a id="change">with requirements_file</a><a id="change">.open() as requirements:
        </a>install_options<a id="change"> = </a>[]
        install_reqs<a id="change"> = </a>[]
        <a id="change">for req</a> in requirements<a id="change">:
            </a>req<a id="change"> = </a><a id="change">req.strip()</a>
            if (not req) or req.startswith(&quot&#47&#47&quot):
                continue
            elif req.startswith(&quot-&quot):
                install_options.extend(req.split(&quot &quot))</code></pre><h3>After Change</h3><pre><code class='java'>
    if is_requirements_installed(requirements_file):
        return

    install_reqs<a id="change">, install_options</a> = _get_install_options(requirements_file)

    subprocess.check_call(
        [</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/bdb867c2cce340f94e3d65936ea95e35afd0ddc9#diff-57f2f00619e7dd67b6900e7403a068e7dc4f35455dbb8b902d3df6ef1d1550caL343' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67867207</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: bdb867c2cce340f94e3d65936ea95e35afd0ddc9</div><div id='time'> Time: 2021-11-04</div><div id='author'> Author: artex.xh@gmail.com</div><div id='file'> File Name: jina/hubble/helper.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: install_requirements(2)</div><div id='n_method'> N Method Name: install_requirements(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: jina/hubble/helper.py</div><div id='n_file'> N File Name: jina/hubble/helper.py</div><div id='m_start'> M Start Line: 344</div><div id='m_end'> M End Line: 373</div><div id='n_start'> N Start Line: 379</div><div id='n_end'> N End Line: 379</div><BR>