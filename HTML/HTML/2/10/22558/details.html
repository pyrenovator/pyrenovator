<html><h3>Pattern ID :22558
</h3><img src='71278654.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    

    optim_type = optim_cfg[&quotTYPE&quot]
    <a id="change">if </a>isinstance(optim_type, type):
        Optim = optim_type
    else:
        <a id="change">if </a>hasattr(optim, optim_type):
            Optim<a id="change"> = getattr(</a>optim, <a id="change">optim_type</a><a id="change">)</a>
        else:
            Optim<a id="change"> = </a><a id="change">getattr(</a>easyoptim, <a id="change">optim_type</a><a id="change">)</a>
    optim_param = optim_cfg[&quotPARAM&quot].copy()
    optimizer = Optim(model.parameters(), **optim_param)
    return optimizer
</code></pre><h3>After Change</h3><pre><code class='java'>
    if isinstance(optim_cfg[&quotTYPE&quot], type):
        optim_type = optim_cfg[&quotTYPE&quot]
    else:
        <a id="change">if hasattr(</a>optim, optim_cfg[&quotTYPE&quot]<a id="change">)</a>:
            optim_type<a id="change"> = </a>getattr(optim, optim_cfg[&quotTYPE&quot])
        else:
            optim_type = getattr(easyoptim, optim_cfg[&quotTYPE&quot])
    optim_param = optim_cfg[&quotPARAM&quot].copy()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/cnstark/easytorch/commit/20668cdf77463cc55d3c0f7a4ae1f40b2237e163#diff-c792b94b84954523a8f96ae2f093724e43eb3bc143b4fb3ed1ac9e47bd3c779eL44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71278654</div><div id='project'> Project Name: cnstark/easytorch</div><div id='commit'> Commit Name: 20668cdf77463cc55d3c0f7a4ae1f40b2237e163</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: 45590791+cnstark@users.noreply.github.com</div><div id='file'> File Name: easytorch/core/optimizer_builder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_optim(2)</div><div id='n_method'> N Method Name: build_optim(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: easytorch/core/optimizer_builder.py</div><div id='n_file'> N File Name: easytorch/core/optimizer_builder.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 51</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        for <a id="change">name</a>, attr in node.schema.attributes.items():
            <a id="change">if </a>hasattr(node, name):
                <a id="change">if </a>str(node.schema.attributes[name]) == "axes":
                    axes<a id="change"> = </a><a id="change">getattr(</a>node, name<a id="change">)</a>
                elif str(node.schema.attributes[name]) == "keepdims":
                    keepdims<a id="change"> = getattr(</a>node, name<a id="change">)</a>

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())
</code></pre><h3>After Change</h3><pre><code class='java'>
                               sdfg: SDFG) -&gt; bool:
        axes = None
        keepdims = None
        <a id="change">if hasattr(</a>node, "axes"<a id="change">)</a>:
            axes<a id="change"> = </a>node.axes
        if hasattr(node, "keepdims"):
            keepdims = node.keepdims
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L945' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71278652</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureReduceSum</div><div id='n_method'> N Class Name: PureReduceSum</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 949</div><div id='m_end'> M End Line: 956</div><div id='n_start'> N Start Line: 986</div><div id='n_end'> N End Line: 991</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        axes = None
        keepdims = None
        for name, attr in node.schema.attributes.items():
            <a id="change">if </a>hasattr(node, name):
                <a id="change">if </a>str(node.schema.attributes[name]) == "axes":
                    axes<a id="change"> = getattr(</a>node, name<a id="change">)</a>
                elif str(node.schema.attributes[name]) == "keepdims":
                    keepdims<a id="change"> = </a><a id="change">getattr(</a>node, name<a id="change">)</a>

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())
</code></pre><h3>After Change</h3><pre><code class='java'>
        keepdims = None
        if hasattr(node, "axes"):
            axes = node.axes
        <a id="change">if hasattr(</a>node, "keepdims"<a id="change">)</a>:
            keepdims<a id="change"> = </a>node.keepdims

        in_edges = state.in_edges(node)
        input_dim = len(in_edges[0].data.subset.size())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/5dd0fe5a0905ffd1bc426969122de91f4f7378c5#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L453' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71278695</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 5dd0fe5a0905ffd1bc426969122de91f4f7378c5</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureReduceMean</div><div id='n_method'> N Class Name: PureReduceMean</div><div id='m_method'> M Method Name: forward_can_be_applied(3)</div><div id='n_method'> N Method Name: forward_can_be_applied(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 457</div><div id='m_end'> M End Line: 464</div><div id='n_start'> N Start Line: 489</div><div id='n_end'> N End Line: 494</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        optimizer (optim.Optimizer)
    

    <a id="change">optim_type</a> = optim_cfg[&quotTYPE&quot]
    <a id="change">if </a>isinstance(optim_type, type):
        Optim = optim_type
    else:
        <a id="change">if </a>hasattr(optim, optim_type):
            Optim<a id="change"> = getattr(</a>optim, optim_type<a id="change">)</a>
        else:
            Optim<a id="change"> = </a><a id="change">getattr(</a>easyoptim, optim_type<a id="change">)</a>
    optim_param = optim_cfg[&quotPARAM&quot].copy()
    optimizer = Optim(model.parameters(), **optim_param)
    return optimizer
</code></pre><h3>After Change</h3><pre><code class='java'>
    if isinstance(optim_cfg[&quotTYPE&quot], type):
        optim_type = optim_cfg[&quotTYPE&quot]
    else:
        <a id="change">if hasattr(</a>optim, optim_cfg[&quotTYPE&quot]<a id="change">)</a>:
            optim_type<a id="change"> = </a>getattr(optim, optim_cfg[&quotTYPE&quot])
        else:
            optim_type = getattr(easyoptim, optim_cfg[&quotTYPE&quot])
    optim_param = optim_cfg[&quotPARAM&quot].copy()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cnstark/easytorch/commit/20668cdf77463cc55d3c0f7a4ae1f40b2237e163#diff-c792b94b84954523a8f96ae2f093724e43eb3bc143b4fb3ed1ac9e47bd3c779eL10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71278646</div><div id='project'> Project Name: cnstark/easytorch</div><div id='commit'> Commit Name: 20668cdf77463cc55d3c0f7a4ae1f40b2237e163</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: 45590791+cnstark@users.noreply.github.com</div><div id='file'> File Name: easytorch/core/optimizer_builder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_optim(2)</div><div id='n_method'> N Method Name: build_optim(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: easytorch/core/optimizer_builder.py</div><div id='n_file'> N File Name: easytorch/core/optimizer_builder.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 51</div><BR>