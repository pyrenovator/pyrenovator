<html><h3>Pattern ID :28637
</h3><img src='84540201.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                annotations = items[item_id].annotations
                for caption in captions:
                    if caption[0] == &quot\"&quot and caption[-1] == &quot\"&quot:
                        caption = <a id="change">caption[1:-1]</a>
                    annotations.append(Caption(caption))

        return items
</code></pre><h3>After Change</h3><pre><code class='java'>
                if len(objects) == 2:
                    image = objects[0]
                    objects = objects[1].split(&quot\"&quot)
                    <a id="change">if 1 &lt; len(objects)</a>:
                        <a id="change">if </a>len(objects) % 2:
                            captions = [objects[2 * i + 1]
                                for i in range(int(len(objects) / 2))]
                        else:
                            <a id="change">raise </a><a id="change">Exception(</a>"Line %s: unexpected number "
                                "of quotes in filename" % line<a id="change">)</a>
                    else:
                        captions = objects[0].split()
                else:
                    image = objects[0][:-1]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/7a66b5e9de8f0e2cdbdedc28f23b60172284ec27#diff-8dabf26e19c18cd14fd53c6edd8a4b1d2dda9ebff6029ef2786e570df53ac0daL56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84540201</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 7a66b5e9de8f0e2cdbdedc28f23b60172284ec27</div><div id='time'> Time: 2021-03-24</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_class'> M Class Name: _IcdarExtractor</div><div id='n_method'> N Class Name: _IcdarExtractor</div><div id='m_method'> M Method Name: _load_recognition_items(1)</div><div id='n_method'> N Method Name: _load_recognition_items(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_start'> M Start Line: 60</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    R_ = param[:12].reshape(3, -1)
    R = R_[:, :3]
    offset = R_[:, -1].reshape(3, 1)
    alpha_shp = <a id="change">param[12:52]</a>.reshape(-1, 1)
    alpha_exp = param[52:].reshape(-1, 1)

    return R, offset, alpha_shp, alpha_exp</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 pre-defined templates for parameter
    n = param.shape[0]
    <a id="change">if n == 62</a>:
        trans_dim, shape_dim, exp_dim = 12, 40, 10
    elif <a id="change"></a>n == 72:
        trans_dim, shape_dim, exp_dim = 12, 40, 20
    elif n == 141:
        trans_dim, shape_dim, exp_dim = 12, 100, 29
    else:
        <a id="change">raise </a><a id="change">Exception(</a>f&quotUndefined templated param parsing rule&quot<a id="change">)</a>

    R_ = param[:trans_dim].reshape(3, -1)
    R = R_[:, :3]
    offset = R_[:, -1].reshape(3, 1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cleardusk/3ddfa_v2/commit/82c3b1c119f0eedd2d56885867105ec902c5744d#diff-c850638f0643a25875df593134347f81f520466f7c4b42b1bd4587b6bd4c8a47L85' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84540203</div><div id='project'> Project Name: cleardusk/3ddfa_v2</div><div id='commit'> Commit Name: 82c3b1c119f0eedd2d56885867105ec902c5744d</div><div id='time'> Time: 2020-10-04</div><div id='author'> Author: guojianzhu1994@foxmail.com</div><div id='file'> File Name: utils/tddfa_util.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _parse_param(1)</div><div id='n_method'> N Method Name: _parse_param(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/tddfa_util.py</div><div id='n_file'> N File Name: utils/tddfa_util.py</div><div id='m_start'> M Start Line: 90</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 86</div><div id='n_end'> N End Line: 100</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        if len(objects) == 5:
                            text = objects[4]
                            if text[0] == &quot\"&quot and text[-1] == &quot\"&quot:
                                text = <a id="change">text[1:-1]</a>
                            attributes[&quottext&quot] = text

                        annotations.append(
                            Bbox(x, y, w, h, attributes=attributes))</code></pre><h3>After Change</h3><pre><code class='java'>
                for line in f:
                    line = line.strip()
                    objects = line.split(&quot\"&quot)
                    <a id="change">if 1 &lt; len(objects)</a>:
                        <a id="change">if </a>len(objects) == 3:
                            text = objects[1]
                        else:
                            <a id="change">raise </a><a id="change">Exception(</a>"Line %s: unexpected number "
                                "of quotes in filename" % line<a id="change">)</a>
                    else:
                        text = &quot&quot
                    objects = objects[0].split()
                    if len(objects) == 1:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/7a66b5e9de8f0e2cdbdedc28f23b60172284ec27#diff-8dabf26e19c18cd14fd53c6edd8a4b1d2dda9ebff6029ef2786e570df53ac0daL80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84540206</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 7a66b5e9de8f0e2cdbdedc28f23b60172284ec27</div><div id='time'> Time: 2021-03-24</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_class'> M Class Name: _IcdarExtractor</div><div id='n_method'> N Class Name: _IcdarExtractor</div><div id='m_method'> M Method Name: _load_localization_items(1)</div><div id='n_method'> N Method Name: _load_localization_items(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 133</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 149</div><BR>