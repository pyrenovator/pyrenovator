<html><h3>Pattern ID :5513
</h3><img src='19382567.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        npt.assert_almost_equal(actual_output, expected_output)

    def test_crop_and_resize(self):
        <a id="change">pass</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        test_img = create_image((720, 480))
        test_bboxes = projected_bbox_arr
        test_out_size = (256, 192)
        expected_output<a id="change"> = </a><a id="change">np.array([</a>[<a id="change">[</a>0.56171875, <a id="change">0</a>, 288.1<a id="change"></a>],
                                     <a id="change">[0.0</a>, <a id="change">0.49895833</a>, <a id="change">192.1</a>]],
                                    [[2.80859375, 0.0, -359.0],
                                     [0.0, 0.49895833, 192.1]],
                                    [[0.56171875, 0.0, 288.1],
                                     [0.0, 2.49479167, -239.0]]<a id="change"></a>]<a id="change">)</a>
        _, actual_output = crop_and_resize(test_img, test_bboxes, test_out_size)

        npt.assert_almost_equal(actual_output, expected_output)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aimakerspace/peekingduck/commit/18625baf3c5add75d7d520def40f81050f1baa95#diff-e11bbc0cd05cb42899a59f9151b0de0301f3693d7b6848ad22855b46cb0db32aL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19382567</div><div id='project'> Project Name: aimakerspace/peekingduck</div><div id='commit'> Commit Name: 18625baf3c5add75d7d520def40f81050f1baa95</div><div id='time'> Time: 2021-06-22</div><div id='author'> Author: nzahin_95@hotmail.com</div><div id='file'> File Name: tests/pipeline/nodes/model/hrnetv1/test_preprocessing.py</div><div id='m_class'> M Class Name: TestPreprocessing</div><div id='n_method'> N Class Name: TestPreprocessing</div><div id='m_method'> M Method Name: test_crop_and_resize(3)</div><div id='n_method'> N Method Name: test_crop_and_resize(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/pipeline/nodes/model/hrnetv1/test_preprocessing.py</div><div id='n_file'> N File Name: tests/pipeline/nodes/model/hrnetv1/test_preprocessing.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 63</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                show_samples=True
            )
        except:
            <a id="change">pass</a>

        &#47&#47 If they exist, plot all our loose input constraints (i.e., our one-step backprojection set estimates)
        &#47&#47 TODO: Make plotting these optional via a flag
        for info in kwargs.get(&quotper_timestep&quot, []):</code></pre><h3>After Change</h3><pre><code class='java'>

        import numpy as np
        import nn_closed_loop.constraints as constraints
        x0 = <a id="change">np.array(
            [  &#47&#47 (num_inputs, 2)
                [-5.5</a>, <a id="change">-4.5</a>],  &#47&#47 x0min, x0max
                <a id="change">[-0.5</a>, <a id="change">0.5</a>]<a id="change"></a>,  &#47&#47 x1min, x1max
            ]<a id="change">
        )</a>
        &#47&#47 x0 = np.array( &#47&#47 tree_trunks_vs_quadrotor_12__
        &#47&#47         [  &#47&#47 (num_inputs, 2)
        &#47&#47             [-6.5,-0.25, 2, 1.95, -0.01, -0.01],
        &#47&#47             [-6, 0.25, 2.5, 2.0, 0.01, 0.01],
        &#47&#47         ]
        &#47&#47     ).T
        &#47&#47 x0 = np.array(
        &#47&#47     [  &#47&#47 (num_inputs, 2)
        &#47&#47         [-0.5, 0.5],
        &#47&#47         [-0.5, 0.5],
        &#47&#47         [-0.01, 0.01],
        &#47&#47         [-0.01, 0.01],
        &#47&#47     ]
        &#47&#47 )
        &#47&#47 x0 = np.array(
        &#47&#47         [  &#47&#47 (num_inputs, 2)
        &#47&#47             [-2-0.25, -4+0.25],  &#47&#47 x0min, x0max
        &#47&#47             [-3., 3.],  &#47&#47 x1min, x1max
        &#47&#47             [0.49, 0.50],
        &#47&#47             [-0.01, 0.01]
        &#47&#47         ]
        &#47&#47     )
        x0_constraint = constraints.LpConstraint(
            range=x0, p=np.inf
        )
        input_dims = [x["dim"] for x in inputs_to_highlight]
        self.dynamics.show_trajectories(
            len(input_constraints) * self.dynamics.dt,
            x0_constraint,
            input_dims=input_dims,
            ax=self.partitioner.animate_axes,
            controller=self.propagator.network,
            zorder=10
        ) 

        &#47&#47 initial_range = np.array( &#47&#47 tree_trunks_vs_quadrotor_12__
        &#47&#47     [  &#47&#47 (num_inputs, 2)
        &#47&#47         [-6.5, 0.25-0.25, 2, .95, -0.01, -0.01],
        &#47&#47         [-6, 0.25+0.25, 2.5, 1.0, 0.01, 0.01],
        &#47&#47     ]
        &#47&#47 ).T

        initial_constraint<a id="change"> = </a>constraints.LpConstraint(x0)
        self.partitioner.plot_reachable_sets(
            initial_constraint,
            input_dims,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/aed9f9b4eef5ac9826f2323736ec43eddc8ef5df#diff-d0698ee66895448c091d380c6631fa12fa68dc9aef7eaa12f1ed79ebf7a5445cL133' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19382615</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: aed9f9b4eef5ac9826f2323736ec43eddc8ef5df</div><div id='time'> Time: 2022-04-01</div><div id='author'> Author: nrober1122@gmail.com</div><div id='file'> File Name: nn_closed_loop/nn_closed_loop/analyzers/ClosedLoopBackwardAnalyzer.py</div><div id='m_class'> M Class Name: ClosedLoopBackwardAnalyzer</div><div id='n_method'> N Class Name: ClosedLoopBackwardAnalyzer</div><div id='m_method'> M Method Name: visualize_single_set(10)</div><div id='n_method'> N Method Name: visualize_single_set(10)</div><div id='m_parent_class'> M Parent Class: analyzers.Analyzer</div><div id='n_parent_class'> N Parent Class: analyzers.Analyzer</div><div id='m_file'> M File Name: nn_closed_loop/nn_closed_loop/analyzers/ClosedLoopBackwardAnalyzer.py</div><div id='n_file'> N File Name: nn_closed_loop/nn_closed_loop/analyzers/ClosedLoopBackwardAnalyzer.py</div><div id='m_start'> M Start Line: 218</div><div id='m_end'> M End Line: 280</div><div id='n_start'> N Start Line: 200</div><div id='n_end'> N End Line: 326</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    linestyle=&quot--&quot,
                )
            except: 
                <a id="change">pass</a>
            &#47&#47 import pdb; pdb.set_trace()
            self.plot_target_set(
                backproj_overapprox,
                color=&quottab:blue&quot,</code></pre><h3>After Change</h3><pre><code class='java'>
                )
        
        import nn_closed_loop.constraints as constraints
        x0<a id="change"> = </a><a id="change">np.array(
            [  &#47&#47 (num_inputs, 2)
                [-5.5</a>, <a id="change">-5.0</a>],  &#47&#47 x0min, x0max
                <a id="change">[-0.5</a>, <a id="change">0.5</a>]<a id="change"></a>,  &#47&#47 x1min, x1max
            ]<a id="change">
        )</a>
        x0_constraint = constraints.LpConstraint(
            range=x0, p=np.inf
        )
        self.dynamics.show_trajectories(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/411481973517f03f63eefbf578ca75c9500cdb2d#diff-d0698ee66895448c091d380c6631fa12fa68dc9aef7eaa12f1ed79ebf7a5445cL59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19383200</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: 411481973517f03f63eefbf578ca75c9500cdb2d</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: nrober@mit.edu</div><div id='file'> File Name: nn_closed_loop/nn_closed_loop/analyzers/ClosedLoopBackwardAnalyzer.py</div><div id='m_class'> M Class Name: ClosedLoopBackwardAnalyzer</div><div id='n_method'> N Class Name: ClosedLoopBackwardAnalyzer</div><div id='m_method'> M Method Name: visualize(9)</div><div id='n_method'> N Method Name: visualize(9)</div><div id='m_parent_class'> M Parent Class: analyzers.Analyzer</div><div id='n_parent_class'> N Parent Class: analyzers.Analyzer</div><div id='m_file'> M File Name: nn_closed_loop/nn_closed_loop/analyzers/ClosedLoopBackwardAnalyzer.py</div><div id='n_file'> N File Name: nn_closed_loop/nn_closed_loop/analyzers/ClosedLoopBackwardAnalyzer.py</div><div id='m_start'> M Start Line: 130</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 161</div><div id='n_end'> N End Line: 208</div><BR>