<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

                &#47&#47 Regression
                pxy = ps[:, :2].sigmoid() * 2. - 0.5
                pwh = (<a id="change">ps[:, 2:4]</a>.sigmoid() * 2) ** 2 * anchors[i]
                pbox = torch.cat((pxy, pwh), 1)  &#47&#47 predicted box
                iou = bbox_iou(pbox.T, tbox[i], x1y1x2y2=False, CIoU=True)  &#47&#47 iou(prediction, target)
                if self.g2&gt;0  :&#47&#47 Focal-EIOU https://arxiv.org/abs/2101.08158</code></pre><h3>After Change</h3><pre><code class='java'>

            n = b.shape[0]  &#47&#47 number of targets
            if n:
                pxy<a id="change">, pwh, _, pcls = </a><a id="change">pi[b, a, gj, gi].tensor_split(</a>(<a id="change">2</a><a id="change">, 4, 5</a>)<a id="change">, dim=1)</a>  &#47&#47 target-subset of predictions

                &#47&#47 Regression
                pxy = pxy.sigmoid() * 2 - 0.5</code></pre>