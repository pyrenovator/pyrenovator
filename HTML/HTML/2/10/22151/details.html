<html><h3>Pattern ID :22151
</h3><img src='70177295.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

class DLGAttack(BaseAttackMethod):
    def __init__(self, args):
        if <a id="change">args.model == "LeNet"</a>:
            self.model = LeNet()
        elif args.model == "resnet56":
            self.model<a id="change"> = </a>resnet56(10, pretrained=False, path=None)
        elif <a id="change">args.model == "resnet20"</a>:
            self.model<a id="change"> = </a>resnet20(10)
        else:
            <a id="change">raise </a><a id="change">Exception(f"do not support this model: {args.model}"</a><a id="change">)</a>
        if args.dataset in ["cifar10", "cifar100"]:
            self.original_data_size = torch.Size([1, 3, 32, 32])
            if args.dataset == "cifar10":
                self.original_label_size = torch.Size([1, 10])</code></pre><h3>After Change</h3><pre><code class='java'>
        if hasattr(args, "attack_iteration_idxs"):
            self.attack_iteration_idxs = args.attack_iteration_idxs
        else:
            self.attack_iteration_idxs<a id="change"> = </a><a id="change">[</a>args.comm_round - 1<a id="change"></a>]
            &#47&#47 attack the last iteration, as it contains more information

    def get_model(self):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/39bf27af26663618517d25750f6f3ee40b08590c#diff-a92997ecfd5ba4b0ec93d15f6288db32b01531d977514bb529e3da431799ae44L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 70177295</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 39bf27af26663618517d25750f6f3ee40b08590c</div><div id='time'> Time: 2023-03-08</div><div id='author'> Author: sshan0731@hotmail.com</div><div id='file'> File Name: python/fedml/core/security/attack/dlg_attack.py</div><div id='m_class'> M Class Name: DLGAttack</div><div id='n_method'> N Class Name: DLGAttack</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: BaseAttackMethod</div><div id='n_parent_class'> N Parent Class: BaseAttackMethod</div><div id='m_file'> M File Name: python/fedml/core/security/attack/dlg_attack.py</div><div id='n_file'> N File Name: python/fedml/core/security/attack/dlg_attack.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 34</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class DLGAttack(BaseAttackMethod):
    def __init__(self, args):
        if <a id="change">args.model == "LeNet"</a>:
            self.model = LeNet()
        elif args.model == "resnet56":
            self.model<a id="change"> = </a>resnet56(10, pretrained=False, path=None)
        elif <a id="change">args.model == "resnet20"</a>:
            self.model<a id="change"> = </a>resnet20(10)
        else:
            <a id="change">raise </a><a id="change">Exception(f"do not support this model: {args.model}"</a><a id="change">)</a>
        if args.dataset in ["cifar10", "cifar100"]:
            self.original_data_size = torch.Size([1, 3, 32, 32])
            if args.dataset == "cifar10":
                self.original_label_size = torch.Size([1, 10])</code></pre><h3>After Change</h3><pre><code class='java'>
        if hasattr(args, "attack_iteration_idxs"):
            self.attack_iteration_idxs = args.attack_iteration_idxs
        else:
            self.attack_iteration_idxs<a id="change"> = </a><a id="change">[</a>args.comm_round - 1<a id="change"></a>]
            &#47&#47 attack the last iteration, as it contains more information

    def get_model(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/0e1c17c36b2dbf50ff5b58a8209d5c0f7e6e280b#diff-a92997ecfd5ba4b0ec93d15f6288db32b01531d977514bb529e3da431799ae44L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 70177293</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 0e1c17c36b2dbf50ff5b58a8209d5c0f7e6e280b</div><div id='time'> Time: 2023-03-08</div><div id='author'> Author: sshan0731@hotmail.com</div><div id='file'> File Name: python/fedml/core/security/attack/dlg_attack.py</div><div id='m_class'> M Class Name: DLGAttack</div><div id='n_method'> N Class Name: DLGAttack</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: BaseAttackMethod</div><div id='n_parent_class'> N Parent Class: BaseAttackMethod</div><div id='m_file'> M File Name: python/fedml/core/security/attack/dlg_attack.py</div><div id='n_file'> N File Name: python/fedml/core/security/attack/dlg_attack.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 34</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if extra_config is None:
            extra_config = {}

        if <a id="change">model_path is not None</a>:
            model_dir<a id="change"> = </a>model_path
        elif <a id="change">config_path is not None</a> and config_path.startswith(
            "lp://"
        ):  &#47&#47 TODO: Move "lp://" to a constant
            if label_map is None:
                dataset_name = config_path.lstrip("lp://").split("/")[0]
                label_map = LABEL_MAP_CATALOG[dataset_name]
            config_path<a id="change"> = </a>self._reconstruct_path_with_detector_name(config_path)
            model_dir = PathManager.get_local_path(config_path)
        else:
            <a id="change">raise </a><a id="change">Exception("Please set config_path or model_path first"</a><a id="change">)</a>

        &#47&#47 TODO: rethink how to save store the default constants
        self.predictor = self.load_predictor(
            model_dir,</code></pre><h3>After Change</h3><pre><code class='java'>
                dataset_name = model_path.lstrip("lp://").split("/")[1]
                label_map = LABEL_MAP_CATALOG[dataset_name]
            else:
                label_map<a id="change"> = </a><a id="change">{}</a>

        self.label_map = label_map

        &#47&#47 TODO: rethink how to save store the default constants</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/layout-parser/layout-parser/commit/4ff55fa3062a39ed53849fa467afd1c52378ae41#diff-1295715f75aae49569c2d511ff6972cef5301fa6abf6c4b0ea2d4963a9c53e3fL92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 70177291</div><div id='project'> Project Name: layout-parser/layout-parser</div><div id='commit'> Commit Name: 4ff55fa3062a39ed53849fa467afd1c52378ae41</div><div id='time'> Time: 2021-09-10</div><div id='author'> Author: 22512825+lolipopshock@users.noreply.github.com</div><div id='file'> File Name: src/layoutparser/models/paddledetection/layoutmodel.py</div><div id='m_class'> M Class Name: PaddleDetectionLayoutModel</div><div id='n_method'> N Class Name: PaddleDetectionLayoutModel</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: BaseLayoutModel</div><div id='n_parent_class'> N Parent Class: BaseLayoutModel</div><div id='m_file'> M File Name: src/layoutparser/models/paddledetection/layoutmodel.py</div><div id='n_file'> N File Name: src/layoutparser/models/paddledetection/layoutmodel.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 133</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 123</div><BR>