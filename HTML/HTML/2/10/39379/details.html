<html><h3>Pattern ID :39379
</h3><img src='111829886.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        return nn.Sequential(*layers)

    def init_weights(self, pretrained=None):
        <a id="change">if </a><a id="change">isinstance(pretrained</a>, str<a id="change">)</a>:
            logger<a id="change"> = </a>logging.getLogger()
            <a id="change">load_checkpoint(</a>self, <a id="change">pretrained</a><a id="change">, strict=False, logger=logger)</a>
        elif pretrained is None:
            for m in self.modules():
                if isinstance(m, nn.Conv2d):
                    kaiming_init(m)
                elif isinstance(m, (_BatchNorm, nn.GroupNorm)):
                    constant_init(m, 1)
        else:
            <a id="change">raise </a><a id="change">TypeError(&quotpretrained must be a str or None&quot</a><a id="change">)</a>

    def forward(self, x):
        x = self.conv1(x)
</code></pre><h3>After Change</h3><pre><code class='java'>
        return nn.Sequential(*layers)

    def init_weights(self, pretrained=None):
        <a id="change">super(MobileNetV2, self).init_weights(</a>pretrained<a id="change">)</a>
        if pretrained is None:
            for m in self.modules():
                if isinstance(m, nn.Conv2d):
                    kaiming_init(m)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/westlake-ai/openmixup/commit/a4d82ebee5dd362b928569662920873822aa8236#diff-8370125216959d2de727e6d2562a799409d6018d0f0d5052582b5735847e2beeL229' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111829886</div><div id='project'> Project Name: westlake-ai/openmixup</div><div id='commit'> Commit Name: a4d82ebee5dd362b928569662920873822aa8236</div><div id='time'> Time: 2022-02-18</div><div id='author'> Author: 1070535169@qq.com</div><div id='file'> File Name: openmixup/models/backbones/mobilenet_v2.py</div><div id='m_class'> M Class Name: MobileNetV2</div><div id='n_method'> N Class Name: MobileNetV2</div><div id='m_method'> M Method Name: init_weights(2)</div><div id='n_method'> N Method Name: init_weights(2)</div><div id='m_parent_class'> M Parent Class: BaseBackbone</div><div id='n_parent_class'> N Parent Class: BaseBackbone</div><div id='m_file'> M File Name: openmixup/models/backbones/mobilenet_v2.py</div><div id='n_file'> N File Name: openmixup/models/backbones/mobilenet_v2.py</div><div id='m_start'> M Start Line: 233</div><div id='m_end'> M End Line: 245</div><div id='n_start'> N Start Line: 229</div><div id='n_end'> N End Line: 237</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._freeze_stages()
    
    def init_weights(self, pretrained=None):
        <a id="change">if </a><a id="change">isinstance(</a>pretrained, str<a id="change">)</a>:
            logger<a id="change"> = </a>logging.getLogger()
            <a id="change">load_checkpoint(</a>self, pretrained<a id="change">, strict=False, logger=logger)</a>
        elif pretrained is None:
            for m in self.modules():
                if isinstance(m, (nn.Conv2d)):
                    lecun_normal_init(m, mode=&quotfan_in&quot, distribution=&quottruncated_normal&quot)
                elif isinstance(m, (nn.Linear)):
                    trunc_normal_init(m, mean=0., std=0.02, bias=0)
                elif isinstance(m, (
                    nn.LayerNorm, LayerNorm2d, nn.BatchNorm2d, nn.GroupNorm, nn.SyncBatchNorm)):
                    constant_init(m, val=1, bias=0)
        else:
            <a id="change">raise </a><a id="change">TypeError(&quotpretrained must be a str or None&quot</a><a id="change">)</a>

    def _freeze_stages(self):
        for i in range(self.frozen_stages):
            downsample_layer = self.downsample_layers[i]</code></pre><h3>After Change</h3><pre><code class='java'>
        self._freeze_stages()
    
    def init_weights(self, pretrained=None):
        <a id="change">super(ConvNeXt, self).init_weights(</a>pretrained<a id="change">)</a>
        if pretrained is None:
            for m in self.modules():
                if isinstance(m, (nn.Conv2d)):
                    lecun_normal_init(m, mode=&quotfan_in&quot, distribution=&quottruncated_normal&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/westlake-ai/openmixup/commit/a4d82ebee5dd362b928569662920873822aa8236#diff-349f9dc7512d30b9014f03cafcb842effe5b3c208b42130d7d5caeaa018be316L313' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111829887</div><div id='project'> Project Name: westlake-ai/openmixup</div><div id='commit'> Commit Name: a4d82ebee5dd362b928569662920873822aa8236</div><div id='time'> Time: 2022-02-18</div><div id='author'> Author: 1070535169@qq.com</div><div id='file'> File Name: openmixup/models/backbones/convnext.py</div><div id='m_class'> M Class Name: ConvNeXt</div><div id='n_method'> N Class Name: ConvNeXt</div><div id='m_method'> M Method Name: init_weights(2)</div><div id='n_method'> N Method Name: init_weights(2)</div><div id='m_parent_class'> M Parent Class: BaseBackbone</div><div id='n_parent_class'> N Parent Class: BaseBackbone</div><div id='m_file'> M File Name: openmixup/models/backbones/convnext.py</div><div id='n_file'> N File Name: openmixup/models/backbones/convnext.py</div><div id='m_start'> M Start Line: 314</div><div id='m_end'> M End Line: 329</div><div id='n_start'> N Start Line: 313</div><div id='n_end'> N End Line: 324</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._freeze_stages()
    
    def init_weights(self, pretrained=None):
        <a id="change">if </a><a id="change">isinstance(</a>pretrained, str<a id="change">)</a>:
            logger<a id="change"> = </a>get_root_logger()
            <a id="change">load_checkpoint(</a>self, pretrained<a id="change">, strict=True, logger=logger)</a>
        elif pretrained is None:
            for m in self.modules():
                if isinstance(m, nn.Conv2d):
                    kaiming_init(m, mode=&quotfan_out&quot, nonlinearity=&quotleaky_relu&quot)
                elif isinstance(m, (nn.BatchNorm2d, nn.GroupNorm)):
                    constant_init(m, 1)
        else:
            <a id="change">raise </a><a id="change">TypeError(&quotpretrained must be a str or None&quot</a><a id="change">)</a>

    def _freeze_stages(self):
        if self.frozen_stages &gt;= 0:
            for m in [self.conv1]:</code></pre><h3>After Change</h3><pre><code class='java'>
        self._freeze_stages()
    
    def init_weights(self, pretrained=None):
        <a id="change">super(WideResNet, self).init_weights(</a>pretrained<a id="change">)</a>
        if pretrained is None:
            for m in self.modules():
                if isinstance(m, nn.Conv2d):
                    kaiming_init(m, mode=&quotfan_out&quot, nonlinearity=&quotleaky_relu&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/westlake-ai/openmixup/commit/a4d82ebee5dd362b928569662920873822aa8236#diff-238e9c949fe9241220fc6f1e2992839590b6226b640b6e492f34ccbbab928868L147' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111829885</div><div id='project'> Project Name: westlake-ai/openmixup</div><div id='commit'> Commit Name: a4d82ebee5dd362b928569662920873822aa8236</div><div id='time'> Time: 2022-02-18</div><div id='author'> Author: 1070535169@qq.com</div><div id='file'> File Name: openmixup/models/backbones/wide_resnet.py</div><div id='m_class'> M Class Name: WideResNet</div><div id='n_method'> N Class Name: WideResNet</div><div id='m_method'> M Method Name: init_weights(2)</div><div id='n_method'> N Method Name: init_weights(2)</div><div id='m_parent_class'> M Parent Class: BaseBackbone</div><div id='n_parent_class'> N Parent Class: BaseBackbone</div><div id='m_file'> M File Name: openmixup/models/backbones/wide_resnet.py</div><div id='n_file'> N File Name: openmixup/models/backbones/wide_resnet.py</div><div id='m_start'> M Start Line: 148</div><div id='m_end'> M End Line: 160</div><div id='n_start'> N Start Line: 146</div><div id='n_end'> N End Line: 154</div><BR>