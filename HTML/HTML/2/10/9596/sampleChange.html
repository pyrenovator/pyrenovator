<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.speaker_embedding = None
        self.device = device
        self.text2phone = TextFrontend(language="de", use_word_boundaries=False, use_explicit_eos=False, inference=True)
        <a id="change">try:
            </a>self.phone2mel<a id="change"> = FastSpeech2(path_to_weights=os.path.join("Models", "FastSpeech2_Thorsten", "best.pt"),
                                         idim=166, odim=80, spk_embed_dim=None, reduction_factor=1).to(torch.device(</a>device<a id="change">)</a><a id="change">)</a>
        <a id="change">except </a>RuntimeError:
            self.phone2mel<a id="change"> = </a><a id="change">FastSpeech2(path_to_weights=os.path.join("Models", "FastSpeech2_Thorsten", "best.pt"),
                                         idim=166, odim=80, spk_embed_dim=None, reduction_factor=1, legacy_model=True)</a>.to(torch.device(device))
        self.mel2wav = HiFiGANGenerator(path_to_weights=os.path.join("Models", "HiFiGAN_combined", "best.pt")).to(torch.device(device))
        self.phone2mel.eval()
        self.mel2wav.eval()</code></pre><h3>After Change</h3><pre><code class='java'>
        self.speaker_embedding = None
        self.device = device
        self.text2phone = ArticulatoryTextFrontend(language="de", inference=True)
        self.phone2mel<a id="change"> = </a><a id="change">FastSpeech2(path_to_weights=os.path.join("Models", "FastSpeech2_Thorsten", "best.pt"))</a>.to(torch.device(device))
        self.mel2wav = HiFiGANGenerator(path_to_weights=os.path.join("Models", "HiFiGAN_combined", "best.pt")).to(torch.device(device))
        self.phone2mel.eval()
        self.mel2wav.eval()</code></pre>