<html><h3>Pattern ID :23981
</h3><img src='74547827.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            C (jnp.ndarray): the Coriolis term
        
        &#47&#47 set in the bias force computation the gravity term to zero
        C<a id="change"> = </a><a id="change">self.rnea(
            </a>base_transform,
            joint_positions,
            <a id="change">base_velocity.reshape(</a>6, 1<a id="change">)</a>,
            s_dot,
            <a id="change">np.zeros(</a>6<a id="change">)</a><a id="change">,
        )</a>
        <a id="change">return </a>C

    def gravity_term(
        self, base_transform: jnp.array, joint_positions: jnp.array</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            C (jnp.ndarray): the Coriolis term
        
        <a id="change">return </a>(
            <a id="change">super()
            .rnea(
                base_transform,
                joint_positions,
                base_velocity.reshape(6, 1),
                s_dot,
                np.zeros(6),
            )
            .array.squeeze()
        )</a>

    def gravity_term(
        self, base_transform: jnp.array, joint_positions: jnp.array
    ) -&gt; jnp.array:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dic-iit/adam/commit/495a123cdbaf197cefecac6cbe03d830044681eb#diff-444870acaa8a66f61aee8f3ae36302c13885cd7a48fb336925d78662fb360d9fL155' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74547827</div><div id='project'> Project Name: dic-iit/adam</div><div id='commit'> Commit Name: 495a123cdbaf197cefecac6cbe03d830044681eb</div><div id='time'> Time: 2022-03-24</div><div id='author'> Author: gl.giuseppelerario@gmail.com</div><div id='file'> File Name: adam/jax/computations.py</div><div id='m_class'> M Class Name: KinDynComputations</div><div id='n_method'> N Class Name: KinDynComputations</div><div id='m_method'> M Method Name: coriolis_term(5)</div><div id='n_method'> N Method Name: coriolis_term(5)</div><div id='m_parent_class'> M Parent Class: JaxLike,RBDAlgorithms</div><div id='n_parent_class'> N Parent Class: SpatialMathJax,RBDAlgorithms</div><div id='m_file'> M File Name: adam/jax/computations.py</div><div id='n_file'> N File Name: adam/jax/computations.py</div><div id='m_start'> M Start Line: 437</div><div id='m_end'> M End Line: 444</div><div id='n_start'> N Start Line: 155</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Returns:
            G (jnp.ndarray): the gravity term
        
        G<a id="change"> = </a><a id="change">self.rnea(
            </a>base_transform,
            joint_positions,
            <a id="change">np.zeros(6).reshape(</a>6, 1<a id="change">)</a>,
            <a id="change">np.zeros(</a>self.NDoF<a id="change">)</a>,
            self.g<a id="change">,
        )</a>
        <a id="change">return </a>G

    def CoM_position(
        self, base_transform: jnp.array, joint_positions: jnp.array</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            G (jnp.ndarray): the gravity term
        
        <a id="change">return </a>(
            <a id="change">super()
            .rnea(
                base_transform,
                joint_positions,
                np.zeros(6).reshape(6, 1),
                np.zeros(self.NDoF),
                self.g,
            )
            .array.squeeze()
        )</a>

    def CoM_position(
        self, base_transform: jnp.array, joint_positions: jnp.array
    ) -&gt; jnp.array:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dic-iit/adam/commit/495a123cdbaf197cefecac6cbe03d830044681eb#diff-444870acaa8a66f61aee8f3ae36302c13885cd7a48fb336925d78662fb360d9fL446' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74547831</div><div id='project'> Project Name: dic-iit/adam</div><div id='commit'> Commit Name: 495a123cdbaf197cefecac6cbe03d830044681eb</div><div id='time'> Time: 2022-03-24</div><div id='author'> Author: gl.giuseppelerario@gmail.com</div><div id='file'> File Name: adam/jax/computations.py</div><div id='m_class'> M Class Name: KinDynComputations</div><div id='n_method'> N Class Name: KinDynComputations</div><div id='m_method'> M Method Name: gravity_term(3)</div><div id='n_method'> N Method Name: gravity_term(3)</div><div id='m_parent_class'> M Parent Class: JaxLike,RBDAlgorithms</div><div id='n_parent_class'> N Parent Class: SpatialMathJax,RBDAlgorithms</div><div id='m_file'> M File Name: adam/jax/computations.py</div><div id='n_file'> N File Name: adam/jax/computations.py</div><div id='m_start'> M Start Line: 459</div><div id='m_end'> M End Line: 466</div><div id='n_start'> N Start Line: 180</div><div id='n_end'> N End Line: 190</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            C (torch.tensor): the Coriolis term
        
        &#47&#47 set in the bias force computation the gravity term to zero
        C<a id="change"> = </a><a id="change">super().rnea(
            </a>base_transform,
            joint_positions,
            <a id="change">base_velocity.reshape(</a>6, 1<a id="change">)</a>,
            joint_velocities,
            <a id="change">torch.zeros(</a>6<a id="change">)</a><a id="change">,
        )</a>
        <a id="change">return </a>C[:, 0]

    def gravity_term(self, base_transform, base_positions):
        Returns the gravity term of the floating-base dynamics ejoint_positionsuation,</code></pre><h3>After Change</h3><pre><code class='java'>
            C (torch.tensor): the Coriolis term
        
        &#47&#47 set in the bias force computation the gravity term to zero
        <a id="change">return </a>(
            <a id="change">super()
            .rnea(
                base_transform,
                joint_positions,
                base_velocity.reshape(6, 1),
                joint_velocities,
                torch.zeros(6),
            )
            .array.squeeze()
        )</a>

    def gravity_term(self, base_transform, base_positions):
        Returns the gravity term of the floating-base dynamics ejoint_positionsuation,
        using a reduced RNEA (no acceleration and external forces)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dic-iit/adam/commit/d90d7c819cafe2fbb80f53c635fd206b2a344471#diff-0c89d928515064e10ccd41152aaf992b55560eead66fddc736afba3a436aef48L204' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74547830</div><div id='project'> Project Name: dic-iit/adam</div><div id='commit'> Commit Name: d90d7c819cafe2fbb80f53c635fd206b2a344471</div><div id='time'> Time: 2022-03-24</div><div id='author'> Author: gl.giuseppelerario@gmail.com</div><div id='file'> File Name: adam/pytorch/computations.py</div><div id='m_class'> M Class Name: KinDynComputations</div><div id='n_method'> N Class Name: KinDynComputations</div><div id='m_method'> M Method Name: coriolis_term(5)</div><div id='n_method'> N Method Name: coriolis_term(5)</div><div id='m_parent_class'> M Parent Class: TorchLike,RBDAlgorithms</div><div id='n_parent_class'> N Parent Class: SpatialMathPytorch,RBDAlgorithms</div><div id='m_file'> M File Name: adam/pytorch/computations.py</div><div id='n_file'> N File Name: adam/pytorch/computations.py</div><div id='m_start'> M Start Line: 220</div><div id='m_end'> M End Line: 227</div><div id='n_start'> N Start Line: 254</div><div id='n_end'> N End Line: 264</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Returns:
            G (torch.tensor): the gravity term
        
        G<a id="change"> = </a><a id="change">super().rnea(
            </a>base_transform,
            base_positions,
            <a id="change">torch.zeros(6).reshape(</a>6, 1<a id="change">)</a>,
            <a id="change">torch.zeros(</a>self.NDoF<a id="change">)</a>,
            torch.FloatTensor(self.g)<a id="change">,
        )</a>
        <a id="change">return </a>G[:, 0]
</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            G (torch.tensor): the gravity term
        
        <a id="change">return </a>(
            <a id="change">super()
            .rnea(
                base_transform,
                base_positions,
                torch.zeros(6).reshape(6, 1),
                torch.zeros(self.NDoF),
                torch.FloatTensor(self.g),
            )
            .array.squeeze()
        )</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dic-iit/adam/commit/d90d7c819cafe2fbb80f53c635fd206b2a344471#diff-0c89d928515064e10ccd41152aaf992b55560eead66fddc736afba3a436aef48L229' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74547835</div><div id='project'> Project Name: dic-iit/adam</div><div id='commit'> Commit Name: d90d7c819cafe2fbb80f53c635fd206b2a344471</div><div id='time'> Time: 2022-03-24</div><div id='author'> Author: gl.giuseppelerario@gmail.com</div><div id='file'> File Name: adam/pytorch/computations.py</div><div id='m_class'> M Class Name: KinDynComputations</div><div id='n_method'> N Class Name: KinDynComputations</div><div id='m_method'> M Method Name: gravity_term(3)</div><div id='n_method'> N Method Name: gravity_term(3)</div><div id='m_parent_class'> M Parent Class: TorchLike,RBDAlgorithms</div><div id='n_parent_class'> N Parent Class: SpatialMathPytorch,RBDAlgorithms</div><div id='m_file'> M File Name: adam/pytorch/computations.py</div><div id='n_file'> N File Name: adam/pytorch/computations.py</div><div id='m_start'> M Start Line: 240</div><div id='m_end'> M End Line: 247</div><div id='n_start'> N Start Line: 277</div><div id='n_end'> N End Line: 287</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Returns:
            G (np.ndarray): the gravity term
        
        G<a id="change"> = </a><a id="change">super().rnea(
            </a>base_transform,
            joint_positions,
            <a id="change">np.zeros(6).reshape(</a>6, 1<a id="change">)</a>,
            <a id="change">np.zeros(</a>self.NDoF<a id="change">)</a>,
            self.g<a id="change">,
        )</a>
        <a id="change">return </a>G.array.squeeze()
</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            G (np.ndarray): the gravity term
        
        <a id="change">return </a>(
            <a id="change">super()
            .rnea(
                base_transform,
                joint_positions,
                np.zeros(6).reshape(6, 1),
                np.zeros(self.NDoF),
                self.g,
            )
            .array.squeeze()
        )</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dic-iit/adam/commit/abded9c97dfe44d5d7a97e054876000919e4ec75#diff-18b28ad1c5ebbdfc970fbfcd5a9beaf2c0a0f54e9e3da8465dc5b25ddfe2a595L165' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74547834</div><div id='project'> Project Name: dic-iit/adam</div><div id='commit'> Commit Name: abded9c97dfe44d5d7a97e054876000919e4ec75</div><div id='time'> Time: 2022-03-25</div><div id='author'> Author: gl.giuseppelerario@gmail.com</div><div id='file'> File Name: adam/numpy/computations.py</div><div id='m_class'> M Class Name: KinDynComputations</div><div id='n_method'> N Class Name: KinDynComputations</div><div id='m_method'> M Method Name: gravity_term(3)</div><div id='n_method'> N Method Name: gravity_term(3)</div><div id='m_parent_class'> M Parent Class: NumpyLike,RBDAlgorithms</div><div id='n_parent_class'> N Parent Class: NumpyLike,RBDAlgorithms</div><div id='m_file'> M File Name: adam/numpy/computations.py</div><div id='n_file'> N File Name: adam/numpy/computations.py</div><div id='m_start'> M Start Line: 165</div><div id='m_end'> M End Line: 183</div><div id='n_start'> N Start Line: 190</div><div id='n_end'> N End Line: 212</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            C (np.ndarray): the Coriolis term
        
        &#47&#47 set in the bias force computation the gravity term to zero
        C<a id="change"> = </a><a id="change">super().rnea(
            </a>base_transform,
            joint_positions,
            <a id="change">base_velocity.reshape(</a>6, 1<a id="change">)</a>,
            joint_velocities,
            <a id="change">np.zeros(</a>6<a id="change">)</a><a id="change">,
        )</a>
        <a id="change">return </a>C.array.squeeze()

    def gravity_term(self, base_transform, joint_positions):
        Returns the gravity term of the floating-base dynamics equation,</code></pre><h3>After Change</h3><pre><code class='java'>
            C (np.ndarray): the Coriolis term
        
        &#47&#47 set in the bias force computation the gravity term to zero
        <a id="change">return </a>(
            <a id="change">super()
            .rnea(
                base_transform,
                joint_positions,
                base_velocity.reshape(6, 1),
                joint_velocities,
                np.zeros(6),
            )
            .array.squeeze()
        )</a>

    def gravity_term(
        self, base_transform: np.ndarray, joint_positions: np.ndarray
    ) -&gt; np.ndarray:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dic-iit/adam/commit/abded9c97dfe44d5d7a97e054876000919e4ec75#diff-18b28ad1c5ebbdfc970fbfcd5a9beaf2c0a0f54e9e3da8465dc5b25ddfe2a595L140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74547837</div><div id='project'> Project Name: dic-iit/adam</div><div id='commit'> Commit Name: abded9c97dfe44d5d7a97e054876000919e4ec75</div><div id='time'> Time: 2022-03-25</div><div id='author'> Author: gl.giuseppelerario@gmail.com</div><div id='file'> File Name: adam/numpy/computations.py</div><div id='m_class'> M Class Name: KinDynComputations</div><div id='n_method'> N Class Name: KinDynComputations</div><div id='m_method'> M Method Name: coriolis_term(5)</div><div id='n_method'> N Method Name: coriolis_term(5)</div><div id='m_parent_class'> M Parent Class: NumpyLike,RBDAlgorithms</div><div id='n_parent_class'> N Parent Class: NumpyLike,RBDAlgorithms</div><div id='m_file'> M File Name: adam/numpy/computations.py</div><div id='n_file'> N File Name: adam/numpy/computations.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 159</div><div id='n_end'> N End Line: 187</div><BR>