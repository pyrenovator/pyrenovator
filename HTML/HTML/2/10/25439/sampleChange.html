<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.TARGET_ITEM_ID = self.ITEM_ID
        self.max_item_list_length = config[&quotMAX_ITEM_LIST_LENGTH&quot]
        self.NEG_ITEM_ID = config[&quotNEG_PREFIX&quot] + self.ITEM_ID
        self.FEATURE_FIELD<a id="change"> = </a>config[&quotFEATURE_FIELD&quot]
        self.FEATURE_LIST = self.FEATURE_FIELD + config[&quotLIST_SUFFIX&quot]

        self.embedding_size = config[&quotembedding_size&quot]
        self.hidden_size = config[&quothidden_size&quot]
        self.num_layers = config[&quotnum_layers&quot]

        self.item_count = dataset.item_num
        self.feature_count = dataset.num(self.FEATURE_FIELD)
        self.item_feat = dataset.get_item_feature()
        print(self.item_feat.interaction.keys())

        self.item_embedding = nn.Embedding(self.item_count, self.embedding_size, padding_idx=0)
        self.feature_embedding = <a id="change">nn.Embedding(</a>self.feature_count, self.embedding_size<a id="change">, padding_idx=0)</a>

        &#47&#47 For simplicity, we use same architecture for item_gru and feature_gru

        self.item_gru_layers = nn.GRU(</code></pre><h3>After Change</h3><pre><code class='java'>

        self.item_count = dataset.item_num
        &#47&#47 list
        self.selected_features<a id="change"> = config</a><a id="change">[&quotselected_features&quot]</a>
        self.dataset = dataset
        self.device = <a id="change">config[&quotdevice&quot]</a>
        self.item_feat = dataset.get_item_feature().to(self.device)

        &#47&#47 need change the &quotload_col&quot config

        self.hidden_size = config[&quothidden_size&quot]
        self.embedding_size = <a id="change">config[&quotembedding_size&quot]</a>

        self.get_feat_dims()
        self.get_feat_embeddings()
</code></pre>