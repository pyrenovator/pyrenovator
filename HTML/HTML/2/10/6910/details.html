<html><h3>Pattern ID :6910
</h3><img src='23267031.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def update(self, context: Context, batch: Any, dataset_kind: DatasetKind):
        Update the metrics by passing the batch to ignite metric update method.
        dataset = context.get_data_by_kind(dataset_kind)
        images<a id="change"> = batch[0]</a>
        label = dataset.label_transformer(<a id="change">batch[1]</a>)
        prediction = <a id="change">context.prediction_formatter(</a><a id="change">context.infer(</a>images<a id="change">))</a>
        self._ap_metric.update((prediction, label))

    def compute(self, context: Context, dataset_kind: DatasetKind) -&gt; CheckResult:
        Compute the metric result using the ignite metrics compute method and create display.</code></pre><h3>After Change</h3><pre><code class='java'>
        Update the metrics by passing the batch to ignite metric update method.
        dataset = context.get_data_by_kind(dataset_kind)
        label = dataset.label_transformer(batch)
        prediction = <a id="change">context.infer(</a>batch<a id="change">)</a>
        self._ap_metric.update((prediction, label))

    def compute(self, context: Context, dataset_kind: DatasetKind) -&gt; CheckResult:
        Compute the metric result using the ignite metrics compute method and create display.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/28e5eb5278d185149f75deecf2f82d695c7e9f34#diff-5eafe8962e8299078f1480c913a69edcbe409feea3b488f9a7bd2f04d83a3fe5L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23267031</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 28e5eb5278d185149f75deecf2f82d695c7e9f34</div><div id='time'> Time: 2022-02-20</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/vision/checks/performance/mean_average_recall_report.py</div><div id='m_class'> M Class Name: MeanAverageRecallReport</div><div id='n_method'> N Class Name: MeanAverageRecallReport</div><div id='m_method'> M Method Name: update(4)</div><div id='n_method'> N Method Name: update(4)</div><div id='m_parent_class'> M Parent Class: SingleDatasetCheck</div><div id='n_parent_class'> N Parent Class: SingleDatasetCheck</div><div id='m_file'> M File Name: deepchecks/vision/checks/performance/mean_average_recall_report.py</div><div id='n_file'> N File Name: deepchecks/vision/checks/performance/mean_average_recall_report.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 49</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def update(self, context: Context, batch: Any, dataset_kind: DatasetKind):
        Update the metrics by passing the batch to ignite metric update method.
        dataset = context.get_data_by_kind(dataset_kind)
        images<a id="change"> = batch[0]</a>
        label = dataset.label_transformer(<a id="change">batch[1]</a>)
        prediction = <a id="change">context.prediction_formatter(</a><a id="change">context.infer(</a>images<a id="change">))</a>
        self._ap_metric.update((prediction, label))

    def compute(self, context: Context, dataset_kind: DatasetKind) -&gt; CheckResult:
        Compute the metric result using the ignite metrics compute method and create display.</code></pre><h3>After Change</h3><pre><code class='java'>
        Update the metrics by passing the batch to ignite metric update method.
        dataset = context.get_data_by_kind(dataset_kind)
        label = dataset.label_transformer(batch)
        prediction = <a id="change">context.infer(</a>batch<a id="change">)</a>
        self._ap_metric.update((prediction, label))

    def compute(self, context: Context, dataset_kind: DatasetKind) -&gt; CheckResult:
        Compute the metric result using the ignite metrics compute method and create display.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/d25643eec1b5788ae47774a0b7a4f49a472b23e6#diff-5e36ea4b2d0b7036ef82d6f46c54d19db012d4f57f245ddccd6928ed91312e82L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23267030</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: d25643eec1b5788ae47774a0b7a4f49a472b23e6</div><div id='time'> Time: 2022-02-20</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/vision/checks/performance/mean_average_precision_report.py</div><div id='m_class'> M Class Name: MeanAveragePrecisionReport</div><div id='n_method'> N Class Name: MeanAveragePrecisionReport</div><div id='m_method'> M Method Name: update(4)</div><div id='n_method'> N Method Name: update(4)</div><div id='m_parent_class'> M Parent Class: SingleDatasetCheck</div><div id='n_parent_class'> N Parent Class: SingleDatasetCheck</div><div id='m_file'> M File Name: deepchecks/vision/checks/performance/mean_average_precision_report.py</div><div id='n_file'> N File Name: deepchecks/vision/checks/performance/mean_average_precision_report.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 52</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def update(self, context: Context, batch: Any, dataset_kind):
        Accumulates batch data into the metrics.
        dataset = context.get_data_by_kind(dataset_kind)
        images<a id="change"> = batch[0]</a>
        label = dataset.label_transformer(<a id="change">batch[1]</a>)
        &#47&#47 Using context.infer to get cached prediction if exists
        prediction = <a id="change">context.prediction_formatter(</a><a id="change">context.infer(</a>images<a id="change">))</a>
        for _, metric in self._state[&quotmetrics&quot].items():
            metric.update((prediction, label))

    def compute(self, context: Context, dataset_kind) -&gt; CheckResult:</code></pre><h3>After Change</h3><pre><code class='java'>
        dataset = context.get_data_by_kind(dataset_kind)
        label = dataset.label_transformer(batch)
        &#47&#47 Using context.infer to get cached prediction if exists
        prediction = <a id="change">context.infer(</a>batch<a id="change">)</a>
        for _, metric in self._state[&quotmetrics&quot].items():
            metric.update((prediction, label))

    def compute(self, context: Context, dataset_kind) -&gt; CheckResult:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/d25643eec1b5788ae47774a0b7a4f49a472b23e6#diff-6e45c52f7ed481fc49a62cbed9c40274daa7f4411f09c44a2565c0e66adc21d1L74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23267029</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: d25643eec1b5788ae47774a0b7a4f49a472b23e6</div><div id='time'> Time: 2022-02-20</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/vision/checks/performance/robustness_report.py</div><div id='m_class'> M Class Name: RobustnessReport</div><div id='n_method'> N Class Name: RobustnessReport</div><div id='m_method'> M Method Name: update(4)</div><div id='n_method'> N Method Name: update(4)</div><div id='m_parent_class'> M Parent Class: SingleDatasetCheck</div><div id='n_parent_class'> N Parent Class: SingleDatasetCheck</div><div id='m_file'> M File Name: deepchecks/vision/checks/performance/robustness_report.py</div><div id='n_file'> N File Name: deepchecks/vision/checks/performance/robustness_report.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 77</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def update(self, context: Context, batch: Any, dataset_kind):
        Update the metrics by passing the batch to ignite metric update method.
        dataset = context.get_data_by_kind(dataset_kind)
        images<a id="change"> = batch[0]</a>
        label = dataset.label_transformer(<a id="change">batch[1]</a>)
        prediction = <a id="change">context.prediction_formatter(</a><a id="change">context.infer(</a>images<a id="change">))</a>
        for _, metric in self._state[dataset_kind][&quotscorers&quot].items():
            metric.update((prediction, label))

    def compute(self, context: Context) -&gt; CheckResult:</code></pre><h3>After Change</h3><pre><code class='java'>
        Update the metrics by passing the batch to ignite metric update method.
        dataset = context.get_data_by_kind(dataset_kind)
        label = dataset.label_transformer(batch)
        prediction = <a id="change">context.infer(</a>batch<a id="change">)</a>
        for _, metric in self._state[dataset_kind][&quotscorers&quot].items():
            metric.update((prediction, label))

    def compute(self, context: Context) -&gt; CheckResult:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/d25643eec1b5788ae47774a0b7a4f49a472b23e6#diff-2534d12d90cadbdb003f8cbf54962ede9cc6e907d4f69371b6fdef5414c9a19aL96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23267028</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: d25643eec1b5788ae47774a0b7a4f49a472b23e6</div><div id='time'> Time: 2022-02-20</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/vision/checks/performance/class_performance.py</div><div id='m_class'> M Class Name: ClassPerformance</div><div id='n_method'> N Class Name: ClassPerformance</div><div id='m_method'> M Method Name: update(4)</div><div id='n_method'> N Method Name: update(4)</div><div id='m_parent_class'> M Parent Class: TrainTestCheck</div><div id='n_parent_class'> N Parent Class: TrainTestCheck</div><div id='m_file'> M File Name: deepchecks/vision/checks/performance/class_performance.py</div><div id='n_file'> N File Name: deepchecks/vision/checks/performance/class_performance.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 101</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 100</div><BR>