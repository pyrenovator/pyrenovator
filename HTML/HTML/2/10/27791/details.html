<html><h3>Pattern ID :27791
</h3><img src='82421737.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        dtype=torch.float32,
    )

    batch<a id="change"> = </a><a id="change">torch.tensor(
        [
            </a>0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            <a id="change">1</a>,
            2<a id="change"></a>,
        ]<a id="change">,
        dtype=torch.int64,
    )</a>

    attr1 = torch.tensor(
        [
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
        ],
        dtype=torch.int32,
    )

    attr2 = <a id="change">torch.tensor(
        [
            </a>1.0,
            2.0,
            2.0,
            3.0,
            <a id="change">4.0</a>,
            1.0,
            4.0,
            3.0,
            1.0,
            6.0<a id="change"></a>,
        ]<a id="change">,
        dtype=torch.float32,
    )</a>

    data = Batch(batch=batch, x=x)
    data["x0"] = x[:, 0]
    data["x1"] = x[:, 1]</code></pre><h3>After Change</h3><pre><code class='java'>
        data_list[ix]["x1"] = data_list[ix].x[:, 1]
        data_list[ix]["x2"] = data_list[ix].x[:, 2]

    batch<a id="change"> = </a>Batch.from_data_list(<a id="change">[</a>data1, data2, data3<a id="change"></a>])

    return batch
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/graphnet-team/graphnet/commit/34d9824011ff4d286ec5a945706bd288ac8a70b9#diff-84af0c5f06ca9bd17d03046eacb089d0c7b9e0a4619a5bd5673ddbe18815408fL14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82421737</div><div id='project'> Project Name: graphnet-team/graphnet</div><div id='commit'> Commit Name: 34d9824011ff4d286ec5a945706bd288ac8a70b9</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: andreas.sogaard@gmail.com</div><div id='file'> File Name: tests/ml/test_coarsening.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _get_test_data(0)</div><div id='n_method'> N Method Name: _get_test_data(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/ml/test_coarsening.py</div><div id='n_file'> N File Name: tests/ml/test_coarsening.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 106</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        dtype=torch.int64,
    )

    attr1 = <a id="change">torch.tensor(
        [
            </a>10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            <a id="change">18</a>,
            19<a id="change"></a>,
        ]<a id="change">,
        dtype=torch.int32,
    )</a>

    attr2 = <a id="change">torch.tensor(
        [
            </a>1.0,
            2.0,
            2.0,
            3.0,
            4.0,
            <a id="change">1.0</a>,
            4.0,
            3.0,
            1.0,
            6.0<a id="change"></a>,
        ]<a id="change">,
        dtype=torch.float32,
    )</a>

    data = Batch(batch=batch, x=x)
    data["x0"] = x[:, 0]
    data["x1"] = x[:, 1]
    data["x2"] = x[:, 2]
    data["attr1"]<a id="change"> = </a>attr1
    data["attr2"] = attr2

    return data</code></pre><h3>After Change</h3><pre><code class='java'>
        data_list[ix]["x1"] = data_list[ix].x[:, 1]
        data_list[ix]["x2"] = data_list[ix].x[:, 2]

    batch<a id="change"> = </a>Batch.from_data_list(<a id="change">[</a>data1, data2, data3<a id="change"></a>])

    return batch
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/icecube/graphnet/commit/34d9824011ff4d286ec5a945706bd288ac8a70b9#diff-84af0c5f06ca9bd17d03046eacb089d0c7b9e0a4619a5bd5673ddbe18815408fL11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82420968</div><div id='project'> Project Name: icecube/graphnet</div><div id='commit'> Commit Name: 34d9824011ff4d286ec5a945706bd288ac8a70b9</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: andreas.sogaard@gmail.com</div><div id='file'> File Name: tests/ml/test_coarsening.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _get_test_data(0)</div><div id='n_method'> N Method Name: _get_test_data(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/ml/test_coarsening.py</div><div id='n_file'> N File Name: tests/ml/test_coarsening.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 106</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.layer_count = layer_count
        self.sample_token_count = sample_token_count
        self.start_token = torch.tensor([start_token]).to(torch.long)
        self.pad_token<a id="change"> = </a><a id="change">torch.tensor([1</a>]<a id="change">)</a>.to(torch.long)
        self.condition_factor = <a id="change">torch.tensor([10</a>]<a id="change">)</a>.to(torch.float)
        &#47&#47 if torch.cuda.is_available(): 
        &#47&#47     self.start_token = self.start_token.cuda()
        &#47&#47     self.pad_token = self.pad_token.cuda()</code></pre><h3>After Change</h3><pre><code class='java'>
            attention_head_count,
            embed_count // attention_head_count
        )
        self.zero_prob<a id="change"> = </a>torch.zeros(<a id="change">[</a>1<a id="change"></a>])
        self.token_indices = torch.arange(self.sample_token_count)
        self.start_token = torch.tensor([start_token]).to(torch.long)
        if torch.cuda.is_available():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kuprel/min-dalle/commit/17c96fe110fad3d48ea591dcd46475f521499770#diff-a32b6e5a8d67db649bbd4d0118fdcd645421a8fcca842a8ccaa2bf61e702f403L111' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82421564</div><div id='project'> Project Name: kuprel/min-dalle</div><div id='commit'> Commit Name: 17c96fe110fad3d48ea591dcd46475f521499770</div><div id='time'> Time: 2022-06-28</div><div id='author'> Author: brkuprel@gmail.com</div><div id='file'> File Name: min_dalle/models/dalle_bart_decoder_torch.py</div><div id='m_class'> M Class Name: DalleBartDecoderTorch</div><div id='n_method'> N Class Name: DalleBartDecoderTorch</div><div id='m_method'> M Method Name: __init__(11)</div><div id='n_method'> N Method Name: __init__(11)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: min_dalle/models/dalle_bart_decoder_torch.py</div><div id='n_file'> N File Name: min_dalle/models/dalle_bart_decoder_torch.py</div><div id='m_start'> M Start Line: 127</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 161</div><BR>