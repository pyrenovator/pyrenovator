<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def match(truths, priors, labels, loc_t, conf_t, overlap_t, idx, multi_anchor=True):
     Match each prior box with the ground truth box 

    overlaps = <a id="change">jaccard(truths</a>, <a id="change">point_form(</a>priors<a id="change">)) if multi_anchor</a><a id="change"> else centerness(truths</a>, <a id="change">priors</a><a id="change">)</a>
    (best_truth_overlap, best_truth_idx) = overlaps.max(0)
    (best_prior_overlap, best_prior_idx) = overlaps.max(1)
    best_truth_overlap.index_fill_(0, best_prior_idx, 1)  &#47&#47 ensure best prior
    for j in range(best_prior_idx.size(0)):</code></pre><h3>After Change</h3><pre><code class='java'>
def match(truths, priors, labels, loc_t, conf_t, overlap_t, idx):
     Match each prior box with the ground truth box 

    overlaps = <a id="change">jaccard(</a>truths, <a id="change">point_form(</a>priors<a id="change">))</a>
    (best_truth_overlap, best_truth_idx) = overlaps.max(0)
    (best_prior_overlap, best_prior_idx) = overlaps.max(1)
    best_truth_overlap.index_fill_(0, best_prior_idx, 1)  &#47&#47 ensure best prior
    for j in range(best_prior_idx.size(0)):</code></pre>