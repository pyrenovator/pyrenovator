<html><h3>Pattern ID :19540
</h3><img src='63655851.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            
        df_stamp = df_raw[[&quotdate&quot]][border1:border2]
        df_stamp[&quotdate&quot] = pd.to_datetime(df_stamp.date)
        <a id="change">if self.timeenc==0</a>:
            <a id="change">df_stamp[&quotmonth&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.month,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.day,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotweekday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.weekday(),<a id="change">1</a><a id="change">)</a>
            df_stamp[&quothour&quot]<a id="change"> = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.hour,<a id="change">1</a><a id="change">)</a>
            data_stamp<a id="change"> = df_stamp.drop(</a><a id="change">[&quotdate&quot</a>],<a id="change">1</a><a id="change">)</a>.values
        elif <a id="change">self.timeenc==1</a>:
            data_stamp = time_features(<a id="change">pd.to_datetime(</a>df_stamp[&quotdate&quot].values<a id="change">)</a>, freq=self.freq)
            data_stamp<a id="change"> = </a><a id="change">data_stamp.transpose(1</a>,<a id="change">0</a><a id="change">)</a>

        self.data_x = data[border1:border2]
        self.data_y = data[border1:border2]
        self.data_stamp = data_stamp</code></pre><h3>After Change</h3><pre><code class='java'>
        data_stamp = time_features(df_stamp, timeenc=self.timeenc, freq=self.freq)

        self.data_x = data[border1:border2]
        <a id="change">if self.inverse</a>:
            self.data_y<a id="change"> = </a><a id="change">df_data.values[border1:border2]</a>
        else:
            self.data_y = data[border1:border2]
        self.data_stamp = data_stamp
    </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 25</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zhouhaoyi/informer2020/commit/416f8c1a181b94b50b8837849dd9408bd7e5327b#diff-c4fd4034971cc4beee09e41ff3d4eb43e20a5fb5cd311886b5ee00dda674e0b7L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63655851</div><div id='project'> Project Name: zhouhaoyi/informer2020</div><div id='commit'> Commit Name: 416f8c1a181b94b50b8837849dd9408bd7e5327b</div><div id='time'> Time: 2021-03-29</div><div id='author'> Author: 1095715895@qq.com</div><div id='file'> File Name: data/data_loader.py</div><div id='m_class'> M Class Name: Dataset_ETT_hour</div><div id='n_method'> N Class Name: Dataset_ETT_hour</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data/data_loader.py</div><div id='n_file'> N File Name: data/data_loader.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 79</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            
        df_stamp = df_raw[[&quotdate&quot]][border1:border2]
        df_stamp[&quotdate&quot] = pd.to_datetime(df_stamp.date)
        <a id="change">if self.timeenc==0</a>:
            <a id="change">df_stamp[&quotmonth&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.month,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.day,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotweekday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.weekday(),<a id="change">1</a><a id="change">)</a>
            df_stamp[&quothour&quot] = <a id="change">df_stamp.date.apply(</a>lambda row:row.hour,<a id="change">1</a><a id="change">)</a>
            df_stamp[&quotminute&quot] = df_stamp.date.apply(lambda row:row.minute,1)
            df_stamp[&quotminute&quot]<a id="change"> = </a>df_stamp.minute.map(lambda x:x//15)
            data_stamp<a id="change"> = df_stamp.drop(</a><a id="change">[&quotdate&quot</a>],<a id="change">1</a><a id="change">)</a>.values
        elif <a id="change">self.timeenc==1</a>:
            data_stamp = time_features(<a id="change">pd.to_datetime(</a>df_stamp[&quotdate&quot].values<a id="change">)</a>, freq=self.freq)
            data_stamp<a id="change"> = </a><a id="change">data_stamp.transpose(1</a>,<a id="change">0</a><a id="change">)</a>
        
        self.data_x = data[border1:border2]
        self.data_y = data[border1:border2]
        self.data_stamp = data_stamp</code></pre><h3>After Change</h3><pre><code class='java'>
        data_stamp = time_features(df_stamp, timeenc=self.timeenc, freq=self.freq)
        
        self.data_x = data[border1:border2]
        <a id="change">if self.inverse</a>:
            self.data_y<a id="change"> = </a><a id="change">df_data.values[border1:border2]</a>
        else:
            self.data_y = data[border1:border2]
        self.data_stamp = data_stamp
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zhouhaoyi/informer2020/commit/416f8c1a181b94b50b8837849dd9408bd7e5327b#diff-c4fd4034971cc4beee09e41ff3d4eb43e20a5fb5cd311886b5ee00dda674e0b7L130' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63655850</div><div id='project'> Project Name: zhouhaoyi/informer2020</div><div id='commit'> Commit Name: 416f8c1a181b94b50b8837849dd9408bd7e5327b</div><div id='time'> Time: 2021-03-29</div><div id='author'> Author: 1095715895@qq.com</div><div id='file'> File Name: data/data_loader.py</div><div id='m_class'> M Class Name: Dataset_ETT_minute</div><div id='n_method'> N Class Name: Dataset_ETT_minute</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data/data_loader.py</div><div id='n_file'> N File Name: data/data_loader.py</div><div id='m_start'> M Start Line: 154</div><div id='m_end'> M End Line: 168</div><div id='n_start'> N Start Line: 135</div><div id='n_end'> N End Line: 160</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            
        df_stamp = df_raw[[&quotdate&quot]][border1:border2]
        df_stamp[&quotdate&quot] = pd.to_datetime(df_stamp.date)
        <a id="change">if self.timeenc==0</a>:
            <a id="change">df_stamp[&quotmonth&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.month,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.day,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotweekday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.weekday(),<a id="change">1</a><a id="change">)</a>
            df_stamp[&quothour&quot]<a id="change"> = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.hour,<a id="change">1</a><a id="change">)</a>
            data_stamp<a id="change"> = df_stamp.drop(</a><a id="change">[&quotdate&quot</a>],<a id="change">1</a><a id="change">)</a>.values
        elif <a id="change">self.timeenc==1</a>:
            data_stamp = time_features(<a id="change">pd.to_datetime(</a>df_stamp[&quotdate&quot].values<a id="change">)</a>, freq=self.freq)
            data_stamp<a id="change"> = </a><a id="change">data_stamp.transpose(1</a>,<a id="change">0</a><a id="change">)</a>

        self.data_x = data[border1:border2]
        self.data_y = data[border1:border2]
        self.data_stamp = data_stamp</code></pre><h3>After Change</h3><pre><code class='java'>
        data_stamp = time_features(df_stamp, timeenc=self.timeenc, freq=self.freq)

        self.data_x = data[border1:border2]
        <a id="change">if self.inverse</a>:
            self.data_y<a id="change"> = </a><a id="change">df_data.values[border1:border2]</a>
        else:
            self.data_y = data[border1:border2]
        self.data_stamp = data_stamp
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zhouhaoyi/informer2020/commit/416f8c1a181b94b50b8837849dd9408bd7e5327b#diff-c4fd4034971cc4beee09e41ff3d4eb43e20a5fb5cd311886b5ee00dda674e0b7L220' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63655858</div><div id='project'> Project Name: zhouhaoyi/informer2020</div><div id='commit'> Commit Name: 416f8c1a181b94b50b8837849dd9408bd7e5327b</div><div id='time'> Time: 2021-03-29</div><div id='author'> Author: 1095715895@qq.com</div><div id='file'> File Name: data/data_loader.py</div><div id='m_class'> M Class Name: Dataset_Custom</div><div id='n_method'> N Class Name: Dataset_Custom</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data/data_loader.py</div><div id='n_file'> N File Name: data/data_loader.py</div><div id='m_start'> M Start Line: 252</div><div id='m_end'> M End Line: 264</div><div id='n_start'> N Start Line: 227</div><div id='n_end'> N End Line: 252</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            
        df_stamp = df_raw[[&quotdate&quot]][border1:border2]
        df_stamp[&quotdate&quot] = pd.to_datetime(df_stamp.date)
        <a id="change">if self.timeenc==0</a>:
            <a id="change">df_stamp[&quotmonth&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.month,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.day,<a id="change">1</a><a id="change">)</a>
            <a id="change">df_stamp[&quotweekday&quot] = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.weekday(),<a id="change">1</a><a id="change">)</a>
            df_stamp[&quothour&quot]<a id="change"> = </a><a id="change">df_stamp.date.apply(</a>lambda row:row.hour,<a id="change">1</a><a id="change">)</a>
            data_stamp<a id="change"> = df_stamp.drop(</a><a id="change">[&quotdate&quot</a>],<a id="change">1</a><a id="change">)</a>.values
        elif <a id="change">self.timeenc==1</a>:
            data_stamp = time_features(<a id="change">pd.to_datetime(</a>df_stamp[&quotdate&quot].values<a id="change">)</a>, freq=self.freq)
            data_stamp<a id="change"> = </a><a id="change">data_stamp.transpose(1</a>,<a id="change">0</a><a id="change">)</a>

        self.data_x = data[border1:border2]
        self.data_y = data[border1:border2]
        self.data_stamp = data_stamp</code></pre><h3>After Change</h3><pre><code class='java'>
        data_stamp = time_features(df_stamp, timeenc=self.timeenc, freq=self.freq)

        self.data_x = data[border1:border2]
        <a id="change">if self.inverse</a>:
            self.data_y<a id="change"> = </a><a id="change">df_data.values[border1:border2]</a>
        else:
            self.data_y = data[border1:border2]
        self.data_stamp = data_stamp
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zhouhaoyi/informer2020/commit/416f8c1a181b94b50b8837849dd9408bd7e5327b#diff-c4fd4034971cc4beee09e41ff3d4eb43e20a5fb5cd311886b5ee00dda674e0b7L43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63655847</div><div id='project'> Project Name: zhouhaoyi/informer2020</div><div id='commit'> Commit Name: 416f8c1a181b94b50b8837849dd9408bd7e5327b</div><div id='time'> Time: 2021-03-29</div><div id='author'> Author: 1095715895@qq.com</div><div id='file'> File Name: data/data_loader.py</div><div id='m_class'> M Class Name: Dataset_ETT_hour</div><div id='n_method'> N Class Name: Dataset_ETT_hour</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data/data_loader.py</div><div id='n_file'> N File Name: data/data_loader.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 79</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 77</div><BR>