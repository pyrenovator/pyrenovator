<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            swap_idx = self.uid2swap_idx[uid_list]
            rev_swap_idx = self.uid2rev_swap_idx[uid_list]
            swap_row<a id="change"> = </a><a id="change">torch.cat([torch.full_like(swap, i) for i, swap in enumerate(swap_idx)]</a><a id="change">)</a>
            swap_col_after = torch.cat(list(swap_idx))
            swap_col_before = torch.cat(list(rev_swap_idx))

            self.pr += self.step</code></pre><h3>After Change</h3><pre><code class='java'>
            positive_i = []
            for idx, uid in enumerate(uid_list):
                uid = uid.item()
                positive_u<a id="change"> += </a><a id="change">[idx for i in range(self.uid2items_num[uid])]</a>
                positive_i += list(self.uid2positive_item[uid])
               
            positive_u = torch.from_numpy(np.array(positive_u))
            positive_i = torch.from_numpy(np.array(positive_i))</code></pre>