<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            del typs[pos]
        assert len(typs) == 1, &quotAmbiguous instance type: {}&quot.format(typs)
        return {
            &quotinstance_type&quot: <a id="change">typs[0]</a>,
            &quotgpu&quot: gpu,
            &quotgpu_count&quot: gpu_count,
        }</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Find GPU spec, if any.
        gpu = None
        gpu_count = 0
        accelerators<a id="change"> = </a><a id="change">r.get_accelerators()</a>
        if accelerators is not None:
            assert len(accelerators) == 1, r
            <a id="change">for </a>gpu, <a id="change">gpu_count</a> in accelerators.items()<a id="change">:
                </a><a id="change">break</a>
        if gpu is not None:
            &#47&#47 Convert to GCP names: https://cloud.google.com/compute/docs/gpus
            gpu = &quotnvidia-tesla-{}&quot.format(gpu.lower())
        return {</code></pre>