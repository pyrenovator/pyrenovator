<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            wers += wer(pred,gold)/length
        except:
            print(pred, gold)
            <a id="change">assert </a>1==0
    return cers/btz, wers/btz

def wer(s1, s2):</code></pre><h3>After Change</h3><pre><code class='java'>
    preds_str = seq_to_str(preds, id2char)
    golds_str = seq_to_str(targets, id2char)
    for i, (pred,gold) in enumerate(zip(preds_str,golds_str)):
        <a id="change">if gold==""</a>:
            only unk token
            length = len(<a id="change">golds[i][1:-1]</a>)
            cers<a id="change"> += </a>cer(pred,gold)/length
            length = 1
            wers += wer(pred,gold)/length
        else:</code></pre>