<html><h3>Pattern ID :3631
</h3><img src='13663463.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    rng, tune_config_updates = setup_run(config)
    del config  &#47&#47 I want a new name for it
    repl_dir = <a id="change">os.path.join(</a>up(up(log_dir)), <a id="change">&quotall_repl&quot</a><a id="change">)</a>
    <a id="change">if not os.path.exists(repl_dir)</a>:
        <a id="change">os.makedirs(</a>repl_dir<a id="change">)</a>
    &#47&#47 Run representation learning
    repl_hash = hash_config(rep_ex_config)
    pretrained_encoder_path = None
</code></pre><h3>After Change</h3><pre><code class='java'>
                pretrained_encoder_path = os.path.join(most_recent_run, &quotrepl_encoder.ckpt&quot)
                logging.info(f"Loading encoder from {pretrained_encoder_path}")

    <a id="change">if </a>pretrained_encoder_path is None:
        tune_config_updates[&quotrepl&quot].update({
            &quotseed&quot: rng.randint(1 &lt;&lt; 31),
        })</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/6b9afb91f6ab432d773a3878a4c44d6b69d10c8d#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L269' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13663463</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 6b9afb91f6ab432d773a3878a4c44d6b69d10c8d</div><div id='time'> Time: 2020-12-30</div><div id='author'> Author: codywild@berkeley.edu</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_end2end_exp(8)</div><div id='n_method'> N Method Name: run_end2end_exp(8)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 277</div><div id='m_end'> M End Line: 312</div><div id='n_start'> N Start Line: 269</div><div id='n_end'> N End Line: 300</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

@pytest.fixture(scope=&quotsession&quot)
def global_local_config():
    target = <a id="change">os.path.join(</a>test_data_dir, <a id="change">&quotckpoint&quot</a><a id="change">)</a>
    <a id="change">if not os.path.exists(target)</a>:
        <a id="change">os.makedirs(</a>target<a id="change">)</a>
    config = LocalConfig(checkpoint_dir=target, input_data=test_data_dir / &quotdata&quot / &quotsmol.txt&quot)
    annotate_training_data(config)
    yield config
    shutil.rmtree(target)</code></pre><h3>After Change</h3><pre><code class='java'>
def global_local_config():
    target = test_data_dir / &quotckpoint&quot
    input_data = test_data_dir / &quotdata&quot / &quotsmol.txt&quot
    <a id="change">if </a>not target.exists():
        target.mkdir()
    config = LocalConfig(checkpoint_dir=target, input_data=input_data)
    annotate_training_data(config)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gretelai/gretel-synthetics/commit/8af17403dfa595b5dceb08e387dcaf2d80b92f29#diff-e52e4ddd58b7ef887ab03c04116e676f6280b824ab7469d5d3080e5cba4f2128L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13663464</div><div id='project'> Project Name: gretelai/gretel-synthetics</div><div id='commit'> Commit Name: 8af17403dfa595b5dceb08e387dcaf2d80b92f29</div><div id='time'> Time: 2020-03-23</div><div id='author'> Author: zredlined@users.noreply.github.com</div><div id='file'> File Name: tests/conftest.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: global_local_config(0)</div><div id='n_method'> N Method Name: global_local_config(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/conftest.py</div><div id='n_file'> N File Name: tests/conftest.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 18</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 17</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if load_path != "":
            self.load_snapshot(load_path)
            import torch
            save_dir = <a id="change">os.path.join("/home/xf/imitation_teaching"</a>, "data", &quotexpert_model&quot, &quotSeaquest-v4&quot<a id="change">)</a>
            <a id="change">if not os.path.exists(save_dir)</a>:
                <a id="change">os.makedirs(</a>save_dir<a id="change">)</a>
            print(save_dir)
            torch.save(self.agent.q_network, os.path.join(save_dir, "q_network.pt"))
            &#47&#47exit(0)
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.max_epoch = max_epoch
        self.epsilon_sheduler = Scheduler(**kwargs[&quotepsilon&quot])
        self.warmup_timesteps = warmup_timesteps
        <a id="change">if </a>load_path != "":
            self.load_snapshot(load_path)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/x35f/unstable_baselines/commit/4f0036392d4f35e65516efa47407b0cfbe05eb81#diff-0b7c6e46ed782d2bdfa76ddafb7ae52a6372987a4c55b0ccb744fc319405cb3aL10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13663465</div><div id='project'> Project Name: x35f/unstable_baselines</div><div id='commit'> Commit Name: 4f0036392d4f35e65516efa47407b0cfbe05eb81</div><div id='time'> Time: 2023-01-16</div><div id='author'> Author: 1621322691@qq.com</div><div id='file'> File Name: unstable_baselines/baselines/dqn/trainer.py</div><div id='m_class'> M Class Name: DQNTrainer</div><div id='n_method'> N Class Name: DQNTrainer</div><div id='m_method'> M Method Name: __init__(11)</div><div id='n_method'> N Method Name: __init__(11)</div><div id='m_parent_class'> M Parent Class: BaseTrainer</div><div id='n_parent_class'> N Parent Class: BaseTrainer</div><div id='m_file'> M File Name: unstable_baselines/baselines/dqn/trainer.py</div><div id='n_file'> N File Name: unstable_baselines/baselines/dqn/trainer.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 32</div><BR>