<html><h3>Pattern ID :15368
</h3><img src='52079323.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    with open(test_file, &quotr&quot) as f:
        test_data = ujson.load(f)

    <a id="change">return </a>train_data, test_data


def read_client_data(dataset, idx):</code></pre><h3>After Change</h3><pre><code class='java'>
        train_data_dir = os.path.join(&quot../dataset&quot, dataset, &quottrain/&quot)

        train_file = train_data_dir + &quottrain&quot + str(idx) + &quot_&quot + &quot.npz&quot
        <a id="change">with </a><a id="change">open(train_file, &quotrb&quot) as f:
            </a>train_data<a id="change"> = </a>np.load(f, allow_pickle=True)[&quotdata&quot].tolist()

        return train_data
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tsingz0/pfl-non-iid/commit/4f394efe04f30dbd3cab4278467631854f997903#diff-63ab9c50a0f1fea7606870e9532bec6abf8e2b36648f826191e67a48fd6d0e05L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52079323</div><div id='project'> Project Name: tsingz0/pfl-non-iid</div><div id='commit'> Commit Name: 4f394efe04f30dbd3cab4278467631854f997903</div><div id='time'> Time: 2022-01-14</div><div id='author'> Author: 2719584131@qq.com</div><div id='file'> File Name: system/utils/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: read_data(3)</div><div id='n_method'> N Method Name: read_data(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: system/utils/data_utils.py</div><div id='n_file'> N File Name: system/utils/data_utils.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if os.path.isfile(possible_filelist):
            with open(possible_filelist, &quotr&quot) as f:
                images = f.read().splitlines()
                <a id="change">return </a>images

    if recursive:
        make_dataset_rec(dir, images)</code></pre><h3>After Change</h3><pre><code class='java'>
    images = []

    if meta_path is not None:
        <a id="change">with </a><a id="change">open(meta_path, &quotr&quot) as f:
            </a>lines<a id="change"> = </a>f.readlines()
        from tqdm import tqdm
        for line in tqdm(lines):
            line = line.strip()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-han-lab/gan-compression/commit/788f6907d955559d0539fc54acea0e0102e4a6eb#diff-9cfefe3ec66886b16659112c38a183bbaf22f2d5f27e8c04d6955a883aedfe5bL32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52079320</div><div id='project'> Project Name: mit-han-lab/gan-compression</div><div id='commit'> Commit Name: 788f6907d955559d0539fc54acea0e0102e4a6eb</div><div id='time'> Time: 2021-01-11</div><div id='author'> Author: lmxyy1999@foxmail.com</div><div id='file'> File Name: data/image_folder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: make_dataset(5)</div><div id='n_method'> N Method Name: make_dataset(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data/image_folder.py</div><div id='n_file'> N File Name: data/image_folder.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 60</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 55</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    try:
        cmd = "grep avx512bw /proc/cpuinfo | grep avx512vl | grep avx512dq"
        subprocess.check_output(cmd, shell=True)
        <a id="change">return </a>True
    except subprocess.CalledProcessError:
        return False
</code></pre><h3>After Change</h3><pre><code class='java'>
    import sys
    if sys.platform != &quotlinux&quot:
        return False
    <a id="change">with </a><a id="change">open("/proc/cpuinfo", encoding="ascii") as f:
        </a>lines<a id="change"> = </a>f.read()
    return all(word in lines for word in ["avx512bw", "avx512vl", "avx512dq"])

types = [torch.float, torch.bfloat16]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/c7d8d8f92525aefc09a97009f0d92063164bcdf4#diff-28c807e3b2f73b057c6b7b5560c0e573fd9c7a7e8f77cbb74356a9da349e44c0L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52079321</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: c7d8d8f92525aefc09a97009f0d92063164bcdf4</div><div id='time'> Time: 2021-05-03</div><div id='author'> Author: nshulga@fb.com</div><div id='file'> File Name: test/test_mkldnn.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: has_bf16_support(0)</div><div id='n_method'> N Method Name: has_bf16_support(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/test_mkldnn.py</div><div id='n_file'> N File Name: test/test_mkldnn.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &quotquality_components&quot: [&quotshape&quot],  &#47&#47, &quotdiscrete&quot, &quotrotation&quot, &quottranslation&quot],
    }

    <a id="change">return </a>loss_config, args.version


&#47&#47 --------------- from experimnet ---------</code></pre><h3>After Change</h3><pre><code class='java'>
    parser.add_argument(&quot--config&quot, &quot-c&quot, help=&quotYAML configuration file&quot, type=str, default=&quot./models/att/att.yaml&quot)

    args = parser.parse_args()
    <a id="change">with </a><a id="change">open(args.config, &quotr&quot) as f:
        </a>config<a id="change"> = </a>yaml.safe_load(f)

    return config
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maria-korosteleva/garment-pattern-estimation/commit/bf8741628e2881724d2cbc9eee362bdd95ba4fc8#diff-470466c8564fce88d1da53796a479728a269cc95259bee4c42b3a9043598d5d1L23' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52079325</div><div id='project'> Project Name: maria-korosteleva/garment-pattern-estimation</div><div id='commit'> Commit Name: bf8741628e2881724d2cbc9eee362bdd95ba4fc8</div><div id='time'> Time: 2022-04-18</div><div id='author'> Author: mariako@kaist.ac.kr</div><div id='file'> File Name: nn/evaluation_scripts/on_test_set_single.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_values_from_args(0)</div><div id='n_method'> N Method Name: get_values_from_args(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nn/evaluation_scripts/on_test_set_single.py</div><div id='n_file'> N File Name: nn/evaluation_scripts/on_test_set_single.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    self.file_IDs.append(dir)
                    self.file_labels.append(self.IDsLabels[dir])

        <a id="change">return</a>

    def __getitem__(self, idx):
        file_path = self.file_paths[idx]
        file_id = self.file_IDs[idx]</code></pre><h3>After Change</h3><pre><code class='java'>
                             self.IDs,
                             self.IDsLabels], f)
        else:
            <a id="change">with </a><a id="change">open(cache_file, "rb") as f:
                </a>self<a id="change">.file_paths, self.file_IDs, self.file_labels, self.IDs, self.IDsLabels = </a>pickle.load(f)
            print("data set loaded from cache len: {}".format(len(self.file_paths)))

        return</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/leoluopy/groupfacepytorch/commit/9c7b785fe403b4b6d0d28d348bfb437be1c8f54e#diff-5d37260bdf02b542436bdf1fa44ead559d9194889bf2fee9cab219a18d6993ecL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52079316</div><div id='project'> Project Name: leoluopy/groupfacepytorch</div><div id='commit'> Commit Name: 9c7b785fe403b4b6d0d28d348bfb437be1c8f54e</div><div id='time'> Time: 2020-12-24</div><div id='author'> Author: lpy1990fff</div><div id='file'> File Name: system/data_loader.py</div><div id='m_class'> M Class Name: IDDataSet</div><div id='n_method'> N Class Name: IDDataSet</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: system/data_loader.py</div><div id='n_file'> N File Name: system/data_loader.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 74</div><BR>