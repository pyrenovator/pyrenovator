<html><h3>Pattern ID :1302
</h3><img src='6385857.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


        gripper_in_XY = [0.0, 0.3, poker_position[2]] &#47&#47 gripper initial position with z == 0
        poker_in_XY = [poker_position[0], poker_position[1]-0.05, <a id="change">poker_position[2]</a>] &#47&#47 gripper initial position with z == 0
        self.env.p.addUserDebugLine(gripper_in_XY, poker_in_XY, lifeTime=0.1)
        abs = self.distance_of_point_from_abscissa(gripper_in_XY, poker_position, gripper_position)
</code></pre><h3>After Change</h3><pre><code class='java'>
            self.last_len = len

        if abs &lt; 0.1:
            <a id="change">self.env.p.addUserDebugText(</a>"XXX", <a id="change">[0.7</a>,<a id="change">0.7</a>,<a id="change">0.7</a>]<a id="change">, lifeTime=0.1, textColorRGB=[0,125,0])</a>

            aim_vector  = v.Vector(poker_position, goal_position, self.env)
            real_vector = v.Vector(self.prev_poker_position, poker_position, self.env)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/455742b94e988f8e408d86a83fd656255f506316#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL1121' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6385857</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: 455742b94e988f8e408d86a83fd656255f506316</div><div id='time'> Time: 2021-08-19</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: compute(2)</div><div id='n_method'> N Method Name: compute(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 1121</div><div id='m_end'> M End Line: 1154</div><div id='n_start'> N Start Line: 1121</div><div id='n_end'> N End Line: 1186</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.last_align            = align
        self.last_len              = len

        if self.task.check_object_moved(<a id="change">self.env.task_objects[1]</a>, 2):
            self.env.episode_over   = True
            self.env.episode_failed = True
            self.env.episode_info   = "too strong poke"</code></pre><h3>After Change</h3><pre><code class='java'>

        self.finish(observation, poker_position, gripper_position, align, len, reward)

        <a id="change">self.env.p.addUserDebugText(</a>"Reward: " + str(round(self.env.episode_reward, 7)), <a id="change">[0.7</a>,<a id="change">0.7</a>,<a id="change">0.7</a>]<a id="change">, lifeTime=0.1)</a>
        return reward

    def init(self, observation):
        &#47&#47 load positions</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/2f1c0aa857f09b4521dec2c7afbd652b3ac90334#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL917' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6385825</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: 2f1c0aa857f09b4521dec2c7afbd652b3ac90334</div><div id='time'> Time: 2021-08-17</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: compute(2)</div><div id='n_method'> N Method Name: compute(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 926</div><div id='m_end'> M End Line: 976</div><div id='n_start'> N Start Line: 926</div><div id='n_end'> N End Line: 958</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        poker_in_XY = poker_position + poke_vector.vector

        &#47&#47 gripper_in_XY = [0.0, 0.3, poker_position[2]] &#47&#47 gripper initial position with z == 0
        poker_in_XY = [poker_in_XY[0], <a id="change">poker_in_XY[1]</a>, poker_position[2]] &#47&#47 gripper initial position with z == 0
        gripper_in_XY = poker_position + 3*poke_vector.vector
        len = self.distance_of_point_from_abscissa(gripper_in_XY, poker_position, gripper_position)
</code></pre><h3>After Change</h3><pre><code class='java'>


        if self.touched:
            <a id="change">self.env.p.addUserDebugText(</a>"touched", <a id="change">[-0.3</a>,<a id="change">0.3</a>,<a id="change">0.3</a>]<a id="change">, lifeTime=0.1, textColorRGB=[0,0,125])</a>

        if is_aimed or self.touched:
            owner = 1 &#47&#47 poke
        elif not is_aimed and not self.touched:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/67718bbfd338398527332fd155399c5d57ada6c6#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL1257' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6385856</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: 67718bbfd338398527332fd155399c5d57ada6c6</div><div id='time'> Time: 2021-08-23</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: decide(2)</div><div id='n_method'> N Method Name: decide(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 1259</div><div id='m_end'> M End Line: 1280</div><div id='n_start'> N Start Line: 1038</div><div id='n_end'> N End Line: 1055</div><BR>