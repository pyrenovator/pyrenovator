<html><h3>Pattern ID :10291
</h3><img src='36228136.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def test_padded_matrix():
    d = Doc("Ali topu tut. Ömer ılık süt iç.")

    <a id="change">assert </a>np.all(d.padded_matrix(True, False) == np.array([[2, 3744, 9290, 2535, 18, 3, 0],
                                                            [2, 6565, 17626, 5244, 2032, 18, 3]]))

    assert torch.all(d.padded_matrix(return_mask=False) == torch.tensor([[2, 3744, 9290, 2535, 18, 3, 0],   &#47&#47 noqa &#47&#47 pylint: disable=not-callable</code></pre><h3>After Change</h3><pre><code class='java'>
    inp = np.array([[2, 3744, 9290, 2535, 18, 3, 0],
                    [2, 6565, 17626, 5244, 2032, 18, 3]])

    mask<a id="change"> = </a><a id="change">np.array([</a>[1, 1, 1, 1, 1, 1, 0],
                     <a id="change">[</a>1, <a id="change">1</a>, 1, <a id="change">1</a>, 1, 1, 1<a id="change"></a>]<a id="change"></a>]<a id="change">)</a>

    res = d.padded_matrix(return_numpy, return_mask)

    if return_numpy:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/globalmaksimum/sadedegel/commit/5851b3d8a3ffbc0267367b3d351a1d606b1b1d7d#diff-5554e86eb4d90363eedd14a278e2d3cb21a4213abac55d436cd3400a342e39bcL18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36228136</div><div id='project'> Project Name: globalmaksimum/sadedegel</div><div id='commit'> Commit Name: 5851b3d8a3ffbc0267367b3d351a1d606b1b1d7d</div><div id='time'> Time: 2020-07-31</div><div id='author'> Author: husnu.sensoy@globalmaksimum.com</div><div id='file'> File Name: tests/test_buildingblocks.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_padded_matrix(2)</div><div id='n_method'> N Method Name: test_padded_matrix(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_buildingblocks.py</div><div id='n_file'> N File Name: tests/test_buildingblocks.py</div><div id='m_start'> M Start Line: 18</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        [0, 0, 2]
    ]

    <a id="change">assert </a>true_pillar_matrix == pillar_matrix


if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    points, indices = create_pillars(points, grid_cell_size=grid_cell_size, x_min=x_min, x_max=x_max,
                                     y_min=y_min, y_max=y_max, z_min=z_min, z_max=z_max)

    true_indices<a id="change"> = </a><a id="change">np.array([</a>[0, 0],
                             [0, 0],
                             <a id="change">[0</a>, <a id="change">1</a>],
                             [2, 2],
                             [2, 2],
                             [1, 2]<a id="change"></a>]<a id="change">
                            )</a>

    assert np.all(indices == true_indices)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jabb0/fastflow3d/commit/fa5213b611fd96c6e2df69f237b25e47cca3be34#diff-9476c3a5bb08d1a72bced99bb169ca062fb9e2ff88e2b3f71d4be5a85fc13b21L5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36228106</div><div id='project'> Project Name: jabb0/fastflow3d</div><div id='commit'> Commit Name: fa5213b611fd96c6e2df69f237b25e47cca3be34</div><div id='time'> Time: 2021-06-13</div><div id='author'> Author: aron.distelzweig@hotmail.com</div><div id='file'> File Name: tests/test_pillar.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_create_pillars(0)</div><div id='n_method'> N Method Name: test_create_pillars(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_pillar.py</div><div id='n_file'> N File Name: tests/test_pillar.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 34</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert rotated.all() == boxes.all()
    &#47&#47 Angle &lt; 1:
    rotated = geometry.rotate_boxes(boxes, angle=0.5)
    <a id="change">assert </a>rotated.all() == boxes.all()
    &#47&#47 Angle = 30
    rotated = geometry.rotate_boxes(boxes, angle=30)
    assert rotated.shape == (1, 5)</code></pre><h3>After Change</h3><pre><code class='java'>
    assert rotated.shape == (1, 6)
    assert rotated[0, 4] == 30.

    boxes = <a id="change">np.array([</a><a id="change">[</a>0., <a id="change">0.</a>, <a id="change">0.6</a>, 0.2, 0.5<a id="change"></a>]<a id="change"></a>]<a id="change">)</a>
    &#47&#47 Angle = -90:
    rotated = geometry.rotate_boxes(boxes, angle=-90, orig_shape=(1, 1), min_angle=0)
    assert np.allclose(rotated, np.array([[0.9, 0.3, 0.6, 0.2, -90., 0.5]]))
    &#47&#47 Angle = 90
    rotated<a id="change"> = </a>geometry.rotate_boxes(boxes, angle=+90, orig_shape=(1, 1), min_angle=0)
    assert np.allclose(rotated, np.array([[0.1, 0.7, 0.6, 0.2, +90., 0.5]]))

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/83828964251fd5daad5f749155515e0bf7ec011c#diff-415173e7de8245c94976a06c7cb34584e8de9055bea1f3ec87166da4bd4fa646L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36228128</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: 83828964251fd5daad5f749155515e0bf7ec011c</div><div id='time'> Time: 2021-12-06</div><div id='author'> Author: 33607785+Rob192@users.noreply.github.com</div><div id='file'> File Name: tests/common/test_utils_geometry.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_rotate_boxes(0)</div><div id='n_method'> N Method Name: test_rotate_boxes(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/common/test_utils_geometry.py</div><div id='n_file'> N File Name: tests/common/test_utils_geometry.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 91</div><div id='n_end'> N End Line: 115</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    x = {&quottheta&quot: [1.0], &quottheta_radial&quot: [0.5]}
    with pytest.raises(RuntimeError) as excinfo:
        Angle.x_prime_log_prior(reparam, x)
    <a id="change">assert </a>&quotPrime prior&quot in str(excinfo.value)


def test_both_parameters():</code></pre><h3>After Change</h3><pre><code class='java'>
def test_x_prime_log_prior(reparam):
    "Assert the underlying functions is called correctly
    x_prime = numpy_array_to_live_points(
        <a id="change">np.array([</a><a id="change">[1.0</a>, <a id="change">-1.0</a>]<a id="change"></a>]<a id="change">)</a>, [&quotx&quot, &quoty&quot]
    )

    reparam._k = 0.5
    reparam._prime_prior = MagicMock(return_value=0.5)
    reparam.has_prior_prior = True
    reparam.prime_parameters = [&quotx&quot, &quoty&quot]

    out<a id="change"> = </a>Angle.x_prime_log_prior(reparam, x_prime)

    reparam._prime_prior.assert_called_once_with(
        x_prime[&quotx&quot],</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mj-will/nessai/commit/b53fe855e019f16687e61e99ebb0249d9efb969a#diff-39843aadf4ec9fbe589436c748f730d0913d23cade20aa31a5282be432887621L149' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36227924</div><div id='project'> Project Name: mj-will/nessai</div><div id='commit'> Commit Name: b53fe855e019f16687e61e99ebb0249d9efb969a</div><div id='time'> Time: 2022-01-25</div><div id='author'> Author: michaeljw1@googlemail.com</div><div id='file'> File Name: tests/test_reparameterisations/test_angle.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_x_prime_log_prior(1)</div><div id='n_method'> N Method Name: test_x_prime_log_prior(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_reparameterisations/test_angle.py</div><div id='n_file'> N File Name: tests/test_reparameterisations/test_angle.py</div><div id='m_start'> M Start Line: 153</div><div id='m_end'> M End Line: 157</div><div id='n_start'> N Start Line: 155</div><div id='n_end'> N End Line: 171</div><BR>