<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        

        &#47&#47 get devices using CUDA_VISIBLE_DEVICES
        CUDA_VISIBLE_DEVICES = <a id="change">os.environ.get(</a>&quotCUDA_VISIBLE_DEVICES&quot, <a id="change">&quot&quot</a><a id="change">)</a>

        if CUDA_VISIBLE_DEVICES != &quot&quot:
            device_ids = CUDA_VISIBLE_DEVICES.split(&quot,&quot)
            devices = [</code></pre><h3>After Change</h3><pre><code class='java'>
        Starts the tritonserver docker container using docker-py
        

        <a id="change">if </a><a id="change">len(self._gpus) == 1 and self._gpus[0] == &quotall&quot</a>:
            devices = [
                docker.types.DeviceRequest(count=-1, capabilities=[[&quotgpu&quot]])
            ]
        else:
            devices<a id="change"> = </a>[
                docker.types.DeviceRequest(device_ids=self._gpus,
                                           capabilities=[[&quotgpu&quot]])
            ]</code></pre>