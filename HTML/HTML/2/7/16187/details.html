<html><h3>Pattern ID :16187
</h3><img src='54098299.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    return ctx.op.movement_op(op, inp, ret, arg)

  def processing_op(ctx, op, x, y, ret, stride, groups):
    <a id="change">if DEBUG</a>: <a id="change">print(f"{op} : {x.shape} + {y.shape} -&gt; {ret.shape}"</a><a id="change">)</a>
    return ctx.op.processing_op(op, x, y, ret, stride, groups)</code></pre><h3>After Change</h3><pre><code class='java'>
    return ctx.op.movement_op(op, x, ret, arg)

  def processing_op(ctx, op:ProcessingOps, x, y, ret, stride, groups):
    <a id="change">log_op(</a>op, ret, <a id="change">[</a>x, y<a id="change"></a>]<a id="change">)</a>
    return ctx.op.processing_op(op, x, y, ret, stride, groups)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/1511cbf9c5b3fe9272bdca4ba94446afc2fb8078#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54098299</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 1511cbf9c5b3fe9272bdca4ba94446afc2fb8078</div><div id='time'> Time: 2022-06-11</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: Ops</div><div id='n_method'> N Class Name: Ops</div><div id='m_method'> M Method Name: processing_op(7)</div><div id='n_method'> N Method Name: processing_op(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 66</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    return ctx.op.binary_op(op, x, y, ret)

  def movement_op(ctx, op, inp, ret, arg=None):
    <a id="change">if DEBUG</a>: <a id="change">print(f"{op} : {inp.shape} -&gt; {ret.shape}"</a><a id="change">)</a>
    return ctx.op.movement_op(op, inp, ret, arg)

  def processing_op(ctx, op, x, y, ret, stride, groups):
    if DEBUG: print(f"{op} : {x.shape} + {y.shape} -&gt; {ret.shape}")</code></pre><h3>After Change</h3><pre><code class='java'>
    return ctx.op.binary_op(op, x, y, ret)

  def movement_op(ctx, op:MovementOps, x, ret, arg=None):
    <a id="change">log_op(</a>op, ret, <a id="change">[</a>x<a id="change"></a>]<a id="change">)</a>
    return ctx.op.movement_op(op, x, ret, arg)

  def processing_op(ctx, op:ProcessingOps, x, y, ret, stride, groups):
    log_op(op, ret, [x, y])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/1511cbf9c5b3fe9272bdca4ba94446afc2fb8078#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54098301</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 1511cbf9c5b3fe9272bdca4ba94446afc2fb8078</div><div id='time'> Time: 2022-06-11</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: Ops</div><div id='n_method'> N Class Name: Ops</div><div id='m_method'> M Method Name: movement_op(5)</div><div id='n_method'> N Method Name: movement_op(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    return ctx.op.reduce_op(op, inp, ret)

  def binary_op(ctx, op, x, y, ret):
    <a id="change">if DEBUG</a>: <a id="change">print(f"{op} : {x.shape} + {y.shape} -&gt; {ret.shape}"</a><a id="change">)</a>
    return ctx.op.binary_op(op, x, y, ret)

  def movement_op(ctx, op, inp, ret, arg=None):
    if DEBUG: print(f"{op} : {inp.shape} -&gt; {ret.shape}")</code></pre><h3>After Change</h3><pre><code class='java'>
    return ctx.op.reduce_op(op, x, ret)

  def binary_op(ctx, op:ReduceOps, x, y, ret):
    <a id="change">log_op(</a>op, ret, <a id="change">[</a>x, y<a id="change"></a>]<a id="change">)</a>
    return ctx.op.binary_op(op, x, y, ret)

  def movement_op(ctx, op:MovementOps, x, ret, arg=None):
    log_op(op, ret, [x])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/1511cbf9c5b3fe9272bdca4ba94446afc2fb8078#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54098300</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 1511cbf9c5b3fe9272bdca4ba94446afc2fb8078</div><div id='time'> Time: 2022-06-11</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: Ops</div><div id='n_method'> N Class Name: Ops</div><div id='m_method'> M Method Name: binary_op(5)</div><div id='n_method'> N Method Name: binary_op(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 21</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    return ctx.op.unary_op(op, x, ret)

  def reduce_op(ctx, op, inp, ret):
    <a id="change">if DEBUG</a>: <a id="change">print(f"{op} : {inp.shape} -&gt; {ret.shape}"</a><a id="change">)</a>
    return ctx.op.reduce_op(op, inp, ret)

  def binary_op(ctx, op, x, y, ret):
    if DEBUG: print(f"{op} : {x.shape} + {y.shape} -&gt; {ret.shape}")</code></pre><h3>After Change</h3><pre><code class='java'>
    return ctx.op.unary_op(op, x, ret)

  def reduce_op(ctx, op:BinaryOps, x, ret):
    <a id="change">log_op(</a>op, ret, <a id="change">[</a>x<a id="change"></a>]<a id="change">)</a>
    return ctx.op.reduce_op(op, x, ret)

  def binary_op(ctx, op:ReduceOps, x, y, ret):
    log_op(op, ret, [x, y])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/1511cbf9c5b3fe9272bdca4ba94446afc2fb8078#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54098303</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 1511cbf9c5b3fe9272bdca4ba94446afc2fb8078</div><div id='time'> Time: 2022-06-11</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: Ops</div><div id='n_method'> N Class Name: Ops</div><div id='m_method'> M Method Name: reduce_op(4)</div><div id='n_method'> N Method Name: reduce_op(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 17</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 54</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
DEBUG = int(os.getenv("PRINT_LLOPS", "0"))
class Ops:
  def unary_op(ctx, op, x, ret):
    <a id="change">if DEBUG</a>: <a id="change">print(f"{op} : {x.shape} -&gt; {ret.shape}"</a><a id="change">)</a>
    return ctx.op.unary_op(op, x, ret)

  def reduce_op(ctx, op, inp, ret):
    if DEBUG: print(f"{op} : {inp.shape} -&gt; {ret.shape}")</code></pre><h3>After Change</h3><pre><code class='java'>

class Ops:
  def unary_op(ctx, op:UnaryOps, x, ret):
    <a id="change">log_op(</a>op, ret, <a id="change">[</a>x<a id="change"></a>]<a id="change">)</a>
    return ctx.op.unary_op(op, x, ret)

  def reduce_op(ctx, op:BinaryOps, x, ret):
    log_op(op, ret, [x])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/1511cbf9c5b3fe9272bdca4ba94446afc2fb8078#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54098305</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 1511cbf9c5b3fe9272bdca4ba94446afc2fb8078</div><div id='time'> Time: 2022-06-11</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: Ops</div><div id='n_method'> N Class Name: Ops</div><div id='m_method'> M Method Name: unary_op(4)</div><div id='n_method'> N Method Name: unary_op(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 13</div><div id='n_start'> N Start Line: 49</div><div id='n_end'> N End Line: 50</div><BR>