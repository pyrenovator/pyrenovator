<html><h3>Pattern ID :36143
</h3><img src='102492635.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def detect_image(self, image):
        pimage = self.process_image(np.copy(image))

        start<a id="change"> = time</a><a id="change">.time()</a>
        boxes, scores, classes = self.predict(pimage, image.shape)
        <a id="change">print(</a>&quottime: {0:.6f}s&quot.format(<a id="change">time.time()</a><a id="change"> - </a>start)<a id="change">)</a>
        if boxes is not None:
            self.draw(image, boxes, scores, classes)
        return image
</code></pre><h3>After Change</h3><pre><code class='java'>
        boxes, scores, classes = self.predict(pimage, image.shape)
        if boxes is not None and draw_image:
            self.draw(image, boxes, scores, classes)
        <a id="change">return </a>image, boxes, scores, classes

    &#47&#47 处理视频
    def detect_video(self, video):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/miemie2013/keras-yolov4/commit/66c08ea10b379a6100bf4f71b836a6d7efeaaad7#diff-cb8ad445649353f1a5d092389a79523c0c9d9debc0248dc7d535a82d1e05106aL20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102492635</div><div id='project'> Project Name: miemie2013/keras-yolov4</div><div id='commit'> Commit Name: 66c08ea10b379a6100bf4f71b836a6d7efeaaad7</div><div id='time'> Time: 2020-05-21</div><div id='author'> Author: 53960695+miemie2013@users.noreply.github.com</div><div id='file'> File Name: model/decode_np.py</div><div id='m_class'> M Class Name: Decode</div><div id='n_method'> N Class Name: Decode</div><div id='m_method'> M Method Name: detect_image(3)</div><div id='n_method'> N Method Name: detect_image(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: model/decode_np.py</div><div id='n_file'> N File Name: model/decode_np.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 26</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return pot

    def pdf(self,pos):
        t0<a id="change"> = </a><a id="change">time.time()</a>
        x = self.forward(pos)**2
        <a id="change">print(</a>" __ pdf : %f " %(<a id="change">time.time()</a><a id="change">-</a>t0)<a id="change">)</a>
        return x

    def kinetic_fd(self,pos,eps=1E-6):
</code></pre><h3>After Change</h3><pre><code class='java'>
        return pot

    def pdf(self,pos):
        <a id="change">return </a>self.forward(pos)**2

    def kinetic_fd(self,pos,eps=1E-6):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/3dd6974f914a3d22ee620c2359808489d7f573a0#diff-1e56989de7742ddc00fbe92393558cb5707d0796a5766b9efe0d2c732d603de0L130' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102492634</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: 3dd6974f914a3d22ee620c2359808489d7f573a0</div><div id='time'> Time: 2019-05-13</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: pyCHAMP/wavefunction/neural_pyscf_wf_base.py</div><div id='m_class'> M Class Name: NEURAL_PYSCF_WF</div><div id='n_method'> N Class Name: NEURAL_PYSCF_WF</div><div id='m_method'> M Method Name: pdf(2)</div><div id='n_method'> N Method Name: pdf(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: pyCHAMP/wavefunction/neural_pyscf_wf_base.py</div><div id='n_file'> N File Name: pyCHAMP/wavefunction/neural_pyscf_wf_base.py</div><div id='m_start'> M Start Line: 131</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 149</div><div id='n_end'> N End Line: 149</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.calculator = fmodule.TaskCalculator(fmodule.device)

    def run(self):
        global_timestamp_start<a id="change"> = </a><a id="change">time.time()</a>
        for round in range(self.num_rounds+1):
            print("--------------Round {}--------------".format(round))

            logger.start_timer()
            &#47&#47 federated train
            selected_clients = self.iterate(round)

            &#47&#47 decay learning rate
            self.global_lr_scheduler(round)

            print("{:&lt;30s}{:.4f}".format("Time Cost:",logger.end_timer())+&quots&quot)

            &#47&#47 free the cache of gpu
            &#47&#47 torch.cuda.empty_cache()
            if logger.check_if_log(round, self.eval_interval):
                logger.log()

        global_timestamp_end = <a id="change">time.time()</a>
        print("=================End==================")
        <a id="change">print(</a>"{:&lt;30s}{:.4f}".format("Total Time Cost", global_timestamp_end-global_timestamp_start)<a id="change"> + </a>&quots&quot<a id="change">)</a>
        return

    def iterate(self, t):
        &#47&#47 sample clients</code></pre><h3>After Change</h3><pre><code class='java'>

        print("=================End==================")
        logger.time_end(&quotTotal Time Cost&quot)
        <a id="change">return</a>

    def iterate(self, t):
        &#47&#47 sample clients
        selected_clients = self.sample()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wwzzz/easyfl/commit/047dd16b83a218a9ff059e5e8e706ddf3d3ffd9c#diff-5f5b152f80519d24105a5156c0f8a01b58fecc1555b880ef3bdbe342000e778fL39' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102492639</div><div id='project'> Project Name: wwzzz/easyfl</div><div id='commit'> Commit Name: 047dd16b83a218a9ff059e5e8e706ddf3d3ffd9c</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: zzz510711928@gmail.com</div><div id='file'> File Name: algorithm/fedbase.py</div><div id='m_class'> M Class Name: BasicServer</div><div id='n_method'> N Class Name: BasicServer</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: algorithm/fedbase.py</div><div id='n_file'> N File Name: algorithm/fedbase.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 55</div><BR>