<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        r
        Parametrizes the T_B St(n,k) in terms of the lower triangle of ``x``
        
        <a id="change">if x.ndimension() != 2</a>:
            <a id="change">raise </a>ValueError("Expected a matrix. Got a {}-dimensional tensor."
                             .format(x.ndimension()))
        if self.inverted:
            x = x.t()

        if self.large:
            &#47&#47 TODO Check limit cases like n = 1, 2, 3 ; m = k/2 - 1, k/2, k/2 + 1
            &#47&#47 Compute just the projection from SO(n) / SO(k)
            n<a id="change">, m = </a>x.size()
            low = x[:, :m//2].tril(-1)
            up =  x[:, :m//2 + m%2].triu(1)
            &#47&#47 Compute the reflection of low</code></pre><h3>After Change</h3><pre><code class='java'>
    def frame(self, x, base):
        if self.inverted:
            x = x.t()
        low = x[:, <a id="change">:</a>self.n<a id="change">//2</a>].tril(-1)
        up =  x[:, :self.n//2 + self.n%2].triu(1)
        &#47&#47 Compute the reflection of low
        low = low.flip(-1).flip(-2)</code></pre>