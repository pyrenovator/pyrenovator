<html><h3>Pattern ID :22872
</h3><img src='72715124.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            summary.add_paragraph(
                "The maximum GPU memory consumption for each of the above points is"
                f" shown in the second plot.")
            memory_latency_plot<a id="change"> = </a>os.path.join(self._config.export_path,
                                               &quotplots&quot, &quotsimple&quot, report_key,
                                               &quotcpu_mem_v_latency.png&quot)
            caption_memory_latency<a id="change"> = </a>f"CPU Memory vs. Latency curves for {num_best_configs} best configurations."
            summary.add_images([throughput_latency_plot],
                               [caption_throughput_latency],
                               image_width=66)
            <a id="change">summary.add_images(</a>[memory_latency_plot], [caption_memory_latency]<a id="change">,
                               image_width=66)</a>

        summary.add_paragraph(
            "The following table summarizes each configuration at the measurement"
            " that optimizes the desired metrics under the given constraints.")</code></pre><h3>After Change</h3><pre><code class='java'>
                f" shown in the second plot.")
            summary.add_images([throughput_plot], [caption_throughput],
                               image_width=66)
            <a id="change">if </a>self._mode == &quotonline&quot:
                memory_latency_plot<a id="change"> = </a>os.path.join(self._config.export_path,
                                                   &quotplots&quot, &quotsimple&quot,
                                                   report_key,
                                                   &quotcpu_mem_v_latency.png&quot)
                caption_memory_latency<a id="change"> = </a>f"CPU Memory vs. Latency curves for {num_best_configs} best configurations."
                <a id="change">summary.add_images(</a>[memory_latency_plot],
                                   [caption_memory_latency]<a id="change">,
                                   image_width=66)</a>

        summary.add_paragraph(
            "The following table summarizes each configuration at the measurement"
            " that optimizes the desired metrics under the given constraints.")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/a751f644d323eb2a56199dbf3e12b623afd2a44a#diff-e1e671f5efb3fce4c537ae741fff3a1b5ae9cbc21ac5a6be4ed5a705742a97cbL346' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72715124</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: a751f644d323eb2a56199dbf3e12b623afd2a44a</div><div id='time'> Time: 2021-06-11</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: model_analyzer/reports/report_manager.py</div><div id='m_class'> M Class Name: ReportManager</div><div id='n_method'> N Class Name: ReportManager</div><div id='m_method'> M Method Name: _build_summary_report(4)</div><div id='n_method'> N Method Name: _build_summary_report(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/reports/report_manager.py</div><div id='n_file'> N File Name: model_analyzer/reports/report_manager.py</div><div id='m_start'> M Start Line: 346</div><div id='m_end'> M End Line: 374</div><div id='n_start'> N Start Line: 348</div><div id='n_end'> N End Line: 388</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        throughput_latency_plot = os.path.join(self._config.export_path,
                                               &quotplots&quot, report_key,
                                               &quotthroughput_v_latency.png&quot)
        caption1<a id="change"> = </a>f"Throughput vs. Latency curves for {num_best_configs} best configurations."
        memory_latency_plot<a id="change"> = </a>os.path.join(self._config.export_path, &quotplots&quot,
                                           report_key, &quotgpu_mem_v_latency.png&quot)
        caption2 = f"GPU Memory vs. Latency curves for {num_best_configs} best configurations."
        <a id="change">summary.add_images(</a>[throughput_latency_plot, memory_latency_plot],
                           [caption1, caption2]<a id="change">)</a>
        summary.add_paragraph(
            "The maximum GPU memory consumption for each of the above points is"
            f" shown in the second plot. The GPUs {gpu_names} have"
            f" a total available memory of {max_memories} respectively.")</code></pre><h3>After Change</h3><pre><code class='java'>
                                               &quotthroughput_v_latency.png&quot)
        caption_throughput_latency = f"Throughput vs. Latency curves for {num_best_configs} best configurations."

        <a id="change">if </a>not self._is_cpu_only:
            summary.add_paragraph(
                "The maximum GPU memory consumption for each of the above points is"
                f" shown in the second plot. The GPUs {gpu_names} have"
                f" a total available memory of {max_memories} respectively.")
            memory_latency_plot<a id="change"> = </a>os.path.join(self._config.export_path,
                                               &quotplots&quot, report_key,
                                               &quotgpu_mem_v_latency.png&quot)
            caption_memory_latency<a id="change"> = </a>f"GPU Memory vs. Latency curves for {num_best_configs} best configurations."
            <a id="change">summary.add_images(
                </a>[throughput_latency_plot, memory_latency_plot],
                [caption_throughput_latency, caption_memory_latency]<a id="change">)</a>
        else:
            summary.add_paragraph(
                "The maximum GPU memory consumption for each of the above points is"
                f" shown in the second plot.")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/7385d236490632878a9f2aaf8e965b7db16120d5#diff-e1e671f5efb3fce4c537ae741fff3a1b5ae9cbc21ac5a6be4ed5a705742a97cbL118' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72715127</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 7385d236490632878a9f2aaf8e965b7db16120d5</div><div id='time'> Time: 2021-04-29</div><div id='author'> Author: itabrizian@nvidia.com</div><div id='file'> File Name: model_analyzer/reports/report_manager.py</div><div id='m_class'> M Class Name: ReportManager</div><div id='n_method'> N Class Name: ReportManager</div><div id='m_method'> M Method Name: _build_summary_report(3)</div><div id='n_method'> N Method Name: _build_summary_report(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/reports/report_manager.py</div><div id='n_file'> N File Name: model_analyzer/reports/report_manager.py</div><div id='m_start'> M Start Line: 130</div><div id='m_end'> M End Line: 177</div><div id='n_start'> N Start Line: 125</div><div id='n_end'> N End Line: 206</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            subheading=f"Model Config: {report_key}")

        &#47&#47 Add main latency breakdown image
        detailed_plot<a id="change"> = </a>os.path.join(self._config.export_path, &quotplots&quot,
                                     &quotdetailed&quot, report_key,
                                     &quotlatency_breakdown.png&quot)
        detailed_caption<a id="change"> = </a>f"Latency Breakdown for Online Performance of {report_key}"

        &#47&#47 First add row of detailed
        <a id="change">detailed_report.add_images(</a>[detailed_plot], [detailed_caption]<a id="change">)</a>

        &#47&#47 Next add the SimplePlots created for this detailed report
        plot_stack = []
        caption_stack = []</code></pre><h3>After Change</h3><pre><code class='java'>
        detailed_report.add_subheading(
            subheading=f"Model Config: {report_key}")

        <a id="change">if </a>self._mode == &quotonline&quot:
            &#47&#47 Add main latency breakdown image
            detailed_plot<a id="change"> = </a>os.path.join(self._config.export_path, &quotplots&quot,
                                         &quotdetailed&quot, report_key,
                                         &quotlatency_breakdown.png&quot)
            detailed_caption<a id="change"> = </a>f"Latency Breakdown for Online Performance of {report_key}"

            &#47&#47 First add row of detailed
            <a id="change">detailed_report.add_images(</a>[detailed_plot], [detailed_caption]<a id="change">)</a>

        &#47&#47 Next add the SimplePlots created for this detailed report
        plot_stack = []
        caption_stack = []</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/a751f644d323eb2a56199dbf3e12b623afd2a44a#diff-e1e671f5efb3fce4c537ae741fff3a1b5ae9cbc21ac5a6be4ed5a705742a97cbL213' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72715119</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: a751f644d323eb2a56199dbf3e12b623afd2a44a</div><div id='time'> Time: 2021-06-11</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: model_analyzer/reports/report_manager.py</div><div id='m_class'> M Class Name: ReportManager</div><div id='n_method'> N Class Name: ReportManager</div><div id='m_method'> M Method Name: _build_detailed_report(2)</div><div id='n_method'> N Method Name: _build_detailed_report(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/reports/report_manager.py</div><div id='n_file'> N File Name: model_analyzer/reports/report_manager.py</div><div id='m_start'> M Start Line: 228</div><div id='m_end'> M End Line: 234</div><div id='n_start'> N Start Line: 230</div><div id='n_end'> N End Line: 241</div><BR>