<html><h3>Pattern ID :24941
</h3><img src='76747187.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        raise Exception("Not implemented.")

    def initCheckpoint(self):
        <a id="change">raise </a><a id="change">Exception("Not implemented."</a><a id="change">)</a>

    def initScheduler(self):
        self.scheduler = torch.optim.lr_scheduler.StepLR(self.optimizer, self.conf.lr_step,self.conf.lr_factor)
</code></pre><h3>After Change</h3><pre><code class='java'>
        raise Exception("Not implemented.")

    def initCheckpoint(self, map_location=None):
        <a id="change">if </a>not self.conf.checkpoint_suffix or <a id="change">self.conf.checkpoint_suffix == ""</a>:
            LOG.logI(&quotOmit the checkpoint file since not specified...&quot)
            return
        LOG.logI(&quotLoad checkpoint from {} folder&quot.format(self.output_dir))
        self.net.load_state_dict(torch.load(self.output_dir+<a id="change">&quot/model:{}&quot.format(</a>conf.checkpoint_suffix<a id="change">)</a>, map_location=map_location))
        self.optimizer.load_state_dict(torch.load(self.output_dir+&quot/optimizer:{}&quot.format(conf.checkpoint_suffix), map_location=map_location))

    def initScheduler(self):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepvac/deepvac/commit/9304f1ffdc78155cd509dcd3c94ebcbe4df4db7e#diff-11bb5c4c3a591161a919c23224a176d9b4ce4fc8982d195677f0aa5726544e24L227' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76747187</div><div id='project'> Project Name: deepvac/deepvac</div><div id='commit'> Commit Name: 9304f1ffdc78155cd509dcd3c94ebcbe4df4db7e</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: gemfield@civilnet.cn</div><div id='file'> File Name: lib/syszux_deepvac.py</div><div id='m_class'> M Class Name: DeepvacTrain</div><div id='n_method'> N Class Name: DeepvacTrain</div><div id='m_method'> M Method Name: initCheckpoint(2)</div><div id='n_method'> N Method Name: initCheckpoint(1)</div><div id='m_parent_class'> M Parent Class: Deepvac</div><div id='n_parent_class'> N Parent Class: Deepvac</div><div id='m_file'> M File Name: lib/syszux_deepvac.py</div><div id='n_file'> N File Name: lib/syszux_deepvac.py</div><div id='m_start'> M Start Line: 227</div><div id='m_end'> M End Line: 228</div><div id='n_start'> N Start Line: 227</div><div id='n_end'> N End Line: 233</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            except Exception as e:
                cnt += 1
                if cnt &gt;= 5:
                    <a id="change">raise </a><a id="change">Exception(f"Cannot Connect To NTP Server: {ntp_server_url}"</a><a id="change">)</a>

    @staticmethod
    def get_instance(args):
        if MLOpsRuntimeLog._log_sdk_instance is None:</code></pre><h3>After Change</h3><pre><code class='java'>
            except Exception as e:
                cnt += 1
                time.sleep(1)
                <a id="change">if cnt &gt;= 3</a>:
                    logging.info(<a id="change">"Cannot Connect To NTP Server: {}, details: {}".format(</a>ntp_server_url,
                                                                                        traceback.format_exc()<a id="change">)</a>)
                    break
        return 0
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/223a1f9874c1eb0af7bc4ec925cbaaa3199902bc#diff-67673acceb50b47e3e326c359c0361e0bfac84f73c8cda6a1fd45c61c23f2e56L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76747191</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 223a1f9874c1eb0af7bc4ec925cbaaa3199902bc</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: alexliang.kh@gmail.com</div><div id='file'> File Name: python/fedml/core/mlops/mlops_runtime_log.py</div><div id='m_class'> M Class Name: MLOpsRuntimeLog</div><div id='n_method'> N Class Name: MLOpsRuntimeLog</div><div id='m_method'> M Method Name: get_ntp_offset(1)</div><div id='n_method'> N Method Name: get_ntp_offset(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/core/mlops/mlops_runtime_log.py</div><div id='n_file'> N File Name: python/fedml/core/mlops/mlops_runtime_log.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 114</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            except Exception as e:
                cnt += 1
                if cnt &gt;= 5:
                    <a id="change">raise </a><a id="change">Exception(f"Cannot Connect To NTP Server: {ntp_server_url}"</a><a id="change">)</a>

    @staticmethod
    def get_instance(args):
        if MLOpsRuntimeLog._log_sdk_instance is None:</code></pre><h3>After Change</h3><pre><code class='java'>
            except Exception as e:
                cnt += 1
                time.sleep(1)
                <a id="change">if cnt &gt;= 3</a>:
                    logging.info(<a id="change">"Cannot Connect To NTP Server: {}, details: {}".format(</a>ntp_server_url,
                                                                                        traceback.format_exc()<a id="change">)</a>)
                    break
        return 0
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/e04ac2384189c3ffb8ea27b34e86c16cf605728c#diff-67673acceb50b47e3e326c359c0361e0bfac84f73c8cda6a1fd45c61c23f2e56L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76747188</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: e04ac2384189c3ffb8ea27b34e86c16cf605728c</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: alex.gpt.llm@gmail.com</div><div id='file'> File Name: python/fedml/core/mlops/mlops_runtime_log.py</div><div id='m_class'> M Class Name: MLOpsRuntimeLog</div><div id='n_method'> N Class Name: MLOpsRuntimeLog</div><div id='m_method'> M Method Name: get_ntp_offset(1)</div><div id='n_method'> N Method Name: get_ntp_offset(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/core/mlops/mlops_runtime_log.py</div><div id='n_file'> N File Name: python/fedml/core/mlops/mlops_runtime_log.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 114</div><BR>