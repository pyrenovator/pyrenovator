<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        from time import time

        if not jacobian:
            <a id="change">assert</a>(derivative == 1)

        size = pos.shape
        assert size[1] == self.nelec * self.ndim</code></pre><h3>After Change</h3><pre><code class='java'>

            return self._jastrow_second_derivative(r, dr, d2r, jast)

        elif <a id="change">derivative == [0, 1, 2]</a>:

            dr<a id="change"> = </a><a id="change">self.extract_tri_up(self.edist(
                pos, derivative=1)).view(</a>nbatch, <a id="change">3</a>, -1<a id="change">)</a>
            d2r<a id="change"> = </a>self.extract_tri_up(self.edist(
                pos, derivative=2)).view(nbatch, 3, -1)

            return(jast.prod(1).view(nbatch, 1),</code></pre>