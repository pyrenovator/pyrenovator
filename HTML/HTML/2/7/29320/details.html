<html><h3>Pattern ID :29320
</h3><img src='86043472.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        violating_objects = self.extract_violating_objects(distances)
        &#47&#47 Get timeline which is used for as Timestamp
        now<a id="change"> = </a><a id="change">datetime.now()</a>
        current_time = now.strftime("%Y-%m-%d %H:%M:%S")
        file_exists = os.path.isfile(file_path)
        with open(file_path, "a") as csvfile:
            headers = ["Timestamp", "DetectedObjects", "ViolatingObjects"]</code></pre><h3>After Change</h3><pre><code class='java'>

            if not os.path.exists(file_path):
                with open(file_path, "w", newline="") as csvfile:
                    field_names = list(<a id="change">object_dict[0]</a>.keys())
                    writer = csv.DictWriter(csvfile, fieldnames=field_names)
                    writer.writeheader()

            with open(file_path, "a", newline="") as csvfile:
                field_names = list(<a id="change">object_dict[0]</a>.keys())
                writer = csv.DictWriter(csvfile, fieldnames=field_names)
                writer.writerows(object_dict)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/neuralet/smart-social-distancing/commit/52454b4c0ed088953158d43905a2d2fcffb425da#diff-86bafb917077c7ee560882a998e3606b0e91a0f2546355536a11366e2f3e6187L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86043472</div><div id='project'> Project Name: neuralet/smart-social-distancing</div><div id='commit'> Commit Name: 52454b4c0ed088953158d43905a2d2fcffb425da</div><div id='time'> Time: 2020-04-20</div><div id='author'> Author: mehraliangit@gmail.com</div><div id='file'> File Name: libs/loggers/csv_logger.py</div><div id='m_class'> M Class Name: Logger</div><div id='n_method'> N Class Name: Logger</div><div id='m_method'> M Method Name: log_objects(3)</div><div id='n_method'> N Method Name: log_objects(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: libs/loggers/csv_logger.py</div><div id='n_file'> N File Name: libs/loggers/csv_logger.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 82</div><div id='n_end'> N End Line: 104</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class LossHistory():
    def __init__(self, log_dir, model, input_shape):
        time_str<a id="change">        = </a>datetime.datetime.strftime(<a id="change">datetime.datetime.now()</a>,&quot%Y_%m_%d_%H_%M_%S&quot)
        self.log_dir    = os.path.join(log_dir, "loss_" + str(time_str))
        self.losses     = []
        self.val_loss   = []</code></pre><h3>After Change</h3><pre><code class='java'>
        os.makedirs(self.log_dir)
        self.writer     = SummaryWriter(self.log_dir)
        try:
            dummy_input     = torch.randn(2, 3, <a id="change">input_shape[0]</a>, <a id="change">input_shape[1]</a>)
            self.writer.add_graph(model, dummy_input)
        except:
            pass</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bubbliiiing/efficientdet-pytorch/commit/1fd4f8e549b84e99d93fa05c76adc955fa6223f5#diff-6134b200e64cdd4c413f02b3f33e524838f6c42091c42b745f10218ad340ee32L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86043473</div><div id='project'> Project Name: bubbliiiing/efficientdet-pytorch</div><div id='commit'> Commit Name: 1fd4f8e549b84e99d93fa05c76adc955fa6223f5</div><div id='time'> Time: 2022-05-19</div><div id='author'> Author: 3323290568@qq.com</div><div id='file'> File Name: utils/callbacks.py</div><div id='m_class'> M Class Name: LossHistory</div><div id='n_method'> N Class Name: LossHistory</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/callbacks.py</div><div id='n_file'> N File Name: utils/callbacks.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 36</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        violating_objects = self.extract_violating_objects(distances)
        &#47&#47 Get timeline which is used for as Timestamp
        now = <a id="change">datetime.now()</a>
        current_time<a id="change"> = </a>now.strftime("%Y-%m-%d %H:%M:%S")
        file_exists = os.path.isfile(file_path)
        with open(file_path, "a") as csvfile:
            headers = ["Timestamp", "DetectedObjects", "ViolatingObjects"]</code></pre><h3>After Change</h3><pre><code class='java'>
        frame. frame_number: current frame number file_path: log file path
        
        if len(objects_list) != 0:
            <a id="change">object_dict</a> = list(map(lambda x: prepare_object(x, frame_number), objects_list))

            if not os.path.exists(file_path):
                with open(file_path, "w", newline="") as csvfile:
                    field_names = list(<a id="change">object_dict[0]</a>.keys())
                    writer = csv.DictWriter(csvfile, fieldnames=field_names)
                    writer.writeheader()

            with open(file_path, "a", newline="") as csvfile:
                field_names = list(<a id="change">object_dict[0]</a>.keys())
                writer = csv.DictWriter(csvfile, fieldnames=field_names)
                writer.writerows(object_dict)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neuralet/smart-social-distancing/commit/52454b4c0ed088953158d43905a2d2fcffb425da#diff-86bafb917077c7ee560882a998e3606b0e91a0f2546355536a11366e2f3e6187L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86043474</div><div id='project'> Project Name: neuralet/smart-social-distancing</div><div id='commit'> Commit Name: 52454b4c0ed088953158d43905a2d2fcffb425da</div><div id='time'> Time: 2020-04-20</div><div id='author'> Author: mehraliangit@gmail.com</div><div id='file'> File Name: libs/loggers/csv_logger.py</div><div id='m_class'> M Class Name: Logger</div><div id='n_method'> N Class Name: Logger</div><div id='m_method'> M Method Name: log_objects(3)</div><div id='n_method'> N Method Name: log_objects(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: libs/loggers/csv_logger.py</div><div id='n_file'> N File Name: libs/loggers/csv_logger.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 82</div><div id='n_end'> N End Line: 104</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class LossHistory():
    def __init__(self, log_dir, model, input_shape):
        time_str<a id="change">        = </a>datetime.datetime.strftime(<a id="change">datetime.datetime.now()</a>,&quot%Y_%m_%d_%H_%M_%S&quot)
        self.log_dir    = os.path.join(log_dir, "loss_" + str(time_str))
        self.losses     = []
        self.val_loss   = []</code></pre><h3>After Change</h3><pre><code class='java'>
        os.makedirs(self.log_dir)
        self.writer     = SummaryWriter(self.log_dir)
        try:
            dummy_input     = torch.randn(2, 3, <a id="change">input_shape[0]</a>, <a id="change">input_shape[1]</a>)
            self.writer.add_graph(model, dummy_input)
        except:
            pass</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bubbliiiing/retinanet-pytorch/commit/b94f6cb7ab028c9454e82d1b82b8dd44d27256bc#diff-6134b200e64cdd4c413f02b3f33e524838f6c42091c42b745f10218ad340ee32L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86043475</div><div id='project'> Project Name: bubbliiiing/retinanet-pytorch</div><div id='commit'> Commit Name: b94f6cb7ab028c9454e82d1b82b8dd44d27256bc</div><div id='time'> Time: 2022-05-14</div><div id='author'> Author: 3323290568@qq.com</div><div id='file'> File Name: utils/callbacks.py</div><div id='m_class'> M Class Name: LossHistory</div><div id='n_method'> N Class Name: LossHistory</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/callbacks.py</div><div id='n_file'> N File Name: utils/callbacks.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 36</div><BR>