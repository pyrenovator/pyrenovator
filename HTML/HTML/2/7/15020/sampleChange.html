<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 create a flat tensor aligned at the alignment boundary
    def flatten_dense_tensors_aligned(self, tensor_list, alignment):
        num_elements = 0
        <a id="change">for </a>tensor in tensor_list<a id="change">:
            </a>num_elements<a id="change"> = </a>num_elements + tensor.numel()

        remaining = num_elements % alignment
</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 create a flat tensor aligned at the alignment boundary
    def flatten_dense_tensors_aligned(self, tensor_list, alignment):
        num_elements = <a id="change">sum(t</a><a id="change">.numel() for t in tensor_list)</a>
        remaining = num_elements % alignment

        if remaining:
            elements_to_add = alignment - remaining</code></pre>