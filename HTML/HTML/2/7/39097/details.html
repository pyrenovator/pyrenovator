<html><h3>Pattern ID :39097
</h3><img src='111291123.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if parse(torchvision.__version__) &gt;= parse("0.13"):
            if pretrained:
                kwargs<a id="change"> = </a><a id="change">{
                    </a>"weights": getattr(
                        torchvision.models, f"ResNet{model[6:]}_Weights"
                    ).DEFAULT<a id="change">
                }</a>
            else:
                kwargs = {"weights": None}
        else:
            kwargs = {"pretrained": pretrained}</code></pre><h3>After Change</h3><pre><code class='java'>

        imagenet_pretrained = False
        custom_pretrained = False
        <a id="change">if </a>self.hyperparams["weights"] and <a id="change">not</a> <a id="change">os.path.exists(
            </a>self.hyperparams["weights"]<a id="change">
        )</a>:
            <a id="change">if self.hyperparams["weights"] not in ["imagenet", "random"]</a>:
                raise ValueError(
                    f"Weight type &quot{self.hyperparams[&quotweights&quot]}&quot is not valid."
                )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/torchgeo/commit/d6d568a5e947ccdb04fcdc0dc2baa438618fc65d#diff-bf320291e13163fd2af2759afbf37b42d638ca6f1b75f2915a9ece7e93cc260aL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111291123</div><div id='project'> Project Name: microsoft/torchgeo</div><div id='commit'> Commit Name: d6d568a5e947ccdb04fcdc0dc2baa438618fc65d</div><div id='time'> Time: 2022-12-07</div><div id='author'> Author: 35272119+nilsleh@users.noreply.github.com</div><div id='file'> File Name: torchgeo/trainers/regression.py</div><div id='m_class'> M Class Name: RegressionTask</div><div id='n_method'> N Class Name: RegressionTask</div><div id='m_method'> M Method Name: config_task(1)</div><div id='n_method'> N Method Name: config_task(1)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: torchgeo/trainers/regression.py</div><div id='n_file'> N File Name: torchgeo/trainers/regression.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 84</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                            os.kill(process.pid, signal.SIGKILL)
                except Exception as e:
                    pass
            yaml_object<a id="change"> = </a><a id="change">{}</a>
            yaml_object[&quotprocess_id&quot] = -1
            ClientConstants.generate_yaml_doc(yaml_object, process_id_file)
        except Exception as e:
            pass</code></pre><h3>After Change</h3><pre><code class='java'>
            local_pkg_data_dir = ClientConstants.get_data_dir()
            process_id_file = os.path.join(local_pkg_data_dir, ClientConstants.LOCAL_RUNNER_INFO_DIR_NAME,
                                           "runner-learning-process-v2.id")
            <a id="change">if not os.path.exists(process_id_file)</a>:
                return
            process_info = load_yaml_config(process_id_file)
            <a id="change">if run_id is None</a>:
                for run_id_key, process_id_value in process_info.items():
                    ClientConstants.cleanup_learning_process(run_id_key)
                return</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/625e10398638bc57290ea50ce680f7159c168a87#diff-85801f9f25f295f7498f1a412e8b203176341820c6ec0bce782ffed12fb5d75bL154' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111291114</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 625e10398638bc57290ea50ce680f7159c168a87</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: alex.gpt.llm@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_constants.py</div><div id='m_class'> M Class Name: ClientConstants</div><div id='n_method'> N Class Name: ClientConstants</div><div id='m_method'> M Method Name: cleanup_learning_process(1)</div><div id='n_method'> N Method Name: cleanup_learning_process(0)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_constants.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_constants.py</div><div id='m_start'> M Start Line: 160</div><div id='m_end'> M End Line: 179</div><div id='n_start'> N Start Line: 164</div><div id='n_end'> N End Line: 195</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                            os.kill(process.pid, signal.SIGKILL)
                except Exception as e:
                    pass
            yaml_object<a id="change"> = </a><a id="change">{}</a>
            yaml_object[&quotprocess_id&quot] = -1
            ClientConstants.generate_yaml_doc(yaml_object, process_id_file)
        except Exception as e:
            pass</code></pre><h3>After Change</h3><pre><code class='java'>
            local_pkg_data_dir = ClientConstants.get_data_dir()
            process_id_file = os.path.join(local_pkg_data_dir, ClientConstants.LOCAL_RUNNER_INFO_DIR_NAME,
                                           "runner-sub-process-v2.id")
            <a id="change">if not os.path.exists(process_id_file)</a>:
                return
            process_info = load_yaml_config(process_id_file)
            <a id="change">if run_id is None</a>:
                for run_id_key, process_id_value in process_info.items():
                    ClientConstants.cleanup_run_process(run_id_key)
                return</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/625e10398638bc57290ea50ce680f7159c168a87#diff-85801f9f25f295f7498f1a412e8b203176341820c6ec0bce782ffed12fb5d75bL112' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111291113</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 625e10398638bc57290ea50ce680f7159c168a87</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: alex.gpt.llm@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_constants.py</div><div id='m_class'> M Class Name: ClientConstants</div><div id='n_method'> N Class Name: ClientConstants</div><div id='m_method'> M Method Name: cleanup_run_process(1)</div><div id='n_method'> N Method Name: cleanup_run_process(0)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_constants.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_constants.py</div><div id='m_start'> M Start Line: 118</div><div id='m_end'> M End Line: 137</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 144</div><BR>