<html><h3>Pattern ID :25892
</h3><img src='78264506.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    export_path_list = []

    cs<a id="change"> = </a>np.vstack(
        [
            np.ones((2, 3)),
            np.array([0.31, 0.51, 0.74]),
            np.array([0.75, 0.31, 0.30]),
            np.array([0.36, 0.90, 0.38]),
            np.array([0.50, 0.39, 0.64]),
            <a id="change">np.array(</a>[1, 0.6, 0]<a id="change">)</a>,
        ]
    )
    areaNames = ["allarea", "small", "medium", "large"]</code></pre><h3>After Change</h3><pre><code class='java'>
        figure_title = iou_type + "-" + class_name + "-" + areaNames[i]
        aps = [ps_[ps_ &gt; -1].mean() for ps_ in area_ps]
        ps_curve = []
        <a id="change">for </a>ps_ in area_ps<a id="change">:
            if </a>ps_.ndim &gt; 1:
                ps_mean = np.zeros((ps_.shape[0],))
                for ind, ps_threshold in enumerate(ps_):
                    <a id="change">ps_mean[ind]</a><a id="change"> = </a>ps_threshold[ps_threshold &gt; -1].mean()
                ps_curve.append(ps_mean)
            else:
                ps_curve.append(ps_)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/obss/sahi/commit/c358cc200a67ed985790bc19deccec5fe1c4e75d#diff-d11dc70f88d3abdb3482cd1519b9fd9561abb05aefa1dfe38df27b06c3136786L16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78264506</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: c358cc200a67ed985790bc19deccec5fe1c4e75d</div><div id='time'> Time: 2022-01-08</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/scripts/coco_error_analysis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _makeplot(5)</div><div id='n_method'> N Method Name: _makeplot(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sahi/scripts/coco_error_analysis.py</div><div id='n_file'> N File Name: sahi/scripts/coco_error_analysis.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 32</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 43</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    if n_lags &gt; 0:
        series = df.loc[:, &quoty_scaled&quot].values
        lags<a id="change"> = </a><a id="change">np.array(</a>[series[i: i + n_lags] for i in range(n_samples)]<a id="change">)</a>
        inputs["lags"] = lags
        if np.isnan(lags).any():
            raise ValueError(&quotInput lags contain NaN values in y.&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>

    if covar_config is not None and n_lags &gt; 0:
        covariates = OrderedDict({})
        <a id="change">for covar</a> in covar_config<a id="change">:
            if </a>covar in df.columns:
                covariates[covar]<a id="change"> = </a>_stride_lagged_features(df_col_name=covar)
                if np.isnan(covariates[covar]).any(): raise ValueError(&quotInput lags contain NaN values in &quot, covar)
        <a id="change">inputs[&quotcovariates&quot]</a> = covariates

    if predict_mode:
        targets = np.empty_like(time)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/ae0ba720f438f8a50ffd5e397e3cde56a91a157b#diff-19e8b8bb76c45be0b19f9651c6c08d9e4641f5f993cdbaa581338cc45aff7516L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78264507</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: ae0ba720f438f8a50ffd5e397e3cde56a91a157b</div><div id='time'> Time: 2020-06-22</div><div id='author'> Author: oskar.triebe@merantix.com</div><div id='file'> File Name: neuralprophet/time_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: tabularize_univariate_datetime(7)</div><div id='n_method'> N Method Name: tabularize_univariate_datetime(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: neuralprophet/time_dataset.py</div><div id='n_file'> N File Name: neuralprophet/time_dataset.py</div><div id='m_start'> M Start Line: 116</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 93</div><div id='n_end'> N End Line: 177</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    export_path_list = []

    cs<a id="change"> = </a>np.vstack(
        [
            np.ones((2, 3)),
            <a id="change">np.array(</a>[0.31, 0.51, 0.74]<a id="change">)</a>,
            np.array([0.75, 0.31, 0.30]),
            np.array([0.36, 0.90, 0.38]),
            np.array([0.50, 0.39, 0.64]),</code></pre><h3>After Change</h3><pre><code class='java'>
        figure_title = iou_type + "-" + class_name + "-" + areaNames[i]
        aps = [ps_[ps_ &gt; -1].mean() for ps_ in area_ps]
        ps_curve = []
        <a id="change">for ps_</a> in area_ps<a id="change">:
            if </a>ps_.ndim &gt; 1:
                ps_mean = np.zeros((ps_.shape[0],))
                for ind, ps_threshold in enumerate(ps_):
                    <a id="change">ps_mean[ind]</a><a id="change"> = </a>ps_threshold[ps_threshold &gt; -1].mean()
                ps_curve.append(ps_mean)
            else:
                ps_curve.append(ps_)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/c358cc200a67ed985790bc19deccec5fe1c4e75d#diff-d11dc70f88d3abdb3482cd1519b9fd9561abb05aefa1dfe38df27b06c3136786L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78264510</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: c358cc200a67ed985790bc19deccec5fe1c4e75d</div><div id='time'> Time: 2022-01-08</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/scripts/coco_error_analysis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _makeplot(5)</div><div id='n_method'> N Method Name: _makeplot(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sahi/scripts/coco_error_analysis.py</div><div id='n_file'> N File Name: sahi/scripts/coco_error_analysis.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 32</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 43</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                             mark=self.mark, dataset=self.dataset)

    def synthesize_training_sample(self):
        combination_list = <a id="change">np.array(</a>list(combinations(list(range(self.all_point)), self.select_point))<a id="change">)</a>
        np.random.seed(env[&quotseed&quot])
        np.random.shuffle(combination_list)
        combination_list = torch.tensor(combination_list)

        x = torch.ones(len(combination_list), self.all_point, dtype=torch.float)
        x<a id="change"> = </a>x.scatter(dim=1, index=combination_list, src=torch.zeros_like(x))
        y = list(range(len(combination_list)))
        return x, y
</code></pre><h3>After Change</h3><pre><code class='java'>
        if 2**all_point &lt; self.model.num_classes:
            raise ValueError(f&quotCombination of triggers 2^{all_point} &lt; number of classes {self.model.num_classes} !&quot)
        combination_list = list(combinations(list(range(all_point)), select_point))
        <a id="change">for i</a> in range(all_point)<a id="change">:
            </a>new_combination_list = list(combinations(list(range(all_point)), (select_point + i) % all_point))
            combination_list.extend(new_combination_list)
            <a id="change">if </a>len(combination_list) &gt;= self.model.num_classes:
                break
        np.random.seed(env[&quotseed&quot])
        np.random.shuffle(combination_list)

        x = torch.ones(len(combination_list), all_point, dtype=torch.float)
        for i, idx in enumerate(combination_list):
            <a id="change">x[i][list(idx)]</a><a id="change"> = </a>0.0
        y = list(range(len(combination_list)))
        return x, y
        &#47&#47 combination_list = np.array(list(combinations(list(range(all_point)), select_point)))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/e72a40fb9df4aeb698c82d113467cc5dc11d3b24#diff-333c074237cc8a91c1430feec1d81f8257bfd1c4b7f2185e9a5046dcbba55c25L31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78264511</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: e72a40fb9df4aeb698c82d113467cc5dc11d3b24</div><div id='time'> Time: 2020-09-05</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/attack/backdoor/trojannet.py</div><div id='m_class'> M Class Name: TrojanNet</div><div id='n_method'> N Class Name: TrojanNet</div><div id='m_method'> M Method Name: synthesize_training_sample(3)</div><div id='n_method'> N Method Name: synthesize_training_sample(1)</div><div id='m_parent_class'> M Parent Class: BadNet</div><div id='n_parent_class'> N Parent Class: BadNet</div><div id='m_file'> M File Name: trojanzoo/attack/backdoor/trojannet.py</div><div id='n_file'> N File Name: trojanzoo/attack/backdoor/trojannet.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 52</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                relational_interval.append(interval)

            feed_dict[&quotuser_id&quot] = user_id
            feed_dict[&quotcategory_id&quot]<a id="change"> = </a><a id="change">np.array(</a>category_id<a id="change">)</a>
            feed_dict[&quotrelational_interval&quot] = np.array(relational_interval, dtype=np.float32)
            return feed_dict
</code></pre><h3>After Change</h3><pre><code class='java'>
            for i, target_item in enumerate(feed_dict[&quotitem_id&quot]):
                interval = np.ones(self.model.relation_num, dtype=float) * -1  &#47&#47 -1 if not existing
                &#47&#47 the first dimension for re-consuming time gaps
                <a id="change">for j</a> in range(len(history_item))[::-1]<a id="change">:
                    if </a>history_item[j] == target_item:
                        <a id="change">interval[0]</a><a id="change"> = </a>(time - history_time[j]) / self.model.time_scalar
                        break
                &#47&#47 the rest for relational time intervals
                for r_idx in range(1, self.model.relation_num):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/921472ff6f3ec55f2df913475748fa3da1ea73b7#diff-e52f3ded4d3681645d921d8851a29c0fffd108d3cf602d41ef292c7e25a37c39L89' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78264516</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: 921472ff6f3ec55f2df913475748fa3da1ea73b7</div><div id='time'> Time: 2021-02-25</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/sequential/SLRCPlus.py</div><div id='m_class'> M Class Name: Dataset</div><div id='n_method'> N Class Name: Dataset</div><div id='m_method'> M Method Name: _get_feed_dict(2)</div><div id='n_method'> N Method Name: _get_feed_dict(2)</div><div id='m_parent_class'> M Parent Class: SequentialModel.Dataset</div><div id='n_parent_class'> N Parent Class: SequentialModel.Dataset</div><div id='m_file'> M File Name: src/models/sequential/SLRCPlus.py</div><div id='n_file'> N File Name: src/models/sequential/SLRCPlus.py</div><div id='m_start'> M Start Line: 90</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 98</div><div id='n_end'> N End Line: 107</div><BR>