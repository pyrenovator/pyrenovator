<html><h3>Pattern ID :21236
</h3><img src='67925228.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if any(x in device.lower() for x in ["cuda", "gpu"]):
            device_info = device.split(":")
            if len(device_info) == 2 and device_info[1].isdigit():
                idx = int(<a id="change">device_info[1]</a>)
            else:
                idx = 0
            if not gpu_is_available():</code></pre><h3>After Change</h3><pre><code class='java'>
                device_type=DeviceType.GPU,
                idx=_get_idx(device),
            )
        elif <a id="change">"neuron" in device.lower()</a>:
            device<a id="change"> = </a>_set_device(
                accelerator_is_available=neuron_is_available(),
                device_type=DeviceType.NEURON,
                idx=_get_idx(device),</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nebuly-ai/nebullvm/commit/b699e8a83cc84b7822d58b18e69c1d1b92503d96#diff-3cf673452cdb3da1fdfe7505524400a93d90801015b8f8a3d61d70cb73916aa6L225' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67925228</div><div id='project'> Project Name: nebuly-ai/nebullvm</div><div id='commit'> Commit Name: b699e8a83cc84b7822d58b18e69c1d1b92503d96</div><div id='time'> Time: 2023-03-28</div><div id='author'> Author: v.sofi@nebuly.ai</div><div id='file'> File Name: nebullvm/tools/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_device(1)</div><div id='n_method'> N Method Name: check_device(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nebullvm/tools/utils.py</div><div id='n_file'> N File Name: nebullvm/tools/utils.py</div><div id='m_start'> M Start Line: 225</div><div id='m_end'> M End Line: 246</div><div id='n_start'> N Start Line: 265</div><div id='n_end'> N End Line: 293</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    T_in, T_pred = video_in_length, T-video_in_length
    for key, traj in trajs.items():
        if "true_" in key or "gt_" in key:
            trajs[key] = add_border_around_vid(traj, [("green", <a id="change">traj.shape[0]</a>)], b_width=16)
        else:
            trajs[key] = add_border_around_vid(traj, [("green", T_in), ("red", T_pred)], b_width=16)
</code></pre><h3>After Change</h3><pre><code class='java'>
    T, _, h, w = list(trajs.values())[0].shape
    T_in, T_pred = video_in_length, T-video_in_length
    for key, traj in trajs.items():
        <a id="change">if "true_" in key.lower()</a> or "gt_" in key.lower():
            trajs[key] = add_border_around_vid(traj, [("green", T)], b_width=16)
        elif "seg" in key.lower():
            trajs[key]<a id="change"> = </a>add_border_around_vid(traj, [("yellow", T)], b_width=16)
        else:
            trajs[key] = add_border_around_vid(traj, [("green", T_in), ("red", T_pred)], b_width=16)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ais-bonn/vp-suite/commit/12f06dedbeb7683194c69214a6c984951ddd53a5#diff-09d0cbaf891d623ac245ccf84485a687b554217349ca55557c60b33234b969aeL120' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67925227</div><div id='project'> Project Name: ais-bonn/vp-suite</div><div id='commit'> Commit Name: 12f06dedbeb7683194c69214a6c984951ddd53a5</div><div id='time'> Time: 2021-08-02</div><div id='author'> Author: boltres@ais.uni-bonn.de</div><div id='file'> File Name: utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: save_vid_vis(2)</div><div id='n_method'> N Method Name: save_vid_vis(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils.py</div><div id='n_file'> N File Name: utils.py</div><div id='m_start'> M Start Line: 124</div><div id='m_end'> M End Line: 130</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 132</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    continue

            elif reencode:
                outpath = <a id="change">os.path.splitext(inpath)[0]</a> + ".mp4"
            else:
                outpath = inpath
</code></pre><h3>After Change</h3><pre><code class='java'>
                    continue
            elif reencode:
                root, ext = os.path.splitext(inpath)
                <a id="change">if ext.lower() != ".mp4"</a>:
                    outpath<a id="change"> = </a>root + ".mp4"
                else:
                    outpath = inpath
            else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/7fed1cdd53cdd0fe78d96b28447d84503d89397e#diff-e883b31a2708ba69d7c38f9759c1c58d3d9acea099f28cf14803e4d0c97a9c77L522' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67925236</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 7fed1cdd53cdd0fe78d96b28447d84503d89397e</div><div id='time'> Time: 2021-10-20</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/utils/video.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _transform_videos(15)</div><div id='n_method'> N Method Name: _transform_videos(15)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/utils/video.py</div><div id='n_file'> N File Name: fiftyone/utils/video.py</div><div id='m_start'> M Start Line: 554</div><div id='m_end'> M End Line: 566</div><div id='n_start'> N Start Line: 554</div><div id='n_end'> N End Line: 570</div><BR>