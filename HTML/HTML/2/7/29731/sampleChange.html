<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    pipeline = _build_pipeline(path, is_list_field=is_list_field)
    result = coll.aggregate(pipeline, allowDiskUse=True)
    schema = _parse_result(result)
    <a id="change">return </a><a id="change">[_make_field_doc(n, t) for n, t in schema.items()]</a>


def _build_pipeline(path, is_list_field=False):
    pipeline = [{"$project": {path: True}}]</code></pre><h3>After Change</h3><pre><code class='java'>
    if default_fields is not None:
        fields = _merge_fields(fields, default_fields)

    <a id="change">return </a>[_make_field_doc(*f) for f in fields]


def _merge_fields(fields, default_fields):</code></pre>