<html><h3>Pattern ID :39878
</h3><img src='113395314.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        test_loader = torch.utils.data.DataLoader(
                my_dataloader(input_data[0],
                        transforms.Compose([
                                    TestDataAug(<a id="change">cfg[&quotimg_size&quot]</a>),
                                    transforms.ToTensor(),
                                    my_normalize
                                ])</code></pre><h3>After Change</h3><pre><code class='java'>
        if cfg[&quotlabel_type&quot] == &quotDIR&quot:
            cfg[&quotlabel_path&quot] = cfg[&quoteval_path&quot]

        data_loader<a id="change"> = </a>torch.utils.data.DataLoader(
                                my_dataloader(input_data[0],
                                            cfg[&quotlabel_type&quot],
                                            cfg[&quotlabel_path&quot],
                                            False,
                                            <a id="change">transforms.Compose(</a><a id="change">[
                                                </a>data_aug_test,
                                                &#47&#47ImageNetPolicy(),  &#47&#47autoaug
                                                &#47&#47Augmentation(fa_resnet50_rimagenet()), &#47&#47fastaa
                                                <a id="change">transforms.ToTensor()</a>,
                                                my_normalize<a id="change"></a>,
                                                ]<a id="change">)</a>),
                                batch_size=cfg[&quotbatch_size&quot], shuffle=True, num_workers=cfg[&quotnum_workers&quot], pin_memory=cfg[&quotpin_memory&quot])

        return data_loader</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fire717/fireclassification/commit/874136d46ef4f2e516532240d6feb0462b6f8de3#diff-b639ea56dbb91f94ece63c97c98a330b89de143daf30a8f8f7bab9f6f31f6907L163' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113395314</div><div id='project'> Project Name: fire717/fireclassification</div><div id='commit'> Commit Name: 874136d46ef4f2e516532240d6feb0462b6f8de3</div><div id='time'> Time: 2021-08-21</div><div id='author'> Author: yi.wei@imprexion.com.cn</div><div id='file'> File Name: fire/datatools.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: getDataLoader(3)</div><div id='n_method'> N Method Name: getDataLoader(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fire/datatools.py</div><div id='n_file'> N File Name: fire/datatools.py</div><div id='m_start'> M Start Line: 169</div><div id='m_end'> M End Line: 297</div><div id='n_start'> N Start Line: 163</div><div id='n_end'> N End Line: 332</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def train():

    if torch.cuda.is_available():
        <a id="change">os.environ["CUDA_VISIBLE_DEVICES"]</a> = opt.gpu_id

    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
</code></pre><h3>After Change</h3><pre><code class='java'>


def train():
    data_transfrom<a id="change"> = </a><a id="change">transforms.Compose(</a><a id="change">[
        </a>transforms.RandomCrop(100, 100),
        <a id="change">transforms.ToTensor()</a>
    ]<a id="change">)</a>

    &quot&quot&quotif torch.cuda.is_available():
        os.environ["CUDA_VISIBLE_DEVICES"] = opt.gpu_id&quot&quot&quot</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/shenzheng2000/sapnet-for-image-deraining/commit/e4c93815cbba1ca68937401c8f5baed9b8ecaf18#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113395315</div><div id='project'> Project Name: shenzheng2000/sapnet-for-image-deraining</div><div id='commit'> Commit Name: e4c93815cbba1ca68937401c8f5baed9b8ecaf18</div><div id='time'> Time: 2021-08-24</div><div id='author'> Author: 69662345+ShenZheng2000@users.noreply.github.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(0)</div><div id='n_method'> N Method Name: train(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                            cfg[&quotlabel_path&quot],
                                            False,
                                            transforms.Compose([
                                                TestDataAug(<a id="change">cfg[&quotimg_size&quot]</a>),
                                                &#47&#47ImageNetPolicy(),  &#47&#47autoaug
                                                &#47&#47Augmentation(fa_resnet50_rimagenet()), &#47&#47fastaa
                                                transforms.ToTensor(),</code></pre><h3>After Change</h3><pre><code class='java'>
        if cfg[&quotlabel_type&quot] == &quotDIR&quot:
            cfg[&quotlabel_path&quot] = cfg[&quoteval_path&quot]

        data_loader<a id="change"> = </a>torch.utils.data.DataLoader(
                                my_dataloader(input_data[0],
                                            cfg[&quotlabel_type&quot],
                                            cfg[&quotlabel_path&quot],
                                            False,
                                            <a id="change">transforms.Compose(</a><a id="change">[
                                                </a>data_aug_test,
                                                &#47&#47ImageNetPolicy(),  &#47&#47autoaug
                                                &#47&#47Augmentation(fa_resnet50_rimagenet()), &#47&#47fastaa
                                                <a id="change">transforms.ToTensor()</a>,
                                                my_normalize<a id="change"></a>,
                                                ]<a id="change">)</a>),
                                batch_size=cfg[&quotbatch_size&quot], shuffle=True, num_workers=cfg[&quotnum_workers&quot], pin_memory=cfg[&quotpin_memory&quot])

        return data_loader</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fire717/fireclassification/commit/874136d46ef4f2e516532240d6feb0462b6f8de3#diff-b639ea56dbb91f94ece63c97c98a330b89de143daf30a8f8f7bab9f6f31f6907L159' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113395312</div><div id='project'> Project Name: fire717/fireclassification</div><div id='commit'> Commit Name: 874136d46ef4f2e516532240d6feb0462b6f8de3</div><div id='time'> Time: 2021-08-21</div><div id='author'> Author: yi.wei@imprexion.com.cn</div><div id='file'> File Name: fire/datatools.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: getDataLoader(3)</div><div id='n_method'> N Method Name: getDataLoader(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fire/datatools.py</div><div id='n_file'> N File Name: fire/datatools.py</div><div id='m_start'> M Start Line: 169</div><div id='m_end'> M End Line: 297</div><div id='n_start'> N Start Line: 163</div><div id='n_end'> N End Line: 332</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def get_transforms(config):
    &#47&#47transform_image = transforms.Compose([transforms.Resize((config[&quotDataset&quot][&quottransforms&quot][&quotresize&quot],config[&quotDataset&quot][&quottransforms&quot][&quotresize&quot])), transforms.ToTensor(), transforms.Normalize((0.485, 0.456, 0.406), (0.229, 0.224, 0.225))])
    transform_image = transforms.Compose([transforms.Resize((config[&quotDataset&quot][&quottransforms&quot][&quotresize&quot],config[&quotDataset&quot][&quottransforms&quot][&quotresize&quot])), transforms.ToTensor(), transforms.Normalize(mean=[0.5, 0.5, 0.5], std=[0.5, 0.5, 0.5])])
    transform_depth = transforms.Compose([transforms.Resize((<a id="change">config[&quotDataset&quot][&quottransforms&quot]</a>[&quotresize&quot],config[&quotDataset&quot][&quottransforms&quot][&quotresize&quot])), transforms.ToTensor()])
    transform_seg = None
    return transform_image, transform_depth,transform_seg
</code></pre><h3>After Change</h3><pre><code class='java'>
        transforms.Resize(im_size), 
        transforms.ToTensor()
    ])
    transform_seg<a id="change"> = </a><a id="change">transforms.Compose(</a><a id="change">[
        </a>transforms.Resize(im_size), 
        <a id="change">transforms.ToTensor()</a>
    ]<a id="change">)</a>
    return transform_image, transform_depth,transform_seg

def get_loss(config):
    if config[&quotGeneral&quot][&quotloss&quot] == &quotmse&quot:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/antocad/focusondepth/commit/dd3090c8a1efb715b6ffb79992ef019eda67b5e3#diff-c4acb0753333d2326c2814d5c5b085ec4fd2df7a261eead7e7e14c08f0ef400bL29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113395303</div><div id='project'> Project Name: antocad/focusondepth</div><div id='commit'> Commit Name: dd3090c8a1efb715b6ffb79992ef019eda67b5e3</div><div id='time'> Time: 2021-12-31</div><div id='author'> Author: younesbelkada@gmail.com</div><div id='file'> File Name: FOD/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_transforms(1)</div><div id='n_method'> N Method Name: get_transforms(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: FOD/utils.py</div><div id='n_file'> N File Name: FOD/utils.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 44</div><BR>