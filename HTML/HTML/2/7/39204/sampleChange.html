<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.feature_index = feature_index
        self.device = device
        self.sparse_feature_columns = list(filter(lambda x: isinstance(x, SparseFeat), feature_columns)) if len(feature_columns) else []
        self.dense_feature_columns = <a id="change">list(</a><a id="change">filter(</a>lambda x: isinstance(x, DenseFeat), <a id="change">feature_columns</a><a id="change">))</a><a id="change"> if len(feature_columns</a><a id="change">)</a><a id="change"> else []</a>
        self.varlen_sparse_feature_columns = list(filter(lambda x: isinstance(x, VarLenSparseFeat), feature_columns)) if len(feature_columns) else []
        
        &#47&#47 特征embdding字典，{feat_name: nn.Embedding()}
        self.embedding_dict = create_embedding_matrix(feature_columns, init_std, linear=True, sparse=False)</code></pre><h3>After Change</h3><pre><code class='java'>
        super(Linear, self).__init__()
        self.feature_index = feature_index
        self.device = device
        self.sparse_feature_columns<a id="change">, self.dense_feature_columns, self.varlen_sparse_feature_columns</a> = split_columns(feature_columns)
        
        &#47&#47 特征embdding字典，{feat_name: nn.Embedding()}
        self.embedding_dict = create_embedding_matrix(feature_columns, init_std, linear=True, sparse=False)</code></pre>