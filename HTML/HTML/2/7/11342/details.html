<html><h3>Pattern ID :11342
</h3><img src='38800424.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                test_data = [
                        "BACKGROUND: On March 20 2020, the Argentine Ministry of Health enforced a mandatory quarantine throughout the country in response to the COVID-19 pandemic. AIMS: The object of this study is to determine the initial impact on mental health of Argentine population, by measuring the prevalence of anxiety, depression, insomnia, and self-perceived stress and by determining the associated risk factors, and to analyze that impact in relation to the number of confirmed cases and deaths. METHOD: A cross-sectional survey was conducted through a digital questionnaire, which was completed by 1,985 respondents between March 29 and April 12. The prevalence of anxiety, depression, stress and insomnia was measured with the Generalized Anxiety Disorder-7 Scale (GAD-7), the 9-Item Patients Health Questionnaire (PHQ-9); the Perceived Stress Scale (PSS-10) and the Pittsburgh Sleep Quality Index (PSQI), respectively. RESULTS: The 62.4% of the surveyed population reported signs of psychological distress. It was found that being a woman, being 18 to 27 years old, living with family members or a partner, smoking, and having a poor sleep quality were the significant risk factors. CONCLUSION: Despite the low number of COVID-19 confirmed cases and deaths at that time, a strong impact on mental health indicators was revealed. The authors of this study recommend the monitoring of the population at risk over time and early interventions in order to avoid long-lasting mental health problems."
                    ]
                <a id="change">for </a>text in test_data<a id="change">:
                    </a>print(self.bert_model.generate(text, beam_size=3, out_max_length=100, max_length=maxlen))
                print("loss is " + str(report_loss))
                report_loss = 0
                &#47&#47 self.eval(epoch)</code></pre><h3>After Change</h3><pre><code class='java'>
                report_loss = report_loss / (batch_size * 1000)
                print("loss is " + str(report_loss))

                <a id="change">with open(</a><a id="change">"./english_autotile_res.txt", "a+") as f:
                    f</a><a id="change">.write(</a>"step: {}, loss: {}, rouge_1: {}".format(self.global_step, report_loss, rouge_1)<a id="change"> )</a>
                    f.write("\n")
                report_loss = 0
                &#47&#47 self.eval(epoch)
                self.bert_model.train()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/920232796/bert_seq2seq/commit/8c3194f1ab79d4c95433eb4d80643410e98318b1#diff-144ce82adbd139aaf7781fd1b36ddb28962560b45f916b98aa34c5be278ebd88L142' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38800424</div><div id='project'> Project Name: 920232796/bert_seq2seq</div><div id='commit'> Commit Name: 8c3194f1ab79d4c95433eb4d80643410e98318b1</div><div id='time'> Time: 2021-04-25</div><div id='author'> Author: 920232796@qq.com</div><div id='file'> File Name: examples/bert_english_autotitle.py</div><div id='m_class'> M Class Name: Trainer</div><div id='n_method'> N Class Name: Trainer</div><div id='m_method'> M Method Name: iteration(4)</div><div id='n_method'> N Method Name: iteration(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/bert_english_autotitle.py</div><div id='n_file'> N File Name: examples/bert_english_autotitle.py</div><div id='m_start'> M Start Line: 142</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 187</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                test_data = [
                        "BACKGROUND: On March 20 2020, the Argentine Ministry of Health enforced a mandatory quarantine throughout the country in response to the COVID-19 pandemic. AIMS: The object of this study is to determine the initial impact on mental health of Argentine population, by measuring the prevalence of anxiety, depression, insomnia, and self-perceived stress and by determining the associated risk factors, and to analyze that impact in relation to the number of confirmed cases and deaths. METHOD: A cross-sectional survey was conducted through a digital questionnaire, which was completed by 1,985 respondents between March 29 and April 12. The prevalence of anxiety, depression, stress and insomnia was measured with the Generalized Anxiety Disorder-7 Scale (GAD-7), the 9-Item Patients Health Questionnaire (PHQ-9); the Perceived Stress Scale (PSS-10) and the Pittsburgh Sleep Quality Index (PSQI), respectively. RESULTS: The 62.4% of the surveyed population reported signs of psychological distress. It was found that being a woman, being 18 to 27 years old, living with family members or a partner, smoking, and having a poor sleep quality were the significant risk factors. CONCLUSION: Despite the low number of COVID-19 confirmed cases and deaths at that time, a strong impact on mental health indicators was revealed. The authors of this study recommend the monitoring of the population at risk over time and early interventions in order to avoid long-lasting mental health problems."
                    ]
                <a id="change">for </a>text in test_data<a id="change">:
                    </a>print(self.bert_model.generate(text, beam_size=3, out_max_length=100, max_length=maxlen))
                print("loss is " + str(report_loss))
                report_loss = 0
                &#47&#47 self.eval(epoch)</code></pre><h3>After Change</h3><pre><code class='java'>
                report_loss = report_loss / (batch_size * 1000)
                print("loss is " + str(report_loss))

                <a id="change">with open("./english_autotile_res.txt"</a><a id="change">, "a+") as f:
                    </a><a id="change">f.write(</a>"step: {}, loss: {}, rouge_1: {}".format(self.global_step, report_loss, rouge_1)<a id="change"> )</a>
                    f.write("\n")
                report_loss = 0
                &#47&#47 self.eval(epoch)
                self.bert_model.train()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/920232796/bert_seq2seq/commit/8c3194f1ab79d4c95433eb4d80643410e98318b1#diff-144ce82adbd139aaf7781fd1b36ddb28962560b45f916b98aa34c5be278ebd88L139' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38800425</div><div id='project'> Project Name: 920232796/bert_seq2seq</div><div id='commit'> Commit Name: 8c3194f1ab79d4c95433eb4d80643410e98318b1</div><div id='time'> Time: 2021-04-25</div><div id='author'> Author: 920232796@qq.com</div><div id='file'> File Name: examples/bert_english_autotitle.py</div><div id='m_class'> M Class Name: Trainer</div><div id='n_method'> N Class Name: Trainer</div><div id='m_method'> M Method Name: iteration(4)</div><div id='n_method'> N Method Name: iteration(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/bert_english_autotitle.py</div><div id='n_file'> N File Name: examples/bert_english_autotitle.py</div><div id='m_start'> M Start Line: 142</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 187</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    r = requests.get(urladdr, stream=True)
    f = open("file_path.zip", "wb")

    <a id="change">for </a>chunk in r.iter_content(chunk_size=512)<a id="change">:
        </a>print(&quothere&quot)
        if chunk:
          f.write(chunk)
</code></pre><h3>After Change</h3><pre><code class='java'>
    total_size_in_bytes= int(response.headers.get(&quotcontent-length&quot, 0))
    block_size = 2048 &#47&#471 Kibibyte
    progress_bar = tqdm(total=total_size_in_bytes, unit=&quotiB&quot, unit_scale=True)
    <a id="change">with open(</a><a id="change">file_name, &quotwb&quot) as file:
        </a>for data in response.iter_content(block_size):
            progress_bar.update(len(data))
            <a id="change">file.write(</a>data<a id="change">)</a>
    zipfile = ZipFile(file_name)
    zipfile.extractall(path=ppath)
    progress_bar.close()
    os.remove(file_name)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/nn-meter/commit/9446d4189bace0f8c5bb5a8044bcf4b65e979884#diff-fdad2c706ff20f19c6db47a9d694daf277c44de94966eb51f1a924816462ad6fL31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38800426</div><div id='project'> Project Name: microsoft/nn-meter</div><div id='commit'> Commit Name: 9446d4189bace0f8c5bb5a8044bcf4b65e979884</div><div id='time'> Time: 2021-06-02</div><div id='author'> Author: lzhani@microsoft.com</div><div id='file'> File Name: prediction/load_predictors.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: download_from_url(3)</div><div id='n_method'> N Method Name: download_from_url(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: prediction/load_predictors.py</div><div id='n_file'> N File Name: prediction/load_predictors.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        heuristic_count += 1
                        continue
                    should_skip = False
                    <a id="change">for </a>q in quote_values<a id="change">:
                        </a>if q not in all_input_columns:
                            heuristic_count += 1
                            should_skip = True
                            break</code></pre><h3>After Change</h3><pre><code class='java'>

        if args.thrown_away is not None:
            &#47&#47 write the thrown away exampels into a file
            <a id="change">with open(</a><a id="change">args.thrown_away, &quotw&quot) as output_file:
                </a>for o in all_thrown_away_rows:
                    output_row = ""
                    for i, column in enumerate(args.output_columns):
                        output_row += o[column]
                        if i &lt; len(args.output_columns)-1:
                            output_row += &quot\t&quot
                    <a id="change">output_file.write(</a>output_row + &quot\n&quot<a id="change">)</a>

        print(&quotRemoved %d duplicate rows&quot % duplicate_count)
        print(&quotRemoved %d rows because the thingtalk quote did not satisfy heuristic rules&quot % heuristic_count)
        print(&quotOutput size is %d rows&quot % written_count)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/d2eacd4e5c5347cb45907aea9e0a81a54b9fd5bf#diff-ee119052413383bfd6476efcd585c7782e225b9afadedd52e593204c70c2e120L15' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38800430</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: d2eacd4e5c5347cb45907aea9e0a81a54b9fd5bf</div><div id='time'> Time: 2020-05-26</div><div id='author'> Author: s.j.semnani@gmail.com</div><div id='file'> File Name: genienlp/paraphrase/scripts/transform_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: genienlp/paraphrase/scripts/transform_dataset.py</div><div id='n_file'> N File Name: genienlp/paraphrase/scripts/transform_dataset.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 162</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 196</div><BR>