<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Preload all the elements you are going to need at inference.
        &#47&#47 For instance your model, processors, tokenizer that might be needed.
        &#47&#47 This function is only called once, so do all the heavy processing I/O here
        <a id="change">raise </a><a id="change">NotImplementedError(
            "Please implement SentenceSimilarityPipeline __init__ function"</a><a id="change">
        )</a>

    def __call__(self, inputs: Dict[str, Union[str, List[str]]]) -&gt; List[float]:
        
        Args:</code></pre><h3>After Change</h3><pre><code class='java'>
    ):
        &#47&#47 At the time, only public models from spaCy are allowed in the inference API.
        full_model_path = model_id.split("/")
        <a id="change">if </a><a id="change">len(full_model_path) != 2</a>:
            raise ValueError(
                f"Invalid model_id: {model_id}. It should have a namespace (:namespace:/:model_name:)"
            )
        namespace<a id="change">, model_name = </a>full_model_path
        package = f"https://huggingface.co/{namespace}/{model_name}/resolve/main/{model_name}-any-py3-none-any.whl"
        cache_dir = os.environ["PIP_CACHE"]
        subprocess.check_call(</code></pre>