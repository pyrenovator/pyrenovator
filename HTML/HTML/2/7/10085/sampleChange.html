<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 pad if size is not a multiple of 8
        pad_h = lr_curr.size(2) - lr_curr.size(2) // 8 * 8
        pad_w = lr_curr.size(3) - lr_curr.size(3) // 8 * 8
        lr_flow_pad<a id="change"> = </a><a id="change">F.pad(</a>lr_flow, (<a id="change">0</a><a id="change">, pad_w, 0, pad_h</a>), &quotreflect&quot<a id="change">)</a>

        &#47&#47 upsample lr flow
        hr_flow<a id="change"> = </a>self.scale * self.upsample_func(lr_flow_pad)

        &#47&#47 warp hr_prev
        hr_prev_warp = backward_warp(hr_prev, hr_flow)

        &#47&#47 compute hr_curr
        hr_curr = self.srnet(lr_curr, space_to_depth(hr_prev_warp, self.scale))

        <a id="change">return </a>hr_curr

    def forward_sequence(self, lr_data):
        </code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            out = self.infer_sequence(lr_data, device)

        <a id="change">return </a>out

    def forward_sequence(self, lr_data):
        </code></pre>