<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                &#47&#47output_text = context_text

                &#47&#47 This is for the mode: gClC_R, which performs worse 
                input_text = " ".join( <a id="change">citing_text.split()[ : int( self.max_input_length*0.5 * 0.7 ) ]</a> ) + self.sep_token + context_text
                output_text = candidate_text

            elif self.cr_mode == "global":</code></pre><h3>After Change</h3><pre><code class='java'>
            irrelevance_levels_list = np.array( [ self.irrelevance_level_for_positive if candidate_id in positive_ids_set  else self.irrelevance_level_for_negative for candidate_id in candidate_id_list  ] ).astype(np.float32)


        query_text_list<a id="change"> = </a><a id="change">[]</a>
        candidate_text_list = []

        for candidate_id in candidate_id_list:
            candidate_text = self.get_paper_text( candidate_id )
            
            <a id="change">query_text_list.append( </a>context_text<a id="change"> + </a>self.sep_token + citing_text<a id="change"> )</a>
            candidate_text_list.append( candidate_text )


        encoded_seqs = self.tokenizer( query_text_list,candidate_text_list,  max_length = self.max_input_length , padding =  self.padding , truncation = self.truncation)</code></pre>