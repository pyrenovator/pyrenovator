<html><h3>Pattern ID :1613
</h3><img src='7442145.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            torch.zeros(50).long(),
            torch.full((50,), 255).long()
        ]).view(1, 1, 100)[:,:,torch.randperm(100)].repeat(5, 3, 1)
        lengths = <a id="change">torch.full((5,), 100).int()</a>
        centroids = torch.empty(5, 3, 2, dtype=torch.int64)
        clusters = torch.empty(5, 3, 100, dtype=torch.int32)
        counts = torch.empty(5, 3, 2, dtype=torch.int32)
</code></pre><h3>After Change</h3><pre><code class='java'>
            torch.zeros(50).long(),
            torch.full((50,), 255, dtype=torch.int64)
        ]).view(1, 1, 100)[:,:,torch.randperm(100)].repeat(5, 3, 1)
        lengths = <a id="change">torch.full(</a>(5<a id="change"></a>,), <a id="change">100</a><a id="change">, dtype=torch.int32)</a>
        centroids = torch.empty(5, 3, 2, dtype=torch.int64)
        clusters = torch.empty(5, 3, 100, dtype=torch.int32)
        counts = torch.empty(5, 3, 2, dtype=torch.int32)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/idiap/fast-transformers/commit/1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81#diff-02ae1d3f6c62415dbd725ec40dbb332023a06c2d97cc909adc8b48236bac691cL108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7442145</div><div id='project'> Project Name: idiap/fast-transformers</div><div id='commit'> Commit Name: 1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81</div><div id='time'> Time: 2020-08-24</div><div id='author'> Author: katharas@gmail.com</div><div id='file'> File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_class'> M Class Name: TestClusterCPU</div><div id='n_method'> N Class Name: TestClusterCPU</div><div id='m_method'> M Method Name: test_many_sequences(1)</div><div id='n_method'> N Method Name: test_many_sequences(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='n_file'> N File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 110</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            torch.full((10,), 1&lt;&lt;i).long()
            for i in range(8)
        ]).view(1, 1, 80)[:,:,torch.randperm(80)]
        lengths = <a id="change">torch.full((1,), 80).int()</a>
        centroids = torch.empty(1, 1, 8, dtype=torch.int64)
        clusters = torch.empty(1, 1, 80, dtype=torch.int32)
        counts = torch.empty(1, 1, 8, dtype=torch.int32)
</code></pre><h3>After Change</h3><pre><code class='java'>
            torch.full((10,), 1&lt;&lt;i, dtype=torch.int64)
            for i in range(8)
        ]).view(1, 1, 80)[:,:,torch.randperm(80)]
        lengths = <a id="change">torch.full(</a>(1<a id="change"></a>,), <a id="change">80</a><a id="change">, dtype=torch.int32)</a>
        centroids = torch.empty(1, 1, 8, dtype=torch.int64)
        clusters = torch.empty(1, 1, 80, dtype=torch.int32)
        counts = torch.empty(1, 1, 8, dtype=torch.int32)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/idiap/fast-transformers/commit/1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81#diff-02ae1d3f6c62415dbd725ec40dbb332023a06c2d97cc909adc8b48236bac691cL80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7442148</div><div id='project'> Project Name: idiap/fast-transformers</div><div id='commit'> Commit Name: 1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81</div><div id='time'> Time: 2020-08-24</div><div id='author'> Author: katharas@gmail.com</div><div id='file'> File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_class'> M Class Name: TestClusterCPU</div><div id='n_method'> N Class Name: TestClusterCPU</div><div id='m_method'> M Method Name: test_power_of_2_clusters(1)</div><div id='n_method'> N Method Name: test_power_of_2_clusters(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='n_file'> N File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_start'> M Start Line: 82</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 82</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            torch.zeros(50).long(),
            torch.full((50,), 255).long()
        ]).view(1, 1, 100)[:,:,torch.randperm(100)]
        lengths = <a id="change">torch.full((1,), 100).int()</a>
        centroids = torch.empty(1, 1, 2, dtype=torch.int64)
        clusters = torch.empty(1, 1, 100, dtype=torch.int32)
        counts = torch.empty(1, 1, 2, dtype=torch.int32)
</code></pre><h3>After Change</h3><pre><code class='java'>
            torch.zeros(50).long(),
            torch.full((50,), 255, dtype=torch.int64)
        ]).view(1, 1, 100)[:,:,torch.randperm(100)]
        lengths = <a id="change">torch.full(</a>(1<a id="change"></a>,), <a id="change">100</a><a id="change">, dtype=torch.int32)</a>
        centroids = torch.empty(1, 1, 2, dtype=torch.int64)
        clusters = torch.empty(1, 1, 100, dtype=torch.int32)
        counts = torch.empty(1, 1, 2, dtype=torch.int32)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/idiap/fast-transformers/commit/1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81#diff-02ae1d3f6c62415dbd725ec40dbb332023a06c2d97cc909adc8b48236bac691cL55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7442151</div><div id='project'> Project Name: idiap/fast-transformers</div><div id='commit'> Commit Name: 1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81</div><div id='time'> Time: 2020-08-24</div><div id='author'> Author: katharas@gmail.com</div><div id='file'> File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_class'> M Class Name: TestClusterCPU</div><div id='n_method'> N Class Name: TestClusterCPU</div><div id='m_method'> M Method Name: test_two_clusters(1)</div><div id='n_method'> N Method Name: test_two_clusters(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='n_file'> N File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 60</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                torch.zeros(50).long(),
                torch.ones(50).long() * (2**bits - 1)
            ]).view(1, 1, 100)[:,:,torch.randperm(100)]
            lengths = <a id="change">torch.full((1,), 100).int()</a>
            centroids = torch.empty(1, 1, 2, dtype=torch.int64)
            clusters = torch.empty(1, 1, 100, dtype=torch.int32)
            counts = torch.empty(1, 1, 2, dtype=torch.int32)
</code></pre><h3>After Change</h3><pre><code class='java'>
                torch.zeros(50).long(),
                torch.ones(50).long() * (2**bits - 1)
            ]).view(1, 1, 100)[:,:,torch.randperm(100)]
            lengths = <a id="change">torch.full(</a>(1<a id="change"></a>,), <a id="change">100</a><a id="change">, dtype=torch.int32)</a>
            centroids = torch.empty(1, 1, 2, dtype=torch.int64)
            clusters = torch.empty(1, 1, 100, dtype=torch.int32)
            counts = torch.empty(1, 1, 2, dtype=torch.int32)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/idiap/fast-transformers/commit/1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81#diff-02ae1d3f6c62415dbd725ec40dbb332023a06c2d97cc909adc8b48236bac691cL29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7442150</div><div id='project'> Project Name: idiap/fast-transformers</div><div id='commit'> Commit Name: 1de8c8a865a69a2eb73cbae2ada8eccb6e8bde81</div><div id='time'> Time: 2020-08-24</div><div id='author'> Author: katharas@gmail.com</div><div id='file'> File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_class'> M Class Name: TestClusterCPU</div><div id='n_method'> N Class Name: TestClusterCPU</div><div id='m_method'> M Method Name: test_long_clusters(1)</div><div id='n_method'> N Method Name: test_long_clusters(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='n_file'> N File Name: tests/clustering/hamming/test_cluster_cpu.py</div><div id='m_start'> M Start Line: 35</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 35</div><BR>