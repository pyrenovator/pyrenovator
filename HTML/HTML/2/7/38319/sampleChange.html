<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.last_len = len

        if abs &lt; 0.1:
            <a id="change">if </a>not self.measured:
                reward = 0
                self.measured = True
                self.last_dist = self.task.calc_distance(goal_position, poker_position)
            else:
                dist = self.task.calc_distance(goal_position, poker_position)
                reward = 1*round(self.last_dist - dist, 5)
                self.last_dist<a id="change"> = </a>dist
            self.a += reward
            self.owner = 0
            &#47&#47 poke_vector = v.Vector(self.prev_poker_position, observation[0:3], self.env)    </code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 align  = np.dot(self.set_vector_len(poke_vector.vector, 1), self.set_vector_len(real_vector.vector, 1))
            &#47&#47 reward = align
        else:
            <a id="change">self.env.p.addUserDebugText(</a>"XXX", <a id="change">[-0.7</a>,<a id="change">0.7</a>,<a id="change">0.7</a>]<a id="change">, lifeTime=0.1, textColorRGB=[125,0,0])</a>
            if self.owner == 0:
              self.last_len = len
            if not self.is_poker_moving(poker_position):
                reward = self.last_len - len</code></pre>