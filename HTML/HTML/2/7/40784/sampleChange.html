<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                if args.remove_with_heuristics:
                    all_input_columns = &quot &quot.join([o[c] for c in args.input_columns])
                    input_special_tokens = set(re.findall(&quot[A-Za-z:_.]+_[0-9]&quot, all_input_columns))
                    output_special_tokens = set(re.findall(&quot[A-Za-z:_.]+_[0-9]&quot, <a id="change">o[args.thingtalk_column]</a>))
                    if  not is_subset(output_special_tokens, input_special_tokens) :
                        heuristic_count += 1
                        continue</code></pre><h3>After Change</h3><pre><code class='java'>

        if args.thrown_away is not None:
            &#47&#47 write the thrown away exampels into a file
            <a id="change">with open(</a><a id="change">args.thrown_away, &quotw&quot) as output_file:
                </a>for o in all_thrown_away_rows:
                    output_row = ""
                    for i, column in enumerate(args.output_columns):
                        output_row += o[column]
                        if i &lt; len(args.output_columns)-1:
                            output_row += &quot\t&quot
                    <a id="change">output_file.write(</a>output_row + &quot\n&quot<a id="change">)</a>

        print(&quotRemoved %d duplicate rows&quot % duplicate_count)
        print(&quotRemoved %d rows because the thingtalk quote did not satisfy heuristic rules&quot % heuristic_count)
        print(&quotOutput size is %d rows&quot % written_count)</code></pre>