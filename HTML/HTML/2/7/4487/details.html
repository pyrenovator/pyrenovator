<html><h3>Pattern ID :4487
</h3><img src='16361753.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &gt;&gt;&gt; inputs, classes = next(iter(dataloaders[TRAIN]))
    
    def __init__(self, root=&quot/home/data/02_SSD4TB/suzy/datasets/public/chest-xray/&quot, split=&quottrain&quot, transform=None):
        transform = <a id="change">transforms.Compose([
            transforms.Resize(</a>256<a id="change">)</a>,
            transforms.CenterCrop(224),
            transforms.ToTensor(),
            transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225])<a id="change"></a>,
        ]<a id="change">)</a>
        super(ChestXray, self).__init__(
            root=os.path.join(root, split), transform=transform)

    def __getitem__(self, index):</code></pre><h3>After Change</h3><pre><code class='java'>
        if download:
            download_datasets(tag, path=root)

        extract_zip(<a id="change">os.path.join(root</a>, tag+".zip"<a id="change">)</a>, os.path.join(root, tag))

        self.target_transform = target_transform
        if transform is None:
            self.transform = self.get_train_transform(shape)

        if train:
            train_path = <a id="change">os.path.join(
                root</a>, tag, "chest_xray", "train"<a id="change">)</a>
            super(ChestXray, self).__init__(
                root=train_path, transform=transform)

    def __getitem__(self, index):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tuttelikz/farabio/commit/a535350f613f18fde69848c346695dc34e1332f8#diff-497438abfedb0f9ddf0240caff2549d5d946b521e9cbe5c1e6ec796b17c2954eL188' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16361753</div><div id='project'> Project Name: tuttelikz/farabio</div><div id='commit'> Commit Name: a535350f613f18fde69848c346695dc34e1332f8</div><div id='time'> Time: 2021-04-07</div><div id='author'> Author: s.askaruly@gmail.com</div><div id='file'> File Name: farabio/data/biodatasets.py</div><div id='m_class'> M Class Name: ChestXray</div><div id='n_method'> N Class Name: ChestXray</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: farabio/data/biodatasets.py</div><div id='n_file'> N File Name: farabio/data/biodatasets.py</div><div id='m_start'> M Start Line: 192</div><div id='m_end'> M End Line: 199</div><div id='n_start'> N Start Line: 188</div><div id='n_end'> N End Line: 206</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                                 transforms.Normalize((0.485, 0.456, 0.406), (0.229, 0.224, 0.225))
                                                 ])
        else:
            self.transform = <a id="change">transforms.Compose([</a>lambda x: Image.open(x).convert(&quotRGB&quot),
                                                 <a id="change">transforms.Resize(</a>(self.resize, self.resize)<a id="change">)</a>,
                                                 transforms.ToTensor(),
                                                 transforms.Normalize((0.485, 0.456, 0.406), (0.229, 0.224, 0.225))<a id="change"></a>
                                                 ]<a id="change">)</a>

        self.path = os.path.join(root, &quotimages&quot)  &#47&#47 image path
        csvdata = self.loadCSV(os.path.join(root, mode + &quot.csv&quot))  &#47&#47 csv path
        self.data = []</code></pre><h3>After Change</h3><pre><code class='java'>
        mode, batchsz, n_way, k_shot, k_query))

        &#47&#47 load subgraph list 
        with open(<a id="change">os.path.join(</a>root, path_s<a id="change">)</a>, &quotrb&quot) as f:
            subgraph_list = pickle.load(f)

        with open(<a id="change">os.path.join(</a>root, path_l<a id="change">)</a>, &quotrb&quot) as f:
            subgraph2label = pickle.load(f)    

        self.subgraph2label = subgraph2label</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mims-harvard/g-meta/commit/aed3468b5f71c857f788169b34b97a411628930b#diff-a61cf41d2922e4024114a9613f25082423dab75b91a5c1fed863cc02d10294e0L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16361752</div><div id='project'> Project Name: mims-harvard/g-meta</div><div id='commit'> Commit Name: aed3468b5f71c857f788169b34b97a411628930b</div><div id='time'> Time: 2020-03-02</div><div id='author'> Author: cosamhkx@gmail.com</div><div id='file'> File Name: src/subgraph_data_processing.py</div><div id='m_class'> M Class Name: Subgraphs</div><div id='n_method'> N Class Name: Subgraphs</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(9)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: src/subgraph_data_processing.py</div><div id='n_file'> N File Name: src/subgraph_data_processing.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &gt;&gt;&gt; inputs, classes = next(iter(dataloaders[TRAIN]))
    
    def __init__(self, root=&quot/home/data/02_SSD4TB/suzy/datasets/public/chest-xray/&quot, split=&quottrain&quot, transform=None):
        transform = <a id="change">transforms.Compose([
            transforms.Resize(</a>256<a id="change">)</a>,
            transforms.CenterCrop(224),
            transforms.ToTensor(),
            transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225])<a id="change"></a>,
        ]<a id="change">)</a>
        super(ChestXray, self).__init__(
            root=os.path.join(root, split), transform=transform)

    def __getitem__(self, index):</code></pre><h3>After Change</h3><pre><code class='java'>
        if download:
            download_datasets(tag, path=root)

        extract_zip(os.path.join(root, tag+".zip"), <a id="change">os.path.join(</a>root, tag<a id="change">)</a>)

        self.target_transform = target_transform
        if transform is None:
            self.transform = self.get_train_transform(shape)

        if train:
            train_path = <a id="change">os.path.join(
                </a>root, tag, "chest_xray", "train"<a id="change">)</a>
            super(ChestXray, self).__init__(
                root=train_path, transform=transform)

    def __getitem__(self, index):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tuttelikz/farabio/commit/a535350f613f18fde69848c346695dc34e1332f8#diff-497438abfedb0f9ddf0240caff2549d5d946b521e9cbe5c1e6ec796b17c2954eL192' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16361755</div><div id='project'> Project Name: tuttelikz/farabio</div><div id='commit'> Commit Name: a535350f613f18fde69848c346695dc34e1332f8</div><div id='time'> Time: 2021-04-07</div><div id='author'> Author: s.askaruly@gmail.com</div><div id='file'> File Name: farabio/data/biodatasets.py</div><div id='m_class'> M Class Name: ChestXray</div><div id='n_method'> N Class Name: ChestXray</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: farabio/data/biodatasets.py</div><div id='n_file'> N File Name: farabio/data/biodatasets.py</div><div id='m_start'> M Start Line: 192</div><div id='m_end'> M End Line: 199</div><div id='n_start'> N Start Line: 188</div><div id='n_end'> N End Line: 206</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                transforms.RandomHorizontalFlip(),
            ])

        self.lr_transforms = <a id="change">transforms.Compose([
            transforms.Resize(</a>[image_size // upscale_factor, image_size // upscale_factor]<a id="change">, interpolation=IMode.BICUBIC, antialias=True)</a>,
            transforms.Resize([image_size, image_size], interpolation=IMode.BICUBIC, antialias=True)<a id="change"></a>
        ]<a id="change">)</a>

    def __getitem__(self, batch_index: int) -&gt; [Tensor, Tensor]:
        &#47&#47 Read a batch of image data
        image = Image.open(self.filenames[batch_index])</code></pre><h3>After Change</h3><pre><code class='java'>
        super(ImageDataset, self).__init__()
        self.filenames = [os.path.join(dataroot, x) for x in os.listdir(dataroot)]

        lr_dir_path = <a id="change">os.path.join(</a>dataroot, "inputs"<a id="change">)</a>
        hr_dir_path = <a id="change">os.path.join(</a>dataroot, "target"<a id="change">)</a>
        self.filenames = os.listdir(lr_dir_path)
        self.lr_filenames = [os.path.join(lr_dir_path, x) for x in self.filenames]
        self.hr_filenames = [os.path.join(hr_dir_path, x) for x in self.filenames]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/vdsr-pytorch/commit/47c9ac3ddc26e70b6d89e150b009aac2e553ee88#diff-11bb3b632c84e01e0bf1b576e72c513fd062811e900ebcb5f22df0eac7d3b0d9L42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16361757</div><div id='project'> Project Name: lornatang/vdsr-pytorch</div><div id='commit'> Commit Name: 47c9ac3ddc26e70b6d89e150b009aac2e553ee88</div><div id='time'> Time: 2021-11-22</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: dataset.py</div><div id='m_class'> M Class Name: ImageDataset</div><div id='n_method'> N Class Name: ImageDataset</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: dataset.py</div><div id='n_file'> N File Name: dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 44</div><BR>