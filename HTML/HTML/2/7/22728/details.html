<html><h3>Pattern ID :22728
</h3><img src='72188508.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def test_cam_precheck(mock_img_model, mock_img_tensor):
    model = mock_img_model.eval()
    extractor<a id="change"> = </a><a id="change">core._CAM(</a>model, <a id="change">"0.3"</a><a id="change">)</a>
    with torch.no_grad():
        &#47&#47 Check missing forward raises Error
        with pytest.raises(AssertionError):
            extractor(0)</code></pre><h3>After Change</h3><pre><code class='java'>

def test_cam_precheck(mock_img_model, mock_img_tensor):
    model = mock_img_model.eval()
    <a id="change">with </a><a id="change">core._CAM(model, "0.3") as extractor:
        </a>with torch.no_grad():
            &#47&#47 Check missing forward raises Error
            with pytest.raises(AssertionError):
                extractor(0)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/frgfm/torch-cam/commit/e7d4644ef7d183fa705817fc4471727b3a5bfdce#diff-583203fdd1f594cd0202365215fd709c3257defd7a7516cc09c67a4840cdcca6L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72188508</div><div id='project'> Project Name: frgfm/torch-cam</div><div id='commit'> Commit Name: e7d4644ef7d183fa705817fc4471727b3a5bfdce</div><div id='time'> Time: 2022-12-21</div><div id='author'> Author: 26927750+frgfm@users.noreply.github.com</div><div id='file'> File Name: tests/test_methods_core.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_cam_precheck(2)</div><div id='n_method'> N Method Name: test_cam_precheck(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_methods_core.py</div><div id='n_file'> N File Name: tests/test_methods_core.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 57</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_cam_remove_hooks(mock_img_model):
    model = mock_img_model.eval()
    extractor<a id="change"> = </a><a id="change">core._CAM(</a>model, <a id="change">"0.3"</a><a id="change">)</a>

    assert len(extractor.hook_handles) == 1
    &#47&#47 Check that there is only one hook on the model
    assert all(act is None for act in extractor.hook_a)</code></pre><h3>After Change</h3><pre><code class='java'>

def test_cam_remove_hooks(mock_img_model):
    model = mock_img_model.eval()
    <a id="change">with </a><a id="change">core._CAM(model, "0.3") as extractor:
        </a>assert len(extractor.hook_handles) == 1
        &#47&#47 Check that there is only one hook on the model
        assert all(act is None for act in extractor.hook_a)
        with torch.no_grad():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/frgfm/torch-cam/commit/e7d4644ef7d183fa705817fc4471727b3a5bfdce#diff-583203fdd1f594cd0202365215fd709c3257defd7a7516cc09c67a4840cdcca6L69' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72188507</div><div id='project'> Project Name: frgfm/torch-cam</div><div id='commit'> Commit Name: e7d4644ef7d183fa705817fc4471727b3a5bfdce</div><div id='time'> Time: 2022-12-21</div><div id='author'> Author: 26927750+frgfm@users.noreply.github.com</div><div id='file'> File Name: tests/test_methods_core.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_cam_remove_hooks(1)</div><div id='n_method'> N Method Name: test_cam_remove_hooks(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_methods_core.py</div><div id='n_file'> N File Name: tests/test_methods_core.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 87</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 97</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_cam_repr(mock_img_model):
    model = mock_img_model.eval()
    extractor<a id="change"> = </a><a id="change">core._CAM(</a>model, <a id="change">"0.3"</a><a id="change">)</a>

    assert repr(extractor) == "_CAM(target_layer=[&quot0.3&quot])"

</code></pre><h3>After Change</h3><pre><code class='java'>

def test_cam_repr(mock_img_model):
    model = mock_img_model.eval()
    <a id="change">with </a><a id="change">core._CAM(model, "0.3") as extractor:
        </a>assert repr(extractor) == "_CAM(target_layer=[&quot0.3&quot])"


def test_fuse_cams():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/frgfm/torch-cam/commit/e7d4644ef7d183fa705817fc4471727b3a5bfdce#diff-583203fdd1f594cd0202365215fd709c3257defd7a7516cc09c67a4840cdcca6L90' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72188506</div><div id='project'> Project Name: frgfm/torch-cam</div><div id='commit'> Commit Name: e7d4644ef7d183fa705817fc4471727b3a5bfdce</div><div id='time'> Time: 2022-12-21</div><div id='author'> Author: 26927750+frgfm@users.noreply.github.com</div><div id='file'> File Name: tests/test_methods_core.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_cam_repr(1)</div><div id='n_method'> N Method Name: test_cam_repr(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_methods_core.py</div><div id='n_file'> N File Name: tests/test_methods_core.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 103</div><BR>