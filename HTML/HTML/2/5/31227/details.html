<html><h3>Pattern ID :31227
</h3><img src='91617908.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        Add background. This needs to happen here and not on a single frame, since background may be correlated.
        if self.background is not None:
            self.frames = <a id="change">self.background.forward(</a>frames<a id="change">)</a>.type(torch.int64)
        else:
            self.frames = frames.type(torch.int64)
</code></pre><h3>After Change</h3><pre><code class='java'>
            bg_frames = self.background.forward(torch.zeros_like(frames))
            frames += bg_frames

        <a id="change">if self.noise is not None</a>:
            frames<a id="change"> = self.noise.forward(</a>frames<a id="change">)</a>

        self.frames = frames

        if self.out_bg:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/5806dbeaf7cca38402360f9392be727b3da2d3c3#diff-ba64703cb157bfa2feaff662a2b044f46eea1a0297b50ef001c4dd05b5926ac1L107' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91617908</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: 5806dbeaf7cca38402360f9392be727b3da2d3c3</div><div id='time'> Time: 2019-09-11</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: deepsmlm/simulation/simulator.py</div><div id='m_class'> M Class Name: Simulation</div><div id='n_method'> N Class Name: Simulation</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepsmlm/simulation/simulator.py</div><div id='n_file'> N File Name: deepsmlm/simulation/simulator.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 119</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        f"mse_{frames} (↓)": np.mean([MSE(p, t) for p, t in zip(pred_numpy, target_numpy)]),
        f"mae_{frames} (↓)": np.mean([MAE(p, t) for p, t in zip(pred_numpy, target_numpy)]),
        f"lpips_{frames} (↓)": LPIPS(device=pred.device).forward(pred, target).item(),
        f"fvd_{frames} (↓)": <a id="change">FVD(device=pred.device, num_frames=t, in_channels=c).forward(</a>pred, target<a id="change">)</a>.item()
    }

</code></pre><h3>After Change</h3><pre><code class='java'>
    }

    &#47&#47 FVD can be None if frame length does not fit -&gt; disregard those
    <a id="change">if frames &gt;= FVD.min_T</a> and frames &lt;= FVD.max_T:
        fvd = FVD(device=pred.device, num_frames=t, in_channels=c)
        metrics_dict[f"fvd_{frames} (↓)"]<a id="change"> = fvd.forward(</a>pred, target<a id="change">)</a>.item()

    return metrics_dict
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ais-bonn/vp-suite/commit/70991504ce64bc4439fe2d531cdbfe1d9f36cc08#diff-5cc534219862ac47a670dfcce12c7b66e12e6f8f7d59c1ef85e37903d2bd0c22L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91617911</div><div id='project'> Project Name: ais-bonn/vp-suite</div><div id='commit'> Commit Name: 70991504ce64bc4439fe2d531cdbfe1d9f36cc08</div><div id='time'> Time: 2021-11-26</div><div id='author'> Author: boltres@ais.uni-bonn.de</div><div id='file'> File Name: metrics/main.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_prediction_metrics(3)</div><div id='n_method'> N Method Name: get_prediction_metrics(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: metrics/main.py</div><div id='n_file'> N File Name: metrics/main.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 63</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        audio_path = self._audios[rand_indexer]

        img = np.asarray(ImageProcessor(image_path=img_path, colorspace=self._colorspace).forward()).astype(&quotfloat64&quot)
        sound_stct = <a id="change">AudioProcessor(audio_path).forward()</a>

        return (img, sound_stct)

def loader(set=&quottrain&quot, rgb=True):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._transform == &quotcosine&quot:
            sound_stct = self._AUDIO_PROCESSOR.forward(audio_path)
            return (img, sound_stct)
        elif <a id="change">self._transform == &quotfourier&quot</a>:
            magnitude_stft<a id="change">, phase_stft = self._AUDIO_PROCESSOR.forward(</a>audio_path<a id="change">)</a>
            return (img, magnitude_stft, phase_stft)
        else: raise Exception(f&quotTransform not implemented&quot)

def loader(set=&quottrain&quot, rgb=True, transform=&quotcosine&quot):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/margaritageleta/pixinwav/commit/e22e4a34d04924c7b5c32f1185e11fdcdbe45311#diff-044d10501c2c890418a6cde469e29cc842a17f248aa43c845b43e27a5e66701bL152' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91617905</div><div id='project'> Project Name: margaritageleta/pixinwav</div><div id='commit'> Commit Name: e22e4a34d04924c7b5c32f1185e11fdcdbe45311</div><div id='time'> Time: 2021-03-13</div><div id='author'> Author: noticiasmundiales99@gmail.com</div><div id='file'> File Name: src/loader.py</div><div id='m_class'> M Class Name: StegoDataset</div><div id='n_method'> N Class Name: StegoDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Dataset</div><div id='m_file'> M File Name: src/loader.py</div><div id='n_file'> N File Name: src/loader.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 184</div><div id='n_end'> N End Line: 195</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def forward(self):
        &#47&#47 fmt:off
        return torch.sum([<a id="change">mod.forward()</a> for mod in self.modulated_modules], dim=0) / \
               torch.sum([mod.modulation for mod in self.modulated_modules], dim=0)
        &#47&#47 fmt:on
</code></pre><h3>After Change</h3><pre><code class='java'>
        for mod in self.modulated_modules:
            try:
                weight += mod.modulation[mod.index % len(mod.modulation)]
                <a id="change">if average is None</a>:
                    average = mod.forward().squeeze()
                else:
                    average<a id="change"> += mod.forward()</a>.squeeze()
            except Exception as e:
                print(e)
                print()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maua-maua-maua/maua/commit/6783d3cf23d04c9690a519d8d0de3f450241328f#diff-9023d949ab106bd07225f00ec7713d7b74cbc52776a6a15ed08bd08243a8ecc2L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91617916</div><div id='project'> Project Name: maua-maua-maua/maua</div><div id='commit'> Commit Name: 6783d3cf23d04c9690a519d8d0de3f450241328f</div><div id='time'> Time: 2022-01-27</div><div id='author'> Author: hans@brouwer.work</div><div id='file'> File Name: maua/audiovisual/patches/primitives/merge.py</div><div id='m_class'> M Class Name: ModulationSum</div><div id='n_method'> N Class Name: ModulationSum</div><div id='m_method'> M Method Name: forward(1)</div><div id='n_method'> N Method Name: forward(1)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: maua/audiovisual/patches/primitives/merge.py</div><div id='n_file'> N File Name: maua/audiovisual/patches/primitives/merge.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 12</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 23</div><BR>