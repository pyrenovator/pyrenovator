<html><h3>Pattern ID :5018
</h3><img src='17733740.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
class net_pars:
    def __init__(self,nets):
        &#47&#47 select a network setting
        if <a id="change">(nets == &quotoptim&quot) or (nets == &quotoptim_adsig&quot)</a> :
            &#47&#47 the optimized network settings
            self.dropout = 0.1 &#47&#470.0/0.1 chose how much dropout one likes. 0=no dropout; internet says roughly 20% (0.20) is good, although it also states that smaller networks might desire smaller amount of dropout
            self.batch_norm = True &#47&#47 False/True turns on batch normalistion</code></pre><h3>After Change</h3><pre><code class='java'>
            self.fitS0 = False &#47&#47 indicates whether to fit S0 (True) or fix it to 1 (for normalised signals); I prefer fitting S0 as it takes along the potential error is S0.
            self.depth = 4 &#47&#47 number of layers
            self.width = 500 &#47&#47 new option that determines network width. Putting to 0 makes it as wide as the number of b-values
        boundsrange<a id="change"> = </a>0.3 * np.array(self.cons_max)-<a id="change">np.array(</a>self.cons_min<a id="change">)</a> &#47&#47 ensure that we are on the most lineair bit of the sigmoid function
        self.cons_min = np.array(self.cons_min) - boundsrange
        self.cons_max<a id="change"> = </a>np.array(self.cons_max) + boundsrange


</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/oliverchampion/ivimnet/commit/571441ea8fe93134ac02c4eab2cf20259add64ad#diff-4e04c91ef3d5259dcd14a669abe529ceafe9f9560e0494206e6b8d3a8e6605ffL47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17733740</div><div id='project'> Project Name: oliverchampion/ivimnet</div><div id='commit'> Commit Name: 571441ea8fe93134ac02c4eab2cf20259add64ad</div><div id='time'> Time: 2021-02-05</div><div id='author'> Author: oliverchampion@gmail.com</div><div id='file'> File Name: hyperparams.py</div><div id='m_class'> M Class Name: net_pars</div><div id='n_method'> N Class Name: net_pars</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: hyperparams.py</div><div id='n_file'> N File Name: hyperparams.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 88</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        allvsall_indeces = []
        for i in range(natoms):
            for j in range(i + 1, natoms):
                if <a id="change">[i, j] in excludepairs or [j, i] in excludepairs</a>:
                    continue
                allvsall_indeces.append([i, j])
</code></pre><h3>After Change</h3><pre><code class='java'>
    def _make_indeces(self, natoms, excludepairs):
        fullmat = np.full((natoms, natoms), True, dtype=bool)
        if len(excludepairs):
            excludepairs<a id="change"> = </a><a id="change">np.array(</a>excludepairs<a id="change">)</a>
            fullmat[excludepairs[:, 0], excludepairs[:, 1]] = False
            fullmat[excludepairs[:, 1], excludepairs[:, 0]] = False
        fullmat = np.triu(fullmat, +1)
        allvsall_indeces<a id="change"> = </a>np.vstack(np.where(fullmat)).T
        ava_idx = torch.tensor(allvsall_indeces).to(self.device)
        return ava_idx
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/torchmd/torchmd/commit/3b9546b4305fd06e35b22e29940fe3d7f67bce86#diff-23a2781b7aa930998c4060b6a78ef1ed15f6d7f2705c5480adaf64463e7c005cL174' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17733738</div><div id='project'> Project Name: torchmd/torchmd</div><div id='commit'> Commit Name: 3b9546b4305fd06e35b22e29940fe3d7f67bce86</div><div id='time'> Time: 2020-05-21</div><div id='author'> Author: stefdoerr@gmail.com</div><div id='file'> File Name: torchmd/forces.py</div><div id='m_class'> M Class Name: Forces</div><div id='n_method'> N Class Name: Forces</div><div id='m_method'> M Method Name: _make_indeces(3)</div><div id='n_method'> N Method Name: _make_indeces(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchmd/forces.py</div><div id='n_file'> N File Name: torchmd/forces.py</div><div id='m_start'> M Start Line: 175</div><div id='m_end'> M End Line: 182</div><div id='n_start'> N Start Line: 242</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ]

    for k, v in ivy.__dict__.copy().items():
        if <a id="change">k in to_skip or helpers.docstring_examples_run(v)</a>:
            continue
        success = False
        failures.append(k)</code></pre><h3>After Change</h3><pre><code class='java'>
    x = ivy.native_array([[1., 2.], \
                          [4., 5.], \
                          [7., 8.]])
    y<a id="change"> = </a><a id="change">ivy.array(</a>[[1.], \
                        [0.], \
                        [0.]]<a id="change">)</a>
    z<a id="change"> = </a>ivy.cross(x, y, axis=0)
    print(x.shape[-1], x.shape[-1])
    print(z)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ivy-dl/ivy/commit/0b73f9b977b24ab3c32d7438f7e6cc86f9c0e385#diff-48ffb3a283811c82d46de1000e0dbf654f102f8fbb23f5dcf9c974e21964bc90L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17733730</div><div id='project'> Project Name: ivy-dl/ivy</div><div id='commit'> Commit Name: 0b73f9b977b24ab3c32d7438f7e6cc86f9c0e385</div><div id='time'> Time: 2022-06-25</div><div id='author'> Author: rishabhkkumarsc1@gmail.com</div><div id='file'> File Name: ivy_tests/test_docstrings.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_docstrings(1)</div><div id='n_method'> N Method Name: test_docstrings(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ivy_tests/test_docstrings.py</div><div id='n_file'> N File Name: ivy_tests/test_docstrings.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 60</div><BR>