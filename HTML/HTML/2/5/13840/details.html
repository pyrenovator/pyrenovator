<html><h3>Pattern ID :13840
</h3><img src='46113223.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            spk_hashtable[s1_id].append(s1_wav)

        s2_id = <a id="change">Path(s1_wav).stem.split("_")[2]</a>[:3]

        if s2_id not in spk_hashtable.keys():
            spk_hashtable[s2_id] = [s2_wav]</code></pre><h3>After Change</h3><pre><code class='java'>
    spk_hashtable = {}
    for utt in wsj0_utterances:

        spk_id = <a id="change">Path(</a>utt<a id="change">)</a>.stem[:3]
        torchaudio.info(utt)
        assert torchaudio.info(utt).sample_rate == 8000
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/e716f99a82f8dc90125ddfe0aae214209fa8cc2f#diff-701c0c78c50c407c8c552e20d140dd5a69c30adca30a40a3e152adbdaf78502eL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46113223</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: e716f99a82f8dc90125ddfe0aae214209fa8cc2f</div><div id='time'> Time: 2021-01-18</div><div id='author'> Author: cornellsamuele@gmail.com</div><div id='file'> File Name: recipes/WSJ2Mix/separation/dynamic_mixing.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_spk_hashtable(1)</div><div id='n_method'> N Method Name: build_spk_hashtable(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recipes/WSJ2Mix/separation/dynamic_mixing.py</div><div id='n_file'> N File Name: recipes/WSJ2Mix/separation/dynamic_mixing.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 21</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">list(filter(lambda x: x, path.split("/")))[-1]</a> + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">Path(</a>path<a id="change">)</a>.name + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/e86a2a8f869b91654e782c9133d810bb82783200#diff-297737663c69be8492c0e6f8c5c646745d1c35df8dac5b9ea181d1cf39560169L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46113222</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: e86a2a8f869b91654e782c9133d810bb82783200</div><div id='time'> Time: 2020-09-25</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/commands/run_beam.py</div><div id='m_class'> M Class Name: RunBeamCommand</div><div id='n_method'> N Class Name: RunBeamCommand</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: BaseTransformersCLICommand</div><div id='n_parent_class'> N Parent Class: BaseTransformersCLICommand</div><div id='m_file'> M File Name: src/datasets/commands/run_beam.py</div><div id='n_file'> N File Name: src/datasets/commands/run_beam.py</div><div id='m_start'> M Start Line: 129</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 130</div><div id='n_end'> N End Line: 130</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 https://github.com/gjoni/trDesign/blob/master/01-hallucinate/src/bkgrd.py

        bkg_distribution_paths   = sorted([path for path in os.listdir(bkg_dir) if &quot.npz&quot in path])
        bkg_distribution_lengths = sorted([int(<a id="change">path.split(&quot_&quot)[-1].split(&quot.npz&quot)[0]</a>) for path in bkg_distribution_paths])
        
        for L in bkg_distribution_lengths:
            if L &gt;= seq_L:</code></pre><h3>After Change</h3><pre><code class='java'>
        https://github.com/gjoni/trDesign/blob/master/01-hallucinate/src/bkgrd.py
        
        bkg_path, L = None, 0
        for bkg_path in sorted(<a id="change">Path(</a>bkg_dir<a id="change">)</a>.glob("*.npz")):
            L = int(bkg_path.stem.split("_")[-1])
            if L &gt;= seq_L:
                break</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/learn-ventures/trdesign-pytorch/commit/016e89447408c7bc3682a4326ac3747077027d56#diff-d1e2ecb67d8cfabe062fa8cabae3017222f9e88ccfacf88223e5857e9a28dfb4L103' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46113221</div><div id='project'> Project Name: learn-ventures/trdesign-pytorch</div><div id='commit'> Commit Name: 016e89447408c7bc3682a4326ac3747077027d56</div><div id='time'> Time: 2021-03-16</div><div id='author'> Author: lev@learn.ventures</div><div id='file'> File Name: src/losses.py</div><div id='m_class'> M Class Name: Structural_Background_Loss</div><div id='n_method'> N Class Name: Structural_Background_Loss</div><div id='m_method'> M Method Name: get_best_bkg_match(2)</div><div id='n_method'> N Method Name: get_best_bkg_match(3)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/losses.py</div><div id='n_file'> N File Name: src/losses.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 111</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">list(filter(lambda x: x, path.split("/")))[-1]</a> + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">Path(</a>path<a id="change">)</a>.name + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/e86a2a8f869b91654e782c9133d810bb82783200#diff-7096ff75a81517e6416f17d2a17f961ba74cfeaf20214725754da2aa8128fbd0L71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46113220</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: e86a2a8f869b91654e782c9133d810bb82783200</div><div id='time'> Time: 2020-09-25</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/commands/test.py</div><div id='m_class'> M Class Name: TestCommand</div><div id='n_method'> N Class Name: TestCommand</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: BaseTransformersCLICommand</div><div id='n_parent_class'> N Parent Class: BaseTransformersCLICommand</div><div id='m_file'> M File Name: src/datasets/commands/test.py</div><div id='n_file'> N File Name: src/datasets/commands/test.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 105</div><div id='n_end'> N End Line: 105</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    cap = cv2.VideoCapture(video)

    file_name = <a id="change">(os.path.basename(video).split(&quot.mp4&quot))[0]</a>
    try:
        if not os.path.exists(save_dir + file_name):
            os.makedirs(save_dir + file_name)
    except OSError:</code></pre><h3>After Change</h3><pre><code class='java'>
    cap = cv2.VideoCapture(video)

    &#47&#47 file_name = (os.path.basename(video).split(&quot.mp4&quot))[0]
    file_name = <a id="change">Path(</a>video<a id="change">)</a>.stem
    try:
        &#47&#47 if not os.path.exists(save_dir + file_name):
        &#47&#47     os.makedirs(save_dir + file_name)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/liaorongfan/deeppersonality/commit/fc0e0a8ca8ebd7ce3ad206c1265dc8e586819def#diff-18b089b4bdf8ffa9f3b77901324ca9a0d333fad0082874610e7140a0d1cf04f3L15' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46113219</div><div id='project'> Project Name: liaorongfan/deeppersonality</div><div id='commit'> Commit Name: fc0e0a8ca8ebd7ce3ad206c1265dc8e586819def</div><div id='time'> Time: 2022-03-06</div><div id='author'> Author: 15670381505@163.com</div><div id='file'> File Name: dpcv/data/utils/video_to_image.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: frame_sample(2)</div><div id='n_method'> N Method Name: frame_sample(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dpcv/data/utils/video_to_image.py</div><div id='n_file'> N File Name: dpcv/data/utils/video_to_image.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        total_uploaded_size = 0
        total_dataset_nbytes = 0
        info_to_dump: DatasetInfo = next(iter(self.values())).info.copy()
        dataset_name = <a id="change">repo_id.split("/")[-1]</a>
        info_to_dump.splits = SplitDict(dataset_name=dataset_name)

        for split in self.keys():
            if not re.match(_split_re, split):</code></pre><h3>After Change</h3><pre><code class='java'>
                hf_hub_url(repo_id, "README.md"),
                download_config=download_config,
            )
            dataset_metadata = DatasetMetadata.from_readme(<a id="change">Path(</a>dataset_readme_path<a id="change">)</a>)
            with open(dataset_readme_path, encoding="utf-8") as readme_file:
                readme_content = readme_file.read()
        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/67e65c90e9490810b89ee140da11fdd13c356c9c#diff-a03fe8c218f22c8b26cc51f588cf5466c27f433373033d8724f66f996c2beda8L1284' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 46113218</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 67e65c90e9490810b89ee140da11fdd13c356c9c</div><div id='time'> Time: 2022-10-03</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/dataset_dict.py</div><div id='m_class'> M Class Name: DatasetDict</div><div id='n_method'> N Class Name: DatasetDict</div><div id='m_method'> M Method Name: push_to_hub(8)</div><div id='n_method'> N Method Name: push_to_hub(8)</div><div id='m_parent_class'> M Parent Class: dict</div><div id='n_parent_class'> N Parent Class: dict</div><div id='m_file'> M File Name: src/datasets/dataset_dict.py</div><div id='n_file'> N File Name: src/datasets/dataset_dict.py</div><div id='m_start'> M Start Line: 1346</div><div id='m_end'> M End Line: 1386</div><div id='n_start'> N Start Line: 1350</div><div id='n_end'> N End Line: 1416</div><BR>