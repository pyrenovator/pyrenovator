<html><h3>Pattern ID :25227
</h3><img src='77142905.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            frame_length = self._frame_length,
            frame_step = self._frame_step
        )
        <a id="change">return </a>sound_stct

class StegoDataset(torch.utils.data.Dataset):
    </code></pre><h3>After Change</h3><pre><code class='java'>
                frame_length = self._frame_length,
                frame_step = self._frame_step
            )
        elif <a id="change">self._transform == &quotfourier&quot</a>:
            magnitude<a id="change">, phase = </a>self.stft.transform(<a id="change">tmp.unsqueeze(0).type(</a>torch.float32<a id="change">)</a>)
            return magnitude, phase

        else: raise Exception(f&quotTransform not implemented&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/margaritageleta/pixinwav/commit/e22e4a34d04924c7b5c32f1185e11fdcdbe45311#diff-044d10501c2c890418a6cde469e29cc842a17f248aa43c845b43e27a5e66701bL77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77142905</div><div id='project'> Project Name: margaritageleta/pixinwav</div><div id='commit'> Commit Name: e22e4a34d04924c7b5c32f1185e11fdcdbe45311</div><div id='time'> Time: 2021-03-13</div><div id='author'> Author: noticiasmundiales99@gmail.com</div><div id='file'> File Name: src/loader.py</div><div id='m_class'> M Class Name: AudioProcessor</div><div id='n_method'> N Class Name: AudioProcessor</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/loader.py</div><div id='n_file'> N File Name: src/loader.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        img = self.to_tensor(img)
        if self.img_size != 64:
            img = F.interpolate(img.unsqueeze(0), size=self.img_size).squeeze(0)
        <a id="change">return </a>{&quotinput&quot: img}
</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.img_size != 64:
            img = F.interpolate(img.unsqueeze(0), size=self.img_size).squeeze(0)
        output = {&quotinput&quot: img}
        <a id="change">if self.all_instance_masks is not None</a>:
            ins = self.all_instance_masks[idx]
            ins = self.to_tensor(ins)
            if self.img_size != 64:
                ins = F.interpolate(
                    ins.unsqueeze(0), size=self.img_size).squeeze(0)
            output[&quotinstances&quot]<a id="change"> = </a><a id="change">ins.type(</a>torch.LongTensor<a id="change">)</a>
        return output
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/applied-ai-lab/genesis/commit/946fbd1bef531bb3b00bfc065afdcc25887496f6#diff-d143c29d8cad0b5cef29a74d17a88573db2fafc200fb923cb9b155e22d357e02L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77142908</div><div id='project'> Project Name: applied-ai-lab/genesis</div><div id='commit'> Commit Name: 946fbd1bef531bb3b00bfc065afdcc25887496f6</div><div id='time'> Time: 2020-04-16</div><div id='author'> Author: 31702388+martinengelcke@users.noreply.github.com</div><div id='file'> File Name: datasets/multid_config.py</div><div id='m_class'> M Class Name: dSpritesDataset</div><div id='n_method'> N Class Name: dSpritesDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: datasets/multid_config.py</div><div id='n_file'> N File Name: datasets/multid_config.py</div><div id='m_start'> M Start Line: 110</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 135</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                epsilon / (logits.size(dim=-1) - 1))
    losses = soft_label_cross_entropy(logits, smooth_target, weight=weight, reduction=&quotnone&quot)
    losses.masked_fill_(target==ignore_index, 0)
    <a id="change">return </a>_reduce_losses(losses, reduction)


def focal_loss(logits: torch.Tensor, target: torch.LongTensor, </code></pre><h3>After Change</h3><pre><code class='java'>
    weight : torch.Tensor (logit_dim, )
        A manual rescaling weight given to each class. 
    
    <a id="change">if weight is None</a>:
        sample_weight = (target != ignore_index).type(torch.float)
    else:
        sample_weight<a id="change"> = </a>weight.gather(dim=0, index=target) * <a id="change">(target != ignore_index).type(</a>torch.float<a id="change">)</a>
    
    log_prob = torch.nn.functional.log_softmax(logits, dim=-1)
    target_wo_ignore_index = target.masked_fill(target==ignore_index, 0)
    smooth_target = torch.where(torch.nn.functional.one_hot(target_wo_ignore_index, num_classes=logits.size(dim=-1)).type(torch.bool), </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/syuoni/eznlp/commit/6c21298e53d2743f23f8ce908349372fe4e9c1e8#diff-5e31e2c95d5c4030cb129eee8bfb01162b1fbc8a23a944182cc0c6b38d64aaf5L165' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77142910</div><div id='project'> Project Name: syuoni/eznlp</div><div id='commit'> Commit Name: 6c21298e53d2743f23f8ce908349372fe4e9c1e8</div><div id='time'> Time: 2021-05-10</div><div id='author'> Author: enwei.zhu@outlook.com</div><div id='file'> File Name: eznlp/nn/functional.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: smooth_label_cross_entropy(6)</div><div id='n_method'> N Method Name: smooth_label_cross_entropy(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: eznlp/nn/functional.py</div><div id='n_file'> N File Name: eznlp/nn/functional.py</div><div id='m_start'> M Start Line: 179</div><div id='m_end'> M End Line: 184</div><div id='n_start'> N Start Line: 182</div><div id='n_end'> N End Line: 195</div><BR>