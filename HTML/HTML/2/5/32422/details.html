<html><h3>Pattern ID :32422
</h3><img src='94597319.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        idx=0
        for pdf_filename in tqdm(all_files):
            &#47&#47 if &quotpdf&quot in pdf_filename:
            <a id="change">try:
                </a>self.add_paper(pdf_filename,idx,use_ocr=use_ocr,save_dict=save_dict,report=report)
            <a id="change">except</a>:
                <a id="change">pass</a>
            if idx % 500 == 0 and path_chunks:
                print(&quot  Saving idx {} for filename {}&quot.format(idx, pdf_filename))
                self.save(path_chunks)
            idx += 1</code></pre><h3>After Change</h3><pre><code class='java'>
    @update_naimai_dois
    def get_papers(self,update_dois=False):
        self.get_infos()
        <a id="change">for </a>idx_in_metadata_df,arxiv_id in tqdm(<a id="change">enumerate(</a>self.files_ids<a id="change">)</a>, total=len(self.files_ids))<a id="change">:
            </a>self.add_paper(arxiv_id=arxiv_id,idx_in_metadata_df=idx_in_metadata_df)

        print(&quotObjs problem exported in objectives_pbs.txt&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yassinekdi/naimai/commit/2a8f5ccef65981fdb95ad1dd93bc58dce7762fbf#diff-0664d7ed12233c62025d0fa57f17b6d937fdc11f29247c08296a19f518a91d69L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 94597319</div><div id='project'> Project Name: yassinekdi/naimai</div><div id='commit'> Commit Name: 2a8f5ccef65981fdb95ad1dd93bc58dce7762fbf</div><div id='time'> Time: 2022-02-21</div><div id='author'> Author: keptsa@yahoo.fr</div><div id='file'> File Name: papers/arxiv.py</div><div id='m_class'> M Class Name: papers_arxiv</div><div id='n_method'> N Class Name: papers_arxiv</div><div id='m_method'> M Method Name: get_papers(2)</div><div id='n_method'> N Method Name: get_papers(7)</div><div id='m_parent_class'> M Parent Class: papers</div><div id='n_parent_class'> N Parent Class: papers</div><div id='m_file'> M File Name: papers/arxiv.py</div><div id='n_file'> N File Name: papers/arxiv.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 84</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    curr_token = &quot&quot

    if word_idx is None:
        <a id="change">try:
            </a>word_idx = prompt.split().index(word, offset_idx)
        <a id="change">except</a>:
            for punct in (&quot.&quot, &quot,&quot, &quot!&quot, &quot?&quot):
                try:
                    word_idx = prompt.split().index(word + punct)
                    break
                except:
                    <a id="change">pass</a>

    if word_idx is None:
        raise ValueError(f&quotCouldn\&quott find "{word}" in "{prompt}"&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 merge together all tokens in the word
            return [first_pos + i + offset_idx for i in range(0, token_len)]

        <a id="change">for </a>idx, w_token in <a id="change">enumerate(</a>word_tokens<a id="change">):
            &#47&#47 if the word contains more than one token
            </a>if len(w_token) &gt; len(search_tokens):
                &#47&#47 check to see if the extra tokens were from punctuation
                no_punc = [t for t in w_token if t not in punc_tokens]
                search_no_punc = [t for t in search_tokens if t not in punc_tokens]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/castorini/daam/commit/854e6ddfdae1781009b31b66b2d5bb15d852fccf#diff-ea4e615a144dec76002186f2cde018c58e9a14487f738b334af1572531829aaeL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 94597318</div><div id='project'> Project Name: castorini/daam</div><div id='commit'> Commit Name: 854e6ddfdae1781009b31b66b2d5bb15d852fccf</div><div id='time'> Time: 2022-12-08</div><div id='author'> Author: alotofcatz@gmail.com</div><div id='file'> File Name: daam/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: compute_token_merge_indices(5)</div><div id='n_method'> N Method Name: compute_token_merge_indices(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: daam/utils.py</div><div id='n_file'> N File Name: daam/utils.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            pass


        <a id="change">try:
            </a>row_pixel_spacing_de = sop_instance[0x0028, 0x0030]
            if row_pixel_spacing_de != None :
                series.row_pixel_spacing = row_pixel_spacing_de.value[0]
        <a id="change">except </a>KeyError:
            <a id="change">pass</a>


        try:
            col_pixel_spacing_de = sop_instance[0x0028, 0x0030]</code></pre><h3>After Change</h3><pre><code class='java'>
            if  image_orientation_paient_de != None :
                orientation_orig = image_orientation_paient_de.value
                orientation = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
                <a id="change">for </a>index, name in <a id="change">enumerate(</a>orientation_orig<a id="change">):
                    </a>orientation[index] = float(orientation_orig[index])

                series.row_direction_cosine = orientation[0:3]
                series.col_direction_cosine = orientation[3:6]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/project-monai/monai-deploy-app-sdk/commit/13ba7b604c4e34e66ec62fe36f0e0f171efd1784#diff-5a1261b0d3a3d7f250faf8c735e1efd3be3565a96db31ac2b233c46f3e409766L140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 94597320</div><div id='project'> Project Name: project-monai/monai-deploy-app-sdk</div><div id='commit'> Commit Name: 13ba7b604c4e34e66ec62fe36f0e0f171efd1784</div><div id='time'> Time: 2021-08-06</div><div id='author'> Author: rahulc@nvidia.com</div><div id='file'> File Name: monai/deploy/operators/dicom_data_loader_operator.py</div><div id='m_class'> M Class Name: DICOMDataLoaderOperator</div><div id='n_method'> N Class Name: DICOMDataLoaderOperator</div><div id='m_method'> M Method Name: populate_series_attributes(3)</div><div id='n_method'> N Method Name: populate_series_attributes(3)</div><div id='m_parent_class'> M Parent Class: Operator</div><div id='n_parent_class'> N Parent Class: Operator</div><div id='m_file'> M File Name: monai/deploy/operators/dicom_data_loader_operator.py</div><div id='n_file'> N File Name: monai/deploy/operators/dicom_data_loader_operator.py</div><div id='m_start'> M Start Line: 203</div><div id='m_end'> M End Line: 224</div><div id='n_start'> N Start Line: 232</div><div id='n_end'> N End Line: 248</div><BR>