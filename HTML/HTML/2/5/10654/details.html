<html><h3>Pattern ID :10654
</h3><img src='36882050.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                for riind in range(griddat.shape[1]):
                    griddat[bind, riind].index_put_(
                        tuple(arr_ind.unsqueeze(0)),
                        tmp[bind<a id="change">, riind</a>],
                        accumulate=True
                    )
        else:</code></pre><h3>After Change</h3><pre><code class='java'>
    centers = tf.cast(tf.floor(numpoints * L / 2), int_type)

    &#47&#47 offset from k-space to first coef loc
    kofflist<a id="change"> = </a>1 + \
        tf.cast(<a id="change">tf.floor(</a>tm - numpoints[:, None]<a id="change"> / 2.0</a><a id="change">)</a>, int_type)

    &#47&#47 initialize output array
    griddat = tf.zeros(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zaccharieramzi/tfkbnufft/commit/e1123a8893ee7aeee9593a67d2151f8d860f384a#diff-9f6c80acef016f710c93669e2f4412dd11f8b0b6df0906e13e939992168a3b6dL160' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36882050</div><div id='project'> Project Name: zaccharieramzi/tfkbnufft</div><div id='commit'> Commit Name: e1123a8893ee7aeee9593a67d2151f8d860f384a</div><div id='time'> Time: 2020-03-01</div><div id='author'> Author: zaccharie.ramzi@gmail.com</div><div id='file'> File Name: tfkbnufft/nufft/interp_functions.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_interp_back(3)</div><div id='n_method'> N Method Name: run_interp_back(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tfkbnufft/nufft/interp_functions.py</div><div id='n_file'> N File Name: tfkbnufft/nufft/interp_functions.py</div><div id='m_start'> M Start Line: 160</div><div id='m_end'> M End Line: 205</div><div id='n_start'> N Start Line: 161</div><div id='n_end'> N End Line: 190</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                off_x = self.res * ((1. * logit(tensor[66 + i][y, x])) - 0.0)
                off_y = self.res * ((1. * logit(tensor[66 * 2 + i][y, x])) - 0.0)
            else:
                off_x = self.res * ((2. * float(tensor[66 + i][y<a id="change">, x</a>])) - 1.0)
                off_y = self.res * ((2. * float(tensor[66 * 2 + i][y, x])) - 1.0)
            lm_x = crop_y1 + scale_y * (self.res * (float(x) / 28.) + off_x)
            lm_y = crop_x1 + scale_x * (self.res * (float(y) / 28.) + off_y)</code></pre><h3>After Change</h3><pre><code class='java'>
            off_x = self.res * ((1. * logit(tensor[66 + i][x, y])) - 0.0)
            off_y = self.res * ((1. * logit(tensor[66 * 2 + i][x, y])) - 0.0)
            off_x = math.floor(off_x + 0.5)
            off_y<a id="change"> = </a><a id="change">math.floor(</a>off_y<a id="change"> + 0.5</a><a id="change">)</a>
            lm_x = crop_y1 + scale_y * (self.res * (float(x) / 28.) + off_x)
            lm_y = crop_x1 + scale_x * (self.res * (float(y) / 28.) + off_y)
            lms.append((lm_x,lm_y,conf))
        avg_conf = avg_conf / 66.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/emilianavt/openseeface/commit/dda7dd05198a135fc1e5f6815e51c8f2d50ec8f5#diff-0fd2935c2a1fe561051ff2ef9dda8f4c52cc652e8160029708680c2e61fa2cf0L249' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36882051</div><div id='project'> Project Name: emilianavt/openseeface</div><div id='commit'> Commit Name: dda7dd05198a135fc1e5f6815e51c8f2d50ec8f5</div><div id='time'> Time: 2020-01-26</div><div id='author'> Author: 38952746+emilianavt@users.noreply.github.com</div><div id='file'> File Name: tracker.py</div><div id='m_class'> M Class Name: Tracker</div><div id='n_method'> N Class Name: Tracker</div><div id='m_method'> M Method Name: landmarks(3)</div><div id='n_method'> N Method Name: landmarks(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tracker.py</div><div id='n_file'> N File Name: tracker.py</div><div id='m_start'> M Start Line: 253</div><div id='m_end'> M End Line: 276</div><div id='n_start'> N Start Line: 256</div><div id='n_end'> N End Line: 263</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    train_samples = np.bitwise_or(train_samples, np.bitwise_not(test_samples))

    &#47&#47 splitting samples with no objects
    x_no_objects_train<a id="change">, x_no_objects_test, y_no_objects_train, y_no_objects_test</a> = train_test_split(x_no_objects,
                                                                                                    y_no_objects,
                                                                                                    test_size=test_size)
</code></pre><h3>After Change</h3><pre><code class='java'>
    test_samples = np.zeros((y.shape[0]), dtype=np.bool8)
    train_samples = np.zeros((y.shape[0]), dtype=np.bool8)
    class_sample_counts = y.sum(axis=0)
    ideal_train_size<a id="change"> = </a><a id="change">np.floor(</a>sum(class_sample_counts) * (<a id="change">1</a><a id="change"> - </a>test_size)<a id="change">)</a>

    &#47&#47 stratify starts from a class with the lowest number of samples
    class_indices = np.argsort(class_sample_counts)
    for class_index in class_indices:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pooya-mohammadi/deep_utils/commit/aa4e63d588b19aeac99c6d8e17ddee1c8c650da0#diff-e48b721acca94ee9ee75a33e5fdafbc8eaa53c3e64652ac461d1bb2dc8ace02eL6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36882048</div><div id='project'> Project Name: pooya-mohammadi/deep_utils</div><div id='commit'> Commit Name: aa4e63d588b19aeac99c6d8e17ddee1c8c650da0</div><div id='time'> Time: 2022-06-08</div><div id='author'> Author: pooyamohammadikazaj@gmail.com</div><div id='file'> File Name: deep_utils/utils/multi_label_utils/stratify/stratify_train_test_split.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: stratify_train_test_split_multi_label(4)</div><div id='n_method'> N Method Name: stratify_train_test_split_multi_label(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deep_utils/utils/multi_label_utils/stratify/stratify_train_test_split.py</div><div id='n_file'> N File Name: deep_utils/utils/multi_label_utils/stratify/stratify_train_test_split.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 59</div><div id='n_end'> N End Line: 124</div><BR>