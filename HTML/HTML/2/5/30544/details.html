<html><h3>Pattern ID :30544
</h3><img src='90357632.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        for item in out_list:
            try:
                key, val = item.split(&quot:&quot)
                key, val = key.strip(), <a id="change">val.strip()</a>
                out_dict[key] = val
            except Exception as e:
                print(e)
    except Exception as e:</code></pre><h3>After Change</h3><pre><code class='java'>
        for item in out_list:
            if &quot:&quot in item:
                fragments = item.split(&quot:&quot)
                <a id="change">if len(fragments) == 2</a>:
                    out_dict[fragments[0].strip()] = fragments[1].strip()
    except Exception as e:
        print(e)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/royerlab/cytoself/commit/eaa9c7c3d3af3db811a3745a0f46e0fa83c6b798#diff-5cfa0d2c4853ed4134a11952dd060401afe50dfa58a5549bcdfaf5691692b2bdL20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90357632</div><div id='project'> Project Name: royerlab/cytoself</div><div id='commit'> Commit Name: eaa9c7c3d3af3db811a3745a0f46e0fa83c6b798</div><div id='time'> Time: 2022-08-31</div><div id='author'> Author: liamiiliil@gmail.com</div><div id='file'> File Name: cytoself/gpu_utils/gpumemory.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: gpuinfo(1)</div><div id='n_method'> N Method Name: gpuinfo(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cytoself/gpu_utils/gpumemory.py</div><div id='n_file'> N File Name: cytoself/gpu_utils/gpumemory.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    self.ids=[]
    self.upos=[]
    with open(conllu,"r",encoding="utf-8") as f:
      for s in <a id="change">f.read().strip()</a>.split("\n\n"):
        u=[(w[1],w[3]) for w in [t.split("\t") for t in s.split("\n")] if len(w)==10 and w[0].isdecimal()]
        v=tokenizer([t for t,p in u],add_special_tokens=False)["input_ids"]
        self.ids.append([tokenizer.cls_token_id]+sum(v,[])+[tokenizer.sep_token_id])</code></pre><h3>After Change</h3><pre><code class='java'>
          v=tokenizer(w[1],add_special_tokens=False)["input_ids"]
          i+=v
          u+=[w[3]] if len(v)==1 else ["B-"+w[3]]+["I-"+w[3]]*(len(v)-1)
        elif <a id="change"></a>t.strip()=="" and <a id="change">len(i)&gt;0</a>:
          self.ids.append([tokenizer.cls_token_id]+i+[tokenizer.sep_token_id])
          self.upos.append(["SYM"]+u+["SYM"])
          i,u=[],[]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/koichiyasuoka/esupar/commit/d918c7219af3718aae5c9a29ce8402133110ae54#diff-5c9a99099f28048bee1e5ade1dd2cb0b174ff1230b8f3a69e408e809843070c5L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90357630</div><div id='project'> Project Name: koichiyasuoka/esupar</div><div id='commit'> Commit Name: d918c7219af3718aae5c9a29ce8402133110ae54</div><div id='time'> Time: 2022-01-03</div><div id='author'> Author: yasuoka@kanji.zinbun.kyoto-u.ac.jp</div><div id='file'> File Name: esupar/train.py</div><div id='m_class'> M Class Name: UPOSDataset</div><div id='n_method'> N Class Name: UPOSDataset</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: esupar/train.py</div><div id='n_file'> N File Name: esupar/train.py</div><div id='m_start'> M Start Line: 10</div><div id='m_end'> M End Line: 16</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 22</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    
    conf: Dict[str, str] = {}
    arg = <a id="change">arg.strip()</a>
    if len(arg) == 0:
        return {}

    kv_delimiter: str = "="</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 ["FOO", "v1;v2,BAR", v3, "BAZ", "v4,v5"]
    split_arg = [s for s in arg.split(cfg_kv_delim) if s]  &#47&#47 remove empty
    split_arg_len = <a id="change">len(</a>split_arg<a id="change">)</a>

    <a id="change">if split_arg_len &lt; 2</a>:  &#47&#47 no kv -&gt; malformed str
        raise ValueError(f"`{arg}` does not have at least one `key=value` pair")

    &#47&#47 since we split on "=" so we end up with ["KEY1", "val1,KEY2", "val2,KEY_n", "val_n"]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/torchx/commit/f16607e1cdd96e1e5a9b07ba954509a8da6ede20#diff-3768732b61f67df58f24c2d6f8b004982665a8e37ae4fa8fb3a9633b7f8ec840L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90357631</div><div id='project'> Project Name: pytorch/torchx</div><div id='commit'> Commit Name: f16607e1cdd96e1e5a9b07ba954509a8da6ede20</div><div id='time'> Time: 2022-04-05</div><div id='author'> Author: kiuk@fb.com</div><div id='file'> File Name: torchx/util/types.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: to_dict(1)</div><div id='n_method'> N Method Name: to_dict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchx/util/types.py</div><div id='n_file'> N File Name: torchx/util/types.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 path = "/home/ubuntu/OpenDelta_beta/OpenDelta/"
    with open(os.path.join(path, "opendelta.egg-info/requires.txt"), encoding="utf-8") as freq:
        for line in freq.readlines():
            ret.append( <a id="change">line.strip()</a> )
    return ret

</code></pre><h3>After Change</h3><pre><code class='java'>


def get_requirements():
    ret = [x for x in requires.split("\n") if <a id="change">len(x)&gt;0</a>]
    print("requirements:", ret)
    return ret
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thunlp/opendelta/commit/b9a0f7cf8930889a964a1b6ab49320824dbe0c73#diff-60f61ab7a8d1910d86d9fda2261620314edcae5894d5aaa236b821c7256badd7L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90357629</div><div id='project'> Project Name: thunlp/opendelta</div><div id='commit'> Commit Name: b9a0f7cf8930889a964a1b6ab49320824dbe0c73</div><div id='time'> Time: 2022-07-06</div><div id='author'> Author: shengdinghu@gmail.com</div><div id='file'> File Name: setup.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_requirements(0)</div><div id='n_method'> N Method Name: get_requirements(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: setup.py</div><div id='n_file'> N File Name: setup.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 12</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 22</div><BR>