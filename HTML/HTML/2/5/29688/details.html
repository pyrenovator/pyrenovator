<html><h3>Pattern ID :29688
</h3><img src='88022687.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        crop_h = math.sqrt(random_scale * random_ratio)
        crop_w = math.sqrt(random_scale / random_ratio)
        start_x, start_y = random.uniform(0, 1 - crop_w), random.uniform(0, 1 - crop_h)
        crop_box = (<a id="change">int(</a>start_x<a id="change"> * </a>w<a id="change">)</a>, int(start_y * h), int((start_x + crop_w) * w), int((start_y + crop_h) * h))
        croped_img, crop_boxes = F.crop_detection(img, target["boxes"], crop_box)
        return croped_img, dict(boxes=crop_boxes)
</code></pre><h3>After Change</h3><pre><code class='java'>
        crop_w = math.sqrt(scale / ratio)
        start_x, start_y = random.uniform(0, 1 - crop_w), random.uniform(0, 1 - crop_h)
        crop_box = (
            max(0, <a id="change">int(</a><a id="change">round(</a>start_x<a id="change"> * </a>w<a id="change">))</a>),
            max(0, int(round(start_y * h))),
            min(int(round((start_x + crop_w) * w)), w - 1),
            min(int(round((start_y + crop_h) * h)), h - 1)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/cfc329f8b21cd7d8c08d5c9190c53bd77a3149c4#diff-6ddb568a3f7419ad0db365f04bc3772c5773c714f04684563d6931e8ff0594f4L134' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88022687</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: cfc329f8b21cd7d8c08d5c9190c53bd77a3149c4</div><div id='time'> Time: 2021-09-15</div><div id='author'> Author: 76527547+fg-mindee@users.noreply.github.com</div><div id='file'> File Name: doctr/transforms/modules/base.py</div><div id='m_class'> M Class Name: RandomCrop</div><div id='n_method'> N Class Name: RandomCrop</div><div id='m_method'> M Method Name: __call__(3)</div><div id='n_method'> N Method Name: __call__(3)</div><div id='m_parent_class'> M Parent Class: NestedObject</div><div id='n_parent_class'> N Parent Class: NestedObject</div><div id='m_file'> M File Name: doctr/transforms/modules/base.py</div><div id='n_file'> N File Name: doctr/transforms/modules/base.py</div><div id='m_start'> M Start Line: 134</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 135</div><div id='n_end'> N End Line: 138</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        raise ValueError(msg % np.iinfo(tp).max)

    &#47&#47 Number of non zero values
    k = <a id="change">int(</a>density<a id="change"> * m * </a>n<a id="change">)</a>

    random_state = check_random_state(random_state)

    if data_rvs is None:</code></pre><h3>After Change</h3><pre><code class='java'>
        raise ValueError(msg % np.iinfo(tp).max)

    &#47&#47 Number of non zero values
    k = <a id="change">int(</a><a id="change">round(</a>density<a id="change"> * m * </a>n<a id="change">))</a>

    random_state = check_random_state(random_state)

    if data_rvs is None:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/bb1787e75b8876469ea8be0c35d60c11f05968f0#diff-50f882260d17a26b9df6869ba88270fc16405d455adb01b0bde9f76acdab79f7L682' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88022670</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: bb1787e75b8876469ea8be0c35d60c11f05968f0</div><div id='time'> Time: 2020-05-26</div><div id='author'> Author: kaleabtessera@gmail.com</div><div id='file'> File Name: scipy/sparse/construct.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: random(7)</div><div id='n_method'> N Method Name: random(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scipy/sparse/construct.py</div><div id='n_file'> N File Name: scipy/sparse/construct.py</div><div id='m_start'> M Start Line: 770</div><div id='m_end'> M End Line: 770</div><div id='n_start'> N Start Line: 770</div><div id='n_end'> N End Line: 770</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for word in line["words"]:
                &#47&#47 Get aboslute word geometry
                (xmin, ymin), (xmax, ymax) = word["geometry"]
                xmin, xmax = <a id="change">int(</a>w<a id="change"> * </a>xmin<a id="change">)</a>, int(w * xmax)
                ymin, ymax = int(h * ymin), int(h * ymax)

                &#47&#47 White drawing context adapted to font size, 0.75 factor to convert pts --&gt; pix</code></pre><h3>After Change</h3><pre><code class='java'>
            for word in line["words"]:
                &#47&#47 Get aboslute word geometry
                (xmin, ymin), (xmax, ymax) = word["geometry"]
                xmin, xmax = <a id="change">int(</a><a id="change">round(</a>w<a id="change"> * </a>xmin<a id="change">))</a>, int(round(w * xmax))
                ymin, ymax = int(round(h * ymin)), int(round(h * ymax))

                &#47&#47 White drawing context adapted to font size, 0.75 factor to convert pts --&gt; pix</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/e96acd1d1d3a1e0b22a211bddb2ac30e9d419a1f#diff-c55d3eb030a613971240f17be2185973094f0874ac9e5ab221e0d2b9d914e7ccL248' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88022684</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: e96acd1d1d3a1e0b22a211bddb2ac30e9d419a1f</div><div id='time'> Time: 2021-11-05</div><div id='author'> Author: felixdittrich92@gmail.com</div><div id='file'> File Name: doctr/utils/visualization.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: synthesize_page(4)</div><div id='n_method'> N Method Name: synthesize_page(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: doctr/utils/visualization.py</div><div id='n_file'> N File Name: doctr/utils/visualization.py</div><div id='m_start'> M Start Line: 276</div><div id='m_end'> M End Line: 277</div><div id='n_start'> N Start Line: 276</div><div id='n_end'> N End Line: 277</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if latency is None:
        latency = step
    assert duration &gt;= latency &gt;= step
    num_overlapping = <a id="change">int(</a>latency<a id="change"> / </a>step<a id="change">)</a>

    def _get_aggregation_range(buffers: List[SlidingWindowFeature]) -&gt; Tuple[List[SlidingWindowFeature], Segment]:
        real_time = buffers[-1].extent.end
        start_time = 0</code></pre><h3>After Change</h3><pre><code class='java'>
    assert strategy in ["mean", "hamming", "any"]
    if strategy == "hamming":
        warnings.warn("&quothamming&quot aggregation is not supported yet, defaulting to &quotmean&quot")
    num_overlapping = <a id="change">int(</a><a id="change">round(</a>latency<a id="change"> / </a>step<a id="change">))</a>

    def apply(buffers: List[SlidingWindowFeature]) -&gt; SlidingWindowFeature:
        &#47&#47 Determine overlapping region to aggregate
        real_time = buffers[-1].extent.end</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/juanmc2005/streamingspeakerdiarization/commit/d7fd1301b0feb9b5699e044d21b74fb0ef604072#diff-add5d08cbe25cc5cb3cb8a9f4d4b65dfc5882669712b356a9900c6cd88ee99b3L81' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88022672</div><div id='project'> Project Name: juanmc2005/streamingspeakerdiarization</div><div id='commit'> Commit Name: d7fd1301b0feb9b5699e044d21b74fb0ef604072</div><div id='time'> Time: 2021-08-11</div><div id='author'> Author: juanmc2005@hotmail.com</div><div id='file'> File Name: operators.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: aggregate(4)</div><div id='n_method'> N Method Name: aggregate(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: operators.py</div><div id='n_file'> N File Name: operators.py</div><div id='m_start'> M Start Line: 85</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 94</div><div id='n_end'> N End Line: 102</div><BR>