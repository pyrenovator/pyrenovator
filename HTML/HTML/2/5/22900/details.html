<html><h3>Pattern ID :22900
</h3><img src='72791476.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ed = int(tick_to_time[tempos[i + 1].time] * rate * time_aug_factor)
        tempo_seq[st:ed] = int(tempos[i].tempo + 0.5)
    st = int(tick_to_time[tempos[-1].time] * rate * time_aug_factor)
    tempo_seq[st:]<a id="change"> = </a><a id="change">int(</a>tempos[-1].tempo<a id="change"> + 0.5</a><a id="change">)</a>
    return note_seq, tempo_seq


def seq_to_midi(</code></pre><h3>After Change</h3><pre><code class='java'>

    tempos = midi_obj.tempo_changes
    tempos.sort(key=lambda x: (x.time, x.tempo))
    <a id="change">assert </a>len(tempos) == 1
    tempo_BPM = tempos[0].tempo         &#47&#47 global information, beats per minute
    tempo_BPS = tempo_BPM / 60.0        &#47&#47 global information, beats per second
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sjtmusicteam/muskits/commit/976232e4df99bdbc8298e2a20436034edc51e9ab#diff-fa0e8b40b7d4f3b12f66685446b0d3165f6e397b28b96f892aa8a2fde7b74972L41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72791476</div><div id='project'> Project Name: sjtmusicteam/muskits</div><div id='commit'> Commit Name: 976232e4df99bdbc8298e2a20436034edc51e9ab</div><div id='time'> Time: 2022-01-10</div><div id='author'> Author: 2016202112@ruc.edu.cn</div><div id='file'> File Name: muskit/fileio/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: midi_to_seq(5)</div><div id='n_method'> N Method Name: midi_to_seq(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: muskit/fileio/utils.py</div><div id='n_file'> N File Name: muskit/fileio/utils.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 60</div><div id='n_start'> N Start Line: 41</div><div id='n_end'> N End Line: 66</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    w = (leading + norm_w.max(-1))[np.newaxis]

    modalities = np.split(signal, signal.shape[-1], -1)
    colormaps = [plt.cm.get_cmap(name)(np.linspace(0, 1., <a id="change">int(256</a><a id="change"> / </a>len(modalities)<a id="change">)</a>)) for name in CMAPS][
                :len(modalities)]
    colors<a id="change"> = </a>np.concatenate(colormaps, 0)
    mycolormap = mcolors.LinearSegmentedColormap.from_list(&quotmycolormap&quot, colors)

    ax.imshow(w,</code></pre><h3>After Change</h3><pre><code class='java'>


def impose(weights, signal, colormaps):
    <a id="change">assert </a>len(signal.shape) == 3
    assert len(weights.shape) == 2

    &#47&#47 create a figure</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kolaszko/haptic_transformer/commit/b78cf689b18ea6854d17e5ed972b867313e8c086#diff-15bb97bc6ad29ac4b074bd849c915f9abdabee19ea470f25e7f650f7379943f6L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72791462</div><div id='project'> Project Name: kolaszko/haptic_transformer</div><div id='commit'> Commit Name: b78cf689b18ea6854d17e5ed972b867313e8c086</div><div id='time'> Time: 2021-12-02</div><div id='author'> Author: michalbednarek.e@gmail.com</div><div id='file'> File Name: utils/analysis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: impose(3)</div><div id='n_method'> N Method Name: impose(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/analysis.py</div><div id='n_file'> N File Name: utils/analysis.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    

    &#47&#47 Compute filter length, ensuring length is odd
    N = <a id="change">int(</a>math.ceil(<a id="change">4</a><a id="change"> / </a>b)<a id="change">)</a>
    N += N % 2
    n = torch.arange(N)

    &#47&#47 Define sinc function, avoiding division by zero
    def sinc(x): return torch.sin(x) / (x + 1e-10)

    &#47&#47 Compute a low-pass filter with cutoff frequency notch_freq.
    hlpf = sinc((notch_freq - 2*b) * (n - (N - 1) / 2))
    hlpf *= torch.blackman_window(N)
    hlpf /= torch.sum(hlpf)

    &#47&#47 Compute a high-pass filter with cutoff frequency notch_freq.
    hhpf<a id="change"> = </a>sinc((notch_freq + 2*b) * (n - (N - 1) / 2))
    hhpf *= torch.blackman_window(N)
    hhpf /= -torch.sum(hhpf)
    hhpf[(N - 1) // 2] += 1</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 Check inputs
    assert notch_freq &gt; 0 and notch_freq &lt;= 1
    <a id="change">assert </a>N % 2 != 0
    pad = N // 2
    n = torch.arange(N) - pad
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/a478adfd391cc6d4fe1d41abd3613d20b7fc349d#diff-8f41b7c6f8310ccf5ec23acf0ede4f3b90c12388db593458278544ffb09ae3d5L1953' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72791474</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: a478adfd391cc6d4fe1d41abd3613d20b7fc349d</div><div id='time'> Time: 2020-03-02</div><div id='author'> Author: plantinga.peter@protonmail.com</div><div id='file'> File Name: data_augmentation.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: notch_filter(3)</div><div id='n_method'> N Method Name: notch_filter(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data_augmentation.py</div><div id='n_file'> N File Name: data_augmentation.py</div><div id='m_start'> M Start Line: 1997</div><div id='m_end'> M End Line: 2016</div><div id='n_start'> N Start Line: 263</div><div id='n_end'> N End Line: 342</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                  num_steps=8, batch_size=200):

    assert 4000 % num_steps == 0
    step<a id="change"> = </a><a id="change">int(4000</a><a id="change"> / </a>num_steps<a id="change">)</a>  &#47&#47 stride / hop
    outs = []
    to_concat = []
</code></pre><h3>After Change</h3><pre><code class='java'>
                  num_steps=8, batch_size=200):

    num_samples = 4000
    <a id="change">assert </a>num_samples % num_steps == 0
    step = int(num_samples / num_steps)  &#47&#47 stride / hop
    outs = []
    to_concat = []</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/snakers4/silero-vad/commit/23bcad96e52057fc134aea5e72a46ae0b1a75a61#diff-09d0cbaf891d623ac245ccf84485a687b554217349ca55557c60b33234b969aeL76' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 72791470</div><div id='project'> Project Name: snakers4/silero-vad</div><div id='commit'> Commit Name: 23bcad96e52057fc134aea5e72a46ae0b1a75a61</div><div id='time'> Time: 2020-12-11</div><div id='author'> Author: dvoronin322@gmail.com</div><div id='file'> File Name: utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_speech_ts(7)</div><div id='n_method'> N Method Name: get_speech_ts(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils.py</div><div id='n_file'> N File Name: utils.py</div><div id='m_start'> M Start Line: 80</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 80</div><div id='n_end'> N End Line: 112</div><BR>