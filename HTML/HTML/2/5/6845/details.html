<html><h3>Pattern ID :6845
</h3><img src='23215296.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    analysis_opencell.reset_umap()
    opencell_datamgr_vanilla.const_dataset(label_format=&quotindex&quot)
    opencell_datamgr_vanilla.const_dataloader()
    group_annotation = <a id="change">np.tile(np.arange(3).reshape(-1, 1), (1, 2)).astype(</a>object<a id="change">)</a>
    group_annotation[:2, 1] = &quotgp0&quot
    group_annotation[2:, 1] = &quotgp1&quot
    with assert_not_raises():
        output = analysis_opencell.plot_umap_of_embedding_vector(</code></pre><h3>After Change</h3><pre><code class='java'>
    analysis_opencell.reset_umap()
    opencell_datamgr_vanilla.const_dataset(label_format=&quotindex&quot)
    opencell_datamgr_vanilla.const_dataloader()
    group_annotation = <a id="change">np.array(</a>[[0, &quotgp0&quot], [1, &quotgp1&quot]]<a id="change">, dtype=object)</a>
    with assert_not_raises():
        output = analysis_opencell.plot_umap_of_embedding_vector(
            data_loader=opencell_datamgr_vanilla.test_loader,
            savepath=_file_name,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/royerlab/cytoself/commit/fdc5c3f9d381e9a5d2ec581c1006e403ff86b365#diff-c1d49dc86512762fa684b6922d8ebc26a916b52a79b49a4aa62ca2f1ac3864f3L102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23215296</div><div id='project'> Project Name: royerlab/cytoself</div><div id='commit'> Commit Name: fdc5c3f9d381e9a5d2ec581c1006e403ff86b365</div><div id='time'> Time: 2022-08-18</div><div id='author'> Author: liamiiliil@gmail.com</div><div id='file'> File Name: cytoself/analysis/test/test_analysis_opencell.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_plot_umap_of_embedding_vector_dataloader(3)</div><div id='n_method'> N Method Name: test_plot_umap_of_embedding_vector_dataloader(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cytoself/analysis/test/test_analysis_opencell.py</div><div id='n_file'> N File Name: cytoself/analysis/test/test_analysis_opencell.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 141</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )

    coefficients = operator.raw_operator.coef_.transpose().astype("float32")
    intercepts = <a id="change">operator.raw_operator.intercept_.reshape(1, -1).astype(</a>"float32"<a id="change">)</a>

    multi_class = None
    loss = None
    if hasattr(operator.raw_operator, "multi_class"):</code></pre><h3>After Change</h3><pre><code class='java'>

    intercepts = operator.raw_operator.intercept_
    if np.ndim(intercepts) == 0:
        intercepts = <a id="change">np.array(</a>intercepts<a id="change">, dtype="float32")</a>
    else:
        intercepts = intercepts.reshape(1, -1).astype("float32")

    multi_class = None</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/hummingbird/commit/c38178c4d1ee9927827a361daadcc5f4a7357fb2#diff-b3c83f5b4fb2176492d8d2a74dfbf7136e67afa4c335e0fb519293780496d06aL17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23215294</div><div id='project'> Project Name: microsoft/hummingbird</div><div id='commit'> Commit Name: c38178c4d1ee9927827a361daadcc5f4a7357fb2</div><div id='time'> Time: 2022-08-31</div><div id='author'> Author: 56846628+RomanBredehoft@users.noreply.github.com</div><div id='file'> File Name: hummingbird/ml/operator_converters/sklearn/linear.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: convert_sklearn_linear_model(3)</div><div id='n_method'> N Method Name: convert_sklearn_linear_model(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: hummingbird/ml/operator_converters/sklearn/linear.py</div><div id='n_file'> N File Name: hummingbird/ml/operator_converters/sklearn/linear.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    coefficients = operator.raw_operator.coef_.transpose().astype("float32")
    if len(coefficients.shape) == 1:
        coefficients = coefficients.reshape(-1, 1)
    intercepts = <a id="change">operator.raw_operator.intercept_.reshape(1, -1).astype(</a>"float32"<a id="change">)</a>

    return LinearModel(operator, coefficients, intercepts, device, is_linear_regression=True)

</code></pre><h3>After Change</h3><pre><code class='java'>

    intercepts = operator.raw_operator.intercept_
    if np.ndim(intercepts) == 0:
        intercepts = <a id="change">np.array(</a>intercepts<a id="change">, dtype="float32")</a>
    else:
        intercepts = intercepts.reshape(1, -1).astype("float32")

    return LinearModel(operator, coefficients, intercepts, device, is_linear_regression=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/hummingbird/commit/c38178c4d1ee9927827a361daadcc5f4a7357fb2#diff-b3c83f5b4fb2176492d8d2a74dfbf7136e67afa4c335e0fb519293780496d06aL64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23215295</div><div id='project'> Project Name: microsoft/hummingbird</div><div id='commit'> Commit Name: c38178c4d1ee9927827a361daadcc5f4a7357fb2</div><div id='time'> Time: 2022-08-31</div><div id='author'> Author: 56846628+RomanBredehoft@users.noreply.github.com</div><div id='file'> File Name: hummingbird/ml/operator_converters/sklearn/linear.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: convert_sklearn_linear_regression_model(3)</div><div id='n_method'> N Method Name: convert_sklearn_linear_regression_model(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: hummingbird/ml/operator_converters/sklearn/linear.py</div><div id='n_file'> N File Name: hummingbird/ml/operator_converters/sklearn/linear.py</div><div id='m_start'> M Start Line: 82</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 94</div><BR>