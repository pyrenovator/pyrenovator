<html><h3>Pattern ID :11848
</h3><img src='39871363.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 However this currently doesn&quott work in `mps`.
        latents_shape = [batch_size * num_images_per_prompt, self.unet.in_channels, height // 8, width // 8]
        if latents is None:
            <a id="change">paddle.seed(</a>seed<a id="change">)</a>
            latents = paddle.randn(latents_shape, dtype=text_embeddings.dtype)
        else:
            if latents.shape != latents_shape:
                raise ValueError(f"Unexpected latents shape, got {latents.shape}, expected {latents_shape}")</code></pre><h3>After Change</h3><pre><code class='java'>
            extra_step_kwargs["eta"] = eta

        &#47&#47 check if the scheduler accepts generator
        accepts_generator = <a id="change">"generator" in set(inspect.signature(self.scheduler.step).parameters.keys())</a>
        <a id="change">if </a>accepts_generator:
            extra_step_kwargs["generator"]<a id="change"> = </a>generator

        for i, t in enumerate(self.progress_bar(timesteps_tensor)):
            &#47&#47 expand the latents if we are doing classifier free guidance</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/82bd9b1897dab2a45d17abac0ebbd3c9ed4fda9c#diff-f628c168d6e6121fc0f2af6b3c4ba4d5c1855f7840b24ca1742dc730c54e7b42L217' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39871363</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 82bd9b1897dab2a45d17abac0ebbd3c9ed4fda9c</div><div id='time'> Time: 2023-02-21</div><div id='author'> Author: 40912707+Yam0214@users.noreply.github.com</div><div id='file'> File Name: ppdiffusers/examples/community/clip_guided_stable_diffusion.py</div><div id='m_class'> M Class Name: CLIPGuidedStableDiffusion</div><div id='n_method'> N Class Name: CLIPGuidedStableDiffusion</div><div id='m_method'> M Method Name: __call__(19)</div><div id='n_method'> N Method Name: __call__(18)</div><div id='m_parent_class'> M Parent Class: DiffusionPipeline</div><div id='n_parent_class'> N Parent Class: DiffusionPipeline</div><div id='m_file'> M File Name: ppdiffusers/examples/community/clip_guided_stable_diffusion.py</div><div id='n_file'> N File Name: ppdiffusers/examples/community/clip_guided_stable_diffusion.py</div><div id='m_start'> M Start Line: 264</div><div id='m_end'> M End Line: 384</div><div id='n_start'> N Start Line: 217</div><div id='n_end'> N End Line: 405</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    logging.info(utils.format_arg_str(args, exclude_lst=exclude))

    &#47&#47 Random seed
    <a id="change">np.random.seed(</a>args.random_seed<a id="change">)</a>
    torch.manual_seed(args.random_seed)
    torch.cuda.manual_seed(args.random_seed)
    torch.backends.cudnn.deterministic = True
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 GPU
    os.environ[&quotCUDA_VISIBLE_DEVICES&quot] = args.gpu
    args.device = torch.device(&quotcpu&quot)
    <a id="change">if args.gpu != &quot&quot</a> and torch.cuda.is_available():
        args.device<a id="change"> = </a>torch.device(&quotcuda&quot)
    logging.info(&quotDevice: {}&quot.format(args.device))

    &#47&#47 Read data</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/1990a3b0a81e17f87d94705868f12cead7fe06c7#diff-2e5ad92c43aa96cc3a9cef6c6aec998b216f1379c43b1f651013d25e55989312L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39871365</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: 1990a3b0a81e17f87d94705868f12cead7fe06c7</div><div id='time'> Time: 2022-06-08</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/main.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/main.py</div><div id='n_file'> N File Name: src/main.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 79</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        df_b = pd.DataFrame()
        
        &#47&#47Generate 5 random numbers between 10 and 30
        <a id="change">np.random.seed(</a>1<a id="change">)</a>
        rand_len = 1
        rand_list = np.random.uniform(low=0, high=5, size=(rand_len,))
        print(rand_list)
        &#47&#47 rand_list = [0,1]</code></pre><h3>After Change</h3><pre><code class='java'>
        
        for expt in expts:
            controller_name = expt[&quotcontroller&quot]
            <a id="change">if controller_name ==  &quotdiscrete_quad_avoid_origin_maneuver_2&quot</a>:
                num_nodes = 40
            else:
                import re
                num_nodes<a id="change"> = </a>sum([int(s) for s in re.findall(r&quot\d+&quot, controller_name)])
            for key, value in expt.items():
                setattr(args, key, value)
            stats, info = ex.main(args)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/3d2cd1f1bff1e6e54e76b61e120625ef91604889#diff-380ec8b19ce82a99f9291f165d8cb945571b2f757ea9131bed672ad40f383a18L814' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39871366</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: 3d2cd1f1bff1e6e54e76b61e120625ef91604889</div><div id='time'> Time: 2023-01-31</div><div id='author'> Author: nrober1122@gmail.com</div><div id='file'> File Name: nn_closed_loop/backward_experiments.py</div><div id='m_class'> M Class Name: NNScalability</div><div id='n_method'> N Class Name: NNScalability</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: Experiment</div><div id='n_parent_class'> N Parent Class: Experiment</div><div id='m_file'> M File Name: nn_closed_loop/backward_experiments.py</div><div id='n_file'> N File Name: nn_closed_loop/backward_experiments.py</div><div id='m_start'> M Start Line: 818</div><div id='m_end'> M End Line: 898</div><div id='n_start'> N Start Line: 818</div><div id='n_end'> N End Line: 899</div><BR>