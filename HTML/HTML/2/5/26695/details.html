<html><h3>Pattern ID :26695
</h3><img src='79865223.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    result = min(results, key=lambda x: x["js_place_length"])
    logger.info(f"length_true={result[&quotjs_place_length&quot]:.2f}")

    <a id="change">logger.info(f"planning_time={time.time() - t_start:.2f} [s]"</a><a id="change">)</a>

    execute_plan(env, result)

</code></pre><h3>After Change</h3><pre><code class='java'>
        )
        auc_pred = auc_pred.cpu().numpy()

        <a id="change">for </a>threshold in [0.6, 0.4, 0.2, 0]<a id="change">:
            </a>keep = success_pred &gt; threshold
            if <a id="change">keep.sum()</a> &gt; 0:
                break

        success_pred = success_pred[keep]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/wkentaro/safepicking/commit/ff8d814b270cd083c0295ae7f30192ca46d865f5#diff-3755888d9f65827df523334c3436d07328a743cc66a21fe8ff8d7085b51b25fdL30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79865223</div><div id='project'> Project Name: wkentaro/safepicking</div><div id='commit'> Commit Name: ff8d814b270cd083c0295ae7f30192ca46d865f5</div><div id='time'> Time: 2021-05-28</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/reorient/learned.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plan_and_execute_reorient(5)</div><div id='n_method'> N Method Name: plan_and_execute_reorient(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/reorient/learned.py</div><div id='n_file'> N File Name: examples/reorient/learned.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 144</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 log.info("Absolute sum of weights in epoch %d for batch %d is %f" % (epoch,i,np.sum(np.array(sum_ws))))
            &#47&#47 log.info("Loss in epoch %d for batch %d is %f" % (epoch, i, loss.item()))

            <a id="change">log.info("+++++++"</a><a id="change">)</a>



</code></pre><h3>After Change</h3><pre><code class='java'>

            sum_grads = []
            sum_ws = []
            <a id="change">for p</a> in kg_embedding_model.parameters()<a id="change">:
                &#47&#47 print(p.shape)
                &#47&#47 print(torch.sum(p))
                </a>if p.grad is not None:
                    &#47&#47 print(p.grad)
                    sum_grads.append(<a id="change">torch.sum(</a>torch.abs(p.grad)<a id="change">)</a>)
                sum_ws.append(torch.sum(torch.abs(p)))

            sum_grads = torch.tensor(sum_grads)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/70814641d6418a72f4cba5b0f7e18c8acd2f0574#diff-ff4432cf8281f238da64dab17f2b4f7fc2b0bd639f3c043c019d1896b3cc04a1L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79865226</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: 70814641d6418a72f4cba5b0f7e18c8acd2f0574</div><div id='time'> Time: 2018-09-04</div><div id='author'> Author: ali-mehdi@live.de</div><div id='file'> File Name: src/utilities/train_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_trans_x_model(7)</div><div id='n_method'> N Method Name: train_trans_x_model(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/utilities/train_utils.py</div><div id='n_file'> N File Name: src/utilities/train_utils.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = min(results, key=lambda x: x["js_place_length"])
    logger.info(f"length_true={result[&quotjs_place_length&quot]:.2f}")

    <a id="change">logger.info(f"planning_time={time.time() - t_start:.2f} [s]"</a><a id="change">)</a>

    execute_plan(env, result)

</code></pre><h3>After Change</h3><pre><code class='java'>
        )
        auc_pred = auc_pred.cpu().numpy()

        <a id="change">for threshold</a> in [0.6, 0.4, 0.2, 0]<a id="change">:
            </a>keep = success_pred &gt; threshold
            if <a id="change">keep.sum()</a> &gt; 0:
                break

        success_pred = success_pred[keep]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wkentaro/reorientbot/commit/ff8d814b270cd083c0295ae7f30192ca46d865f5#diff-3755888d9f65827df523334c3436d07328a743cc66a21fe8ff8d7085b51b25fdL27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79865225</div><div id='project'> Project Name: wkentaro/reorientbot</div><div id='commit'> Commit Name: ff8d814b270cd083c0295ae7f30192ca46d865f5</div><div id='time'> Time: 2021-05-28</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/reorient/learned.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plan_and_execute_reorient(5)</div><div id='n_method'> N Method Name: plan_and_execute_reorient(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/reorient/learned.py</div><div id='n_file'> N File Name: examples/reorient/learned.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 144</div><BR>