<html><h3>Pattern ID :10089
</h3><img src='35874577.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        for iocc in range(nocc):
            for ivirt in range(nvirt):
                c = <a id="change">ground_state.copy()</a>
                c[iocc] -= 1
                c[ivirt]<a id="change"> += </a>1
                configs.append(c)

        return configs</code></pre><h3>After Change</h3><pre><code class='java'>

    def select_configuration_singlet(self):
        
        confs_spin_up<a id="change"> = </a><a id="change">[]</a>
        confs_spin_down = []
        
        c0 = np.argwhere(self.rhf.mo_occ!=0).flatten()
        index_homo = np.max(c0)

        <a id="change">confs_spin_up.append(</a>c0<a id="change">)</a>
        confs_spin_down.append(c0)

        nocc = int(np.ceil(self.active_space[0]/2))
        nvirt = int(self.active_space[0]/2)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/3d0729884ee51e648a4ed7c8ff4f07e1a7a28bf4#diff-1e56989de7742ddc00fbe92393558cb5707d0796a5766b9efe0d2c732d603de0L122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35874577</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: 3d0729884ee51e648a4ed7c8ff4f07e1a7a28bf4</div><div id='time'> Time: 2019-05-17</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: pyCHAMP/wavefunction/neural_pyscf_wf_base.py</div><div id='m_class'> M Class Name: NEURAL_PYSCF_WF</div><div id='n_method'> N Class Name: NEURAL_PYSCF_WF</div><div id='m_method'> M Method Name: select_configuration_singlet(1)</div><div id='n_method'> N Method Name: select_configuration_singlet(1)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: pyCHAMP/wavefunction/neural_pyscf_wf_base.py</div><div id='n_file'> N File Name: pyCHAMP/wavefunction/neural_pyscf_wf_base.py</div><div id='m_start'> M Start Line: 122</div><div id='m_end'> M End Line: 136</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 153</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.lr_mult_list.insert(0, 1)

        &#47&#47 calculate T_i accroding to given T_0 list
        T_0_expand<a id="change"> = </a><a id="change">T_0.copy()</a>
        T_0_expand.append(final_epoch)

        self.T_i_list = [T_0_expand[i+1] - T_0_expand[i] - 1 for i in range(len(T_0_expand)-1)]
        self.T_i_list[0] = self.T_i_list[0] - self.warmup_begin &#47&#47 subtract warmup at beginning</code></pre><h3>After Change</h3><pre><code class='java'>
                raise ValueError("Expected T_0 and lr_mult has the same length, but got {} and {}".format(len(T_0), len(lr_mult)))

        self.final_epoch = final_epoch
        self.T_0_list = T_0 if T_0 else <a id="change">[]</a>
        self.lr_mult_list = lr_mult if lr_mult else []
        self.warmup_begin = warmup_begin
        self.warmup_factor = warmup_factor
        self.eta_min = eta_min

        &#47&#47 add number at beggining
        self.T_0_list.insert(0, 0)
        self.lr_mult_list.insert(0, 1)

        &#47&#47 calculate T_i accroding to given T_0 list
        self.T_0_expand<a id="change">= </a>self.T_0_list.copy()
        <a id="change">self.T_0_expand.append(</a>final_epoch<a id="change">)</a>

        if self.warmup_begin &gt; self.T_0_expand[1]:
            raise ValueError("the warmup_begin iteration is bigger than the first T_i, please use smaller warmup_begin or bigger T_0[0]")
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cnstark/easytorch/commit/4619d4ca01aea7815cbefd9f87692d6232a8abd7#diff-3527c083ad200e2dd50ee40bbdb1dbd1b58446d412eda858f9403ee4e25e0310L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35874583</div><div id='project'> Project Name: cnstark/easytorch</div><div id='commit'> Commit Name: 4619d4ca01aea7815cbefd9f87692d6232a8abd7</div><div id='time'> Time: 2021-08-06</div><div id='author'> Author: 33473792+YuhaoZeng@users.noreply.github.com</div><div id='file'> File Name: easytorch/easyoptim/easy_lr_scheduler.py</div><div id='m_class'> M Class Name: MultiCosineAnnealingWarmupLR</div><div id='n_method'> N Class Name: MultiCosineAnnealingWarmupLR</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: _LRScheduler</div><div id='n_parent_class'> N Parent Class: _LRScheduler</div><div id='m_file'> M File Name: easytorch/easyoptim/easy_lr_scheduler.py</div><div id='n_file'> N File Name: easytorch/easyoptim/easy_lr_scheduler.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 67</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &quotvalues respectively.&quot
        )
    &#47&#47 check y column: soft
    history<a id="change"> = </a><a id="change">df.loc[df.loc[:, &quoty&quot].notnull()].copy()</a>
    if history.shape[0] &lt; 2:
        raise ValueError(&quotDataframe has less than 2 non-NaN rows.&quot)
    df.loc[:, &quoty&quot] = pd.to_numeric(df.loc[:, &quoty&quot])
    if np.isinf(df.loc[:, &quoty&quot].values).any():</code></pre><h3>After Change</h3><pre><code class='java'>
    if df[&quotds&quot].dt.tz is not None:
        raise ValueError(&quotColumn ds has timezone specified, which is not supported. Remove timezone.&quot)

    columns<a id="change"> = </a><a id="change">[]</a>
    if check_y: <a id="change">columns.append(</a>&quoty&quot<a id="change">)</a>
    if extra_regressors is not None: columns.extend(extra_regressors)
    for name in columns:
        if name not in df:
            raise ValueError(&quotColumn {name!r} missing from dataframe&quot.format(name=name))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/7ca21bf1403e63ae988aaa0e0a0eefdbacf572aa#diff-cb8ae2d50e5d5d245ed6fcc8cadf2baf7294fa9ac5c63e819fbfe34f0e4c2552L88' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35874582</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 7ca21bf1403e63ae988aaa0e0a0eefdbacf572aa</div><div id='time'> Time: 2020-06-21</div><div id='author'> Author: oskar.triebe@merantix.com</div><div id='file'> File Name: neuralprophet/df_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_dataframe(3)</div><div id='n_method'> N Method Name: check_dataframe(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: neuralprophet/df_utils.py</div><div id='n_file'> N File Name: neuralprophet/df_utils.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 130</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 119</div><BR>