<html><h3>Pattern ID :40068
</h3><img src='113903226.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    candidate_idx = selected_idx[n:]

    for i, idx in enumerate(outlier_idx):
        cur_candidates = candidate_idx[<a id="change">k * i: k * (i + 1)</a>]

        euclidean_dist = torch.cdist(data.x[idx].unsqueeze(0), data.x[list(
            cur_candidates)])</code></pre><h3>After Change</h3><pre><code class='java'>
        candidate_idx = torch.randperm(data.num_nodes)[:k]
        euclidean_dist = torch.cdist(data.x[idx].unsqueeze(0), data.x[
            candidate_idx])
        <a id="change">print(</a>euclidean_dist<a id="change">)</a>
        max_dist_idx = torch.argmax(euclidean_dist, dim=1)
        max_dist_node = candidate_idx[max_dist_idx]
        data.x[idx] = data.x[max_dist_node]
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pygod-team/pygod/commit/4f7d15f06d06ce2d3626ae14a07ff06078120e72#diff-3c72ac4be0a2571c461680cf847e1c7c62e1136689eaf7bbe2498fb8caa98746L137' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113903226</div><div id='project'> Project Name: pygod-team/pygod</div><div id='commit'> Commit Name: 4f7d15f06d06ce2d3626ae14a07ff06078120e72</div><div id='time'> Time: 2023-03-27</div><div id='author'> Author: kayzliu@kays-mbp-2.ececs.uic.edu</div><div id='file'> File Name: pygod/generator/outlier_generator.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: gen_contextual_outliers(4)</div><div id='n_method'> N Method Name: gen_contextual_outliers(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pygod/generator/outlier_generator.py</div><div id='n_file'> N File Name: pygod/generator/outlier_generator.py</div><div id='m_start'> M Start Line: 138</div><div id='m_end'> M End Line: 149</div><div id='n_start'> N Start Line: 137</div><div id='n_end'> N End Line: 145</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            motions = []
            skeleton_idx = []
            for dataset in datasets:
                motions.append(dataset[<a id="change">pt * length_per_skeleton: (pt + 1) * length_per_skeleton</a>])
                skeleton_idx += [pt] * length_per_skeleton
                pt += 1
            motions = torch.cat(motions, dim=0)</code></pre><h3>After Change</h3><pre><code class='java'>
            else:
                self.length = len(skeleton_idx)
            self.final_data.append(MixedData0(args, motions, skeleton_idx))
            <a id="change">print(</a>self.length<a id="change">)</a>

    def denorm(self, gid, pid, data):
        means = self.means[gid][pid, ...]
        var = self.vars[gid][pid, ...]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepmotionediting/deep-motion-editing/commit/09146bc84c21e98c637e469d7fc8e36150d5a488#diff-322c2cc2926104ad0d01aca3bb00c5c3d54aa3fe341dc468f73f644a53ff68f0L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113903223</div><div id='project'> Project Name: deepmotionediting/deep-motion-editing</div><div id='commit'> Commit Name: 09146bc84c21e98c637e469d7fc8e36150d5a488</div><div id='time'> Time: 2020-07-05</div><div id='author'> Author: peizhuo@pku.edu.cn</div><div id='file'> File Name: retargeting/datasets/combined_motion.py</div><div id='m_class'> M Class Name: MixedData</div><div id='n_method'> N Class Name: MixedData</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: retargeting/datasets/combined_motion.py</div><div id='n_file'> N File Name: retargeting/datasets/combined_motion.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 108</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    n_samples = len(df) - n_lags + 1 - n_forecasts

    time = df.loc[:, &quott&quot].iloc[<a id="change">n_lags-1:-n_forecasts</a>].values
    &#47&#47 time = pd.DataFrame(time)
    time = np.expand_dims(time, axis=1)
</code></pre><h3>After Change</h3><pre><code class='java'>

    if verbose:
        for key, value in inputs.items():
            <a id="change">print(</a>key, "shape: ", value.shape<a id="change">)</a>
    return inputs, targets


def check_dataframe(df):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/384f1803a758d07de17db9631d9941c4d7a65de3#diff-8909e3372a9dbfa9801c78cdd6a93d8a7cebb2034e9fd6e129d6aab402e2db96L125' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 113903220</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 384f1803a758d07de17db9631d9941c4d7a65de3</div><div id='time'> Time: 2020-05-19</div><div id='author'> Author: oskar.triebe@merantix.com</div><div id='file'> File Name: code/make_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: tabularize_univariate_datetime(4)</div><div id='n_method'> N Method Name: tabularize_univariate_datetime(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: code/make_dataset.py</div><div id='n_file'> N File Name: code/make_dataset.py</div><div id='m_start'> M Start Line: 125</div><div id='m_end'> M End Line: 176</div><div id='n_start'> N Start Line: 152</div><div id='n_end'> N End Line: 184</div><BR>