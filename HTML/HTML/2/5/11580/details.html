<html><h3>Pattern ID :11580
</h3><img src='39260263.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 for local usage
        root_dir = Path(__file__).parent.parent.parent
        req_file = root_dir / "requirements.txt"
        req_dict<a id="change"> = </a><a id="change">{}</a>
        with req_file.open() as f:
            lines = f.readlines()

    for line in lines:</code></pre><h3>After Change</h3><pre><code class='java'>
                lines = f.readlines()
        except FileNotFoundError as e:
            &#47&#47 where areth thou ?
            root_dir = <a id="change">Path(</a>__file__<a id="change">)</a>.parent.parent.parent.parent
            req_file = root_dir<a id="change"> / "requirements.txt"</a>
            with req_file.open() as f:
                lines = f.readlines()

    for line in lines:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/9f1447bf7160dfdc354d8eb386ee169a330dbbca#diff-2b01f4e2a1bbb10a68d17f278ffea0b55a24f296c08b9d2ba87d9bcf1cfabc88L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39260263</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 9f1447bf7160dfdc354d8eb386ee169a330dbbca</div><div id='time'> Time: 2020-02-19</div><div id='author'> Author: sofie.vanlandeghem@gmail.com</div><div id='file'> File Name: spacy/tests/test_requirements.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_build_dependencies(1)</div><div id='n_method'> N Method Name: test_build_dependencies(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/test_requirements.py</div><div id='n_file'> N File Name: spacy/tests/test_requirements.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def test_post_to_studio_include_prefix_if_needed(tmp_dir, mocker, monkeypatch):
    dvc_repo = mocker.MagicMock()
    dvc_repo.scm.get_rev.return_value = "f" * 40
    dvc_repo.index.stages<a id="change"> = </a><a id="change">[]</a>
    dvc_repo.scm.get_ref.return_value = None
    mocker.patch("dvclive.live.get_dvc_repo", return_value=dvc_repo)

    mocked_response = mocker.MagicMock()</code></pre><h3>After Change</h3><pre><code class='java'>

    dvc_path = Path(live.dvc_file).as_posix()
    metrics_path = Path(live.metrics_file).as_posix()
    foo_path = (<a id="change">Path(live.plots_dir) / Metric.subfolder / "foo.tsv"</a>).as_posix()

    mocked_post.assert_called_with(
        "https://0.0.0.0",</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/iterative/dvclive/commit/2fd0660b0fa2ba61a18afbafcd0e9cf4067ae3ec#diff-a6f7cbca5e097d6837e021af0f2b4e348562377837c0b5242077a5298e404980L245' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39260261</div><div id='project'> Project Name: iterative/dvclive</div><div id='commit'> Commit Name: 2fd0660b0fa2ba61a18afbafcd0e9cf4067ae3ec</div><div id='time'> Time: 2023-03-17</div><div id='author'> Author: daviddelaiglesiacastro@gmail.com</div><div id='file'> File Name: tests/test_studio.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_post_to_studio_include_prefix_if_needed(3)</div><div id='n_method'> N Method Name: test_post_to_studio_include_prefix_if_needed(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_studio.py</div><div id='n_file'> N File Name: tests/test_studio.py</div><div id='m_start'> M Start Line: 246</div><div id='m_end'> M End Line: 266</div><div id='n_start'> N Start Line: 215</div><div id='n_end'> N End Line: 223</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def test_post_to_studio_shorten_names(tmp_dir, mocker, monkeypatch):
    dvc_repo = mocker.MagicMock()
    dvc_repo.scm.get_rev.return_value = "f" * 40
    dvc_repo.index.stages<a id="change"> = </a><a id="change">[]</a>
    dvc_repo.scm.get_ref.return_value = None
    mocker.patch("dvclive.live.get_dvc_repo", return_value=dvc_repo)

    mocked_response = mocker.MagicMock()</code></pre><h3>After Change</h3><pre><code class='java'>

    dvc_path = Path(live.dvc_file).as_posix()
    metrics_path = Path(live.metrics_file).as_posix()
    plots_path = <a id="change">Path(</a>live.plots_dir<a id="change">)</a>
    loss_path = (plots_path<a id="change"> / Metric.subfolder / "eval/loss.tsv"</a>).as_posix()

    mocked_post.assert_called_with(
        "https://0.0.0.0",</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/iterative/dvclive/commit/2fd0660b0fa2ba61a18afbafcd0e9cf4067ae3ec#diff-a6f7cbca5e097d6837e021af0f2b4e348562377837c0b5242077a5298e404980L289' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39260276</div><div id='project'> Project Name: iterative/dvclive</div><div id='commit'> Commit Name: 2fd0660b0fa2ba61a18afbafcd0e9cf4067ae3ec</div><div id='time'> Time: 2023-03-17</div><div id='author'> Author: daviddelaiglesiacastro@gmail.com</div><div id='file'> File Name: tests/test_studio.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_post_to_studio_shorten_names(3)</div><div id='n_method'> N Method Name: test_post_to_studio_shorten_names(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_studio.py</div><div id='n_file'> N File Name: tests/test_studio.py</div><div id='m_start'> M Start Line: 290</div><div id='m_end'> M End Line: 309</div><div id='n_start'> N Start Line: 246</div><div id='n_end'> N End Line: 255</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    args = parse_args()

    lines<a id="change"> = </a><a id="change">[
        </a>f"Raw data path: {args.raw_data}",
        f"Data output path: {args.prepared_data}"<a id="change"></a>,
    ]

    for line in lines:</code></pre><h3>After Change</h3><pre><code class='java'>
    mlflow.log_metric(&quotval size&quot, val.shape[0])
    mlflow.log_metric(&quottest size&quot, test.shape[0])

    train.to_parquet((<a id="change">Path(</a>args.train_data<a id="change">) / "train.parquet"</a>))
    val.to_parquet((Path(args.val_data) / "val.parquet"))
    test.to_parquet((Path(args.test_data) / "test.parquet"))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/azure/mlops-project-template/commit/e4910d82941b11b64f2c8efe79516dd6d22f0884#diff-cfe014db13d45f03b527a9f402af09ed405b7f62e6659a94493932a913345c37L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39260275</div><div id='project'> Project Name: azure/mlops-project-template</div><div id='commit'> Commit Name: e4910d82941b11b64f2c8efe79516dd6d22f0884</div><div id='time'> Time: 2022-11-09</div><div id='author'> Author: 8880364+cindyweng@users.noreply.github.com</div><div id='file'> File Name: classical/aml-cli-v2/data-science/src/prep.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: classical/aml-cli-v2/data-science/src/prep.py</div><div id='n_file'> N File Name: classical/aml-cli-v2/data-science/src/prep.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 102</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    args = parse_args()

    lines<a id="change"> = </a><a id="change">[
        </a>f"Raw data path: {args.raw_data}",
        f"Data output path: {args.prepared_data}"<a id="change"></a>,
    ]

    for line in lines:</code></pre><h3>After Change</h3><pre><code class='java'>
    mlflow.log_metric(&quotval size&quot, val.shape[0])
    mlflow.log_metric(&quottest size&quot, test.shape[0])

    train.to_parquet((<a id="change">Path(</a>args.train_data<a id="change">) / "train.parquet"</a>))
    val.to_parquet((Path(args.val_data) / "val.parquet"))
    test.to_parquet((Path(args.test_data) / "test.parquet"))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/azure/mlops-project-template/commit/8bd6f11bb9b974942c487be9f250a4cc855fe227#diff-cfe014db13d45f03b527a9f402af09ed405b7f62e6659a94493932a913345c37L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39260269</div><div id='project'> Project Name: azure/mlops-project-template</div><div id='commit'> Commit Name: 8bd6f11bb9b974942c487be9f250a4cc855fe227</div><div id='time'> Time: 2022-11-14</div><div id='author'> Author: 8880364+cindyweng@users.noreply.github.com</div><div id='file'> File Name: classical/aml-cli-v2/data-science/src/prep.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: classical/aml-cli-v2/data-science/src/prep.py</div><div id='n_file'> N File Name: classical/aml-cli-v2/data-science/src/prep.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 102</div><BR>