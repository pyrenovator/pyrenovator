<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            return

        &#47&#47 Convert center coordinates to target area array indices
        init_icenter = coord_to_index(<a id="change">self["center_x"]</a>.value, self["center_y"].value, target_area)
        &#47&#47 Compute center of mass in window
        COM = center_of_mass((init_icenter[1], init_icenter[0]), target_area.data)
        if np.any(np.array(COM) &lt; 0) or np.any(np.array(COM) &gt;= np.array(target_area.data.shape)):
            print("center of mass failed, using center of window")
            return
        &#47&#47 Convert center of mass indices to coordinates
        COM_center = index_to_coord(COM[1], COM[0], target_area)
        &#47&#47 Set the new coordinates as the model center
        self["center_x"].set_value(COM_center[0])
        <a id="change">self["center_y"]</a>.set_value(COM_center[1])
        
    &#47&#47 Fit loop functions
    &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47        </code></pre><h3>After Change</h3><pre><code class='java'>
            return

        &#47&#47 Convert center coordinates to target area array indices
        init_icenter<a id="change"> = </a><a id="change">coord_to_index(</a>self["center"][0].value, self["center"][1].value, target_area<a id="change">)</a>
        &#47&#47 Compute center of mass in window
        COM = center_of_mass((init_icenter[1], init_icenter[0]), target_area.data)
        if np.any(np.array(COM) &lt; 0) or np.any(np.array(COM) &gt;= np.array(target_area.data.shape)):
            print("center of mass failed, using center of window")</code></pre>