<html><h3>Pattern ID :9915
</h3><img src='35395740.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 The same widget can appear multiple times from different config locations, than if there are both
            &#47&#47 disabled and enabled, regard it as disabled
            output = subprocess.getoutput(&quotjupyter nbextension list&quot).split(&quot\n&quot)
            disabled_regex<a id="change"> = </a>re.compile(r&quot\s*(jupyter-js-widgets/extension).*(disabled).*&quot)
            enabled_regex<a id="change"> = </a>re.compile(r&quot\s*(jupyter-js-widgets/extension).*(enabled).*&quot)
            found_disabled = any((disabled_regex.match(s) for s in output))
            found_enabled = any((enabled_regex.match(s) for s in output))
            <a id="change">return </a>not found_disabled and found_enabled
        except Exception:  &#47&#47 pylint: disable=broad-except
            return False
</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 and databricks runtime&gt;=11 is at beta state
        return False
    nbext = is_nbclassic_extension_enabled(&quotjupyter-js-widgets&quot)
    labext = <a id="change">t.cast(</a>bool, is_jupyterlab_extension_enabled(&quot@jupyter-widgets/jupyterlab-manager&quot)<a id="change">)</a>
    <a id="change">return </a>nbext or labext


&#47&#47 def is_widgets_enabled() -&gt; bool:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/d9d9a193cdabc707ee7a46c8ee5e7a4aefcd3387#diff-0867c6db0d7707454c3c9b7f2066a4c93387435afa79ea9782d75bb88d88a3aeL108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35395740</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: d9d9a193cdabc707ee7a46c8ee5e7a4aefcd3387</div><div id='time'> Time: 2022-06-17</div><div id='author'> Author: 71635444+yromanyshyn@users.noreply.github.com</div><div id='file'> File Name: deepchecks/utils/ipython.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: is_widgets_enabled(0)</div><div id='n_method'> N Method Name: is_widgets_enabled(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/utils/ipython.py</div><div id='n_file'> N File Name: deepchecks/utils/ipython.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 124</div><div id='n_start'> N Start Line: 682</div><div id='n_end'> N End Line: 688</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    first_statement = self.predicates[&quotfirst_statement&quot]

    current_state<a id="change"> = </a>self._get_tensor_column(logits, 3)
    has_tfidf<a id="change"> = </a>self.predicates[&quot3_usr_index&quot]
    return_loss = self.template_rx_and_sx_implies_tx(first_statement, has_tfidf,
                                                     current_state)

    current_state = self._get_tensor_column(logits, 7)
    has_tfidf = self.predicates[&quot7_usr_index&quot]
    return_loss += self.template_rx_and_sx_implies_tx(first_statement,
                                                      has_tfidf, current_state)

    current_state = self._get_tensor_column(logits, 21)
    has_tfidf = self.predicates[&quot21_usr_index&quot]
    return_loss += self.template_rx_and_sx_implies_tx(first_statement,
                                                      has_tfidf, current_state)

    <a id="change">return </a>return_loss

  def rule_2(self, logits, **unused_kwargs) -&gt; float:
    Dialog structure rule.</code></pre><h3>After Change</h3><pre><code class='java'>

  def rule_1(self, logits, **unused_kwargs) -&gt; float:
    labels = self.predicates[&quotpredictions&quot]
    <a id="change">return </a>self.template_rx_implies_sx(
        <a id="change">tf.cast(</a>labels<a id="change">, dtype=logits.dtype)</a>, logits)

  def compute_loss_per_rule(self, data: tf.Tensor,
                            logits: tf.Tensor) -&gt; List[float]:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google/uncertainty-baselines/commit/c4b52ea74cd83a1d99d775ed4ff597852c3c41c4#diff-bfd69bd6a31a587bc5603b23e9d085dd245b8dd4af5a982e956f01b574310814L121' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35395719</div><div id='project'> Project Name: google/uncertainty-baselines</div><div id='commit'> Commit Name: c4b52ea74cd83a1d99d775ed4ff597852c3c41c4</div><div id='time'> Time: 2022-06-11</div><div id='author'> Author: yquan@google.com</div><div id='file'> File Name: experimental/language_structure/psl/psl_model_dstc_synthetic.py</div><div id='m_class'> M Class Name: PSLModelDSTCSynthetic</div><div id='n_method'> N Class Name: PSLModelDSTCSynthetic</div><div id='m_method'> M Method Name: rule_1(2)</div><div id='n_method'> N Method Name: rule_1(2)</div><div id='m_parent_class'> M Parent Class: psl_model.PSLModel</div><div id='n_parent_class'> N Parent Class: psl_model.PSLModel</div><div id='m_file'> M File Name: experimental/language_structure/psl/psl_model_dstc_synthetic.py</div><div id='n_file'> N File Name: experimental/language_structure/psl/psl_model_dstc_synthetic.py</div><div id='m_start'> M Start Line: 138</div><div id='m_end'> M End Line: 155</div><div id='n_start'> N Start Line: 145</div><div id='n_end'> N End Line: 147</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            If is categorical according to input numbers
        
        col_data = self.data[col_name]
        n_unique<a id="change"> = </a>col_data.nunique(dropna=True)
        n_samples<a id="change"> = </a>len(col_data.dropna())

        if is_float_dtype(col_data):
            return n_unique &lt;= self._max_float_categories

        <a id="change">return </a>n_unique / n_samples &lt; self._max_categorical_ratio and n_unique &lt;= self._max_categories

    @property
    def index_name(self) -&gt; t.Optional[Hashable]:</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            If is categorical according to input numbers
        
        <a id="change">return </a>is_categorical(
            <a id="change">t.cast(</a>pd.Series, self._data[col_name]<a id="change">)</a>,
            max_categorical_ratio=self._max_categorical_ratio,
            max_categories=self._max_categories,
            max_float_categories=self._max_float_categories</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/97ea43525e880b55707e2c0f8464c4fb2cc7db9b#diff-8529995c733b72dbd46b2c651e094d7c3028600d1368575275957d4818300b60L390' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35395776</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 97ea43525e880b55707e2c0f8464c4fb2cc7db9b</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: 71635444+yromanyshyn@users.noreply.github.com</div><div id='file'> File Name: deepchecks/base/dataset.py</div><div id='m_class'> M Class Name: Dataset</div><div id='n_method'> N Class Name: Dataset</div><div id='m_method'> M Method Name: is_categorical(2)</div><div id='n_method'> N Method Name: is_categorical(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/base/dataset.py</div><div id='n_file'> N File Name: deepchecks/base/dataset.py</div><div id='m_start'> M Start Line: 399</div><div id='m_end'> M End Line: 406</div><div id='n_start'> N Start Line: 410</div><div id='n_end'> N End Line: 415</div><BR>