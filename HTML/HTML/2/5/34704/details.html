<html><h3>Pattern ID :34704
</h3><img src='99585855.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                column_names == data_fields
            ), f"The file should have {data_fields} as column names, but has {column_names}"

            <a id="change">for </a>id_, line in enumerate(lines[1:])<a id="change">:
                </a>field_values<a id="change"> = </a>line.strip().split("\t")

                &#47&#47 set absolute path for mp3 audio file
                field_values[path_idx] = os.path.join(path_to_clips, field_values[path_idx])</code></pre><h3>After Change</h3><pre><code class='java'>
                    column_names == data_fields
                ), f"The file should have {data_fields} as column names, but has {column_names}"
                for line in lines[1:]:
                    field_values<a id="change"> = </a><a id="change">line.decode(</a>"utf-8"<a id="change">)</a>.strip().split("\t")
                    &#47&#47 set full path for mp3 audio file
                    audio_path = "/".join([path_to_clips, field_values[path_idx]])
                    all_field_values[audio_path] = field_values</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/0534a87f60fb9a589138f0773e057c2429f482b7#diff-fa6b2547cb8690de10dc4151010f3ce12300c5488a6277932a571021aac2532fL707' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99585855</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 0534a87f60fb9a589138f0773e057c2429f482b7</div><div id='time'> Time: 2021-11-19</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: datasets/common_voice/common_voice.py</div><div id='m_class'> M Class Name: CommonVoice</div><div id='n_method'> N Class Name: CommonVoice</div><div id='m_method'> M Method Name: _generate_examples(4)</div><div id='n_method'> N Method Name: _generate_examples(3)</div><div id='m_parent_class'> M Parent Class: datasets.GeneratorBasedBuilder</div><div id='n_parent_class'> N Parent Class: datasets.GeneratorBasedBuilder</div><div id='m_file'> M File Name: datasets/common_voice/common_voice.py</div><div id='n_file'> N File Name: datasets/common_voice/common_voice.py</div><div id='m_start'> M Start Line: 709</div><div id='m_end'> M End Line: 735</div><div id='n_start'> N Start Line: 707</div><div id='n_end'> N End Line: 748</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        x = self.fc_decoder_input(z)
        x = x.view(encodings[0].size(0), encodings[0].size(1), encodings[0].size(2), encodings[0].size(3))

        <a id="change">for </a>decoding_idx, <a id="change">decoder_layer</a> in enumerate(self.decoder)<a id="change">:
            </a>if decoding_idx + 1 &lt; len(self.decoder):
                x = decoder_layer(x, encodings[decoding_idx+1])
            else:
                x<a id="change"> = </a>decoder_layer(x)

        output = {ChannelEnum.RECONSTRUCTED_ELEVATION_MAP: x.squeeze(),
                  "mu": mu,</code></pre><h3>After Change</h3><pre><code class='java'>
        x = self.fc_decoder_input(z)
        x = x.view(encodings[-1].size(0), encodings[-1].size(1), encodings[-1].size(2), encodings[-1].size(3))

        x<a id="change"> = </a><a id="change">self.decode(</a>x, encodings<a id="change">)</a>

        output = {ChannelEnum.RECONSTRUCTED_ELEVATION_MAP: x.squeeze(),
                  "mu": mu,
                  "log_var": log_var}</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mstoelzle/solving-occlusion/commit/50a17123640029da44d7dc18e2a70ff81e559020#diff-92f1053492ca4105a02f5f1e98c77dc2fa34c8fe635471c556f24e089f7da87fL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99585851</div><div id='project'> Project Name: mstoelzle/solving-occlusion</div><div id='commit'> Commit Name: 50a17123640029da44d7dc18e2a70ff81e559020</div><div id='time'> Time: 2020-11-05</div><div id='author'> Author: maximilian@stoelzle.ch</div><div id='file'> File Name: src/learning/models/vae/unet_vae.py</div><div id='m_class'> M Class Name: UNetVAE</div><div id='n_method'> N Class Name: UNetVAE</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: BaseVAE</div><div id='n_parent_class'> N Parent Class: BaseVAE</div><div id='m_file'> M File Name: src/learning/models/vae/unet_vae.py</div><div id='n_file'> N File Name: src/learning/models/vae/unet_vae.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 81</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def decode(self, fmap, return_indices_and_loss = False):
        fmap, indices, commit_loss = self.vq(fmap)

        <a id="change">for dec</a> in self.decoders<a id="change">:
            </a>fmap<a id="change"> = </a>dec(fmap)

        if not return_indices_and_loss:
            return fmap</code></pre><h3>After Change</h3><pre><code class='java'>
    def decode(self, fmap, return_indices_and_loss = False):
        fmap, indices, commit_loss = self.vq(fmap)

        fmap<a id="change"> = </a><a id="change">self.enc_dec.decode(</a>fmap<a id="change">)</a>

        if not return_indices_and_loss:
            return fmap
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/dalle2-pytorch/commit/77141882c8a514c5a615f01e40d24a2e600d293f#diff-3d3359e5930e700daf45d72a3e9a1a7d7708cd88fe2864da8068c912f86667a8L467' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99585863</div><div id='project'> Project Name: lucidrains/dalle2-pytorch</div><div id='commit'> Commit Name: 77141882c8a514c5a615f01e40d24a2e600d293f</div><div id='time'> Time: 2022-04-26</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: dalle2_pytorch/vqgan_vae.py</div><div id='m_class'> M Class Name: VQGanVAE</div><div id='n_method'> N Class Name: VQGanVAE</div><div id='m_method'> M Method Name: decode(3)</div><div id='n_method'> N Method Name: decode(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: dalle2_pytorch/vqgan_vae.py</div><div id='n_file'> N File Name: dalle2_pytorch/vqgan_vae.py</div><div id='m_start'> M Start Line: 470</div><div id='m_end'> M End Line: 473</div><div id='n_start'> N Start Line: 662</div><div id='n_end'> N End Line: 662</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def predict(network):
	t0_spikes = []
	hh_encoder = None
	<a id="change">for t</a> in range(n_encoder_steps)<a id="change">:
		</a>x = t0[:, t]
		x<a id="change">, hh_encoder = </a>spikes_encoder(x, hh_encoder)
		t0_spikes.append(x)
	t0_spikes = torch.stack(t0_spikes, dim=1)
	t0_decode = spikes_decoder(t0_spikes)</code></pre><h3>After Change</h3><pre><code class='java'>
	&#47&#47 ts_decode = spikes_decoder(torch.stack(spikes_preds, dim=1)[:, n_encoder_steps:])
	spikes_preds = torch.concat([t0_spikes, spikes_preds], dim=1)
	&#47&#47 preds = spikes_decoder(torch.stack(spikes_preds, dim=1))
	preds<a id="change"> = </a><a id="change">spikes_auto_encoder.decode(</a>spikes_preds<a id="change">)</a>
	return preds


def predict_spikes():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neurotorch/neurotorch/commit/1448822fbe5f5b55b9f4434da75c983e31f11bf8#diff-13d67778ac9082a79067547056c347fc83d10d588fe48a27d4fc563dfb2d0299L60' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99585862</div><div id='project'> Project Name: neurotorch/neurotorch</div><div id='commit'> Commit Name: 1448822fbe5f5b55b9f4434da75c983e31f11bf8</div><div id='time'> Time: 2022-08-06</div><div id='author'> Author: 50332514+JeremieGince@users.noreply.github.com</div><div id='file'> File Name: applications/time_series_forecasting_spiking/ts_pred_with_lif_autoencoder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: applications/time_series_forecasting_spiking/ts_pred_with_lif_autoencoder.py</div><div id='n_file'> N File Name: applications/time_series_forecasting_spiking/ts_pred_with_lif_autoencoder.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 72</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                column_names == data_fields
            ), f"The file should have {data_fields} as column names, but has {column_names}"

            <a id="change">for </a>id_, <a id="change">line</a> in enumerate(lines[1:])<a id="change">:
                </a>field_values<a id="change"> = </a>line.strip().split("\t")

                &#47&#47 set absolute path for mp3 audio file
                field_values[path_idx] = os.path.join(path_to_clips, field_values[path_idx])</code></pre><h3>After Change</h3><pre><code class='java'>
                    column_names == data_fields
                ), f"The file should have {data_fields} as column names, but has {column_names}"
                for line in lines[1:]:
                    field_values = <a id="change">line.decode(</a>"utf-8"<a id="change">)</a>.strip().split("\t")
                    &#47&#47 set full path for mp3 audio file
                    audio_path = "/".join([path_to_clips, field_values[path_idx]])
                    all_field_values[audio_path]<a id="change"> = </a>field_values
            elif path.startswith(path_to_clips):
                assert metadata_found, "Found audio clips before the metadata TSV file."
                if not all_field_values:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/0534a87f60fb9a589138f0773e057c2429f482b7#diff-fa6b2547cb8690de10dc4151010f3ce12300c5488a6277932a571021aac2532fL703' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99585861</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 0534a87f60fb9a589138f0773e057c2429f482b7</div><div id='time'> Time: 2021-11-19</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: datasets/common_voice/common_voice.py</div><div id='m_class'> M Class Name: CommonVoice</div><div id='n_method'> N Class Name: CommonVoice</div><div id='m_method'> M Method Name: _generate_examples(4)</div><div id='n_method'> N Method Name: _generate_examples(3)</div><div id='m_parent_class'> M Parent Class: datasets.GeneratorBasedBuilder</div><div id='n_parent_class'> N Parent Class: datasets.GeneratorBasedBuilder</div><div id='m_file'> M File Name: datasets/common_voice/common_voice.py</div><div id='n_file'> N File Name: datasets/common_voice/common_voice.py</div><div id='m_start'> M Start Line: 709</div><div id='m_end'> M End Line: 735</div><div id='n_start'> N Start Line: 707</div><div id='n_end'> N End Line: 748</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        fmap, indices, commit_loss = self.encode(img)

        <a id="change">for dec</a> in self.decoders<a id="change">:
            </a>fmap<a id="change"> = </a>dec(fmap)

        if not return_loss:
            return fmap</code></pre><h3>After Change</h3><pre><code class='java'>

        fmap, indices, commit_loss = self.encode(img)

        fmap<a id="change"> = </a><a id="change">self.decode(</a>fmap<a id="change">)</a>

        if not return_loss:
            return fmap
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/nuwa-pytorch/commit/6dc8b217f76acb25f8b520e435b7e08a35d884f6#diff-47b637f0a46bb7e4f245f382a9b47f0351b6a5fda8ab6476a0476b4677441eddL121' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99585857</div><div id='project'> Project Name: lucidrains/nuwa-pytorch</div><div id='commit'> Commit Name: 6dc8b217f76acb25f8b520e435b7e08a35d884f6</div><div id='time'> Time: 2022-01-02</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: nuwa_pytorch/nuwa_pytorch.py</div><div id='m_class'> M Class Name: VQGanVAE</div><div id='n_method'> N Class Name: VQGanVAE</div><div id='m_method'> M Method Name: forward(4)</div><div id='n_method'> N Method Name: forward(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: nuwa_pytorch/nuwa_pytorch.py</div><div id='n_file'> N File Name: nuwa_pytorch/nuwa_pytorch.py</div><div id='m_start'> M Start Line: 128</div><div id='m_end'> M End Line: 153</div><div id='n_start'> N Start Line: 158</div><div id='n_end'> N End Line: 174</div><BR>