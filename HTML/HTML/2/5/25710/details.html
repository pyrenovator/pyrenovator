<html><h3>Pattern ID :25710
</h3><img src='77978789.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.targets = []
        self.targets.extend(dataset1.targets)
        self.targets.extend(dataset2.targets)
        <a id="change">self.targets.extend(</a>dataset3.targets<a id="change">)</a>

    def __getitem__(self, index: int):
        
        Args:</code></pre><h3>After Change</h3><pre><code class='java'>
            root, target_transform=target_transform, transform=transform
        )

        <a id="change">if subset not in self.subsets</a>:
            <a id="change">raise ValueError()</a>

        self.root = os.path.join(root, subset)
        self.data = ImageFolder(root=root)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/kkirchheim/pytorch-ood/commit/cdda8839598d84d400dcd7e09d7eca61d5ac9e97#diff-72564fc5b6193e9d31fbcb940323e4987ae0d36dc6c89d29a1bdce980044a0e2L10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77978789</div><div id='project'> Project Name: kkirchheim/pytorch-ood</div><div id='commit'> Commit Name: cdda8839598d84d400dcd7e09d7eca61d5ac9e97</div><div id='time'> Time: 2022-07-25</div><div id='author'> Author: konstantin.kirchheim@ovgu.de</div><div id='file'> File Name: src/pytorch_ood/dataset/img/tinyimagenet.py</div><div id='m_class'> M Class Name: TinyImagenet</div><div id='n_method'> N Class Name: TinyImagenet</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: VisionDataset</div><div id='n_parent_class'> N Parent Class: VisionDataset</div><div id='m_file'> M File Name: src/pytorch_ood/dataset/img/tinyimagenet.py</div><div id='n_file'> N File Name: src/pytorch_ood/dataset/img/tinyimagenet.py</div><div id='m_start'> M Start Line: 10</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 27</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if mpu:
            methods = [f"get_model_parallel_group"]
            <a id="change">methods.extend(</a>[f"get_data_parallel_group"]<a id="change">)</a>
            for method in methods:
                assert hasattr(mpu, method), f"mpu is missing {method}"

        assert self.checkpoint is None or isinstance(self.checkpoint, str)</code></pre><h3>After Change</h3><pre><code class='java'>
            raise ValueError(
                f"{self.dtype} not supported, valid dtype: {supported_dtypes}")

        <a id="change">if self.injection_dict is not None</a> and not isinstance(self.injection_dict, dict):
            <a id="change">raise ValueError(
                </a>f"injection_dict must be None or a dict, got: {self.injection_dict}"<a id="change">)</a>

    def _apply_injection_policy(self,
                                client_module=None,
                                injection_policy=None,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/deepspeed/commit/f0122007df11281262efcd1525378db54e0261fd#diff-fdbdbba9c01d8349399cfadeba4cce1c5a34fc15c38ec44a335e1340c11b13a4L117' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77978757</div><div id='project'> Project Name: microsoft/deepspeed</div><div id='commit'> Commit Name: f0122007df11281262efcd1525378db54e0261fd</div><div id='time'> Time: 2021-11-08</div><div id='author'> Author: chunyang.wen@gmail.com</div><div id='file'> File Name: deepspeed/inference/engine.py</div><div id='m_class'> M Class Name: InferenceEngine</div><div id='n_method'> N Class Name: InferenceEngine</div><div id='m_method'> M Method Name: _validate_args(2)</div><div id='n_method'> N Method Name: _validate_args(2)</div><div id='m_parent_class'> M Parent Class: Module</div><div id='n_parent_class'> N Parent Class: Module</div><div id='m_file'> M File Name: deepspeed/inference/engine.py</div><div id='n_file'> N File Name: deepspeed/inference/engine.py</div><div id='m_start'> M Start Line: 118</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 152</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return datasets.Dataset.from_dict({})

        class_tags = ["O"]
        <a id="change">class_tags.extend(
            </a>[
                f"{pre}-{label}"
                for label in sorted(self.__all_labels__())
                for pre in ["B", "I"]
            ]<a id="change">
        )</a>
        class_tags = datasets.ClassLabel(names=class_tags)

        def spans2iob(example):
            r = TokenClassificationRecord(</code></pre><h3>After Change</h3><pre><code class='java'>
        if framework is Framework.TRANSFORMERS:
            return self._prepare_for_training_with_transformers()
        &#47&#47 else: must be spacy for sure
        <a id="change">if lang is None</a>:
            <a id="change">raise ValueError(
                </a>"Please provide a spacy language model to prepare the dataset for training with the spacy framework."<a id="change">
            )</a>
        return self._prepare_for_training_with_spacy(nlp=lang)

    @_requires_datasets
    def _prepare_for_training_with_transformers(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/recognai/rubrix/commit/85878087144723695568ebde0d04e16fc9de3c1c#diff-a61b31bccfa74d94f686dc19d055112f419a2a0c535a55891361b7e1cf030b11L766' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77978748</div><div id='project'> Project Name: recognai/rubrix</div><div id='commit'> Commit Name: 85878087144723695568ebde0d04e16fc9de3c1c</div><div id='time'> Time: 2022-08-22</div><div id='author'> Author: francisco@recogn.ai</div><div id='file'> File Name: src/rubrix/client/datasets.py</div><div id='m_class'> M Class Name: DatasetForTokenClassification</div><div id='n_method'> N Class Name: DatasetForTokenClassification</div><div id='m_method'> M Method Name: prepare_for_training(3)</div><div id='n_method'> N Method Name: prepare_for_training(1)</div><div id='m_parent_class'> M Parent Class: DatasetBase</div><div id='n_parent_class'> N Parent Class: DatasetBase</div><div id='m_file'> M File Name: src/rubrix/client/datasets.py</div><div id='n_file'> N File Name: src/rubrix/client/datasets.py</div><div id='m_start'> M Start Line: 766</div><div id='m_end'> M End Line: 842</div><div id='n_start'> N Start Line: 793</div><div id='n_end'> N End Line: 854</div><BR>