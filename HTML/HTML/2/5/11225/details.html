<html><h3>Pattern ID :11225
</h3><img src='38324136.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if isinstance(v, (list, tuple)):
                self._pb_body.ClearField(k)
                getattr(self._pb_body, k).extend(v)
            elif <a id="change">isinstance(</a>v, dict<a id="change">)</a>:
                self._pb_body.ClearField(k)
                getattr(self._pb_body, k).update(v)
            else:</code></pre><h3>After Change</h3><pre><code class='java'>
                            raise AttributeError(f&quot{item} is not recognized.&quot)
                        scores_to_add.append(score_to_add)

                    <a id="change">for </a>score_to_add in scores_to_add<a id="change">:
                        </a>s = <a id="change">self._pb_body.operands.add()</a>
                        s.CopyFrom(score_to_add._pb_body)
                else:
                    raise AttributeError(f&quot{k} is not recognized, the only list argument is operands&quot)
            else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/18bde5866e42118f91bc2e0a48ce0c94a6d659f1#diff-fd5cad15b62d20eb491bad1e751092234a3c04487ff84cf819938e3926c8dc25L84' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38324136</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: 18bde5866e42118f91bc2e0a48ce0c94a6d659f1</div><div id='time'> Time: 2021-02-24</div><div id='author'> Author: joan.martinez@jina.ai</div><div id='file'> File Name: jina/types/score/__init__.py</div><div id='m_class'> M Class Name: NamedScore</div><div id='n_method'> N Class Name: NamedScore</div><div id='m_method'> M Method Name: set_attrs(1)</div><div id='n_method'> N Method Name: set_attrs(1)</div><div id='m_parent_class'> M Parent Class: ProtoTypeMixin</div><div id='n_parent_class'> N Parent Class: ProtoTypeMixin</div><div id='m_file'> M File Name: jina/types/score/__init__.py</div><div id='n_file'> N File Name: jina/types/score/__init__.py</div><div id='m_start'> M Start Line: 84</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 126</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            the larger the constant, the faster (but also less accurate) the pitchshift.
            default value is 100 (prioritizing speed).
        
        <a id="change">if </a>bins_per_octave &lt; 1 or not <a id="change">isinstance(</a>bins_per_octave, int<a id="change">)</a>:
            raise ValueError("bins_per_octave must be a positive integer")
        self._sample_rate = sample_rate
        self._bins_per_octave = bins_per_octave</code></pre><h3>After Change</h3><pre><code class='java'>
                [reduce(lambda x, y: x * y, x) for x in combinations(factors, i)]
            )
        for i in products:
            <a id="change">for j</a> in products<a id="change">:
                </a>f = Fraction(i, j)
                if condition(f):
                    <a id="change">self.fast_ratios.add(</a>f<a id="change">)</a>

    def __call__(self, input: torch.Tensor, shift: Fraction):
        
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kentonishi/torch-pitch-shift/commit/104442cf773ee57bcb8c4a0c5556f60c35cb7f37#diff-c7cf0fbfc669511823403a429ad133c6c8a42e6336e1a501acd5da2857d273c7L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38324122</div><div id='project'> Project Name: kentonishi/torch-pitch-shift</div><div id='commit'> Commit Name: 104442cf773ee57bcb8c4a0c5556f60c35cb7f37</div><div id='time'> Time: 2021-06-18</div><div id='author'> Author: kento24gs@outlook.com</div><div id='file'> File Name: torch_pitch_shift/main.py</div><div id='m_class'> M Class Name: PitchShifter</div><div id='n_method'> N Class Name: PitchShifter</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch_pitch_shift/main.py</div><div id='n_file'> N File Name: torch_pitch_shift/main.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if recurse:
            for name,module in self.named_children():
                kwargs = {"recurse": recurse}
                <a id="change">if </a><a id="change">isinstance(</a>module, Module<a id="change">)</a>:
                    kwargs["nnparam_only"] = nnparam_only

                for varname,value in module.named_parameters(**kwargs):</code></pre><h3>After Change</h3><pre><code class='java'>

        memo = set() &#47&#47 set to make sure it returns unique parameters
        modules = self.named_modules(prefix=prefix) if recurse else [(prefix, self)]
        <a id="change">for </a>module_prefix, <a id="change">module</a> in modules<a id="change">:
            </a>members = get_members_fcn(module)
            for k, v in members:
                if v is None or v in memo:
                    continue
                <a id="change">memo.add(</a>v<a id="change">)</a>
                name = module_prefix + ("." if module_prefix else "") + k
                yield name, v

    &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47 __*attr__ functions &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xitorch/xitorch/commit/668d921120b4ccae59f193533c761c25d9b8b3f0#diff-e816bf7ee5f361e49186463056ee87b8f7f859fd4b2eacd16b09695f1ae37576L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 38324130</div><div id='project'> Project Name: xitorch/xitorch</div><div id='commit'> Commit Name: 668d921120b4ccae59f193533c761c25d9b8b3f0</div><div id='time'> Time: 2020-08-04</div><div id='author'> Author: firman.kasim@gmail.com</div><div id='file'> File Name: comptorch/core/module.py</div><div id='m_class'> M Class Name: Module</div><div id='n_method'> N Class Name: Module</div><div id='m_method'> M Method Name: named_parameters(4)</div><div id='n_method'> N Method Name: named_parameters(3)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: comptorch/core/module.py</div><div id='n_file'> N File Name: comptorch/core/module.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 50</div><BR>