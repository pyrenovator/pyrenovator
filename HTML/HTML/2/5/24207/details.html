<html><h3>Pattern ID :24207
</h3><img src='75255416.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            pos = self.sample(pos=pos.detach().numpy(),ntherm=ntherm,with_tqdm=False)
            dataloader.dataset.data = pos

        <a id="change">plt.plot(</a>cumulative_loss<a id="change">)</a>
        <a id="change">plt.show()</a>



</code></pre><h3>After Change</h3><pre><code class='java'>
            print(&quotvariance : %f&quot %self.wf.variance(pos))
            print(&quotenergy : %f&quot %self.wf.energy(pos))

            <a id="change">if self.sampler.nstep &gt; 0</a>:
                pos = self.sample(pos=pos.detach().numpy(),ntherm=ntherm,with_tqdm=False)
                dataloader.dataset.data = pos
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/a455e4c4d5d70ac948d261629d1af9ca9ec879ed#diff-63e5a393b8087e079ee2d73b8d5b9cdeb3de66863556bbda9776257ad8ff28b4L73' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75255416</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: a455e4c4d5d70ac948d261629d1af9ca9ec879ed</div><div id='time'> Time: 2019-06-07</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: pyCHAMP/solver/deepqmc.py</div><div id='m_class'> M Class Name: DeepQMC</div><div id='n_method'> N Class Name: DeepQMC</div><div id='m_method'> M Method Name: train(9)</div><div id='n_method'> N Method Name: train(7)</div><div id='m_parent_class'> M Parent Class: SOLVER_BASE</div><div id='n_parent_class'> N Parent Class: SOLVER_BASE</div><div id='m_file'> M File Name: pyCHAMP/solver/deepqmc.py</div><div id='n_file'> N File Name: pyCHAMP/solver/deepqmc.py</div><div id='m_start'> M Start Line: 73</div><div id='m_end'> M End Line: 136</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 152</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    import matplotlib.pyplot as plt

    for i in range(100):
        <a id="change">plt.plot(</a>xs[i, 1:, 0], xs[i, 1:, 1]<a id="change">)</a>
    <a id="change">plt.show()</a>

    return xs, us

</code></pre><h3>After Change</h3><pre><code class='java'>
        with open(path+"us.pkl", &quotrb&quot) as f:
            us = pickle.load(f)

    elif <a id="change">system == "quadrotor"</a>:

        import pandas as pd
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/c9b51e13d331027e4154999bc43026a9daf05ae0#diff-570c55fb5be1f1488b9a0f7536d9897c0f385f0a7bea79cf5f94761ef8e9da80L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75255412</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: c9b51e13d331027e4154999bc43026a9daf05ae0</div><div id='time'> Time: 2021-11-09</div><div id='author'> Author: mfe@mit.edu</div><div id='file'> File Name: nn_closed_loop/nn_closed_loop/utils/nn.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_data(1)</div><div id='n_method'> N Method Name: load_data(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nn_closed_loop/nn_closed_loop/utils/nn.py</div><div id='n_file'> N File Name: nn_closed_loop/nn_closed_loop/utils/nn.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 126</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    torch.save(model.state_dict(), PATH)

    plt.figure()
    <a id="change">plt.plot(</a>train_loss_list<a id="change">, label=&quottrain&quot)</a>
    plt.plot(validation_loss_list, label=&quotval&quot)
    plt.title(&quotLoss vs Epoch&quot)
    plt.xlabel(&quotEpoch&quot)
    plt.ylabel(&quotLoss&quot)
    plt.legend()
    <a id="change">plt.show()</a>


if __name__ == &quot__main__&quot:
    device = "cuda" if torch.cuda.is_available() else "cpu"</code></pre><h3>After Change</h3><pre><code class='java'>
    model = build_trajectory_predict_from_config(config)
    model = model.to(device)

    <a id="change">if &quotprevious_path&quot in config</a>:
        model_state = torch.load(config[&quotprevious_path&quot], map_location=device)
        model.load_state_dict(model_state)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xushenlz/parksim/commit/ec66e2d8e096621262c882cb331d5b4387849163#diff-33b540a9344dde6a065c215e5a2a465ce920043ef4845b18f62f8d42536c99c2L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75255413</div><div id='project'> Project Name: xushenlz/parksim</div><div id='commit'> Commit Name: ec66e2d8e096621262c882cb331d5b4387849163</div><div id='time'> Time: 2022-04-05</div><div id='author'> Author: lacayomatt@gmail.com</div><div id='file'> File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_model(8)</div><div id='n_method'> N Method Name: train_model(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='n_file'> N File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 115</div><div id='n_end'> N End Line: 145</div><BR>