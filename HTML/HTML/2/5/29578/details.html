<html><h3>Pattern ID :29578
</h3><img src='87716058.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def test_model(df, model, vec_len, file_type, n_trees, encode_IP):
    <a id="change">if </a>encode_IP == &quotword2vec&quot:
        ann_ip<a id="change">, ip_dic, ann_port, port_dic, ann_proto, proto_dic = \
            </a>build_annoy_dictionary_word2vec(
                csv=df,
                model=model,
                length=vec_len,</code></pre><h3>After Change</h3><pre><code class='java'>

    for col in word2vec_cols:
        type = col.encoding.split("_")[1]
        word<a id="change"> = </a><a id="change">random.choice(</a>df[col.column]<a id="change">)</a>
        print("Testing {col.column}...")
        test_embed_bidirectional(
            model_path=model_path,
            ann=dict_type_annDictPair[type][0],</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/netsharecmu/netshare/commit/d70172d6896e53108139cba7cf29686ca669c59d#diff-5fb8195ceead602e760e29d8997ecbe09115b494f1a05a99b0d671f8ffc7c2a3L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87716058</div><div id='project'> Project Name: netsharecmu/netshare</div><div id='commit'> Commit Name: d70172d6896e53108139cba7cf29686ca669c59d</div><div id='time'> Time: 2023-03-27</div><div id='author'> Author: yyin4@andrew.cmu.edu</div><div id='file'> File Name: netshare/pre_post_processors/netshare/word2vec_embedding.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_model(5)</div><div id='n_method'> N Method Name: test_model(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: netshare/pre_post_processors/netshare/word2vec_embedding.py</div><div id='n_file'> N File Name: netshare/pre_post_processors/netshare/word2vec_embedding.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 54</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    G = nx.DiGraph()
    num_node = 20
    for i in range(num_node):
        <a id="change">if </a>i &lt; 10:
            node_feature = torch.rand([1, ])
            node_type = "n1"
            node_label = 0
            G.add_node(
                i,
                node_type=node_type,
                node_label=node_label,
                node_feature=node_feature,
            )
        else:
            node_feature<a id="change"> = </a>torch.rand([1, ])
            node_type = "n2"
            node_label = 1
            G.add_node(</code></pre><h3>After Change</h3><pre><code class='java'>
    num_node = 20
    node_label_options = [0, 1, 2, 3]
    edge_label_options = [0, 1, 2]
    for <a id="change">i</a> in range(num_node):
        node_feature = torch.rand([1, ])
        if i &lt; 10:
            node_type = "n1"
        else:
            node_type = "n2"
        node_label<a id="change"> = </a><a id="change">random.choice(</a>node_label_options<a id="change">)</a>
        G.add_node(
            i,
            node_type=node_type,
            node_label=node_label,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/snap-stanford/deepsnap/commit/d77a281f4444a1ce0c9e3bd60c8f33f4469c0e5f#diff-9e08e8c7769db7b58089fd7659d75ca96df40bb7b5d50299d3a30abd54da9ad6L431' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87716059</div><div id='project'> Project Name: snap-stanford/deepsnap</div><div id='commit'> Commit Name: d77a281f4444a1ce0c9e3bd60c8f33f4469c0e5f</div><div id='time'> Time: 2020-12-17</div><div id='author'> Author: xhe17@stanford.edu</div><div id='file'> File Name: tests/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: generate_dense_hete_dataset(1)</div><div id='n_method'> N Method Name: generate_dense_hete_dataset(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/utils.py</div><div id='n_file'> N File Name: tests/utils.py</div><div id='m_start'> M Start Line: 432</div><div id='m_end'> M End Line: 485</div><div id='n_start'> N Start Line: 417</div><div id='n_end'> N End Line: 463</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                n_trees=n_trees,
                encode_IP=encode_IP)

    <a id="change">if </a>encode_IP == &quotword2vec&quot:
        ip_word<a id="change"> = </a>str(df.at[10, &quotsrcip&quot])
    port_word = "443"
    proto_word = str(df.at[10, &quotproto&quot])
</code></pre><h3>After Change</h3><pre><code class='java'>
        n_trees=annoy_n_trees
    )

    for <a id="change">col</a> in word2vec_cols:
        type = col.encoding.split("_")[1]
        word<a id="change"> = </a><a id="change">random.choice(</a>df[col.column]<a id="change">)</a>
        print("Testing {col.column}...")
        test_embed_bidirectional(
            model_path=model_path,
            ann=dict_type_annDictPair[type][0],</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/netsharecmu/netshare/commit/d70172d6896e53108139cba7cf29686ca669c59d#diff-5fb8195ceead602e760e29d8997ecbe09115b494f1a05a99b0d671f8ffc7c2a3L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87716048</div><div id='project'> Project Name: netsharecmu/netshare</div><div id='commit'> Commit Name: d70172d6896e53108139cba7cf29686ca669c59d</div><div id='time'> Time: 2023-03-27</div><div id='author'> Author: yyin4@andrew.cmu.edu</div><div id='file'> File Name: netshare/pre_post_processors/netshare/word2vec_embedding.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_model(5)</div><div id='n_method'> N Method Name: test_model(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: netshare/pre_post_processors/netshare/word2vec_embedding.py</div><div id='n_file'> N File Name: netshare/pre_post_processors/netshare/word2vec_embedding.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 54</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Update scheduler (manual)
        if epoch &lt; 54:
            lr = 1e-3
        elif <a id="change"></a>epoch &lt; 61:
            lr = 1e-4
        else:
            lr<a id="change"> = </a>1e-5
        for g in optimizer.param_groups:
            g[&quotlr&quot] = lr
</code></pre><h3>After Change</h3><pre><code class='java'>
        epoch += start_epoch

        &#47&#47 Multi-Scale YOLO Training
        if <a id="change">opt.multi_scale</a>:
            img_size<a id="change"> = </a><a id="change">random.choice(</a>range(10, 20)<a id="change">)</a> * 32  &#47&#47 320 - 608 pixels
            dataloader = load_images_and_labels(train_path, batch_size=opt.batch_size, img_size=img_size, augment=True)
            print(&quotRunning Epoch %g at multi_scale img_size %g&quot % (epoch, img_size))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nightsnack/yolobile/commit/dc7b58bb3c46c88e0f631528ef3ad274fee4126d#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87716055</div><div id='project'> Project Name: nightsnack/yolobile</div><div id='commit'> Commit Name: dc7b58bb3c46c88e0f631528ef3ad274fee4126d</div><div id='time'> Time: 2018-11-05</div><div id='author'> Author: glenn.jocher@ultralytics.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 116</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 116</div><BR>