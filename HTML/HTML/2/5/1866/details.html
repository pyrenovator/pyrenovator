<html><h3>Pattern ID :1866
</h3><img src='8357950.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            while response.get("records"):
                for record in response["records"]:
                    <a id="change">yield </a>record
                    yield_fields += 1
                    if limit and limit &lt;= yield_fields:
                        return</code></pre><h3>After Change</h3><pre><code class='java'>
            An iterable of raw object containing per-record info
        

        <a id="change">if </a><a id="change">limit and limit &lt; 0</a>:
            raise ValueError("The scan limit must be non-negative.")

        batch_size = self.DEFAULT_SCAN_SIZE
        limit = limit if limit else math.inf
        url<a id="change"> = </a>f"{self._API_PREFIX}/{name}/records/:search?limit={{limit}}"
        query = self._parse_query(query=query)

        request = {</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/recognai/rubrix/commit/f5834a5408051bf1fa60d42aede6b325dc07fdbd#diff-719e1e0841a617c55a90b5c05893d61d23b5727ac2e744cb4468e6044235bb2eL177' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 8357950</div><div id='project'> Project Name: recognai/rubrix</div><div id='commit'> Commit Name: f5834a5408051bf1fa60d42aede6b325dc07fdbd</div><div id='time'> Time: 2023-03-01</div><div id='author'> Author: 37621491+tomaarsen@users.noreply.github.com</div><div id='file'> File Name: src/argilla/client/apis/datasets.py</div><div id='m_class'> M Class Name: Datasets</div><div id='n_method'> N Class Name: Datasets</div><div id='m_method'> M Method Name: scan(5)</div><div id='n_method'> N Method Name: scan(5)</div><div id='m_parent_class'> M Parent Class: AbstractApi</div><div id='n_parent_class'> N Parent Class: AbstractApi</div><div id='m_file'> M File Name: src/argilla/client/apis/datasets.py</div><div id='n_file'> N File Name: src/argilla/client/apis/datasets.py</div><div id='m_start'> M Start Line: 178</div><div id='m_end'> M End Line: 206</div><div id='n_start'> N Start Line: 177</div><div id='n_end'> N End Line: 208</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for file in files:
                filepath = posixpath.join(root, file)
                mtime = os.path.getmtime(filepath)
                <a id="change">yield </a>(filepath, datetime.datetime.fromtimestamp(mtime))

    def fetch_new(self, new_file_callback: Callable = lambda: None) -&gt; int:
        new_files = []</code></pre><h3>After Change</h3><pre><code class='java'>
                mtime = os.path.getmtime(filepath)
                prev_mdatetime = self._file_records.get(filepath)
                mdatetime = datetime.datetime.fromtimestamp(mtime)
                <a id="change">if </a><a id="change">prev_mdatetime is not None and prev_mdatetime &gt;= mdatetime</a>:
                    continue
                self._file_records[filepath]<a id="change"> = </a>mdatetime
                yield filepath

    def _fetch(self, filepath: str, new_file_callback: Callable) -&gt; None:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/46d2776431f7810ec490be0bd6d4fe22ead3843b#diff-d0ff250f277de76b943c5e2ac37583bc8c3da3418acb51a09591e532553b50b3L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 8357965</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 46d2776431f7810ec490be0bd6d4fe22ead3843b</div><div id='time'> Time: 2023-02-16</div><div id='author'> Author: taylor.ritenour@hpe.com</div><div id='file'> File Name: harness/determined/tensorboard/fetchers/shared.py</div><div id='m_class'> M Class Name: SharedFSFetcher</div><div id='n_method'> N Class Name: SharedFSFetcher</div><div id='m_method'> M Method Name: _list(2)</div><div id='n_method'> N Method Name: _list(2)</div><div id='m_parent_class'> M Parent Class: Fetcher</div><div id='n_parent_class'> N Parent Class: Fetcher</div><div id='m_file'> M File Name: harness/determined/tensorboard/fetchers/shared.py</div><div id='n_file'> N File Name: harness/determined/tensorboard/fetchers/shared.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                &quotSize of sample &#47&#47{} is invalid (={}) since max_positions={}, &quot
                &quotskip this example with --skip-invalid-size-inputs-valid-test&quot
            ).format(ignored[0], size_fn(ignored[0]), max_positions))
        <a id="change">yield </a>idx

    if len(ignored) &gt; 0:
        print((</code></pre><h3>After Change</h3><pre><code class='java'>
        if hasattr(dataset, &quotsizes&quot) and isinstance(dataset.sizes, np.ndarray):
            ignored = indices[dataset.sizes &gt; max_positions].tolist()
            indices = indices[dataset.sizes &lt;= max_positions]
        elif <a id="change">(
                hasattr(dataset, &quotsizes&quot) and
                isinstance(dataset.sizes, list) and
                len(dataset.sizes) == 1
        )</a>:
            ignored<a id="change"> = </a>indices[dataset.sizes[0] &gt; max_positions].tolist()
            indices = indices[dataset.sizes[0] &lt;= max_positions]
        else:
            indices, ignored = _filter_by_size_dynamic(indices, dataset.size, max_positions)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kssteven418/i-bert/commit/108f94bc2aaf32ba1882dc9fd8f014496fe8f0c5#diff-fb6fe24870121c1c289bc42823d2d2f41d677688ac7e87b657aac0efa5835dc8L127' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 8357961</div><div id='project'> Project Name: kssteven418/i-bert</div><div id='commit'> Commit Name: 108f94bc2aaf32ba1882dc9fd8f014496fe8f0c5</div><div id='time'> Time: 2019-08-28</div><div id='author'> Author: namangoyal@devfair0110.h2.fair</div><div id='file'> File Name: fairseq/data/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: filter_by_size(4)</div><div id='n_method'> N Method Name: filter_by_size(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fairseq/data/data_utils.py</div><div id='n_file'> N File Name: fairseq/data/data_utils.py</div><div id='m_start'> M Start Line: 164</div><div id='m_end'> M End Line: 175</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 198</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        blobs = self.client.list_blobs(self.bucket_name, prefix=prefix)

        for blob in blobs:
            <a id="change">yield </a>(blob.name, blob.updated)

    def fetch_new(self, new_file_callback: Callable = lambda: None) -&gt; int:
        new_files = []</code></pre><h3>After Change</h3><pre><code class='java'>
        for blob in blobs:
            filepath, mtime = blob.name, blob.updated
            prev_mtime = self._file_records.get(filepath)
            <a id="change">if </a><a id="change">prev_mtime is not None and prev_mtime &gt;= mtime</a>:
                continue
            self._file_records[filepath]<a id="change"> = </a>mtime
            yield blob.name

    def _fetch(self, filepath: str, new_file_callback: Callable) -&gt; None:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/46d2776431f7810ec490be0bd6d4fe22ead3843b#diff-071f832c09db069e209f7a7f5d7bc05e19fae411a3e975ebf4088eef37729552L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 8357955</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 46d2776431f7810ec490be0bd6d4fe22ead3843b</div><div id='time'> Time: 2023-02-16</div><div id='author'> Author: taylor.ritenour@hpe.com</div><div id='file'> File Name: harness/determined/tensorboard/fetchers/gcs.py</div><div id='m_class'> M Class Name: GCSFetcher</div><div id='n_method'> N Class Name: GCSFetcher</div><div id='m_method'> M Method Name: _list(2)</div><div id='n_method'> N Method Name: _list(2)</div><div id='m_parent_class'> M Parent Class: Fetcher</div><div id='n_parent_class'> N Parent Class: Fetcher</div><div id='m_file'> M File Name: harness/determined/tensorboard/fetchers/gcs.py</div><div id='n_file'> N File Name: harness/determined/tensorboard/fetchers/gcs.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 30</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 38</div><BR>