<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        for idx, (used_mem, max_mem) in enumerate(
                zip(self.gpu_used_mem_list, self.gpu_max_mem_list)):
            print(f"GPU:{idx} used mem {used_mem} B max mem {max_mem} B")
        <a id="change">for </a>idx, (used_mem, max_mem) in <a id="change">enumerate(
                zip(</a>self.cpu_used_mem_list, self.cpu_max_mem_list<a id="change">)</a><a id="change">):
            </a>print(f"CPU:{idx} used mem {used_mem} B max mem {max_mem} B")

    def add(self, device_type: str, index: int, size: int):
        </code></pre><h3>After Change</h3><pre><code class='java'>
        self.init(max_gpu_memory, max_cpu_memory)

    def visit(self):
        <a id="change">logger.info(
            f"CPU used mem {self.cpu_used_mem} B, GPU used mem {self.gpu_used_mem} B"</a><a id="change">
        )</a>

    def add(self, device_type: str, size_in_bytes: int):
        
        登记，设备device_type:index增加size个bytes内存使用</code></pre>