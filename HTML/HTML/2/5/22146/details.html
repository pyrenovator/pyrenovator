<html><h3>Pattern ID :22146
</h3><img src='70168575.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if seg_model is not None:
            seg_model.eval()
            with torch.no_grad():
                x_tensor = <a id="change">torch.from_numpy(image).to(</a>DEVICE<a id="change">)</a>.unsqueeze(0)
                print(x_tensor.shape)
                pr_mask<a id="change"> = </a>seg_model.predict(x_tensor)
                pr_mask = pr_mask.argmax(dim=1).squeeze().cpu().numpy().astype(&quotuint8&quot)

                save_vis(</code></pre><h3>After Change</h3><pre><code class='java'>

        image, gt_mask = dataset[n]
        image_vis = image.permute((1, 2, 0)).cpu().numpy().astype(&quotuint8&quot)
        gt_mask_vis = <a id="change">gt_mask.squeeze().cpu().numpy()</a>.astype(&quotuint8&quot)

        if seg_model is not None:
            seg_model.eval()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ais-bonn/vp-suite/commit/e8b74aea072bfc2c6f36278093202f5b017967f0#diff-b601549f53dd2792fb726f06778dc09d2a665ab9ec045898f6e564a87f7a8c23L10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 70168575</div><div id='project'> Project Name: ais-bonn/vp-suite</div><div id='commit'> Commit Name: e8b74aea072bfc2c6f36278093202f5b017967f0</div><div id='time'> Time: 2021-07-15</div><div id='author'> Author: boltres@ais.uni-bonn.de</div><div id='file'> File Name: visualize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: visualize(3)</div><div id='n_method'> N Method Name: visualize(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: visualize.py</div><div id='n_file'> N File Name: visualize.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        SAR_out[m] = SAR[m + (dum, p_opt)]
        p_opts[m] = p_opt

    p_opts<a id="change"> = pt.from_numpy(p_opts).to(</a>SDR_out.device<a id="change">)</a>
    return SDR_out, SIR_out, SAR_out, p_opts


def _linear_sum_assignment_with_inf(</code></pre><h3>After Change</h3><pre><code class='java'>
            args[i] = arg.transpose(-2, -1)
    

    loss_mat_npy = <a id="change">loss_mat.cpu().detach().numpy()</a>

    loss_out = loss_mat.new_zeros(b_shape + (n_chan_out,))
    args_out = [arg.new_zeros(b_shape + (n_chan_out,)) for arg in args]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fakufaku/torchiva/commit/d2b2bceef6944715a6274920e6ec7b0374367ccd#diff-197c29dbd626b108268ccbbec7fc6fb34484f6a7171f68f333aea506de020431L203' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 70168578</div><div id='project'> Project Name: fakufaku/torchiva</div><div id='commit'> Commit Name: d2b2bceef6944715a6274920e6ec7b0374367ccd</div><div id='time'> Time: 2022-01-31</div><div id='author'> Author: robin.scheibler@linecorp.com</div><div id='file'> File Name: torchiva/metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _solve_permutation(1)</div><div id='n_method'> N Method Name: _solve_permutation(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchiva/metrics.py</div><div id='n_file'> N File Name: torchiva/metrics.py</div><div id='m_start'> M Start Line: 204</div><div id='m_end'> M End Line: 234</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 182</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            
            sample = self.samples[:,self.last_added_ind-1]
            sample_gpu = torch.from_numpy(sample).to(device=device)
            x_gpu<a id="change"> = torch.from_numpy(x).to(device=device)</a>
            diff_gpu = x_gpu - sample_gpu
            dist_to_last_added = torch.norm(diff_gpu)
            self.distances[0,self.last_added_ind-1] = 0 &#47&#47 will be set exactly below
            </code></pre><h3>After Change</h3><pre><code class='java'>
            
            
        &#47&#47  selection to return
        indx            = <a id="change">(self.distances &lt;= self.radius).cpu().numpy()</a>
        n_x             = self.samples[:,indx[0,:]]
        n_data          = self.data[indx[:]]

        return [n_x,n_data,computed]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sun-umn/pygranso/commit/e6eaf9a3e06081f72c5e065a9f7b637f84ee2fdd#diff-a10cea76d1f67f814b5c0d3ad50eb9de30896ce6635a17b22f746caf2258292eL35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 70168576</div><div id='project'> Project Name: sun-umn/pygranso</div><div id='commit'> Commit Name: e6eaf9a3e06081f72c5e065a9f7b637f84ee2fdd</div><div id='time'> Time: 2021-09-09</div><div id='author'> Author: 52502144+Buyun-Liang@users.noreply.github.com</div><div id='file'> File Name: private/neighborhoodCache.py</div><div id='m_class'> M Class Name: nC</div><div id='n_method'> N Class Name: nC</div><div id='m_method'> M Method Name: getCachedNeighborhoodAbout(3)</div><div id='n_method'> N Method Name: getCachedNeighborhoodAbout(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: private/neighborhoodCache.py</div><div id='n_file'> N File Name: private/neighborhoodCache.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 95</div><BR>