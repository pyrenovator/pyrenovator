<html><h3>Pattern ID :18107
</h3><img src='59312025.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                log.error("Multiplicative seasonality requires trend.")
                raise ValueError
            if self.config_seasonality.mode not in ["additive", "multiplicative"]:
                <a id="change">log.error(f"Seasonality Mode {self.config_seasonality.mode} not implemented. Defaulting to &quotadditive&quot."</a><a id="change">)</a>
                self.config_seasonality.mode = "additive"
            &#47&#47 Seasonality parameters for global or local modelling
            self.season_params = nn.ParameterDict(
                {</code></pre><h3>After Change</h3><pre><code class='java'>
            if self.config_seasonality.mode == "multiplicative" and self.config_trend is None:
                raise ValueError("Multiplicative seasonality requires trend.")
            if self.config_seasonality.mode not in ["additive", "multiplicative"]:
                <a id="change">raise </a><a id="change">ValueError(f"Seasonality Mode {self.config_seasonality.mode} not implemented."</a><a id="change">)</a>
            &#47&#47 Initialize seasonality
            self.seasonality = get_seasonality(
                config=config_seasonality,
                id_list=id_list,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/75ccf1abe6a686ab86362d81420000b73b4f4f93#diff-0de8813491ea3b065d703741fb108bf10c1d8d71d7ea683d07204576625d16b8L215' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59312025</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 75ccf1abe6a686ab86362d81420000b73b4f4f93</div><div id='time'> Time: 2023-02-08</div><div id='author'> Author: karl.richter@tum.de</div><div id='file'> File Name: neuralprophet/time_net.py</div><div id='m_class'> M Class Name: TimeNet</div><div id='n_method'> N Class Name: TimeNet</div><div id='m_method'> M Method Name: __init__(21)</div><div id='n_method'> N Method Name: __init__(21)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: neuralprophet/time_net.py</div><div id='n_file'> N File Name: neuralprophet/time_net.py</div><div id='m_start'> M Start Line: 215</div><div id='m_end'> M End Line: 269</div><div id='n_start'> N Start Line: 249</div><div id='n_end'> N End Line: 266</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if len(src_spans_ind) % 2 != 0:
        if do_log(log_counter):
            tokenizer._decode_use_source_tokenizer = True
            <a id="change">logging.error(f&quotCorrupted span in src string: [{tokenizer.convert_tokens_to_string(src_tokens)}]&quot</a><a id="change">)</a>
            tokenizer._decode_use_source_tokenizer = False
        log_counter += 1
        &#47&#47 this almost never happens but if it does it is usually because quotation is missing from the end of src_tokens
        &#47&#47 we temporary fix this by adding &quot"&quot to the end of src_tokens</code></pre><h3>After Change</h3><pre><code class='java'>
    if len(src_spans_ind) % 2 != 0:
        if do_log(log_counter):
            tokenizer._decode_use_source_tokenizer = True
            <a id="change">raise </a><a id="change">ValueError(f&quotCorrupted span in src string: [{tokenizer.convert_tokens_to_string(src_tokens)}]&quot</a><a id="change">)</a>

    tokenizer._decode_use_source_tokenizer = True
    src_strings = tokenizer.convert_tokens_to_string(src_tokens)
    tokenizer._decode_use_source_tokenizer = False</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/d1831a08fbcbbf17e0c02896e9f2a93ff2f032bb#diff-de5478b32694942df912b12112660fcc9c7f9d51959d2102be2269d954af92adL172' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59312024</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: d1831a08fbcbbf17e0c02896e9f2a93ff2f032bb</div><div id='time'> Time: 2021-06-27</div><div id='author'> Author: mehrad@stanford.edu</div><div id='file'> File Name: genienlp/model_utils/translation.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: force_replace_quoted_params(4)</div><div id='n_method'> N Method Name: force_replace_quoted_params(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: genienlp/model_utils/translation.py</div><div id='n_file'> N File Name: genienlp/model_utils/translation.py</div><div id='m_start'> M Start Line: 183</div><div id='m_end'> M End Line: 249</div><div id='n_start'> N Start Line: 185</div><div id='n_end'> N End Line: 241</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                first_block_index, last_block_index = block_indices.split(":")
                first_block_index, last_block_index = map(int, map(str.strip, (first_block_index, last_block_index)))
            except Exception as e:
                <a id="change">logger.error(f"Failed to parse --block_indices ({e}), must be start:end (e.g. 0:18)"</a><a id="change">)</a>
                raise
            block_indices = range(first_block_index, last_block_index)
            num_blocks = len(block_indices)
        self.strict_block_indices, self.num_blocks = block_indices, num_blocks</code></pre><h3>After Change</h3><pre><code class='java'>
                first_block_index, last_block_index = block_indices.split(":")
                first_block_index, last_block_index = map(int, map(str.strip, (first_block_index, last_block_index)))
            except Exception as e:
                <a id="change">raise </a><a id="change">ValueError(f"Failed to parse `--block_indices {block_indices}`, must be start:end (e.g. 0:18)"</a><a id="change">)</a>
            block_indices = range(first_block_index, last_block_index)
            num_blocks = len(block_indices)
        self.strict_block_indices, self.num_blocks = block_indices, num_blocks
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bigscience-workshop/petals/commit/a617ce3cfa9e08eee2fe4982343e0689c5fc5cfe#diff-087d0747ff4b6121b18bf636ee0d3275f663800e284e70df7f6b9137ba605b62L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59312026</div><div id='project'> Project Name: bigscience-workshop/petals</div><div id='commit'> Commit Name: a617ce3cfa9e08eee2fe4982343e0689c5fc5cfe</div><div id='time'> Time: 2023-01-10</div><div id='author'> Author: borzunov.alexander@gmail.com</div><div id='file'> File Name: src/petals/server/server.py</div><div id='m_class'> M Class Name: Server</div><div id='n_method'> N Class Name: Server</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/petals/server/server.py</div><div id='n_file'> N File Name: src/petals/server/server.py</div><div id='m_start'> M Start Line: 149</div><div id='m_end'> M End Line: 171</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 174</div><BR>