<html><h3>Pattern ID :215
</h3><img src='1679185.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def used_info(self, dataobject):
        get the matrix of recommendation items and number of items in total item set
        item_matrix = dataobject.get(&quotrec.items&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
       \mathrm{Coverage@K}=\frac{\left| \bigcup_{u \in U} \hat{R}(u) \right|}{|I|}
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        self.topk = config[&quottopk&quot]

    def used_info(self, dataobject):
        Get the matrix of recommendation items and number of items in total item set</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 16</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/b1dc219667135b87960339369293240dc6f92d54#diff-8fd51164df0f777ea7dad896a6cff1d26c50b6b99257a31a6f2d2d70dcd9dddcL409' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679185</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: b1dc219667135b87960339369293240dc6f92d54</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/metrics.py</div><div id='m_class'> M Class Name: ItemCoverage</div><div id='n_method'> N Class Name: ItemCoverage</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbole/evaluator/metrics.py</div><div id='n_file'> N File Name: recbole/evaluator/metrics.py</div><div id='m_start'> M Start Line: 409</div><div id='m_end'> M End Line: 409</div><div id='n_start'> N Start Line: 431</div><div id='n_end'> N End Line: 431</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.y_train = y_train
        self.X_valid = X_valid
        self.y_valid = y_valid
        self.batch_size<a id="change"> = </a><a id="change">kwargs[&quotbatch_size&quot]</a>
        self.kwargs = kwargs
        self._setup_datasets()

    def _setup_datasets(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class FedDataset(DataInterface):
    def __init__(self, train_bs, valid_bs, **kwargs):
        <a id="change">super().__init__(**kwargs)</a>
        self.train_bs = train_bs
        self.valid_bs = valid_bs

    @property</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/intel/openfl/commit/4f481319b781690e9e6d952a7760a2a74eb931f8#diff-e764084eafc22020ea9ecd124f825585184ef20dc7e7fe14ef1c18461e8d89c8L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679184</div><div id='project'> Project Name: intel/openfl</div><div id='commit'> Commit Name: 4f481319b781690e9e6d952a7760a2a74eb931f8</div><div id='time'> Time: 2021-08-24</div><div id='author'> Author: ilya.trushkin@intel.com</div><div id='file'> File Name: tests/github/interactive_api_director/experiments/tensorflow_mnist/dataset.py</div><div id='m_class'> M Class Name: FedDataset</div><div id='n_method'> N Class Name: FedDataset</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: DataInterface</div><div id='n_parent_class'> N Parent Class: DataInterface</div><div id='m_file'> M File Name: tests/github/interactive_api_director/experiments/tensorflow_mnist/dataset.py</div><div id='n_file'> N File Name: tests/github/interactive_api_director/experiments/tensorflow_mnist/dataset.py</div><div id='m_start'> M Start Line: 7</div><div id='m_end'> M End Line: 14</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 9</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    
    def __init__(self, config):
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def used_info(self, dataobject):
        get scores that model predicted and the ground truth
        preds = dataobject.get(&quotrec.score&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
        config (Config): The config of evaluator.
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>

    def used_info(self, dataobject):
        Get scores that model predicted and the ground truth.
        preds = dataobject.get(&quotrec.score&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/d459ec645e4da78c910cf4d8bd70af42ddbd945f#diff-cf28331096f58cba4ed400b3b3865a22d5cdcc51dd648491a493374abe7eabf6L54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679186</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: d459ec645e4da78c910cf4d8bd70af42ddbd945f</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/base_metric.py</div><div id='m_class'> M Class Name: LossMetric</div><div id='n_method'> N Class Name: LossMetric</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbole/evaluator/base_metric.py</div><div id='n_file'> N File Name: recbole/evaluator/base_metric.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 97</div><div id='n_end'> N End Line: 97</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>
        self.tail = config[&quottail_ratio&quot]
        if self.tail is None or self.tail &lt;= 0:
            self.tail = 0.1
</code></pre><h3>After Change</h3><pre><code class='java'>
        which can be an integer or a float in (0,1]. Otherwise it will default to 0.1.
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        self.topk = config[&quottopk&quot]
        self.tail = config[&quottail_ratio&quot]
        if self.tail is None or self.tail &lt;= 0:
            self.tail = 0.1</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/b1dc219667135b87960339369293240dc6f92d54#diff-8fd51164df0f777ea7dad896a6cff1d26c50b6b99257a31a6f2d2d70dcd9dddcL590' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679177</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: b1dc219667135b87960339369293240dc6f92d54</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/metrics.py</div><div id='m_class'> M Class Name: TailPercentage</div><div id='n_method'> N Class Name: TailPercentage</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recbole/evaluator/metrics.py</div><div id='n_file'> N File Name: recbole/evaluator/metrics.py</div><div id='m_start'> M Start Line: 592</div><div id='m_end'> M End Line: 592</div><div id='n_start'> N Start Line: 650</div><div id='n_end'> N End Line: 650</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.cut_method = [&quotceil&quot, &quotfloor&quot, &quotaround&quot]

        self.LABEL_FIELD = config[&quotLABEL_FIELD&quot]
        self.USER_FIELD<a id="change"> = </a><a id="change">config[&quotUSER_ID_FIELD&quot]</a>
        self.ITEM_FIELD = config[&quotITEM_ID_FIELD&quot]
        self.metric_cols = [&quotscore&quot, self.LABEL_FIELD]

    def cutoff(self, df, col, method):</code></pre><h3>After Change</h3><pre><code class='java'>
class LossEvaluator(BaseLossEvaluator):

    def __init__(self, config, logger):
        <a id="change">super(LossEvaluator, self).__init__(</a>config, logger<a id="change">)</a>

    def evaluate(self, true_scores, pred_scores):
        evalaute the loss metrics
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/e2a7ad867dc7f7ba919fbca18dfbbf3b03481a2e#diff-dfbfd298811e2d0b32301e6e8886f7d9e7b498d8537618afad941a09a07e3f2cL155' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679176</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: e2a7ad867dc7f7ba919fbca18dfbbf3b03481a2e</div><div id='time'> Time: 2020-08-02</div><div id='author'> Author: 1337990880@qq.com</div><div id='file'> File Name: evaluator/evaluator.py</div><div id='m_class'> M Class Name: LossEvaluator</div><div id='n_method'> N Class Name: LossEvaluator</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseLossEvaluator</div><div id='n_parent_class'> N Parent Class: AbstractEvaluator</div><div id='m_file'> M File Name: evaluator/evaluator.py</div><div id='n_file'> N File Name: evaluator/evaluator.py</div><div id='m_start'> M Start Line: 155</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 14</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.foz_dir = os.path.abspath(foz_dir)

        self.raw_annotations = self._get_raw_annotations()
        self.taxonomy<a id="change"> = </a><a id="change">self.raw_annotations["taxonomy"]</a>
        self.all_classes = self.get_all_classes(self.taxonomy)

        self._splitwise_sample_ids = self._parse_sample_ids()
        self.all_sample_ids = _flatten_list(</code></pre><h3>After Change</h3><pre><code class='java'>
        self.foz_dir = os.path.abspath(foz_dir)
        self._split_infos = {}
        self.raw_annotations = self._get_raw_annotations()
        <a id="change">super().__init__(</a>self.raw_annotations<a id="change">)</a>

        self.update_existing_sample_ids()

    def split_info(self, split):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/5de7d509b517e80ce9df96d7b3ddc5b842a936b7#diff-319143ae5c8ebf247de050a4b8176ee9815a72eecc3ad09f6d7f96796102d7fdL755' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679179</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 5de7d509b517e80ce9df96d7b3ddc5b842a936b7</div><div id='time'> Time: 2022-01-27</div><div id='author'> Author: ehofesmann@gmail.com</div><div id='file'> File Name: fiftyone/utils/activitynet.py</div><div id='m_class'> M Class Name: ActivityNetDatasetInfo</div><div id='n_method'> N Class Name: ActivityNetDatasetInfo</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: ActivityNetInfo</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: fiftyone/utils/activitynet.py</div><div id='n_file'> N File Name: fiftyone/utils/activitynet.py</div><div id='m_start'> M Start Line: 758</div><div id='m_end'> M End Line: 765</div><div id='n_start'> N Start Line: 955</div><div id='n_end'> N End Line: 957</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def used_info(self, dataobject):
        get the matrix of recommendation items and number of items in total item set
        item_matrix = dataobject.get(&quotrec.items&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    which is indexed in non-decreasing order (P_{(i)} \leq P_{(i+1)}).
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        self.topk = config[&quottopk&quot]

    def used_info(self, dataobject):
        Get the matrix of recommendation items and number of items in total item set</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/b1dc219667135b87960339369293240dc6f92d54#diff-8fd51164df0f777ea7dad896a6cff1d26c50b6b99257a31a6f2d2d70dcd9dddcL543' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679178</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: b1dc219667135b87960339369293240dc6f92d54</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/metrics.py</div><div id='m_class'> M Class Name: GiniIndex</div><div id='n_method'> N Class Name: GiniIndex</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbole/evaluator/metrics.py</div><div id='n_file'> N File Name: recbole/evaluator/metrics.py</div><div id='m_start'> M Start Line: 545</div><div id='m_end'> M End Line: 545</div><div id='n_start'> N Start Line: 594</div><div id='n_end'> N End Line: 594</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __init__(self, wikipedia_id):
        self.wikipedia_id = wikipedia_id
        ks = KnowledgeSource()
        self.wikidata_id<a id="change"> = </a><a id="change">ks.get_page_by_id(self.wikipedia_id)["wikidata_info"]["wikidata_id"]</a>

    def get_1step_adjoin_entity(self, online=False):
        if(online==True):
            sparql_query = </code></pre><h3>After Change</h3><pre><code class='java'>
class WikidataSearcher(BaseSearcher):

    def __init__(self):
        <a id="change">super().__init__()</a>
        self.ks = KnowledgeSource()

    def search_for_entity(self, wikipedia_id, step_num, result_num=2):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cognlp/cogktr/commit/964bf79b59a65486774561d01c384f8880646e91#diff-1be44876206d20677bc8122771a9460feffcb6610186c63be1a17321d23fc685L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679181</div><div id='project'> Project Name: cognlp/cogktr</div><div id='commit'> Commit Name: 964bf79b59a65486774561d01c384f8880646e91</div><div id='time'> Time: 2022-06-30</div><div id='author'> Author: zhouyuyang17@163.com</div><div id='file'> File Name: cogktr/enhancers/searcher/wikidata_searcher.py</div><div id='m_class'> M Class Name: WikidataSearcher</div><div id='n_method'> N Class Name: WikidataSearcher</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: BaseSearcher</div><div id='n_parent_class'> N Parent Class: BaseSearcher</div><div id='m_file'> M File Name: cogktr/enhancers/searcher/wikidata_searcher.py</div><div id='n_file'> N File Name: cogktr/enhancers/searcher/wikidata_searcher.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 16</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 12</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    
    def __init__(self, config):
        self.metrics<a id="change"> = </a><a id="change">config[&quotmetrics&quot]</a>
        self.label_field = config[&quotLABEL_FIELD&quot]

        self._check_args()
</code></pre><h3>After Change</h3><pre><code class='java'>

    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        
        self.label_field = config[&quotLABEL_FIELD&quot]
        self._check_args()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/cb17c9bfee16863428f9c7795bd5ad31ccb01245#diff-cc7b51a57fd71d4aeb5bdfaa9f93f566b24033e2b25a6db0ef1f0e576fc265d5L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679180</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: cb17c9bfee16863428f9c7795bd5ad31ccb01245</div><div id='time'> Time: 2020-10-07</div><div id='author'> Author: 1337990880@qq.com</div><div id='file'> File Name: recbox/evaluator/loss_evaluator.py</div><div id='m_class'> M Class Name: LossEvaluator</div><div id='n_method'> N Class Name: LossEvaluator</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractEvaluator</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbox/evaluator/loss_evaluator.py</div><div id='n_file'> N File Name: recbox/evaluator/loss_evaluator.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def used_info(self, dataobject):
        get the matrix of recommendation items and the popularity of items in training data
        item_counter = dataobject.get(&quotdata.count_items&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    :math:`\phi(i)` is the number of interaction of item i in training data.
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        self.topk = config[&quottopk&quot]

    def used_info(self, dataobject):
        Get the matrix of recommendation items and the popularity of items in training data</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/b1dc219667135b87960339369293240dc6f92d54#diff-8fd51164df0f777ea7dad896a6cff1d26c50b6b99257a31a6f2d2d70dcd9dddcL447' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679183</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: b1dc219667135b87960339369293240dc6f92d54</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/metrics.py</div><div id='m_class'> M Class Name: AveragePopularity</div><div id='n_method'> N Class Name: AveragePopularity</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recbole/evaluator/metrics.py</div><div id='n_file'> N File Name: recbole/evaluator/metrics.py</div><div id='m_start'> M Start Line: 449</div><div id='m_end'> M End Line: 449</div><div id='n_start'> N Start Line: 474</div><div id='n_end'> N End Line: 474</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class SocialDataset(Dataset):
    def __init__(self, config, saved_dataset=None):
        self.config = config
        self.dataset_name<a id="change"> = </a><a id="change">config[&quotdataset&quot]</a>
        self.logger = getLogger()

        if saved_dataset is None:
            self._from_scratch(config)</code></pre><h3>After Change</h3><pre><code class='java'>

class SocialDataset(Dataset):
    def __init__(self, config, saved_dataset=None):
        <a id="change">super().__init__(</a>config<a id="change">, saved_dataset=saved_dataset)</a>

    def _from_scratch(self, config):
        self.logger.debug(&quotLoading social dataset from scratch&quot)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/a3c93b25b198de14194a122f0237b704895b68f0#diff-34134db2e88d559738ea85408b5673935345590fa3138d0116644d0d2d313983L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679182</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: a3c93b25b198de14194a122f0237b704895b68f0</div><div id='time'> Time: 2020-09-21</div><div id='author'> Author: 297086016@qq.com</div><div id='file'> File Name: recbox/data/dataset/social_dataset.py</div><div id='m_class'> M Class Name: SocialDataset</div><div id='n_method'> N Class Name: SocialDataset</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: recbox/data/dataset/social_dataset.py</div><div id='n_file'> N File Name: recbox/data/dataset/social_dataset.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 31</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 21</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__(expected_inputs, hook, **kwargs)

        if self.global_config is not None:
            self.output_folder<a id="change"> = </a><a id="change">self.global_config["output_folder"]</a>

        self.reshape = False

    def forward(self, x):</code></pre><h3>After Change</h3><pre><code class='java'>
        do_recovery=True,
        output_folder=None
    ):
        <a id="change">super().__init__()</a>
        self.rnn_type = rnn_type
        self.n_neurons = n_neurons
        self.nonlinearity = nonlinearity,
        self.num_layers = num_layers</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/7d00e5ec3034142a20ceb7b2aa48d81ad465d20e#diff-a7c3190f943cb09b3b7e0b688790f61f6e5e838546dec54468346ae1c2be7e08L1489' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679169</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 7d00e5ec3034142a20ceb7b2aa48d81ad465d20e</div><div id='time'> Time: 2020-03-27</div><div id='author'> Author: plantinga.peter@gmail.com</div><div id='file'> File Name: speechbrain/nnet/architectures.py</div><div id='m_class'> M Class Name: RNN_basic</div><div id='n_method'> N Class Name: RNN_basic</div><div id='m_method'> M Method Name: __init__(11)</div><div id='n_method'> N Method Name: __init__(9)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: SpeechBrainModule</div><div id='m_file'> M File Name: speechbrain/nnet/architectures.py</div><div id='n_file'> N File Name: speechbrain/nnet/architectures.py</div><div id='m_start'> M Start Line: 1511</div><div id='m_end'> M End Line: 1601</div><div id='n_start'> N Start Line: 1467</div><div id='n_end'> N End Line: 1553</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    

    def __init__(self, config):
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def calculate_metric(self, dataobject):
        meanrank = dataobject.get(&quotrec.meanrank&quot)
        meanrank = meanrank.numpy()</code></pre><h3>After Change</h3><pre><code class='java'>
    :math:`rank_i` is the descending rank of the i-th items in :math:`R(u)`.
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>

    def calculate_metric(self, dataobject):
        mean_rank = dataobject.get(&quotrec.meanrank&quot).numpy()
        pos_rank_sum, user_len_list, pos_len_list = np.split(mean_rank, 3, axis=1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/b1dc219667135b87960339369293240dc6f92d54#diff-8fd51164df0f777ea7dad896a6cff1d26c50b6b99257a31a6f2d2d70dcd9dddcL233' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679171</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: b1dc219667135b87960339369293240dc6f92d54</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/metrics.py</div><div id='m_class'> M Class Name: GAUC</div><div id='n_method'> N Class Name: GAUC</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbole/evaluator/metrics.py</div><div id='n_file'> N File Name: recbole/evaluator/metrics.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 234</div><div id='n_start'> N Start Line: 249</div><div id='n_end'> N End Line: 249</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.metrics<a id="change"> = </a><a id="change">config[&quotmetrics&quot]</a>

        self._check_args()

    def evaluate(self, interaction, scores_tensor, full=False):</code></pre><h3>After Change</h3><pre><code class='java'>
    
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>

        self.topk = config[&quottopk&quot]
        self._check_args()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/cb17c9bfee16863428f9c7795bd5ad31ccb01245#diff-bb3c7590972d382af06f42c90fea6e879a17587e1e1d26b9ebae9850bf40a96bL31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679170</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: cb17c9bfee16863428f9c7795bd5ad31ccb01245</div><div id='time'> Time: 2020-10-07</div><div id='author'> Author: 1337990880@qq.com</div><div id='file'> File Name: recbox/evaluator/topk_evaluator.py</div><div id='m_class'> M Class Name: TopKEvaluator</div><div id='n_method'> N Class Name: TopKEvaluator</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractEvaluator</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbox/evaluator/topk_evaluator.py</div><div id='n_file'> N File Name: recbox/evaluator/topk_evaluator.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def used_info(self, dataobject):
        get the bool matrix indicating whether the corresponding item is positive
        rec_mat = dataobject.get(&quotrec.topk&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
        config (Config): The config of evaluator.
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        self.topk = config[&quottopk&quot]

    def used_info(self, dataobject):
        Get the bool matrix indicating whether the corresponding item is positive.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/d459ec645e4da78c910cf4d8bd70af42ddbd945f#diff-cf28331096f58cba4ed400b3b3865a22d5cdcc51dd648491a493374abe7eabf6L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679172</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: d459ec645e4da78c910cf4d8bd70af42ddbd945f</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/base_metric.py</div><div id='m_class'> M Class Name: TopkMetric</div><div id='n_method'> N Class Name: TopkMetric</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: recbole/evaluator/base_metric.py</div><div id='n_file'> N File Name: recbole/evaluator/base_metric.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def __init__(self, config):
        self.topk = config[&quottopk&quot]
        self.decimal_place<a id="change"> = </a><a id="change">config[&quotmetric_decimal_place&quot]</a>

    def used_info(self, dataobject):
        get the matrix of recommendation items.
        item_matrix = dataobject.get(&quotrec.items&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    which is the number of item i in recommended list over all items.
    
    def __init__(self, config):
        <a id="change">super().__init__(</a>config<a id="change">)</a>
        self.topk = config[&quottopk&quot]

    def used_info(self, dataobject):
        Get the matrix of recommendation items.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/b1dc219667135b87960339369293240dc6f92d54#diff-8fd51164df0f777ea7dad896a6cff1d26c50b6b99257a31a6f2d2d70dcd9dddcL500' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1679174</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: b1dc219667135b87960339369293240dc6f92d54</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 970955517@qq.com</div><div id='file'> File Name: recbole/evaluator/metrics.py</div><div id='m_class'> M Class Name: ShannonEntropy</div><div id='n_method'> N Class Name: ShannonEntropy</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: AbstractMetric</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recbole/evaluator/metrics.py</div><div id='n_file'> N File Name: recbole/evaluator/metrics.py</div><div id='m_start'> M Start Line: 502</div><div id='m_end'> M End Line: 502</div><div id='n_start'> N Start Line: 543</div><div id='n_end'> N End Line: 543</div><BR>