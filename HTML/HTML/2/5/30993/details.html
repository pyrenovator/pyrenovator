<html><h3>Pattern ID :30993
</h3><img src='91038185.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        prior_prob = 0.01
        bias_value = -math.log((1 - prior_prob) / prior_prob)
        for modules in self.conf:
            <a id="change">for l</a> in <a id="change">modules.modules():
                </a><a id="change">if </a>isinstance(l, nn.Conv2d):
                    torch.nn.init.normal_(l.weight, std=0.01)
                    torch.nn.init.constant_(l.bias, bias_value)
</code></pre><h3>After Change</h3><pre><code class='java'>

        bias_value = 0
        for modules in self.loc:
            torch.nn.init.normal_(<a id="change">modules[-1]</a>.weight, std=0.01)
            torch.nn.init.constant_(modules[-1].bias, bias_value)
        import math
        prior_prob = 0.01</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zhanghengdev/mutualguide/commit/a1922567db242ed73012d090b249066d1159a902#diff-173712d78c4a4bd55ef9e83dfc90dcc8b50acd30105eeeb8efc089e7b558a265L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91038185</div><div id='project'> Project Name: zhanghengdev/mutualguide</div><div id='commit'> Commit Name: a1922567db242ed73012d090b249066d1159a902</div><div id='time'> Time: 2021-06-01</div><div id='author'> Author: heng.zhang@irisa.fr</div><div id='file'> File Name: models/detector.py</div><div id='m_class'> M Class Name: Detector</div><div id='n_method'> N Class Name: Detector</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/detector.py</div><div id='n_file'> N File Name: models/detector.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if self._current_input_shape != x.shape:
            &#47&#47 Clean up state to accomodate new shape
            <a id="change">for m</a> in <a id="change">self.modules():
                </a><a id="change">if </a>hasattr(m, "clean_state"):
                    m.clean_state()

        result = None</code></pre><h3>After Change</h3><pre><code class='java'>
        if "clip" == self.hparams.co3d_forward_mode:
            result = self.module.forward(x[:, :, : self.temporal_window_size])
        elif "clip" in self.hparams.co3d_forward_mode:
            result = self.module.forward_steps(<a id="change">x[:, :, : self.temporal_window_size]</a>)

        &#47&#47 Flush state with intermediate frames
        if "init" in self.hparams.co3d_forward_mode:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukashedegaard/co3d/commit/30aa0777c650cf0ac718a31469558988dbe3bf59#diff-17b071a0daecc797deea124425b1e05b912f235c2f08acb49a49c98305fe37c8L216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91038173</div><div id='project'> Project Name: lukashedegaard/co3d</div><div id='commit'> Commit Name: 30aa0777c650cf0ac718a31469558988dbe3bf59</div><div id='time'> Time: 2021-09-10</div><div id='author'> Author: lh@eng.au.dk</div><div id='file'> File Name: models/cox3d/main.py</div><div id='m_class'> M Class Name: CoX3DRide</div><div id='n_method'> N Class Name: CoX3DRide</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: ActionRecognitionDatasets,TopKAccuracyMetric(1, 3, 5),RideModule,SgdCyclicLrOptimizer</div><div id='n_parent_class'> N Parent Class: ActionRecognitionDatasets,TopKAccuracyMetric(1, 3, 5),CoX3D,RideModule,SgdCyclicLrOptimizer</div><div id='m_file'> M File Name: models/cox3d/main.py</div><div id='n_file'> N File Name: models/cox3d/main.py</div><div id='m_start'> M Start Line: 222</div><div id='m_end'> M End Line: 255</div><div id='n_start'> N Start Line: 230</div><div id='n_end'> N End Line: 261</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if self._current_input_shape != x.shape:
            &#47&#47 Clean up state to accomodate new shape
            <a id="change">for m</a> in <a id="change">self.modules():
                </a><a id="change">if </a>hasattr(m, "clean_state"):
                    m.clean_state()

        result = None</code></pre><h3>After Change</h3><pre><code class='java'>
        if "clip" == self.hparams.co3d_forward_mode:
            result = self.module.forward(x[:, :, : self.temporal_window_size])
        elif "clip" in self.hparams.co3d_forward_mode:
            result = self.module.forward_steps(<a id="change">x[:, :, : self.temporal_window_size]</a>)

        &#47&#47 Flush state with intermediate frames
        if "init" in self.hparams.co3d_forward_mode:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukashedegaard/co3d/commit/a0c30f4d90d95e358de155ec07f8272e2550b861#diff-17b071a0daecc797deea124425b1e05b912f235c2f08acb49a49c98305fe37c8L216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91038181</div><div id='project'> Project Name: lukashedegaard/co3d</div><div id='commit'> Commit Name: a0c30f4d90d95e358de155ec07f8272e2550b861</div><div id='time'> Time: 2021-09-08</div><div id='author'> Author: lh@eng.au.dk</div><div id='file'> File Name: models/cox3d/main.py</div><div id='m_class'> M Class Name: CoX3DRide</div><div id='n_method'> N Class Name: CoX3DRide</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: ActionRecognitionDatasets,TopKAccuracyMetric(1, 3, 5),RideModule,SgdCyclicLrOptimizer</div><div id='n_parent_class'> N Parent Class: ActionRecognitionDatasets,TopKAccuracyMetric(1, 3, 5),CoX3D,RideModule,SgdCyclicLrOptimizer</div><div id='m_file'> M File Name: models/cox3d/main.py</div><div id='n_file'> N File Name: models/cox3d/main.py</div><div id='m_start'> M Start Line: 223</div><div id='m_end'> M End Line: 256</div><div id='n_start'> N Start Line: 231</div><div id='n_end'> N End Line: 262</div><BR>