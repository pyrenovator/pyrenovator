<html><h3>Pattern ID :31862
</h3><img src='93120140.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            hfdata.load_dataset(&quotbeans&quot, split=&quottrain&quot))
        self.assertEqual(ms_ds_full[&quottrain&quot][0], ms_ds_full_hf[&quottrain&quot][0])
        self.assertEqual(ms_ds_full[&quotvalidation&quot][0],
                         <a id="change">ms_ds_full_hf[&quotvalidation&quot][0]</a>)
        self.assertEqual(ms_ds_train[0], ms_ds_train_hf[0])
        print(next(iter(ms_ds_full[&quottrain&quot])))
        print(next(iter(ms_ds_train)))</code></pre><h3>After Change</h3><pre><code class='java'>
            subset_name=&quottranslation-et&quot,
            namespace=&quotdamotest&quot,
            split=&quottest&quot)
        print(<a id="change">next(iter(</a>ms_ds_full[&quottest&quot]<a id="change">)</a><a id="change">)</a>)
        print(next(iter(ms_ds)))

    @unittest.skipUnless(test_level() &gt;= 1, &quotskip test in current test level&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/modelscope/modelscope/commit/2c3875c0e10156927d2172f9315b2901dc640e90#diff-6d13be437ca738619c80650ca129e44eb4e7179176290e154d11ffa0013a69daL37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 93120140</div><div id='project'> Project Name: modelscope/modelscope</div><div id='commit'> Commit Name: 2c3875c0e10156927d2172f9315b2901dc640e90</div><div id='time'> Time: 2022-07-20</div><div id='author'> Author: feiwu.yfw@alibaba-inc.com</div><div id='file'> File Name: tests/msdatasets/test_ms_dataset.py</div><div id='m_class'> M Class Name: MsDatasetTest</div><div id='n_method'> N Class Name: MsDatasetTest</div><div id='m_method'> M Method Name: test_ds_basic(1)</div><div id='n_method'> N Method Name: test_ds_basic(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/msdatasets/test_ms_dataset.py</div><div id='n_file'> N File Name: tests/msdatasets/test_ms_dataset.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def _prf_scores_over_types(chunks_gold_data: list, chunks_pred_data: list, **kwargs):
    TYPE_POS = len(<a id="change">chunks_gold_data[0][0]</a>) - 3
    types_set = {ck[TYPE_POS] for chunks_data in [chunks_gold_data, chunks_pred_data] for chunks in chunks_data for ck in chunks}
    
    scores = {}</code></pre><h3>After Change</h3><pre><code class='java'>
        return {}
        
    chunks_set = {ck for chunks_data in [chunks_gold_data, chunks_pred_data] for chunks in chunks_data for ck in chunks}
    TYPE_POS = len(<a id="change">next(iter(</a>chunks_set<a id="change">)</a><a id="change">)</a>) - 3
    types_set = {ck[TYPE_POS] for ck in chunks_set}
    
    scores = {}</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/syuoni/eznlp/commit/6b73005cba7b1832973a446f6ec43d27c732e5da#diff-3c2c21d0fb7c5a3c66b5aa7c71bf81022c2c40dab5c1971caa7f0e581cc11427L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 93120132</div><div id='project'> Project Name: syuoni/eznlp</div><div id='commit'> Commit Name: 6b73005cba7b1832973a446f6ec43d27c732e5da</div><div id='time'> Time: 2020-10-13</div><div id='author'> Author: enwei.zhu@outlook.com</div><div id='file'> File Name: eznlp/sequence_tagging/metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _prf_scores_over_types(2)</div><div id='n_method'> N Method Name: _prf_scores_over_types(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: eznlp/sequence_tagging/metrics.py</div><div id='n_file'> N File Name: eznlp/sequence_tagging/metrics.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    print(f"Feature batch shape: {sample[&quotimage&quot].size()}")
    print(f"Labels batch shape: {sample[&quotlabel&quot].size()}")
    img = sample[&quotimage&quot][0].squeeze()
    label = <a id="change">sample[&quotlabel&quot][0]</a>
    &#47&#47 plt.imshow(img.numpy().astype(np.uint8), cmap="gray")
    &#47&#47 plt.savefig(&quottest_tmp.png&quot)
    print(f"Label: {label}")
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 packets
    packet_loader = DataLoader(
        train_packet_set, batch_size=1, shuffle=True)
    packet_sample = <a id="change">next(iter(</a>packet_loader<a id="change">)</a><a id="change">)</a>
    
    plt.plot(np.mean(np.reshape(packet_sample[&quotimage&quot][0].cpu().numpy(), [64, -1]), -1))
    plt.show()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gan-police/frequency-forensics/commit/4134e836d0bfb2595a2c0e859a068e6c6c3ad695#diff-0073cad293648ffd8f4abfd531175195cfe13986497b8b54114fabcc8a3a4b30L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 93120129</div><div id='project'> Project Name: gan-police/frequency-forensics</div><div id='commit'> Commit Name: 4134e836d0bfb2595a2c0e859a068e6c6c3ad695</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: wolter@cs.uni-bonn.de</div><div id='file'> File Name: src/freqdect/data_loader.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/freqdect/data_loader.py</div><div id='n_file'> N File Name: src/freqdect/data_loader.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 93</div><BR>