<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                persistent_workers=True)

        loss_record = []
        num_batches_per_epoch = math.ceil(<a id="change">len(</a>dataset<a id="change">)</a>/self.batch_size)
        assert len(dataloader) == num_batches_per_epoch, \
            "num_batches_per_dataset doesn&quott represent actual length of dataloader"
        assert num_batches_per_epoch &gt; 0, \</code></pre><h3>After Change</h3><pre><code class='java'>

            assert batches_trained &gt; 0, \
                "went through training loop with no batches---empty dataset?"
            <a id="change">if epochs_trained == 0</a>:
                &#47&#47 we infer the size of the dataset from the number of
                &#47&#47 iterations through the loop the first time
                <a id="change">logging.debug(f"Dataset size is {batches_trained}"</a><a id="change">)</a>

            if self.scheduler is not None:
                self.scheduler.step()
            loss_record.append(loss_meter.avg)</code></pre>