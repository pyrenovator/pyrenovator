<html><h3>Pattern ID :19882
</h3><img src='64609113.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    if add_txt is not None:
        all_wrds = add_txt
        chars_lst = [c for c in <a id="change">"_".join(</a>all_wrds<a id="change">)</a>]
        all_chars<a id="change"> = </a>" ".join(chars_lst)

    with gzip.open(data_path, "rt") as f_in:
        for snt_id, line in enumerate(f_in):</code></pre><h3>After Change</h3><pre><code class='java'>
    for i, line in enumerate(tqdm(lines)):
        ids = tokenizer.sp.encode_as_ids(line)
        &#47&#47 filter out sentence that is too short or to long
        <a id="change">if </a><a id="change">len(ids) &gt; 0 and len(ids) &lt; 400</a>:
            subwrds.append(ids)

    if ".pkl" in hdf5_file:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/4b904f1c3c1cf288707da37efbfb0a9a9c2c23dc#diff-4337ab4eb452d3bf669f89476cdd3ebe00df732cc3949a73af09402f83531ff7L122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64609113</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 4b904f1c3c1cf288707da37efbfb0a9a9c2c23dc</div><div id='time'> Time: 2020-09-11</div><div id='author'> Author: jzhong9@u.rochester.edu</div><div id='file'> File Name: recipes/LibriSpeech/librispeech_lm_prepare.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_hdf5(5)</div><div id='n_method'> N Method Name: create_hdf5(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recipes/LibriSpeech/librispeech_lm_prepare.py</div><div id='n_file'> N File Name: recipes/LibriSpeech/librispeech_lm_prepare.py</div><div id='m_start'> M Start Line: 122</div><div id='m_end'> M End Line: 192</div><div id='n_start'> N Start Line: 144</div><div id='n_end'> N End Line: 172</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        subset_paths = []
        for task, extractor_type, task_dir in cls._TASKS:
            task_path<a id="change"> = </a><a id="change">osp.join(</a>root_path, VocPath.SUBSETS_DIR, task_dir<a id="change">)</a>

            if not osp.isdir(task_path):
                continue
            task_subsets = [p for p in glob(osp.join(task_path, &quot*.txt&quot))</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 find root path for the dataset and use it for all tasks
        root_path = None
        for extractor_type, task_dir in cls._TASKS.values():
            <a id="change">if </a><a id="change">osp.isfile(path) and \
                    not osp.basename(osp.dirname(path)) == task_dir</a>:
                continue

            task_subsets = cls._find_sources_recursive(root_path or path,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/839ca35beaf8e5f11efcb86d9cfd03c693d8b9bb#diff-995c7ec9cc02821c075eb610054d2f1bdd86dc65fffa465763eb8d942c567491L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64609117</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 839ca35beaf8e5f11efcb86d9cfd03c693d8b9bb</div><div id='time'> Time: 2021-06-09</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/voc_format/importer.py</div><div id='m_class'> M Class Name: VocImporter</div><div id='n_method'> N Class Name: VocImporter</div><div id='m_method'> M Method Name: find_sources(2)</div><div id='n_method'> N Method Name: find_sources(2)</div><div id='m_parent_class'> M Parent Class: Importer</div><div id='n_parent_class'> N Parent Class: Importer</div><div id='m_file'> M File Name: datumaro/plugins/voc_format/importer.py</div><div id='n_file'> N File Name: datumaro/plugins/voc_format/importer.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        datefmt = "%a %d %b %Y %H:%M:%S"
        formatter = logging.Formatter(fmt, datefmt)
        self._logger.setLevel(level)
        log_path<a id="change"> = </a><a id="change">os.path.join(</a>output_dir, log_filename<a id="change">)</a>
        
        file_handler = logging.FileHandler(log_path)
        file_handler.setLevel(logging.INFO)
        file_handler.setFormatter(formatter)</code></pre><h3>After Change</h3><pre><code class='java'>

        stream_handler = logging.StreamHandler(sys.stdout)
        stream_handler.setFormatter(formatter)
        <a id="change">if </a><a id="change">not self.logger.handlers and log_path is not None</a>:
            fh = logging.FileHandler(log_path)
            fh.setLevel(logging.INFO)
            fh.setFormatter(formatter)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spico197/rex/commit/6c064639242c6f66893a4319081b7339ff6a43da#diff-5a960e081d3a45269ca8c8dcbc8d5478932312efa4ed789b3dd2c1c6a0d72440L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64609100</div><div id='project'> Project Name: spico197/rex</div><div id='commit'> Commit Name: 6c064639242c6f66893a4319081b7339ff6a43da</div><div id='time'> Time: 2021-05-06</div><div id='author'> Author: spico1026@gmail.com</div><div id='file'> File Name: rex/utils/logger.py</div><div id='m_class'> M Class Name: Logger</div><div id='n_method'> N Class Name: Logger</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: rex/utils/logger.py</div><div id='n_file'> N File Name: rex/utils/logger.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 37</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._iter_filenames = None

    def setup(self):
        self._data_dir<a id="change"> = </a><a id="change">os.path.join(</a>self._data_dir<a id="change">)</a>

        labels_path = os.path.join(self.json_path)
        if os.path.isfile(labels_path):
            (</code></pre><h3>After Change</h3><pre><code class='java'>
        self._iter_filenames = None

    def setup(self):
        <a id="change">if self.labels_path is not None</a><a id="change"> and os.path.isfile(self.labels_path)</a>:
            (
                info,
                classes,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/536f6ac729cfd38a2a81812104af8e9556e5bb67#diff-8245215299048a2a45a37fe44b2a15f3f0e7678b908c8bd97aceea14c64875a9L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64609122</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: 536f6ac729cfd38a2a81812104af8e9556e5bb67</div><div id='time'> Time: 2021-07-02</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/utils/fiftyone.py</div><div id='m_class'> M Class Name: COCODetectionDatasetImporter</div><div id='n_method'> N Class Name: COCODetectionDatasetImporter</div><div id='m_method'> M Method Name: setup(1)</div><div id='n_method'> N Method Name: setup(1)</div><div id='m_parent_class'> M Parent Class: BaseCOCODetectionDatasetImporter</div><div id='n_parent_class'> N Parent Class: BaseCOCODetectionDatasetImporter</div><div id='m_file'> M File Name: sahi/utils/fiftyone.py</div><div id='n_file'> N File Name: sahi/utils/fiftyone.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 117</div><BR>