<html><h3>Pattern ID :41277
</h3><img src='116283404.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    elif task == &quotquery&quot:
        config()
        query()
    elif <a id="change"></a>task == &quotquery_restful&quot:
        <a id="change">if not os.path.exists(workspace)</a>:
            logger.warning(f&quotThe directory {workspace} does not exist. Please index first via `python app.py -t index`&quot)
        query_restful()
    elif task == &quotdryrun&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    elif task == &quotquery_text&quot:
        query_text()
    else:
        <a id="change">raise </a>NotImplementedError(
            f&quotUnknown task: {task}.&quot)

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/e2bac6411dfc263b22bd8023274ce5a662e21c57#diff-2267e8e53b42b3d2dc2a413309c4f06c2b0754b68241bb673b5075436beb815dL75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116283404</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: e2bac6411dfc263b22bd8023274ce5a662e21c57</div><div id='time'> Time: 2021-07-16</div><div id='author'> Author: 51201318+slettner@users.noreply.github.com</div><div id='file'> File Name: multires-lyrics-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(2)</div><div id='n_method'> N Method Name: main(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: multires-lyrics-search/app.py</div><div id='n_file'> N File Name: multires-lyrics-search/app.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 133</div><div id='n_start'> N Start Line: 75</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Check if all files are available before going deeper.
        if not self.dataset_dir.exists():
            raise RuntimeError(f&quot{self.dataset_dir} is not available&quot)
        <a id="change">if </a>not self.train_dir.exists():
            raise RuntimeError(f&quot{self.train_dir} is not available&quot)
        <a id="change">if not self.query_dir.exists()</a>:
            raise RuntimeError(f&quot{self.query_dir} is not available&quot)
        if not self.gal_dir.exists():
            raise RuntimeError(f&quot{self.gal_dir} is not available&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
            raise RuntimeError(f&quot{self.dataset_dir} does not exist&quot)
        for dataset_path in self.path_by_type.values():
            if not dataset_path.exists():
                <a id="change">raise </a>RuntimeError(f&quot{dataset_path} does not exist&quot)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/intel/openfl/commit/8b7e6357cf153411351d96d2b4f21f871cf3a6a7#diff-72f399395d6344faf7ab9390cad0730530f29e00f69d3572012fe2b6cec771cfL103' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116283401</div><div id='project'> Project Name: intel/openfl</div><div id='commit'> Commit Name: 8b7e6357cf153411351d96d2b4f21f871cf3a6a7</div><div id='time'> Time: 2021-11-01</div><div id='author'> Author: 76171391+aleksandr-mokrov@users.noreply.github.com</div><div id='file'> File Name: openfl-tutorials/interactive_api/PyTorch_Market_Re-ID/envoy/market_shard_descriptor.py</div><div id='m_class'> M Class Name: MarketShardDescriptor</div><div id='n_method'> N Class Name: MarketShardDescriptor</div><div id='m_method'> M Method Name: _check_before_run(1)</div><div id='n_method'> N Method Name: _check_before_run(1)</div><div id='m_parent_class'> M Parent Class: ShardDescriptor</div><div id='n_parent_class'> N Parent Class: ShardDescriptor</div><div id='m_file'> M File Name: openfl-tutorials/interactive_api/PyTorch_Market_Re-ID/envoy/market_shard_descriptor.py</div><div id='n_file'> N File Name: openfl-tutorials/interactive_api/PyTorch_Market_Re-ID/envoy/market_shard_descriptor.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 114</div><div id='n_start'> N Start Line: 132</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        iterator = self._remote_filepath_iterator()
        for remote_path in iterator:
            remote_path = next(iterator)
            <a id="change">if </a>remote_path[-1] == &quot/&quot:
                continue
            path = os.path.join(local_path, remote_path)
            <a id="change">if not os.path.exists(os.path.dirname(path))</a>:
                os.makedirs(os.path.dirname(path))
            logger.info(f&quotDownloading {remote_path} to {path}&quot)
            self._download_file(remote_path, path)</code></pre><h3>After Change</h3><pre><code class='java'>
        Args:
          local_path: Local path on user&quots device
        
        <a id="change">raise </a>NotImplementedError

    def _download_file(self, remote_path: str, local_path: str) -&gt; None:
        Downloads file from remote to local on Store</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/e9b378e63296e0a545bc83e6f54e05e4a0afd765#diff-2dd4cdad7588ec418993490ea24de1c54493e3c28835dcc4a1af740f0391bf9eL224' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116283397</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: e9b378e63296e0a545bc83e6f54e05e4a0afd765</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: zhanghao.wu@outlook.com</div><div id='file'> File Name: sky/data/storage.py</div><div id='m_class'> M Class Name: AbstractStore</div><div id='n_method'> N Class Name: AbstractStore</div><div id='m_method'> M Method Name: download_remote_dir(2)</div><div id='n_method'> N Method Name: download_remote_dir(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sky/data/storage.py</div><div id='n_file'> N File Name: sky/data/storage.py</div><div id='m_start'> M Start Line: 231</div><div id='m_end'> M End Line: 244</div><div id='n_start'> N Start Line: 238</div><div id='n_end'> N End Line: 238</div><BR>