<html><h3>Pattern ID :5593
</h3><img src='19723820.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        wrap_gcca = GCCA(latent_dims=latent_dims).fit(self.X_sp, self.Y_sp)
        wrap_mcca = MCCA(latent_dims=latent_dims).fit(self.X_sp, self.Y_sp)
        wrap_kcca = KCCA(latent_dims=latent_dims).fit(self.X_sp, self.Y_sp)
        corr_cca = <a id="change">wrap_cca.train_correlations[0, 1]</a>
        corr_iter = wrap_iter.train_correlations[0, 1]
        corr_gcca = wrap_gcca.train_correlations[0, 1]
        corr_mcca = wrap_mcca.train_correlations[0, 1]
        corr_kcca = wrap_kcca.train_correlations[0, 1]</code></pre><h3>After Change</h3><pre><code class='java'>
        wrap_mcca = MCCA(latent_dims=latent_dims, centre=False).fit(self.X_sp, self.Y_sp)
        wrap_kcca = KCCA(latent_dims=latent_dims, centre=False).fit(self.X_sp, self.Y_sp)
        corr_cca = wrap_cca.score(self.X, self.Y)
        corr_iter = <a id="change">wrap_iter.score(</a>self.X, self.Y<a id="change">)</a>
        corr_gcca = wrap_gcca.score(self.X, self.Y)
        corr_mcca = wrap_mcca.score(self.X, self.Y)
        corr_kcca = wrap_kcca.score(self.X, self.Y)
        &#47&#47 Check the score outputs are the right shape</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9868ff9ae1290ce0a7397c9b720fbcff0791ba14#diff-fa2d92b48c2c212846b1a938757a6067ce7ae0a9e7d7bb8a7f9f30f4a6ad153aL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19723820</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9868ff9ae1290ce0a7397c9b720fbcff0791ba14</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: tests/testmodels.py</div><div id='m_class'> M Class Name: TestModels</div><div id='n_method'> N Class Name: TestModels</div><div id='m_method'> M Method Name: test_sparse_input(1)</div><div id='n_method'> N Method Name: test_sparse_input(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/testmodels.py</div><div id='n_file'> N File Name: tests/testmodels.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        wrap_rCCA = rCCA(latent_dims=latent_dims, c=[c, c]).fit(self.X, self.Y)
        corr_gcca = wrap_gcca.train_correlations[0, 1]
        corr_mcca = wrap_mcca.train_correlations[0, 1]
        corr_kernel = <a id="change">wrap_kernel.train_correlations[0, 1]</a>
        corr_pls = wrap_pls.train_correlations[0, 1]
        corr_rcca = wrap_rCCA.train_correlations[0, 1]
        &#47&#47 Check the correlations from each unregularized method are the same
        &#47&#47 self.assertIsNone(np.testing.assert_array_almost_equal(corr_pls, corr_gcca, decimal=2))</code></pre><h3>After Change</h3><pre><code class='java'>
        corr_gcca = wrap_gcca.score(self.X, self.Y)
        corr_mcca = wrap_mcca.score(self.X, self.Y)
        corr_kernel = wrap_kernel.score(self.X, self.Y)
        corr_pls = <a id="change">wrap_pls.score(</a>self.X, self.Y<a id="change">)</a>
        corr_rcca = wrap_rCCA.score(self.X, self.Y)
        &#47&#47 Check the correlations from each unregularized method are the same
        &#47&#47 self.assertIsNone(np.testing.assert_array_almost_equal(corr_pls, corr_gcca, decimal=2))
        self.assertIsNone(np.testing.assert_array_almost_equal(corr_pls, corr_mcca, decimal=1))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9868ff9ae1290ce0a7397c9b720fbcff0791ba14#diff-fa2d92b48c2c212846b1a938757a6067ce7ae0a9e7d7bb8a7f9f30f4a6ad153aL98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19723822</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9868ff9ae1290ce0a7397c9b720fbcff0791ba14</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: tests/testmodels.py</div><div id='m_class'> M Class Name: TestModels</div><div id='n_method'> N Class Name: TestModels</div><div id='m_method'> M Method Name: test_regularized_methods(1)</div><div id='n_method'> N Method Name: test_regularized_methods(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/testmodels.py</div><div id='n_file'> N File Name: tests/testmodels.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 113</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        corr_iter = wrap_iter.train_correlations[0, 1]
        corr_gcca = wrap_gcca.train_correlations[0, 1]
        corr_mcca = wrap_mcca.train_correlations[0, 1]
        corr_kcca = <a id="change">wrap_kcca.train_correlations[0, 1]</a>
        &#47&#47 Check the score outputs are the right shape
        self.assertTrue(wrap_iter.scores[0].shape == (self.X.shape[0], latent_dims))
        self.assertTrue(wrap_gcca.scores[0].shape == (self.X.shape[0], latent_dims))
        self.assertTrue(wrap_mcca.scores[0].shape == (self.X.shape[0], latent_dims))</code></pre><h3>After Change</h3><pre><code class='java'>
        corr_iter = wrap_iter.score(self.X, self.Y)
        corr_gcca = wrap_gcca.score(self.X, self.Y)
        corr_mcca = wrap_mcca.score(self.X, self.Y)
        corr_kcca = <a id="change">wrap_kcca.score(</a>self.X, self.Y<a id="change">)</a>
        &#47&#47 Check the score outputs are the right shape
        self.assertTrue(wrap_iter.scores[0].shape == (self.X.shape[0], latent_dims))
        self.assertTrue(wrap_gcca.scores[0].shape == (self.X.shape[0], latent_dims))
        self.assertTrue(wrap_mcca.scores[0].shape == (self.X.shape[0], latent_dims))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9868ff9ae1290ce0a7397c9b720fbcff0791ba14#diff-fa2d92b48c2c212846b1a938757a6067ce7ae0a9e7d7bb8a7f9f30f4a6ad153aL25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19723816</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9868ff9ae1290ce0a7397c9b720fbcff0791ba14</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: tests/testmodels.py</div><div id='m_class'> M Class Name: TestModels</div><div id='n_method'> N Class Name: TestModels</div><div id='m_method'> M Method Name: test_unregularized_methods(1)</div><div id='n_method'> N Method Name: test_unregularized_methods(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/testmodels.py</div><div id='n_file'> N File Name: tests/testmodels.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 37</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        wrap_tcca = TCCA(latent_dims=latent_dims, c=[0.2, 0.2]).fit(self.X, self.Y)
        wrap_ktcca = KTCCA(latent_dims=latent_dims, c=[0.2, 0.2]).fit(self.X, self.Y)
        corr_tcca = wrap_tcca.train_correlations[0, 1]
        corr_ktcca = <a id="change">wrap_ktcca.train_correlations[0, 1]</a>
        self.assertIsNone(np.testing.assert_array_almost_equal(corr_tcca, corr_ktcca, decimal=1))

    def test_cv_fit(self):
        &#47&#47 Test the CV method</code></pre><h3>After Change</h3><pre><code class='java'>
        wrap_tcca = TCCA(latent_dims=latent_dims, c=[0.2, 0.2]).fit(self.X, self.Y)
        wrap_ktcca = KTCCA(latent_dims=latent_dims, c=[0.2, 0.2]).fit(self.X, self.Y)
        corr_tcca = wrap_tcca.score(self.X, self.Y)
        corr_ktcca = <a id="change">wrap_ktcca.score(</a>self.X, self.Y<a id="change">)</a>
        self.assertIsNone(np.testing.assert_array_almost_equal(corr_tcca, corr_ktcca, decimal=1))

    def test_cv_fit(self):
        &#47&#47 Test the CV method</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9868ff9ae1290ce0a7397c9b720fbcff0791ba14#diff-fa2d92b48c2c212846b1a938757a6067ce7ae0a9e7d7bb8a7f9f30f4a6ad153aL166' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19723818</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9868ff9ae1290ce0a7397c9b720fbcff0791ba14</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: tests/testmodels.py</div><div id='m_class'> M Class Name: TestModels</div><div id='n_method'> N Class Name: TestModels</div><div id='m_method'> M Method Name: test_TCCA(1)</div><div id='n_method'> N Method Name: test_TCCA(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/testmodels.py</div><div id='n_file'> N File Name: tests/testmodels.py</div><div id='m_start'> M Start Line: 169</div><div id='m_end'> M End Line: 172</div><div id='n_start'> N Start Line: 170</div><div id='n_end'> N End Line: 173</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                                                                                 param_candidates=param_candidates,
                                                                                                 verbose=True)
        corr_pmd = wrap_pmd.train_correlations[0, 1]
        corr_scca = <a id="change">wrap_scca.train_correlations[0, 1]</a>
        corr_elastic = wrap_elastic.train_correlations[0, 1]
        wrap_scca_admm = SCCA_ADMM(c=[1e-4, 1e-4]).fit(self.X, self.Y)
        wrap_scca = SCCA(c=[1e-4, 1e-4]).fit(self.X, self.Y)
</code></pre><h3>After Change</h3><pre><code class='java'>
                                                                                                 verbose=True)
        corr_pmd = wrap_pmd.score(self.X, self.Y)
        corr_scca = wrap_scca.score(self.X, self.Y)
        corr_elastic = <a id="change">wrap_elastic.score(</a>self.X, self.Y<a id="change">)</a>
        wrap_scca_admm = SCCA_ADMM(c=[1e-4, 1e-4]).fit(self.X, self.Y)
        wrap_scca = SCCA(c=[1e-4, 1e-4]).fit(self.X, self.Y)

    def test_weighted_GCCA_methods(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9868ff9ae1290ce0a7397c9b720fbcff0791ba14#diff-fa2d92b48c2c212846b1a938757a6067ce7ae0a9e7d7bb8a7f9f30f4a6ad153aL127' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19723830</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9868ff9ae1290ce0a7397c9b720fbcff0791ba14</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: tests/testmodels.py</div><div id='m_class'> M Class Name: TestModels</div><div id='n_method'> N Class Name: TestModels</div><div id='m_method'> M Method Name: test_sparse_methods(1)</div><div id='n_method'> N Method Name: test_sparse_methods(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/testmodels.py</div><div id='n_file'> N File Name: tests/testmodels.py</div><div id='m_start'> M Start Line: 133</div><div id='m_end'> M End Line: 147</div><div id='n_start'> N Start Line: 134</div><div id='n_end'> N End Line: 148</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        wrap_unweighted_gcca = GCCA(latent_dims=latent_dims, c=[c, c]).fit(self.X, self.Y)
        wrap_deweighted_gcca = GCCA(latent_dims=latent_dims, c=[c, c], view_weights=[0.5, 0.5]).fit(
            self.X, self.Y)
        corr_unweighted_gcca = <a id="change">wrap_unweighted_gcca.train_correlations[0, 1]</a>
        corr_deweighted_gcca = wrap_deweighted_gcca.train_correlations[0, 1]
        &#47&#47 Check the correlations from each unregularized method are the same
        K = np.ones((2, self.X.shape[0]))
        K[0, 200:] = 0</code></pre><h3>After Change</h3><pre><code class='java'>
        wrap_unweighted_gcca = GCCA(latent_dims=latent_dims, c=[c, c]).fit(self.X, self.Y)
        wrap_deweighted_gcca = GCCA(latent_dims=latent_dims, c=[c, c], view_weights=[0.5, 0.5]).fit(
            self.X, self.Y)
        corr_unweighted_gcca = <a id="change">wrap_unweighted_gcca.score(</a>self.X, self.Y<a id="change">)</a>
        corr_deweighted_gcca = wrap_deweighted_gcca.score(self.X, self.Y)
        &#47&#47 Check the correlations from each unregularized method are the same
        K = np.ones((2, self.X.shape[0]))
        K[0, 200:] = 0</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9868ff9ae1290ce0a7397c9b720fbcff0791ba14#diff-fa2d92b48c2c212846b1a938757a6067ce7ae0a9e7d7bb8a7f9f30f4a6ad153aL151' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19723810</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9868ff9ae1290ce0a7397c9b720fbcff0791ba14</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: tests/testmodels.py</div><div id='m_class'> M Class Name: TestModels</div><div id='n_method'> N Class Name: TestModels</div><div id='m_method'> M Method Name: test_weighted_GCCA_methods(1)</div><div id='n_method'> N Method Name: test_weighted_GCCA_methods(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/testmodels.py</div><div id='n_file'> N File Name: tests/testmodels.py</div><div id='m_start'> M Start Line: 155</div><div id='m_end'> M End Line: 159</div><div id='n_start'> N Start Line: 156</div><div id='n_end'> N End Line: 160</div><BR>