<html><h3>Pattern ID :39145
</h3><img src='111346418.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    loader[&quotvalid&quot] = TrainDataLoader(valid_dataset, batch_size=args.batch_size, shuffle=False)
    
    for mixture, sources in loader[&quottrain&quot]:
        print(<a id="change">mixture.size()</a>, sources.size())
        raise ValueError("Stop")
    
    if args.use_cuda:</code></pre><h3>After Change</h3><pre><code class='java'>
        print("Does NOT use CUDA")
    
    &#47&#47 Optimizer
    <a id="change">if args.optimizer == &quotsgd&quot</a>:
        optimizer = torch.optim.SGD(model.parameters(), lr=args.lr, weight_decay=args.weight_decay)
    elif args.optimizer == &quotadam&quot:
        optimizer = torch.optim.Adam(model.parameters(), lr=args.lr, weight_decay=args.weight_decay)
    elif args.optimizer == &quotrmsprop&quot:
        optimizer = torch.optim.RMSprop(model.parameters(), lr=args.lr, weight_decay=args.weight_decay)
    else:
        raise ValueError(<a id="change">"Not support optimizer {}".format(</a>args.optimizer<a id="change">)</a>)
        
    &#47&#47 Criterion
    if args.criterion == &quotl2loss&quot:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tky823/dnn-based_source_separation/commit/4923e8361e1425356e840fe5bff2a1550c9e75d4#diff-57994a922f068fb17e56bccecb20b4fe0421dff4212267abdbf42cbbf22d82b8L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111346418</div><div id='project'> Project Name: tky823/dnn-based_source_separation</div><div id='commit'> Commit Name: 4923e8361e1425356e840fe5bff2a1550c9e75d4</div><div id='time'> Time: 2020-09-12</div><div id='author'> Author: delta9guitar97@gmail.com</div><div id='file'> File Name: egs/librispeech/adanet/local/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: egs/librispeech/adanet/local/train.py</div><div id='n_file'> N File Name: egs/librispeech/adanet/local/train.py</div><div id='m_start'> M Start Line: 59</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 94</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47rgb_center_img_tensor = input_center[0:3]
            &#47&#47mask = (input_center[3] + input_first[3] + input_last[3]) / 2

            print (&quotInput size&quot, <a id="change">input.size()</a>)

            center_img = vid_tensor_to_numpy(rgb_center_img_tensor*mask)[0]
            center_img = cv2.cvtColor(center_img, cv2.COLOR_RGB2BGR)</code></pre><h3>After Change</h3><pre><code class='java'>
            if (i == 0):
                print(&quotEmbedd size&quot, embedd.size())

            <a id="change">if i % log_interval == 0</a>:
                print(<a id="change">&quotEncoded [{}/{}]&quot.format(</a>i, len(data)<a id="change">)</a>)

    embeddings = torch.cat(embeddings, dim=0)
    return embeddings, vid_paths</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rvl-lab-utoronto/video_similarity_search/commit/e5eeb446b18f40a7af123ef6d93ea24c32cc0538#diff-98f1ab4b8aa34886d0f0a9d861b630e102aafdb9b6fed0569e138b1facf9d4efL41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111346420</div><div id='project'> Project Name: rvl-lab-utoronto/video_similarity_search</div><div id='commit'> Commit Name: e5eeb446b18f40a7af123ef6d93ea24c32cc0538</div><div id='time'> Time: 2020-08-28</div><div id='author'> Author: salar77h@gmail.com</div><div id='file'> File Name: clustering/cluster_masks.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_embeddings_mask_regions(3)</div><div id='n_method'> N Method Name: get_embeddings_mask_regions(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: clustering/cluster_masks.py</div><div id='n_file'> N File Name: clustering/cluster_masks.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 127</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            acc1, acc5 = accuracy(output, target, topk=(1, 5))
            losses.update(loss.item(), images.size(0))
            top1.update(acc1.item(), images.size(0))
            top5.update(acc5.item(), <a id="change">images.size(</a>0<a id="change">)</a>)

            &#47&#47 measure elapsed time
            batch_time.update(time.time() - end)</code></pre><h3>After Change</h3><pre><code class='java'>

            if i % args.print_freq == 0:
                progress.display(i)
                <a id="change">if visualize is not None</a>:
                    visualize(images[0], <a id="change">"val_{}".format(</a>i<a id="change">)</a>)

        print(&quot * Acc@1 {top1.avg:.3f}&quot.format(top1=top1))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/cd37e35d82dc8dde35adc8902e74a2dc18d01bb9#diff-30d909ea49fd7bc88dfd349faf0389451eec95512afa0b847b6a858bdaf06566L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111346425</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: cd37e35d82dc8dde35adc8902e74a2dc18d01bb9</div><div id='time'> Time: 2021-08-24</div><div id='author'> Author: 13126830206@163.com</div><div id='file'> File Name: examples/finetune/image_classification/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: validate(5)</div><div id='n_method'> N Method Name: validate(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/finetune/image_classification/utils.py</div><div id='n_file'> N File Name: examples/finetune/image_classification/utils.py</div><div id='m_start'> M Start Line: 112</div><div id='m_end'> M End Line: 135</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 104</div><BR>