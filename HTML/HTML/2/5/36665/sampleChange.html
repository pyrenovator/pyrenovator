<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    for batch_features, batch_labels in load_preprocess_training_batch(batch_i, batch_size):
                        self.train_neural_network(sess, optimizer, keep_probability, batch_features, batch_labels)
                            
                        <a id="change">print(</a><a id="change">&quotEpoch {:&gt;2}, CIFAR-10 Batch {}:  &quot.format(</a>epoch<a id="change"> + </a>1, batch_i<a id="change">), end=&quot&quot)</a>
                        self.print_stats(sess, batch_features, batch_labels, cost, accuracy)
    
    def train_neural_network(self, session, optimizer, keep_probability, feature_batch, label_batch):
        session.run(optimizer, </code></pre><h3>After Change</h3><pre><code class='java'>
        self.init = tf.global_variables_initializer()
        &#47&#47 saver = tf.train.Saver(tf.trainable_variables())
        
        <a id="change">self.train(</a>X_train, Y_train, sess, epochs, dropout, batch_size, learning_rate<a id="change">)</a>

    def train(self, X_train, Y_train, sess, epochs, dropout=0.75, batch_size=128, learning_rate=0.001):
        display_step = 50 &#47&#47显示间隔
        sess.run(self.init)</code></pre>