<html><h3>Pattern ID :34657
</h3><img src='99563262.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            token_length = len(y[&quottext&quot].split(&quot &quot))
            if y[&quotner&quot] == &quotDATE&quot:
                dates.append(y[&quottext&quot])
                index<a id="change"> = </a>len(<a id="change">all_text[:y[&quotcharacterOffsetEnd&quot]].split(</a>&quot &quot<a id="change">)</a>)
                if token_length &lt; 2:
                    indices.append([index - 1])
                else:</code></pre><h3>After Change</h3><pre><code class='java'>
        indices.append(list(range(index, index + token_length)))

        index += token_length
        all_text = <a id="change">all_text[:idx + text_len]</a>.replace(text, replaced_text) + all_text[idx + text_len:]

    for date_indices in indices:
        date = &quot&quot</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/praneet9/representation-learning-for-information-extraction/commit/e369e0fb493febe1b1a3ad69bcef2218109d1134#diff-e3e2fa7a960cfe3a9de4d774081cb8bad0be9e8784d7a6f2b67f39d9dacd756aL28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99563262</div><div id='project'> Project Name: praneet9/representation-learning-for-information-extraction</div><div id='commit'> Commit Name: e369e0fb493febe1b1a3ad69bcef2218109d1134</div><div id='time'> Time: 2021-02-21</div><div id='author'> Author: praneetbomma@gmail.com</div><div id='file'> File Name: utils/extract_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_dates(2)</div><div id='n_method'> N Method Name: get_dates(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/extract_candidates.py</div><div id='n_file'> N File Name: utils/extract_candidates.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    sub_channels = int(tf.math.ceil(input_channel / split))

    spx, remainder = inputs[:, :, :, : (split - 1) * sub_channels], inputs[:, :, :, (split - 1) * sub_channels :]
    spx<a id="change"> = </a><a id="change">tf.split(</a>spx, split - 1<a id="change">, axis=-1)</a>
    gathered_result = []
    for id, ii in enumerate(spx):
        sp = ii if id == 0 else (sp + ii)
        sp = depthwise_conv2d_no_bias(sp, kernel_size=3, padding="SAME", use_bias=True, name=name + "spx_{}_".format(id + 1))</code></pre><h3>After Change</h3><pre><code class='java'>
    if image_data_format() == "channels_last":
        spx, remainder = inputs[:, :, :, : (split - 1) * sub_channels], inputs[:, :, :, (split - 1) * sub_channels :]
    else:
        spx, remainder = <a id="change">inputs[:, : (split - 1) * sub_channels]</a>, inputs[:, (split - 1) * sub_channels :]
    spx = functional.split(spx, split - 1, axis=channel_axis)
    gathered_result = []
    for id, ii in enumerate(spx):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/leondgarse/keras_cv_attention_models/commit/7fe31da02f008f26eff018ec2199631227c94efc#diff-a119549323a000d7b33706b44fad5bc04a07d913bec886b503d88f2f13240579L104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99563261</div><div id='project'> Project Name: leondgarse/keras_cv_attention_models</div><div id='commit'> Commit Name: 7fe31da02f008f26eff018ec2199631227c94efc</div><div id='time'> Time: 2023-02-10</div><div id='author'> Author: leondgarse@gmail.com</div><div id='file'> File Name: keras_cv_attention_models/edgenext/edgenext.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: split_depthwise_transpose_attention(9)</div><div id='n_method'> N Method Name: split_depthwise_transpose_attention(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: keras_cv_attention_models/edgenext/edgenext.py</div><div id='n_file'> N File Name: keras_cv_attention_models/edgenext/edgenext.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 131</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 143</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                early_stopping=True,
            )
            generated_text = self.tokenizer.decode(sample_outputs[0][input_ids.size(1) + 1:], skip_special_tokens=True)
            generated_text<a id="change"> = </a><a id="change">generated_text.split()</a>
            generate_corpus.append(generated_text)
        return generate_corpus

    def tokenize_text(self, text, suff_text, max_length):</code></pre><h3>After Change</h3><pre><code class='java'>
        task_prefix_tokens = self.tokenizer.tokenize(self.task_prefix)
        task_prefix_len = len(task_prefix_tokens)
        for src in source_text:
            input_tokens = <a id="change">self.tokenizer.tokenize(src)[:self.source_max_length - task_prefix_len]</a> + task_prefix_tokens
            input_ids = torch.tensor(self.tokenizer.convert_tokens_to_ids(input_tokens), dtype=torch.long).unsqueeze(0)
            sample_outputs = self.model.generate(
                input_ids,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/textbox/commit/81da6bb852a3637c8053ccf5f9b236dc4283fd86#diff-7bfe3fdc6bdc45164cae119523b0a961ecca9fd88248a0f4eef88731095a4fe8L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99563260</div><div id='project'> Project Name: rucaibox/textbox</div><div id='commit'> Commit Name: 81da6bb852a3637c8053ccf5f9b236dc4283fd86</div><div id='time'> Time: 2022-01-20</div><div id='author'> Author: wxDai2001@gmail.com</div><div id='file'> File Name: textbox/model/Seq2Seq/gpt2seq.py</div><div id='m_class'> M Class Name: GPT2Seq</div><div id='n_method'> N Class Name: GPT2Seq</div><div id='m_method'> M Method Name: generate(3)</div><div id='n_method'> N Method Name: generate(3)</div><div id='m_parent_class'> M Parent Class: Seq2SeqGenerator</div><div id='n_parent_class'> N Parent Class: Seq2SeqGenerator</div><div id='m_file'> M File Name: textbox/model/Seq2Seq/gpt2seq.py</div><div id='n_file'> N File Name: textbox/model/Seq2Seq/gpt2seq.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 50</div><BR>