<html><h3>Pattern ID :6940
</h3><img src='23276929.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            result = fuzzy_find([t], text)
            if len(result) == 0:    
                result = fuzzy_find([<a id="change">re.sub(</a>tokenizer.unk_token, <a id="change">&quot&quot</a>, t<a id="change">)</a>], text)
                if len(result) == 0:
                    return None &#47&#47 cannot find exact match
            _, _, start, end = result[0]</code></pre><h3>After Change</h3><pre><code class='java'>
        if x != &quot&lt;pad&gt;&quot:
            offset += len(x)
        end_offset.append(offset)
    text = <a id="change">&quot&quot.join(tokenized_text).replace(&quot&lt;pad&gt;&quot</a>, <a id="change">&quot&quot</a><a id="change">)</a>
    for span in spans:
        t = &quot&quot.join(tokenizer.tokenize(span)).replace(&quot&lt;pad&gt;&quot, &quot&quot)
        start = text.find(t)
        if start &gt;= 0:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sleepychord/cogltx/commit/2b6ef8be06f665152eeca9e645b0550244c60027#diff-14e06159b5ef76b4d37606e5d7957282b2483e468e054a4113c0ce157fb33cf2L124' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23276929</div><div id='project'> Project Name: sleepychord/cogltx</div><div id='commit'> Commit Name: 2b6ef8be06f665152eeca9e645b0550244c60027</div><div id='time'> Time: 2020-03-13</div><div id='author'> Author: dm_thu@qq.com</div><div id='file'> File Name: hotpotqa/cogqa_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: find_start_end_after_tokenized(3)</div><div id='n_method'> N Method Name: find_start_end_after_tokenized(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: hotpotqa/cogqa_utils.py</div><div id='n_file'> N File Name: hotpotqa/cogqa_utils.py</div><div id='m_start'> M Start Line: 124</div><div id='m_end'> M End Line: 141</div><div id='n_start'> N Start Line: 125</div><div id='n_end'> N End Line: 142</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
import string, re
def underscorify(value):
  no_punctuation = str(value.translate(str.maketrans(&quot&quot, &quot&quot, string.punctuation)))
  spaces_to_one_underline = <a id="change">re.sub(r&quot[-\s]+&quot</a>, &quot_&quot, no_punctuation<a id="change">)</a>.strip(&quot-_&quot) &#47&#47 strip gets rid of leading or trailing underscores
  return spaces_to_one_underline
&#47&#47 tensor helpers
</code></pre><h3>After Change</h3><pre><code class='java'>


def underscorify(text):
    no_punctuation = <a id="change">text.replace("."</a>, <a id="change">""</a><a id="change">)</a>
    spaces_to_underline = no_punctuation.replace(" ", "_")
    no_lead_trailing_underscores = spaces_to_underline.strip(&quot-_&quot)
    no_commas = no_lead_trailing_underscores.replace(",", "")
    return no_commas</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/big-sleep/commit/20e4d9d99cb16d1c6d8d6daa50ebbf44ea169078#diff-a32d425a1d65b549cda9588699a004a9d283f46d0623256309606cc74f8d3dd8L64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23276906</div><div id='project'> Project Name: lucidrains/big-sleep</div><div id='commit'> Commit Name: 20e4d9d99cb16d1c6d8d6daa50ebbf44ea169078</div><div id='time'> Time: 2021-03-12</div><div id='author'> Author: antonwiehe@gmail.com</div><div id='file'> File Name: big_sleep/big_sleep.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: underscorify(1)</div><div id='n_method'> N Method Name: underscorify(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: big_sleep/big_sleep.py</div><div id='n_file'> N File Name: big_sleep/big_sleep.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 69</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            phones = phones.replace(replacement[0], replacement[1])
        phones = re.sub("~+", "~", phones)
        phones = re.sub(r"\s+", " ", phones)
        phones = <a id="change">re.sub(r"\s+"</a>, "", phones<a id="change">)</a>  &#47&#47 TODO remove this line, once word boundaries are properly implemented
        phones = phones.lstrip("~").rstrip("~")

        if self.add_silence_to_end:</code></pre><h3>After Change</h3><pre><code class='java'>
            phones = phones.replace(replacement[0], replacement[1])
        phones = re.sub("~+", "~", phones)
        phones = re.sub(r"\s+", " ", phones)
        phones = <a id="change">phones.replace(" "</a>, <a id="change">""</a><a id="change">)</a>  &#47&#47 TODO remove this line, once word boundaries are properly implemented
        phones = phones.lstrip("~").rstrip("~")

        if self.add_silence_to_end:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/7900ac1ea0b64b58b5de877cc1b95d3c5e1e47a9#diff-0eec6bd93f18520ead82255aad2d6db9e6b96603bb855499825a03a415ee480cL185' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23276905</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: 7900ac1ea0b64b58b5de877cc1b95d3c5e1e47a9</div><div id='time'> Time: 2022-05-04</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: Preprocessing/TextFrontend.py</div><div id='m_class'> M Class Name: ArticulatoryCombinedTextFrontend</div><div id='n_method'> N Class Name: ArticulatoryCombinedTextFrontend</div><div id='m_method'> M Method Name: get_phone_string(4)</div><div id='n_method'> N Method Name: get_phone_string(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: Preprocessing/TextFrontend.py</div><div id='n_file'> N File Name: Preprocessing/TextFrontend.py</div><div id='m_start'> M Start Line: 235</div><div id='m_end'> M End Line: 236</div><div id='n_start'> N Start Line: 200</div><div id='n_end'> N End Line: 246</div><BR>