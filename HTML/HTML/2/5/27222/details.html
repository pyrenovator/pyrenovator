<html><h3>Pattern ID :27222
</h3><img src='80880337.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def on_train_begin(self, logs=None):
        if self.verbose:
            <a id="change">print(</a>&quotStart Training&quot.center(40, &quot=&quot)<a id="change">)</a>

    def on_epoch_begin(self, global_step=None, epoch=None, logs=None):
        if self.verbose:
            time_start = datetime.now().strftime(&quot%Y-%m-%d %H:%M:%S&quot)</code></pre><h3>After Change</h3><pre><code class='java'>

    def on_train_begin(self, logs=None):
        if self.verbose:
            time_start<a id="change"> = </a><a id="change">datetime.now().strftime(&quot%Y-%m-%d %H:%M:%S&quot</a><a id="change">)</a>
            print(&quot%s - Start Training&quot<a id="change"> % (</a>time_start))

    def on_epoch_begin(self, global_step=None, epoch=None, logs=None):
        if self.verbose:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tongjilibo/torch4keras/commit/683300b91e566fad0c7f12413fda6a676a9b66fe#diff-4d70ceeb1330ec246e089282166647f21eb774b9d71481972bdebe2cf52166d3L236' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80880337</div><div id='project'> Project Name: tongjilibo/torch4keras</div><div id='commit'> Commit Name: 683300b91e566fad0c7f12413fda6a676a9b66fe</div><div id='time'> Time: 2022-11-04</div><div id='author'> Author: lb@libos-MacBook-Pro.local</div><div id='file'> File Name: torch4keras/snippets.py</div><div id='m_class'> M Class Name: ProgbarLogger</div><div id='n_method'> N Class Name: ProgbarLogger</div><div id='m_method'> M Method Name: on_train_begin(2)</div><div id='n_method'> N Method Name: on_train_begin(2)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: torch4keras/snippets.py</div><div id='n_file'> N File Name: torch4keras/snippets.py</div><div id='m_start'> M Start Line: 236</div><div id='m_end'> M End Line: 236</div><div id='n_start'> N Start Line: 236</div><div id='n_end'> N End Line: 237</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    print(&quotFound &quot + str(file_count) + &quot images in &quot + dir)
    print("Successfully read metadata from " + str(file_metadata_count) + " images.")
    <a id="change">print(</a>"Created gallery.html and gallery_prompts.txt in " + os.getcwd() + "\n"<a id="change">)</a>
    html.cleanup()
    prompts.cleanup()

</code></pre><h3>After Change</h3><pre><code class='java'>

    cwd = os.getcwd().replace(&quot\\utils&quot, &quot&quot) + &quot\\prompts\\generated\\&quot
    Path(cwd).mkdir(parents=True, exist_ok=True)
    fn<a id="change"> = </a>&quotgallery_prompts_&quot + str(date.today()) + "_" + <a id="change">time.strftime("%H-%M-%S"</a><a id="change">)</a> + &quot.txt&quot

    html = Html(&quotgallery.html&quot, cwd<a id="change"> + </a>fn)
    prompts = PromptFile(cwd, fn, opt)

    for f in files:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rbbrdckybk/ai-art-generator/commit/0c9de43f062a9fb62ef55e7d410af55566edf1a4#diff-407318036555cb068eb87a26b2476021f3fadbef7257da41a7de4ddd05c5ec1cL176' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80880359</div><div id='project'> Project Name: rbbrdckybk/ai-art-generator</div><div id='commit'> Commit Name: 0c9de43f062a9fb62ef55e7d410af55566edf1a4</div><div id='time'> Time: 2022-09-01</div><div id='author'> Author: 80607958+rbbrdckybk@users.noreply.github.com</div><div id='file'> File Name: utils/metadata_gallery.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: make_gallery(2)</div><div id='n_method'> N Method Name: make_gallery(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/metadata_gallery.py</div><div id='n_file'> N File Name: utils/metadata_gallery.py</div><div id='m_start'> M Start Line: 181</div><div id='m_end'> M End Line: 296</div><div id='n_start'> N Start Line: 310</div><div id='n_end'> N End Line: 438</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    def on_train_end(self, logs=None):
        if self.verbose:
            <a id="change">print(</a>&quotFinish Training&quot.center(40, &quot=&quot)<a id="change">)</a>


class EarlyStopping(Callback):
    &quot&quot&quotStop training策略, 从keras中移植</code></pre><h3>After Change</h3><pre><code class='java'>
    
    def on_train_end(self, logs=None):
        if self.verbose:
            time_start<a id="change"> = </a><a id="change">datetime.now().strftime(&quot%Y-%m-%d %H:%M:%S&quot</a><a id="change">)</a>
            print(&quot%s - Finish Training&quot<a id="change"> % (</a>time_start))


class EarlyStopping(Callback):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tongjilibo/torch4keras/commit/683300b91e566fad0c7f12413fda6a676a9b66fe#diff-4d70ceeb1330ec246e089282166647f21eb774b9d71481972bdebe2cf52166d3L270' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80880346</div><div id='project'> Project Name: tongjilibo/torch4keras</div><div id='commit'> Commit Name: 683300b91e566fad0c7f12413fda6a676a9b66fe</div><div id='time'> Time: 2022-11-04</div><div id='author'> Author: lb@libos-MacBook-Pro.local</div><div id='file'> File Name: torch4keras/snippets.py</div><div id='m_class'> M Class Name: ProgbarLogger</div><div id='n_method'> N Class Name: ProgbarLogger</div><div id='m_method'> M Method Name: on_train_end(2)</div><div id='n_method'> N Method Name: on_train_end(2)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: torch4keras/snippets.py</div><div id='n_file'> N File Name: torch4keras/snippets.py</div><div id='m_start'> M Start Line: 272</div><div id='m_end'> M End Line: 272</div><div id='n_start'> N Start Line: 273</div><div id='n_end'> N End Line: 274</div><BR>