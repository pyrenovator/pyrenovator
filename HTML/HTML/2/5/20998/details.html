<html><h3>Pattern ID :20998
</h3><img src='67576705.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 plt.show()
        np.save(os.path.join(dump_path, &quotout.npy&quot), out_img)

        out_img = <a id="change">Image.fromarray(</a>np.uint8(get_uint8_range(out_img))<a id="change">)</a>
        out_img.save(os.path.join(dump_path, str(img_id).zfill(img_format[0]) + img_format[1]))
    if should_display:
        plt.imshow(np.uint8(get_uint8_range(out_img)))
        plt.show()</code></pre><h3>After Change</h3><pre><code class='java'>
        dump_img = np.copy(out_img)
        dump_img += np.array(IMAGENET_MEAN_255).reshape((1, 1, 3))
        dump_img = np.clip(dump_img, 0, 255).astype(&quotuint8&quot)
        cv.imwrite(os.path.join(dump_path, out_img_name), <a id="change">dump_img[:, :, ::-1]</a>)
    if should_display:
        plt.imshow(np.uint8(get_uint8_range(out_img)))
        plt.show()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/gordicaleksa/pytorch-neural-style-transfer/commit/6856e5796971c3fb5e77c0a798b35e6e106b5bcb#diff-9653b8c2ce917a6134298b00c8b3f7d4b7c4dc473a752303f37a870392742127L61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67576705</div><div id='project'> Project Name: gordicaleksa/pytorch-neural-style-transfer</div><div id='commit'> Commit Name: 6856e5796971c3fb5e77c0a798b35e6e106b5bcb</div><div id='time'> Time: 2020-03-30</div><div id='author'> Author: gordicaleksa@gmail.com</div><div id='file'> File Name: utils/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: save_and_maybe_display(6)</div><div id='n_method'> N Method Name: save_and_maybe_display(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/utils.py</div><div id='n_file'> N File Name: utils/utils.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 86</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if labels:

            img_ = cv2.putText(img_, labels[i], (bbox[0], bbox[3]), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 255, 255))
    return <a id="change">Image.fromarray(</a>img_<a id="change">)</a>

 
def bbox_wh_iou(wh1, wh2):
    wh2 = wh2.t()</code></pre><h3>After Change</h3><pre><code class='java'>
        bboxes_xyxy[:,2] *= w
        bboxes_xyxy[:,3] *= h

        bboxes_xyxy[:, 0:4] = <a id="change">bboxes_xyxy[:,0:4]</a>.round()
    
    arr = bboxes_xyxy.numpy()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vcasecnikovs/yet-another-yolov4-pytorch/commit/8a7cd85191f98ca0ec4ed7bf130203a240834e91#diff-09d0cbaf891d623ac245ccf84485a687b554217349ca55557c60b33234b969aeL27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67576704</div><div id='project'> Project Name: vcasecnikovs/yet-another-yolov4-pytorch</div><div id='commit'> Commit Name: 8a7cd85191f98ca0ec4ed7bf130203a240834e91</div><div id='time'> Time: 2020-05-30</div><div id='author'> Author: casecnikov@gmail.com</div><div id='file'> File Name: utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_img_with_bboxes(5)</div><div id='n_method'> N Method Name: get_img_with_bboxes(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils.py</div><div id='n_file'> N File Name: utils.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def save_image(img, img_path):
    img = <a id="change">Image.fromarray(</a>img<a id="change">)</a>
    if img.mode != &quotRGB&quot:
        img = img.convert(&quotRGB&quot)
    img.save(img_path)
</code></pre><h3>After Change</h3><pre><code class='java'>
def save_image(img, img_path):
    if len(img.shape) == 2:
        img = np.stack((img,) * 3, axis=-1)
    cv.imwrite(img_path, <a id="change">img[:, :, ::-1]</a>)


def generate_out_img_name(config):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gordicaleksa/pytorch-neural-style-transfer/commit/6856e5796971c3fb5e77c0a798b35e6e106b5bcb#diff-9653b8c2ce917a6134298b00c8b3f7d4b7c4dc473a752303f37a870392742127L54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67576702</div><div id='project'> Project Name: gordicaleksa/pytorch-neural-style-transfer</div><div id='commit'> Commit Name: 6856e5796971c3fb5e77c0a798b35e6e106b5bcb</div><div id='time'> Time: 2020-03-30</div><div id='author'> Author: gordicaleksa@gmail.com</div><div id='file'> File Name: utils/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: save_image(2)</div><div id='n_method'> N Method Name: save_image(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/utils.py</div><div id='n_file'> N File Name: utils/utils.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 64</div><BR>