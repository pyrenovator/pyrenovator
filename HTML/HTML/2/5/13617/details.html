<html><h3>Pattern ID :13617
</h3><img src='45733833.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self._update_and_verify_parameter_spec()

        &#47&#47 Make sure that the input/output artifact types exist in the signature
        if not all(<a id="change">k</a> in self.INPUT_SIGNATURE <a id="change">for</a> k in self.INPUT_SPEC):
            raise StepInterfaceError(
                f"Failed to create the step. The predefined artifact types"
                f"for the input does not match the input signature."</code></pre><h3>After Change</h3><pre><code class='java'>
            *artifacts, **kw_artifacts
        )

        self.INPUT_SPEC = <a id="change">{arg_name: artifact_type.type
                           for arg_name, artifact_type in
                           input_artifacts.items()}</a>

        &#47&#47 Prepare the output artifacts and spec
        from zenml.artifacts.type_registery import type_registry
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/36f5dc8eae5017f154e410e067508284e6734d23#diff-ea6a3cc50bec27c1d3046731637ee6c19ffafad48025a8b84a4352e268861151L472' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45733833</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: 36f5dc8eae5017f154e410e067508284e6734d23</div><div id='time'> Time: 2021-12-03</div><div id='author'> Author: bariscandurak@hotmail.com</div><div id='file'> File Name: src/zenml/steps/base_step.py</div><div id='m_class'> M Class Name: BaseStep</div><div id='n_method'> N Class Name: BaseStep</div><div id='m_method'> M Method Name: __call__(1)</div><div id='n_method'> N Method Name: __call__(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/zenml/steps/base_step.py</div><div id='n_file'> N File Name: src/zenml/steps/base_step.py</div><div id='m_start'> M Start Line: 472</div><div id='m_end'> M End Line: 511</div><div id='n_start'> N Start Line: 479</div><div id='n_end'> N End Line: 485</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            agent_info(task),
            task["priority"] if task["scheduler_type"] == "priority" else "N/A",
            task["resource_pool"],
            ",".join(map(str, sorted(<a id="change">pp</a>["port"] <a id="change">for</a> pp in task.get("proxy_ports", [])))),
        ]
        for task_id, task in sorted(
            tasks.items(),</code></pre><h3>After Change</h3><pre><code class='java'>
        return agents

    if args.json:
        print(json.dumps(<a id="change">{a: t.to_json() for (a, t) in tasks.items()}</a>, indent=4))
        return

    headers = [</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/7ee018d08120dc391db4b6a0c833bbec60186160#diff-f79f8690b22cd1fe8bd82ee2e5f8ca5ea12e29806a86724a2fb730fd51877a05L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45733832</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 7ee018d08120dc391db4b6a0c833bbec60186160</div><div id='time'> Time: 2023-04-05</div><div id='author'> Author: 124635598+jgongd@users.noreply.github.com</div><div id='file'> File Name: harness/determined/cli/task.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: render_tasks(2)</div><div id='n_method'> N Method Name: render_tasks(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/determined/cli/task.py</div><div id='n_file'> N File Name: harness/determined/cli/task.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                index = indices[start:]
                start = buffer_size
            batch_rnn = (dones[index],) if self.chunk_len else None
            yield <a id="change">(arr[index] for arr in (observations, actions, advantages, log_probs_old, returns))</a>, batch_rnn

    def clear(self):
        self.step = 0</code></pre><h3>After Change</h3><pre><code class='java'>
            else:
                index = indices[start:]
                start = buffer_size
            mini_batch = <a id="change">{k: v[index] for k, v in batch.items()}</a>
            yield mini_batch

    def clear(self):
        self.step = 0</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jjccero/pbrl/commit/da918b32e29d9a6702c4d8698ea6afcce1a37d01#diff-d690f15bb7618e342887276af432ec05e01259a5e12a13ef0ff3f5ddf6fce609L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45733834</div><div id='project'> Project Name: jjccero/pbrl</div><div id='commit'> Commit Name: da918b32e29d9a6702c4d8698ea6afcce1a37d01</div><div id='time'> Time: 2021-12-04</div><div id='author'> Author: 1127986703@qq.com</div><div id='file'> File Name: pbrl/algorithms/ppo/buffer.py</div><div id='m_class'> M Class Name: PGBuffer</div><div id='n_method'> N Class Name: PGBuffer</div><div id='m_method'> M Method Name: generator(3)</div><div id='n_method'> N Method Name: generator(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pbrl/algorithms/ppo/buffer.py</div><div id='n_file'> N File Name: pbrl/algorithms/ppo/buffer.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 85</div><BR>