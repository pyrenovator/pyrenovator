<html><h3>Pattern ID :23054
</h3><img src='73043658.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    None
                )

            <a id="change">if </a>interrupted:
                <a id="change">sys.exit(0</a><a id="change">)</a>

            if is_final_step:
                break
</code></pre><h3>After Change</h3><pre><code class='java'>
                prefix = ""

                &#47&#47
                <a id="change">if </a>self.args.qat:
                    save_model = qat_to_float_modules(save_model)
                    prefix<a id="change"> = </a>"qat-"

                &#47&#47
                if self.args.mixed_qat:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/0ccde545283f441a006b42d39971eab7c6533b40#diff-b9b9ba6172925a61872b8db6c549fe9c048b74122bcc38156f33b17727764c5eL240' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73043658</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 0ccde545283f441a006b42d39971eab7c6533b40</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: gth.rosa@uol.com.br</div><div id='file'> File Name: archai/nlp/trainers/nvidia/trainer.py</div><div id='m_class'> M Class Name: NvidiaTrainer</div><div id='n_method'> N Class Name: NvidiaTrainer</div><div id='m_method'> M Method Name: training_step(7)</div><div id='n_method'> N Method Name: training_step(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: archai/nlp/trainers/nvidia/trainer.py</div><div id='n_file'> N File Name: archai/nlp/trainers/nvidia/trainer.py</div><div id='m_start'> M Start Line: 240</div><div id='m_end'> M End Line: 380</div><div id='n_start'> N Start Line: 291</div><div id='n_end'> N End Line: 425</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                start_batch = checkpoint["batch"]
                step = checkpoint["step"]

                <a id="change">if </a>step &gt;= self.args.max_steps:
                    <a id="change">sys.exit(1</a><a id="change">)</a>

            except FileNotFoundError:
                pass
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.create_scaler()
        self.create_scheduler()

        <a id="change">if </a>checkpoint_path:
            iterator<a id="change">, start_epoch, start_batch, step = </a>self.load_checkpoint(checkpoint_path)
        else:
            iterator, start_epoch, start_batch, step = 0, 0, 0, 0
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/e54b79e6468d1aa496ea60e08975dc54495fcd44#diff-b9b9ba6172925a61872b8db6c549fe9c048b74122bcc38156f33b17727764c5eL425' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73043657</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: e54b79e6468d1aa496ea60e08975dc54495fcd44</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: gth.rosa@uol.com.br</div><div id='file'> File Name: archai/nlp/trainers/nvidia/trainer.py</div><div id='m_class'> M Class Name: NvidiaTrainer</div><div id='n_method'> N Class Name: NvidiaTrainer</div><div id='m_method'> M Method Name: train(2)</div><div id='n_method'> N Method Name: train(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: archai/nlp/trainers/nvidia/trainer.py</div><div id='n_file'> N File Name: archai/nlp/trainers/nvidia/trainer.py</div><div id='m_start'> M Start Line: 446</div><div id='m_end'> M End Line: 467</div><div id='n_start'> N Start Line: 474</div><div id='n_end'> N End Line: 480</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if parameters[&quotmodality&quot] == &quotrad&quot:
        inferenceLoopRad(inferenceDataFromPickle=inferenceData_full, headers=headers, outputDir=outputDir,
                         device=device, parameters=parameters)
    elif <a id="change"></a>parameters[&quotmodality&quot] == &quotpath&quot:
        inferenceLoopPath(inferenceDataFromPickle=inferenceData_full, headers=headers, outputDir=outputDir,
                          device=device, parameters=parameters)
    else:
        print(&quotModality should be on of rad or path. Please set the correct on in the config file.&quot)
        <a id="change">sys.exit(0</a><a id="change">)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
    inferenceData_full = dataframe
    
    &#47&#47 &#47&#47 initialize parameters for inference
    <a id="change">if </a>not("weights" in parameters):
        parameters["weights"]<a id="change"> = </a>None &#47&#47 no need for loss weights for inference
    
    if parameters["modality"] == "rad":
        function_to_call = inferenceLoopRad</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cbica/gandlf/commit/410959d0c28bd05e1674faa56f249c08437f9212#diff-b0fc28d50800ef1e9adcef4146932f3972698974428c3e9d118e2bd6e9fa59c8L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73043654</div><div id='project'> Project Name: cbica/gandlf</div><div id='commit'> Commit Name: 410959d0c28bd05e1674faa56f249c08437f9212</div><div id='time'> Time: 2021-06-09</div><div id='author'> Author: sarthak.pati@hotmail.com</div><div id='file'> File Name: GANDLF/inference_manager.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: InferenceManager(5)</div><div id='n_method'> N Method Name: InferenceManager(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: GANDLF/inference_manager.py</div><div id='n_file'> N File Name: GANDLF/inference_manager.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 51</div><BR>