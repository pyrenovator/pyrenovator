<html><h3>Pattern ID :42242
</h3><img src='118871201.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    elif "checkpoints" in run_path:
        run_path = path.join(run_path, "*.ckpt")
        run_path = glob(run_path)
        run_path = <a id="change">list(filter(lambda e: "last" in e, run_path))[-1]</a>
    elif "version" in run_path:
        run_path = path.join(run_path, "checkpoints", "*.ckpt")
        run_path = glob(run_path)
        run_path = list(filter(lambda e: "last" in e, run_path))[-1]</code></pre><h3>After Change</h3><pre><code class='java'>
def search_for_run(run_path, mode="last"):
    if run_path is None: return None
    if ".ckpt" in run_path: return run_path
    ckpts = map(str, <a id="change">Path(</a>run_path<a id="change">)</a>.rglob("*.ckpt"))
    ckpts = filter(lambda e: mode in e, ckpts)
    return sorted(ckpts)[-1]
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/caillonantoine/rave/commit/414fd5e8c4c02c6f38597d052359a47ed97bc6cc#diff-aca7ec2a2422bb0681d3fcd464ed2c9c1a77d411f39d853fc5fb0b166f9108b1L171' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 118871201</div><div id='project'> Project Name: caillonantoine/rave</div><div id='commit'> Commit Name: 414fd5e8c4c02c6f38597d052359a47ed97bc6cc</div><div id='time'> Time: 2022-05-11</div><div id='author'> Author: caillon@ircam.fr</div><div id='file'> File Name: rave/core.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: search_for_run(2)</div><div id='n_method'> N Method Name: search_for_run(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: rave/core.py</div><div id='n_file'> N File Name: rave/core.py</div><div id='m_start'> M Start Line: 171</div><div id='m_end'> M End Line: 195</div><div id='n_start'> N Start Line: 171</div><div id='n_end'> N End Line: 176</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">list(filter(lambda x: x, path.split("/")))[-1]</a> + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">Path(</a>path<a id="change">)</a>.name + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/e86a2a8f869b91654e782c9133d810bb82783200#diff-7096ff75a81517e6416f17d2a17f961ba74cfeaf20214725754da2aa8128fbd0L71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 118871203</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: e86a2a8f869b91654e782c9133d810bb82783200</div><div id='time'> Time: 2020-09-25</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/commands/test.py</div><div id='m_class'> M Class Name: TestCommand</div><div id='n_method'> N Class Name: TestCommand</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: BaseTransformersCLICommand</div><div id='n_parent_class'> N Parent Class: BaseTransformersCLICommand</div><div id='m_file'> M File Name: src/datasets/commands/test.py</div><div id='n_file'> N File Name: src/datasets/commands/test.py</div><div id='m_start'> M Start Line: 104</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 105</div><div id='n_end'> N End Line: 105</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">list(filter(lambda x: x, path.split("/")))[-1]</a> + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._save_infos:
            dataset_infos_path = os.path.join(builder_cls.get_imported_module_dir(), DATASET_INFOS_DICT_FILE_NAME)

            name = <a id="change">Path(</a>path<a id="change">)</a>.name + ".py"

            combined_path = os.path.join(path, name)
            if os.path.isfile(path):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/e86a2a8f869b91654e782c9133d810bb82783200#diff-297737663c69be8492c0e6f8c5c646745d1c35df8dac5b9ea181d1cf39560169L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 118871198</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: e86a2a8f869b91654e782c9133d810bb82783200</div><div id='time'> Time: 2020-09-25</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/commands/run_beam.py</div><div id='m_class'> M Class Name: RunBeamCommand</div><div id='n_method'> N Class Name: RunBeamCommand</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: BaseTransformersCLICommand</div><div id='n_parent_class'> N Parent Class: BaseTransformersCLICommand</div><div id='m_file'> M File Name: src/datasets/commands/run_beam.py</div><div id='n_file'> N File Name: src/datasets/commands/run_beam.py</div><div id='m_start'> M Start Line: 129</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 130</div><div id='n_end'> N End Line: 130</div><BR>