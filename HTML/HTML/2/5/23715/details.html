<html><h3>Pattern ID :23715
</h3><img src='73922359.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        raise FileNotFoundError(f"unable to access {file}")

    &#47&#47 Rasterise pages to PIL images with pypdfium2 and convert to numpy ndarrays
    <a id="change">return </a>[<a id="change">np.asarray(</a>img<a id="change">)</a> for img, _ in pdfium.render_pdf_topil(file, scale=scale, **kwargs)]
</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 Rasterise pages to PIL images with pypdfium2 and convert to numpy ndarrays
    pdf = pdfium.PdfDocument(file, password=password)
    pages<a id="change"> = </a>[<a id="change">np.asarray(</a>img<a id="change">)</a> for img in pdf.render_topil(scale=scale, **kwargs)]
    pdf.close()

    <a id="change">return </a>pages
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/4caeee3d724cd5004dd1996ee5750b01582ad9fc#diff-9c43b716810f75802fa2bf21ed8a906cdbdf3f608dea90326e77d1ba1774c352L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73922359</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: 4caeee3d724cd5004dd1996ee5750b01582ad9fc</div><div id='time'> Time: 2022-06-09</div><div id='author'> Author: geisserml@gmail.com</div><div id='file'> File Name: doctr/io/pdf.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: read_pdf(3)</div><div id='n_method'> N Method Name: read_pdf(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: doctr/io/pdf.py</div><div id='n_file'> N File Name: doctr/io/pdf.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ymin = np.abs(valid_keypoints[:, :, 1]).min()
        xmax = valid_keypoints[:, :, 0].max()
        ymax = valid_keypoints[:, :, 1].max()
        <a id="change">return </a><a id="change">np.asarray(</a>[[xmin, ymin, xmax, ymax]]<a id="change">)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        ymin = np.abs(valid_keypoints[:, :, 1]).min()
        xmax = valid_keypoints[:, :, 0].max()
        ymax = valid_keypoints[:, :, 1].max()
        bboxes<a id="change"> = </a><a id="change">np.asarray(</a>[[xmin, ymin, xmax, ymax]]<a id="change">)</a>

        <a id="change">return </a>bboxes
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aisingapore/peekingduck/commit/bb6cf0a3da6b7b4ddac4dc7eb896b55d62a7bf18#diff-5eb4f4e59a46da533dc3a19f7db97d2c6fe0b48ae39ec44f100cfa92221596d5L291' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73922358</div><div id='project'> Project Name: aisingapore/peekingduck</div><div id='commit'> Commit Name: bb6cf0a3da6b7b4ddac4dc7eb896b55d62a7bf18</div><div id='time'> Time: 2021-12-07</div><div id='author'> Author: 61336482+ongzizhao@users.noreply.github.com</div><div id='file'> File Name: peekingduck/pipeline/nodes/model/movenetv1/movenet_files/predictor.py</div><div id='m_class'> M Class Name: Predictor</div><div id='n_method'> N Class Name: Predictor</div><div id='m_method'> M Method Name: _get_bbox_from_keypoints(1)</div><div id='n_method'> N Method Name: _get_bbox_from_keypoints(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: peekingduck/pipeline/nodes/model/movenetv1/movenet_files/predictor.py</div><div id='n_file'> N File Name: peekingduck/pipeline/nodes/model/movenetv1/movenet_files/predictor.py</div><div id='m_start'> M Start Line: 302</div><div id='m_end'> M End Line: 302</div><div id='n_start'> N Start Line: 351</div><div id='n_end'> N End Line: 353</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        )
                    )
            all_connections.append(connections)
        <a id="change">return </a><a id="change">np.asarray(</a>all_connections<a id="change">)</a>

    @staticmethod
    def _get_keypoints_coords(
        keypoints: np.ndarray,</code></pre><h3>After Change</h3><pre><code class='java'>
                        )
                    )
            all_connections.append(connections)
        keypoint_conns<a id="change"> = </a><a id="change">np.asarray(</a>all_connections<a id="change">)</a>

        <a id="change">return </a>keypoint_conns

    @staticmethod
    def _get_keypoints_coords(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aisingapore/peekingduck/commit/bb6cf0a3da6b7b4ddac4dc7eb896b55d62a7bf18#diff-5eb4f4e59a46da533dc3a19f7db97d2c6fe0b48ae39ec44f100cfa92221596d5L231' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73922365</div><div id='project'> Project Name: aisingapore/peekingduck</div><div id='commit'> Commit Name: bb6cf0a3da6b7b4ddac4dc7eb896b55d62a7bf18</div><div id='time'> Time: 2021-12-07</div><div id='author'> Author: 61336482+ongzizhao@users.noreply.github.com</div><div id='file'> File Name: peekingduck/pipeline/nodes/model/movenetv1/movenet_files/predictor.py</div><div id='m_class'> M Class Name: Predictor</div><div id='n_method'> N Class Name: Predictor</div><div id='m_method'> M Method Name: _get_connections_of_poses(2)</div><div id='n_method'> N Method Name: _get_connections_of_poses(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: peekingduck/pipeline/nodes/model/movenetv1/movenet_files/predictor.py</div><div id='n_file'> N File Name: peekingduck/pipeline/nodes/model/movenetv1/movenet_files/predictor.py</div><div id='m_start'> M Start Line: 239</div><div id='m_end'> M End Line: 250</div><div id='n_start'> N Start Line: 266</div><div id='n_end'> N End Line: 279</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        c = 2 * prototype_filter
        filters.append(c * np.cos(a + b))

    <a id="change">return </a><a id="change">np.asarray(</a>filters<a id="change">)</a>, is_converged


class PseudoQuadratureMirrorFilterBanks(nn.Module):</code></pre><h3>After Change</h3><pre><code class='java'>
        b = (-1) ** k * (np.pi / 4) * sign
        c = 2 * prototype_filter
        filters.append(c * np.cos(a + b))
    filters<a id="change"> = </a><a id="change">np.asarray(</a>filters<a id="change">)</a>

    <a id="change">return </a>filters, is_converged


class PseudoQuadratureMirrorFilterBanks(nn.Module):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sp-nitech/diffsptk/commit/77097579028818dc41cea60b3bbbc97280c4ec72#diff-3d6daf1aebed47ef8a67eacfe25842dadcd1708f22562b1d63a8d6af70b5af59L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73922363</div><div id='project'> Project Name: sp-nitech/diffsptk</div><div id='commit'> Commit Name: 77097579028818dc41cea60b3bbbc97280c4ec72</div><div id='time'> Time: 2023-04-20</div><div id='author'> Author: takenori.yoshimura24@gmail.com</div><div id='file'> File Name: diffsptk/core/pqmf.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: make_filter_banks(8)</div><div id='n_method'> N Method Name: make_filter_banks(8)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: diffsptk/core/pqmf.py</div><div id='n_file'> N File Name: diffsptk/core/pqmf.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 101</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 139</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    pt += np.array([d_x, d_y])
                    candidates.append(pt)

        <a id="change">return </a>np.unique(<a id="change">np.asarray(</a>candidates<a id="change">)</a>, axis=0)

    @staticmethod
    def get_candidate_gt(target_candidate, gt_target):</code></pre><h3>After Change</h3><pre><code class='java'>
                for j in range(num_c):
                    pt += np.array([d_x, d_y])
                    candidates.append(copy.deepcopy(pt))
        candidates<a id="change"> = </a>np.unique(<a id="change">np.asarray(</a>candidates<a id="change">)</a>, axis=0)

        if viz:
            fig = plt.figure(0, figsize=(8, 7))
            fig.clear()
            for centerline_coords in centerline_list:
                visualize_centerline(centerline_coords)
            plt.scatter(candidates[:, 0], candidates[:, 1], marker="*", c="g", alpha=1, s=6.0, zorder=15)
            plt.xlabel("Map X")
            plt.ylabel("Map Y")
            plt.axis("off")
            plt.title("No. of lane candidates = {}; No. of target candidates = {};".format(len(centerline_list), len(candidates)))
            plt.show(block=False)

        <a id="change">return </a>candidates

    @staticmethod
    def get_candidate_gt(target_candidate, gt_target):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/henry1iu/tnt-trajectory-prediction/commit/158b8908496b1bcd8d780c31b641d395ef261a2f#diff-6ec3f3e368259d5e75224fc8e2c3f855c53e863334bbb370ebc0dea56d1e433aL136' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73922362</div><div id='project'> Project Name: henry1iu/tnt-trajectory-prediction</div><div id='commit'> Commit Name: 158b8908496b1bcd8d780c31b641d395ef261a2f</div><div id='time'> Time: 2021-07-28</div><div id='author'> Author: liu.jb.henry@gmail.com</div><div id='file'> File Name: core/util/preprocessor/base.py</div><div id='m_class'> M Class Name: Preprocessor</div><div id='n_method'> N Class Name: Preprocessor</div><div id='m_method'> M Method Name: lane_candidate_sampling(3)</div><div id='n_method'> N Method Name: lane_candidate_sampling(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: core/util/preprocessor/base.py</div><div id='n_file'> N File Name: core/util/preprocessor/base.py</div><div id='m_start'> M Start Line: 139</div><div id='m_end'> M End Line: 158</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 174</div><BR>