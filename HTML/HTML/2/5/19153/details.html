<html><h3>Pattern ID :19153
</h3><img src='62298231.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                transforms.RandomHorizontalFlip(),
            ])
        else:
            self.hr_transforms = <a id="change">transforms.Compose([
                transforms</a><a id="change">.CenterCrop(</a>[image_size, image_size]<a id="change">)</a>,
                transforms.RandomRotation(90),
                transforms.RandomHorizontalFlip()<a id="change"></a>,
            ]<a id="change">)</a>

        self.lr_transforms = transforms.Compose([
            transforms.Resize([image_size // upscale_factor, image_size // upscale_factor], interpolation=IMode.BICUBIC, antialias=True),
            transforms.Resize([image_size, image_size], interpolation=IMode.BICUBIC, antialias=True)</code></pre><h3>After Change</h3><pre><code class='java'>
        hr_dir_path = os.path.join(dataroot, "target")
        self.filenames = os.listdir(lr_dir_path)
        self.lr_filenames = [os.path.join(lr_dir_path, x) for x in self.filenames]
        self.hr_filenames = [<a id="change">os.path.join(</a>hr_dir_path, x<a id="change">)</a> for x in self.filenames]

    def __getitem__(self, batch_index: int) -&gt; [Tensor, Tensor]:
        &#47&#47 Read a batch of image data</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lornatang/vdsr-pytorch/commit/47c9ac3ddc26e70b6d89e150b009aac2e553ee88#diff-11bb3b632c84e01e0bf1b576e72c513fd062811e900ebcb5f22df0eac7d3b0d9L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62298231</div><div id='project'> Project Name: lornatang/vdsr-pytorch</div><div id='commit'> Commit Name: 47c9ac3ddc26e70b6d89e150b009aac2e553ee88</div><div id='time'> Time: 2021-11-22</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: dataset.py</div><div id='m_class'> M Class Name: ImageDataset</div><div id='n_method'> N Class Name: ImageDataset</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: dataset.py</div><div id='n_file'> N File Name: dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                transforms.RandomHorizontalFlip(),
            ])
        else:
            self.hr_transforms = <a id="change">transforms.Compose([
                </a><a id="change">transforms.CenterCrop(</a>[image_size, image_size]<a id="change">)</a>,
                transforms.RandomRotation(90),
                transforms.RandomHorizontalFlip()<a id="change"></a>,
            ]<a id="change">)</a>

        self.lr_transforms = transforms.Compose([
            transforms.Resize([image_size // upscale_factor, image_size // upscale_factor], interpolation=IMode.BICUBIC, antialias=True),
            transforms.Resize([image_size, image_size], interpolation=IMode.BICUBIC, antialias=True)</code></pre><h3>After Change</h3><pre><code class='java'>
        super(ImageDataset, self).__init__()
        self.filenames = [os.path.join(dataroot, x) for x in os.listdir(dataroot)]

        lr_dir_path = <a id="change">os.path.join(</a>dataroot, "inputs"<a id="change">)</a>
        hr_dir_path = os.path.join(dataroot, "target")
        self.filenames = os.listdir(lr_dir_path)
        self.lr_filenames = [os.path.join(lr_dir_path, x) for x in self.filenames]
        self.hr_filenames = [os.path.join(hr_dir_path, x) for x in self.filenames]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/vdsr-pytorch/commit/47c9ac3ddc26e70b6d89e150b009aac2e553ee88#diff-11bb3b632c84e01e0bf1b576e72c513fd062811e900ebcb5f22df0eac7d3b0d9L42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62298215</div><div id='project'> Project Name: lornatang/vdsr-pytorch</div><div id='commit'> Commit Name: 47c9ac3ddc26e70b6d89e150b009aac2e553ee88</div><div id='time'> Time: 2021-11-22</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: dataset.py</div><div id='m_class'> M Class Name: ImageDataset</div><div id='n_method'> N Class Name: ImageDataset</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: dataset.py</div><div id='n_file'> N File Name: dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            [transforms.CenterCrop(crop_size),  &#47&#47 cropping the image
             transforms.Resize(crop_size // scale_factor),
             transforms.ToTensor()])
        self.target_transform = <a id="change">transforms.Compose(
            [</a><a id="change">transforms.CenterCrop(</a>crop_size<a id="change">)</a>,
             transforms.ToTensor()<a id="change"></a>]<a id="change">)</a>

    def __getitem__(self, index):
        r Get image source file
</code></pre><h3>After Change</h3><pre><code class='java'>
        
        super(DatasetFromFolder, self).__init__()
        self.data_filenames = [os.path.join(data_dir, x) for x in os.listdir(data_dir) if check_image_file(x)]
        self.target_filenames = [<a id="change">os.path.join(</a>target_dir, x<a id="change">)</a> for x in os.listdir(target_dir) if check_image_file(x)]

        self.transform = transforms.ToTensor()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/fsrcnn-pytorch/commit/9924908ee49d6dc5cd261a6fec71dce27002c401#diff-e5906914480937b7275777504e966387dd771bcb89023e9bbcf618bbecca7d81L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62298213</div><div id='project'> Project Name: lornatang/fsrcnn-pytorch</div><div id='commit'> Commit Name: 9924908ee49d6dc5cd261a6fec71dce27002c401</div><div id='time'> Time: 2020-09-30</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: fsrcnn_pytorch/datasets.py</div><div id='m_class'> M Class Name: DatasetFromFolder</div><div id='n_method'> N Class Name: DatasetFromFolder</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: fsrcnn_pytorch/datasets.py</div><div id='n_file'> N File Name: fsrcnn_pytorch/datasets.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &gt;&gt;&gt; inputs, classes = next(iter(dataloaders[TRAIN]))
    
    def __init__(self, root=&quot/home/data/02_SSD4TB/suzy/datasets/public/chest-xray/&quot, split=&quottrain&quot, transform=None):
        transform = <a id="change">transforms.Compose([
            </a>transforms.Resize(256),
            <a id="change">transforms.CenterCrop(</a>224<a id="change">)</a>,
            transforms.ToTensor(),
            transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225])<a id="change"></a>,
        ]<a id="change">)</a>
        super(ChestXray, self).__init__(
            root=os.path.join(root, split), transform=transform)

    def __getitem__(self, index):</code></pre><h3>After Change</h3><pre><code class='java'>
        if download:
            download_datasets(tag, path=root)

        extract_zip(os.path.join(root, tag+".zip"), <a id="change">os.path.join(</a>root, tag<a id="change">)</a>)

        self.target_transform = target_transform
        if transform is None:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tuttelikz/farabio/commit/a535350f613f18fde69848c346695dc34e1332f8#diff-497438abfedb0f9ddf0240caff2549d5d946b521e9cbe5c1e6ec796b17c2954eL192' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62298226</div><div id='project'> Project Name: tuttelikz/farabio</div><div id='commit'> Commit Name: a535350f613f18fde69848c346695dc34e1332f8</div><div id='time'> Time: 2021-04-07</div><div id='author'> Author: s.askaruly@gmail.com</div><div id='file'> File Name: farabio/data/biodatasets.py</div><div id='m_class'> M Class Name: ChestXray</div><div id='n_method'> N Class Name: ChestXray</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: farabio/data/biodatasets.py</div><div id='n_file'> N File Name: farabio/data/biodatasets.py</div><div id='m_start'> M Start Line: 192</div><div id='m_end'> M End Line: 199</div><div id='n_start'> N Start Line: 188</div><div id='n_end'> N End Line: 206</div><BR>