<html><h3>Pattern ID :16609
</h3><img src='55798275.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ]

    def setup(self, shape, input_type):
        <a id="change">np.random.seed(42</a><a id="change">)</a>
        input_func = {&quotrandom_uniform&quot: random_uniform,
                      &quotrandom_uniform_sparse&quot: random_uniform_sparse,
                      &quotrandom_uniform_integer&quot: random_uniform_integer,
                      &quotrandom_geometric&quot: random_geometric,</code></pre><h3>After Change</h3><pre><code class='java'>
    ]

    def setup(self, shape, input_type):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(42</a><a id="change">)</a>
        input_func = {&quotrandom_uniform&quot: random_uniform,
                      &quotrandom_uniform_sparse&quot: random_uniform_sparse,
                      &quotrandom_uniform_integer&quot: random_uniform_integer,
                      &quotrandom_geometric&quot: random_geometric,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 10</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/70f8f287597b27e8cf397dad0d806e287cf347bb#diff-401843d5523602bdf0956d82df5586aebde2d5a1ceb9dccd4d4134822456ca1fL74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798275</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 70f8f287597b27e8cf397dad0d806e287cf347bb</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/sparse_csgraph_matching.py</div><div id='m_class'> M Class Name: MinWeightFullBipartiteMatching</div><div id='n_method'> N Class Name: MinWeightFullBipartiteMatching</div><div id='m_method'> M Method Name: setup(3)</div><div id='n_method'> N Method Name: setup(3)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/sparse_csgraph_matching.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/sparse_csgraph_matching.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class BenchPPoly(Benchmark):

    def setup(self):
        <a id="change">np.random.seed(1234</a><a id="change">)</a>
        m, k = 55, 3
        x = np.sort(np.random.random(m+1))
        c = np.random.random((3, m))
        self.pp = interpolate.PPoly(c, x)</code></pre><h3>After Change</h3><pre><code class='java'>
class BenchPPoly(Benchmark):

    def setup(self):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(1234</a><a id="change">)</a>
        m, k = 55, 3
        x = np.sort(rng.random(m+1))
        c = rng.random((3, m))
        self.pp = interpolate.PPoly(c, x)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/626e6435e32d42e5a304d5518581e3121944d8a4#diff-5c9e089c634f6e1f582393e83ea9d7728769c03c89618d6303bec0467776f39cL56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798279</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 626e6435e32d42e5a304d5518581e3121944d8a4</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/interpolate.py</div><div id='m_class'> M Class Name: BenchPPoly</div><div id='n_method'> N Class Name: BenchPPoly</div><div id='m_method'> M Method Name: setup(1)</div><div id='n_method'> N Method Name: setup(1)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/interpolate.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/interpolate.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 60</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 skip: slow, and not useful to benchmark numpy
            raise NotImplementedError()

        <a id="change">np.random.seed(1234</a><a id="change">)</a>
        n = math.ceil(2./3. * size)
        k = math.ceil(1./2. * size)
        m = size
</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 skip: slow, and not useful to benchmark numpy
            raise NotImplementedError()

        rng<a id="change"> = </a><a id="change">np.random.default_rng(1234</a><a id="change">)</a>
        n = math.ceil(2./3. * size)
        k = math.ceil(1./2. * size)
        m = size
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/8ab535d46da81f609fd0ae8e1916b4d1a129aa1b#diff-8e792372696d14fbb385d3b96c989d1df95b3c7820c3308a767475cfa830ae05L146' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798278</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 8ab535d46da81f609fd0ae8e1916b4d1a129aa1b</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/linalg.py</div><div id='m_class'> M Class Name: Lstsq</div><div id='n_method'> N Class Name: Lstsq</div><div id='m_method'> M Method Name: setup(4)</div><div id='n_method'> N Method Name: setup(4)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/linalg.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/linalg.py</div><div id='m_start'> M Start Line: 151</div><div id='m_end'> M End Line: 166</div><div id='n_start'> N Start Line: 151</div><div id='n_end'> N End Line: 166</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Create random sparse matrices. Note that we could use
        &#47&#47 scipy.sparse.rand for this purpose, but simply using np.random and
        &#47&#47 disregarding duplicates is quite a bit faster.
        <a id="change">np.random.seed(42</a><a id="change">)</a>
        d = np.random.randint(0, n, size=(int(n*n*density), 2))
        graph = scipy.sparse.csr_matrix((np.ones(len(d)), (d[:, 0], d[:, 1])),
                                        shape=(n, n))
        self.graph = graph</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Create random sparse matrices. Note that we could use
        &#47&#47 scipy.sparse.rand for this purpose, but simply using np.random and
        &#47&#47 disregarding duplicates is quite a bit faster.
        rng<a id="change"> = </a><a id="change">np.random.default_rng(42</a><a id="change">)</a>
        d = rng.integers(0, n, size=(int(n*n*density), 2))
        graph = scipy.sparse.csr_matrix((np.ones(len(d)), (d[:, 0], d[:, 1])),
                                        shape=(n, n))
        self.graph = graph</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/70f8f287597b27e8cf397dad0d806e287cf347bb#diff-401843d5523602bdf0956d82df5586aebde2d5a1ceb9dccd4d4134822456ca1fL17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798277</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 70f8f287597b27e8cf397dad0d806e287cf347bb</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/sparse_csgraph_matching.py</div><div id='m_class'> M Class Name: MaximumBipartiteMatching</div><div id='n_method'> N Class Name: MaximumBipartiteMatching</div><div id='m_method'> M Method Name: setup(3)</div><div id='n_method'> N Method Name: setup(3)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/sparse_csgraph_matching.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/sparse_csgraph_matching.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 22</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotm&quot]

    def setup(self, n, m):
        <a id="change">np.random.seed(1234</a><a id="change">)</a>
        self.A = sparse.eye(n, n) + sparse.rand(n, n, density=0.01)
        self.b = np.ones(n)

    def time_inner(self, n, m):</code></pre><h3>After Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotm&quot]

    def setup(self, n, m):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(1234</a><a id="change">)</a>
        self.A = sparse.eye(n, n) + sparse.rand(n, n, density=0.01, random_state=rng)
        self.b = np.ones(n)

    def time_inner(self, n, m):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/1d8a23dcdb73cec1bd255ba0cf10276b3c943d2d#diff-75a28815b5200c822e8d76d50675bbd66027a4e823fab881642ae0f97987d2e7L76' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798276</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 1d8a23dcdb73cec1bd255ba0cf10276b3c943d2d</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/sparse_linalg_solve.py</div><div id='m_class'> M Class Name: Lgmres</div><div id='n_method'> N Class Name: Lgmres</div><div id='m_method'> M Method Name: setup(3)</div><div id='n_method'> N Method Name: setup(3)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/sparse_linalg_solve.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/sparse_linalg_solve.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 77</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotmin_only&quot]

    def setup(self, n, min_only):
        <a id="change">np.random.seed(1234</a><a id="change">)</a>
        &#47&#47 make a random connectivity matrix
        data = scipy.sparse.rand(n, n, density=0.2, format=&quotcsc&quot,
                                 random_state=42, dtype=np.bool_)
        data.setdiag(np.zeros(n, dtype=np.bool_))</code></pre><h3>After Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotmin_only&quot]

    def setup(self, n, min_only):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(1234</a><a id="change">)</a>
        &#47&#47 make a random connectivity matrix
        data = scipy.sparse.rand(n, n, density=0.2, format=&quotcsc&quot,
                                 random_state=42, dtype=np.bool_)
        data.setdiag(np.zeros(n, dtype=np.bool_))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/683c444f372c03677a78a64d369de13aa7f906d3#diff-0ea58c99c25e2abc5c1a09c2b62f9fa26b6ceb346698a563b43db741cca67284L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798283</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 683c444f372c03677a78a64d369de13aa7f906d3</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/sparse_csgraph_djisktra.py</div><div id='m_class'> M Class Name: Dijkstra</div><div id='n_method'> N Class Name: Dijkstra</div><div id='m_method'> M Method Name: setup(3)</div><div id='n_method'> N Method Name: setup(3)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/sparse_csgraph_djisktra.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/sparse_csgraph_djisktra.py</div><div id='m_start'> M Start Line: 19</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 19</div><div id='n_end'> N End Line: 27</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_invalid_dimensions(self):
        &#47&#47 Ensure that a ValueError is raised when the number of columns
        &#47&#47 is not the same
        <a id="change">np.random.seed(1234</a><a id="change">)</a>
        A = np.random.rand(3, 2)
        B = np.random.rand(4, 5)
        with pytest.raises(ValueError):
            directed_hausdorff(A, B)</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_invalid_dimensions(self):
        &#47&#47 Ensure that a ValueError is raised when the number of columns
        &#47&#47 is not the same
        rng<a id="change"> = </a><a id="change">np.random.default_rng(189048172503940875434364128139223470523</a><a id="change">)</a>
        A = rng.random((3, 2))
        B = rng.random((3, 5))
        msg = r"need to have the same number of columns"
        with pytest.raises(ValueError, match=msg):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/976c2341b8d7f887018b91992485e0cd1ff18515#diff-c576260fd3e334f8e08238872085475b839eeb6e14df33b692b24f0099a019beL115' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798282</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 976c2341b8d7f887018b91992485e0cd1ff18515</div><div id='time'> Time: 2022-07-16</div><div id='author'> Author: matthew.borish@gmail.com</div><div id='file'> File Name: scipy/spatial/tests/test_hausdorff.py</div><div id='m_class'> M Class Name: TestHausdorff</div><div id='n_method'> N Class Name: TestHausdorff</div><div id='m_method'> M Method Name: test_invalid_dimensions(1)</div><div id='n_method'> N Method Name: test_invalid_dimensions(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scipy/spatial/tests/test_hausdorff.py</div><div id='n_file'> N File Name: scipy/spatial/tests/test_hausdorff.py</div><div id='m_start'> M Start Line: 118</div><div id='m_end'> M End Line: 120</div><div id='n_start'> N Start Line: 118</div><div id='n_end'> N End Line: 121</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotformat&quot]

    def setup(self, n, format):
        <a id="change">np.random.seed(1234</a><a id="change">)</a>

        &#47&#47 Let the number of nonzero entries per row
        &#47&#47 scale like the log of the order of the matrix.
        nnz_per_row = int(math.ceil(math.log(n)))</code></pre><h3>After Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotformat&quot]

    def setup(self, n, format):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(1234</a><a id="change">)</a>

        &#47&#47 Let the number of nonzero entries per row
        &#47&#47 scale like the log of the order of the matrix.
        nnz_per_row = int(math.ceil(math.log(n)))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/62fbdbbbe0db4790fcbb35281e58187e9ba6553d#diff-9519ca90d23c3916e05dc4267431ca0b2ce09c6519d5f63feee465b80b45789fL55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798281</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 62fbdbbbe0db4790fcbb35281e58187e9ba6553d</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/sparse_linalg_expm.py</div><div id='m_class'> M Class Name: Expm</div><div id='n_method'> N Class Name: Expm</div><div id='m_method'> M Method Name: setup(3)</div><div id='n_method'> N Method Name: setup(3)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/sparse_linalg_expm.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/sparse_linalg_expm.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 63</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    params = [[1, 2, 4]]

    def setup(self, threads):
        <a id="change">np.random.seed(8176</a><a id="change">)</a>
        self.chunks = np.array_split(np.random.randn(250, 349), threads)

    def _medfilt2d(self, threads):
        with ThreadPoolExecutor(max_workers=threads) as pool:</code></pre><h3>After Change</h3><pre><code class='java'>
    params = [[1, 2, 4]]

    def setup(self, threads):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(8176</a><a id="change">)</a>
        self.chunks = np.array_split(rng.standard_normal((250, 349)), threads)

    def _medfilt2d(self, threads):
        with ThreadPoolExecutor(max_workers=threads) as pool:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/877d77212eac499352e9d1fbcbbcc9f6d50b9f93#diff-7b0b48a6815d42721df1cd24de6c3d8922ecbc53cf53ea1242490a0f860a93f5L92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798280</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 877d77212eac499352e9d1fbcbbcc9f6d50b9f93</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/signal_filtering.py</div><div id='m_class'> M Class Name: MedFilt2D</div><div id='n_method'> N Class Name: MedFilt2D</div><div id='m_method'> M Method Name: setup(2)</div><div id='n_method'> N Method Name: setup(2)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/signal_filtering.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/signal_filtering.py</div><div id='m_start'> M Start Line: 93</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 93</div><div id='n_end'> N End Line: 94</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotsolver&quot]

    def setup(self, n, solver):
        <a id="change">np.random.seed(1234</a><a id="change">)</a>
        nrepeats = 100
        shape = (int(n), int(n))

        if solver == &quotexact&quot and n &gt;= 300:</code></pre><h3>After Change</h3><pre><code class='java'>
    param_names = [&quotn&quot, &quotsolver&quot]

    def setup(self, n, solver):
        rng<a id="change"> = </a><a id="change">np.random.default_rng(1234</a><a id="change">)</a>
        nrepeats = 100
        shape = (int(n), int(n))

        if solver == &quotexact&quot and n &gt;= 300:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/cb9cfe4427bad62a64dd38f139d3ce5ff2668f62#diff-0feae80fdc627cf7aa6a2b5a8f21a0c31568ae677ef40dc3b2b5d07cbe114b58L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55798284</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: cb9cfe4427bad62a64dd38f139d3ce5ff2668f62</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: charlotteliu12x@gmail.com</div><div id='file'> File Name: benchmarks/benchmarks/sparse_linalg_onenormest.py</div><div id='m_class'> M Class Name: BenchmarkOneNormEst</div><div id='n_method'> N Class Name: BenchmarkOneNormEst</div><div id='m_method'> M Method Name: setup(3)</div><div id='n_method'> N Method Name: setup(3)</div><div id='m_parent_class'> M Parent Class: Benchmark</div><div id='n_parent_class'> N Parent Class: Benchmark</div><div id='m_file'> M File Name: benchmarks/benchmarks/sparse_linalg_onenormest.py</div><div id='n_file'> N File Name: benchmarks/benchmarks/sparse_linalg_onenormest.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 33</div><BR>