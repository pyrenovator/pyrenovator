<html><h3>Pattern ID :7556
</h3><img src='25080606.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if self._gui:
                time.sleep(pp.get_time_step())

            if not any(<a id="change">is_moving.values()</a>):
                break

        aabb_min, aabb_max = pp.get_aabb(self.target_object_id)</code></pre><h3>After Change</h3><pre><code class='java'>
            if self._gui:
                time.sleep(pp.get_time_step())

            if all(<a id="change">n &gt; 10</a> <a id="change">for</a> n in num_paused.values()):
                break

        mercury.pybullet.duplicate(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/wkentaro/safepicking/commit/1f258a73d42fc562727a6d4f26573b34e6158a15#diff-f985cd057b0aefd481c603155943b423e7e50ed4fcacef6f880739c67bdbf25eL275' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25080606</div><div id='project'> Project Name: wkentaro/safepicking</div><div id='commit'> Commit Name: 1f258a73d42fc562727a6d4f26573b34e6158a15</div><div id='time'> Time: 2021-06-11</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/target_pick/env.py</div><div id='m_class'> M Class Name: PickFromPileEnv</div><div id='n_method'> N Class Name: PickFromPileEnv</div><div id='m_method'> M Method Name: step(2)</div><div id='n_method'> N Method Name: step(2)</div><div id='m_parent_class'> M Parent Class: Env</div><div id='n_parent_class'> N Parent Class: Env</div><div id='m_file'> M File Name: examples/target_pick/env.py</div><div id='n_file'> N File Name: examples/target_pick/env.py</div><div id='m_start'> M Start Line: 275</div><div id='m_end'> M End Line: 324</div><div id='n_start'> N Start Line: 276</div><div id='n_end'> N End Line: 329</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 TODO: filter inputs  by valid name
        &#47&#47  inputs = {k: v for k, v in inputs.items() if k in self.input_names}
        &#47&#47 temporary fix: reorder by expected QA input order
        inps = list(<a id="change">inputs.values()</a>)
        inps[1], inps[2] = inps[2], inps[1]

        if self.engine_type == ORT_ENGINE:</code></pre><h3>After Change</h3><pre><code class='java'>
        self._forward(inputs)

    def _forward(self, inputs):
        if not all(<a id="change">name in inputs</a> <a id="change">for</a> <a id="change">name</a> in self.input_names):
            raise ValueError(
                f"pipeline expected arrays with names {self.input_names}, received "
                f"inputs: {list(inputs.keys())}"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neuralmagic/deepsparse/commit/845837b0c5f2ee40d4c8a9d1950ce47b7dafadd6#diff-d37b8da69f82ac62e9495d51de793dd6d36eba477b662e83a2231a0f89d327b9L249' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25080607</div><div id='project'> Project Name: neuralmagic/deepsparse</div><div id='commit'> Commit Name: 845837b0c5f2ee40d4c8a9d1950ce47b7dafadd6</div><div id='time'> Time: 2021-07-19</div><div id='author'> Author: bfineran@users.noreply.github.com</div><div id='file'> File Name: examples/huggingface-transformers/pipelines.py</div><div id='m_class'> M Class Name: Pipeline</div><div id='n_method'> N Class Name: Pipeline</div><div id='m_method'> M Method Name: _forward(2)</div><div id='n_method'> N Method Name: _forward(2)</div><div id='m_parent_class'> M Parent Class: _ScikitCompat</div><div id='n_parent_class'> N Parent Class: _ScikitCompat</div><div id='m_file'> M File Name: examples/huggingface-transformers/pipelines.py</div><div id='n_file'> N File Name: examples/huggingface-transformers/pipelines.py</div><div id='m_start'> M Start Line: 254</div><div id='m_end'> M End Line: 261</div><div id='n_start'> N Start Line: 250</div><div id='n_end'> N End Line: 260</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47  inputs = {k: v for k, v in inputs.items() if k in self.input_names}
            return self.model.run(None, dict(zip(self.input_names, inputs.values())))
        elif self.engine_type == DEEPSPARSE_ENGINE:
            return self.model.run(list(<a id="change">inputs.values()</a>))
        &#47&#47 TODO: torch
        &#47&#47 with self.device_placement():
        &#47&#47         with torch.no_grad():</code></pre><h3>After Change</h3><pre><code class='java'>

    def _forward(self, inputs, return_tensors=False):

        if not all(<a id="change">name in inputs</a> <a id="change">for</a> <a id="change">name</a> in self.input_names):
            raise ValueError(
                f"pipeline expected arrays with names {self.input_names}, received "
                f"inputs: {list(inputs.keys())}"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neuralmagic/deepsparse/commit/48290173a0ddd93c88a21ca2b499ee4b5c043a7d#diff-d37b8da69f82ac62e9495d51de793dd6d36eba477b662e83a2231a0f89d327b9L244' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25080608</div><div id='project'> Project Name: neuralmagic/deepsparse</div><div id='commit'> Commit Name: 48290173a0ddd93c88a21ca2b499ee4b5c043a7d</div><div id='time'> Time: 2021-07-16</div><div id='author'> Author: bfineran@users.noreply.github.com</div><div id='file'> File Name: examples/huggingface-transformers/pipelines.py</div><div id='m_class'> M Class Name: Pipeline</div><div id='n_method'> N Class Name: Pipeline</div><div id='m_method'> M Method Name: _forward(3)</div><div id='n_method'> N Method Name: _forward(3)</div><div id='m_parent_class'> M Parent Class: _ScikitCompat</div><div id='n_parent_class'> N Parent Class: _ScikitCompat</div><div id='m_file'> M File Name: examples/huggingface-transformers/pipelines.py</div><div id='n_file'> N File Name: examples/huggingface-transformers/pipelines.py</div><div id='m_start'> M Start Line: 250</div><div id='m_end'> M End Line: 252</div><div id='n_start'> N Start Line: 246</div><div id='n_end'> N End Line: 256</div><BR>