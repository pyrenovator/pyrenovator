<html><h3>Pattern ID :4262
</h3><img src='15510668.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    dask_workdir = os.path.join(BASE_DIR, "workdir")
    output_path = os.path.join(BASE_DIR, "output")
    stats_path = os.path.join(BASE_DIR, "stats")
    <a id="change">if </a>not <a id="change">os.path.isdir(</a>BASE_DIR<a id="change">)</a>:
        os.mkdir(BASE_DIR)
    for dir_path in (dask_workdir, output_path, stats_path):
        if os.path.isdir(dir_path):</code></pre><h3>After Change</h3><pre><code class='java'>
        os.environ["UCX_TLS"] = UCX_TLS

    &#47&#47 Cleanup output directory
    base_dir = <a id="change">args.out_path[:-1]</a> if args.out_path[-1] == "/" else args.out_path
    dask_workdir = os.path.join(base_dir, "workdir")
    output_path = os.path.join(base_dir, "output")
    stats_path = os.path.join(base_dir, "stats")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nvidia/nvtabular/commit/8aa84c8782dd31bcf831c05e6a620e530eeb0610#diff-e2d5db182b9fe826e665c7e906cc35e105a13395a1d0b699884ac090a5cd0eb5L69' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15510668</div><div id='project'> Project Name: nvidia/nvtabular</div><div id='commit'> Commit Name: 8aa84c8782dd31bcf831c05e6a620e530eeb0610</div><div id='time'> Time: 2021-02-09</div><div id='author'> Author: albertoa@nvidia.com</div><div id='file'> File Name: examples/dask-nvtabular-criteo-benchmark.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/dask-nvtabular-criteo-benchmark.py</div><div id='n_file'> N File Name: examples/dask-nvtabular-criteo-benchmark.py</div><div id='m_start'> M Start Line: 69</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 118</div><div id='n_end'> N End Line: 132</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                )
                args.export_path = None
            else:
                <a id="change">if </a>args.export_path and not <a id="change">os.path.isdir(</a>args.export_path<a id="change">)</a>:
                    raise TritonModelAnalyzerException(
                        f"Export path {args.export_path} is not a directory")
                if not (args.filename_model and args.filename_server_only):</code></pre><h3>After Change</h3><pre><code class='java'>
        

        &#47&#47 Remove the first argument which is the program name
        args = self._parser.parse_args(<a id="change">sys.argv[1:]</a>)
        self._preprocess_and_verify_arguments(args)
        return args
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/4378a684a7452cb9b0c3c69a90eaf49e2457c1ac#diff-482fe20b77860750035a291798ebb2b92cd74a6982ecc0363cd62a835a2311c0L131' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15510665</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 4378a684a7452cb9b0c3c69a90eaf49e2457c1ac</div><div id='time'> Time: 2020-11-24</div><div id='author'> Author: xprotobeast2@gmail.com</div><div id='file'> File Name: model_analyzer/cli/cli.py</div><div id='m_class'> M Class Name: CLI</div><div id='n_method'> N Class Name: CLI</div><div id='m_method'> M Method Name: parse(1)</div><div id='n_method'> N Method Name: parse(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/cli/cli.py</div><div id='n_file'> N File Name: model_analyzer/cli/cli.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 159</div><div id='n_start'> N Start Line: 218</div><div id='n_end'> N End Line: 219</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        items = {}

        image_dir = self.image_dir
        <a id="change">if </a><a id="change">osp.isdir(</a>image_dir<a id="change">)</a>:
            images = { osp.splitext(osp.relpath(p, image_dir))[0]: p
                for p in find_images(image_dir, recursive=True) }
        else:</code></pre><h3>After Change</h3><pre><code class='java'>
                        item_id = item[1]
                        item = item[2].split()
                        image = item_id + item[0]
                        label_ids = [int(id) for id in <a id="change">item[1:]</a>]
                    else:
                        raise Exception("Line %s: unexpected number "
                            "of quotes in filename" % line)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/7e35c81e5d4a98aed85f22ec67cff83a2ef201b3#diff-a28a0a0b37c59c8c01cdb522418a42f5770ee4bf662d08b1cd1de26b3dfe1803L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15510667</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 7e35c81e5d4a98aed85f22ec67cff83a2ef201b3</div><div id='time'> Time: 2021-06-23</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/imagenet_txt_format.py</div><div id='m_class'> M Class Name: ImagenetTxtExtractor</div><div id='n_method'> N Class Name: ImagenetTxtExtractor</div><div id='m_method'> M Method Name: _load_items(2)</div><div id='n_method'> N Method Name: _load_items(2)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/imagenet_txt_format.py</div><div id='n_file'> N File Name: datumaro/plugins/imagenet_txt_format.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 66</div><BR>