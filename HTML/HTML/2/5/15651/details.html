<html><h3>Pattern ID :15651
</h3><img src='52997929.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            y += shift_label
            y /= max_label
            batch_fake_images = netG(z, y)
            <a id="change">raw_fake_images[tmp:(tmp+batch_size)]</a> = batch_fake_images.cpu().detach().numpy()
            raw_fake_counts[tmp:(tmp+batch_size)] = y.cpu().view(-1).detach().numpy()
            tmp += batch_size
</code></pre><h3>After Change</h3><pre><code class='java'>
        while tmp &lt; NFAKE:
            z = torch.randn(batch_size, GAN_Latent_Length, dtype=torch.float).to(device)
            labels = np.random.choice(np.arange(num_classes),size=batch_size,replace=True)
            <a id="change">raw_fake_labels[tmp:(tmp+batch_size)]</a> = labels
            labels = torch.from_numpy(labels).type(torch.long).to(device)
            batch_fake_images = netG(z, labels)
            fake_images[tmp:(tmp+batch_size)] = batch_fake_images.cpu().detach().numpy()
            tmp += batch_size

    &#47&#47remove extra entries
    fake_images = fake_images[0:NFAKE]
    raw_fake_labels = raw_fake_labels[0:NFAKE]
    raw_fake_labels = raw_fake_labels.astype(np.float)

    &#47&#47convert class labels to raw labels
    raw_fake_labels<a id="change"> = </a>np.array([class2label[raw_fake_labels[i]] for i in range(NFAKE)])

    return fake_images, raw_fake_labels
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ubcdingxin/improved_ccgan/commit/8a85572c67f2b5e51be8e71eb77edbead26b2c0a#diff-df3c440c73c50b64aefbe69083440a66533d0d3b3c5f056547c895503b9d9f9aL134' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52997929</div><div id='project'> Project Name: ubcdingxin/improved_ccgan</div><div id='commit'> Commit Name: 8a85572c67f2b5e51be8e71eb77edbead26b2c0a</div><div id='time'> Time: 2020-03-11</div><div id='author'> Author: dingx92@gmail.com</div><div id='file'> File Name: CellCounting/Train_cDCGAN.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: SampcDCGAN(7)</div><div id='n_method'> N Method Name: SampcDCGAN(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: CellCounting/Train_cDCGAN.py</div><div id='n_file'> N File Name: CellCounting/Train_cDCGAN.py</div><div id='m_start'> M Start Line: 134</div><div id='m_end'> M End Line: 159</div><div id='n_start'> N Start Line: 136</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    try:
        cpuset_path = Path("/proc/1/cpuset")
        cpuset_content = cpuset_path.read_text("utf-8")
        return <a id="change">Path(cpuset_content).name[:CONTAINER_ID_LENGTH]</a>
    except FileNotFoundError:
        return None
</code></pre><h3>After Change</h3><pre><code class='java'>
    try:
        cpuset_path = Path("/proc/1/cpuset")
        cpuset_content = cpuset_path.read_text("utf-8")
        path<a id="change"> = </a><a id="change">Path(cpuset_content).name[:CONTAINER_ID_LENGTH]</a>.strip()
        return path or None
    except FileNotFoundError:
        return None</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_navigator/commit/899ef7e1056798e320ebe88d299a12c19f85e67d#diff-9fa307aaad5046173d554dfa97b8ece0a59b3f76ee8f2769917be74a93d3b4d6L248' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52997962</div><div id='project'> Project Name: triton-inference-server/model_navigator</div><div id='commit'> Commit Name: 899ef7e1056798e320ebe88d299a12c19f85e67d</div><div id='time'> Time: 2021-11-03</div><div id='author'> Author: jzakrzewski@nvidia.com</div><div id='file'> File Name: model_navigator/utils/docker.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_docker_container_id(0)</div><div id='n_method'> N Method Name: get_docker_container_id(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_navigator/utils/docker.py</div><div id='n_file'> N File Name: model_navigator/utils/docker.py</div><div id='m_start'> M Start Line: 253</div><div id='m_end'> M End Line: 253</div><div id='n_start'> N Start Line: 253</div><div id='n_end'> N End Line: 254</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        pred = 250
        trials = 1
        yhat = torch.empty((trials, y.shape[0]))
        yhat[:, :see] = <a id="change">x[:see]</a>.unsqueeze(0)
        &#47&#47 yhat[:, see - 1] += torch.randn(trials) * 1e-1
        with torch.no_grad():
            for i in range(see, see + pred):</code></pre><h3>After Change</h3><pre><code class='java'>
        see = 250
        pred = net.out_channels
        yhat = torch.empty(250 + pred)
        yhat[:see] = <a id="change">x[:see]</a>
        with torch.no_grad():
            mu = net(yhat[:see].view(1, 1, -1))[0, :, -1]
            yhat[see : see + pred]<a id="change"> = </a>mu

        plt.plot(t, y, c="k")
        plt.plot(t[:see], yhat[:see])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cheind/autoregressive/commit/fcaaa01384fb29f78c827ecbddea82ee3dd25036#diff-aa65d23f5d114cd407947ff27275b32de3b4349a058825634217b5a7b751c76fL126' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52997931</div><div id='project'> Project Name: cheind/autoregressive</div><div id='commit'> Commit Name: fcaaa01384fb29f78c827ecbddea82ee3dd25036</div><div id='time'> Time: 2021-10-14</div><div id='author'> Author: cheind@profactor.at</div><div id='file'> File Name: autoregressive_damp/model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval(0)</div><div id='n_method'> N Method Name: eval(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: autoregressive_damp/model.py</div><div id='n_file'> N File Name: autoregressive_damp/model.py</div><div id='m_start'> M Start Line: 145</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 144</div><div id='n_end'> N End Line: 168</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    f0_gen = f0.copy()

    for s, e in get_voiced_segments(m_a):
        cent = m_a[s:e] * np.sin(2 * np.pi / sr * <a id="change">m_f[s:e]</a> * np.arange(0, e - s))
        new_f0 = f0[s:e] * np.exp(cent * np.log(2) / 1200)
        f0_gen[s:e] = new_f0
</code></pre><h3>After Change</h3><pre><code class='java'>

    for s, e in get_voiced_segments(m_a):
        &#47&#47 limit vibrato frequency to [3, 8] Hz
        m_f_seg<a id="change"> = </a>np.clip(<a id="change">m_f[s:e]</a>, 3, 8)
        m_a_seg = m_a[s:e]

        cent = m_a_seg * np.sin(2 * np.pi / sr * m_f_seg * np.arange(0, e - s))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/r9y9/nnsvs/commit/e9ecf1725b8b1b8c76448cc5c5af3b3e43fd4aae#diff-1a8590beac27744f6bb134ab623d4f32a3ebfebedd1a989ae805decf5c1ec992L311' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52997964</div><div id='project'> Project Name: r9y9/nnsvs</div><div id='commit'> Commit Name: e9ecf1725b8b1b8c76448cc5c5af3b3e43fd4aae</div><div id='time'> Time: 2022-03-06</div><div id='author'> Author: zryuichi@gmail.com</div><div id='file'> File Name: nnsvs/pitch.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: gen_sine_vibrato(4)</div><div id='n_method'> N Method Name: gen_sine_vibrato(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nnsvs/pitch.py</div><div id='n_file'> N File Name: nnsvs/pitch.py</div><div id='m_start'> M Start Line: 315</div><div id='m_end'> M End Line: 315</div><div id='n_start'> N Start Line: 316</div><div id='n_end'> N End Line: 319</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    list_app.remove("aggregate")
    fig = plt.figure(figsize=figsize)
    axs = fig.add_axes()
    axs.plot(<a id="change">dict_pred["aggregate"][idx_start:idx_end]</a>, label="Aggregate")
    for app in list_app:
        name = app.capitalize().replace("_", " ")
        axs.plot(dict_pred[app]["power"][idx_start:idx_end], label=name)</code></pre><h3>After Change</h3><pre><code class='java'>
    Plot the aggregated power load and each appliances&quot consumption
    fig, ax = plt.subplots(figsize=figsize)
    &#47&#47 Plot aggregate power
    y = <a id="change">dict_pred["aggregated"][idx_start:idx_end]</a>
    x<a id="change"> = </a>np.arange(0, len(y)) * freq_min
    ax.plot(x, y, label="Aggregate")
    &#47&#47 List appliances
    list_app = list(dict_pred.keys())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/uca-datalab/nilm-thresholding/commit/a9a5a48d9e3627123745ab31e088cd82d25af43c#diff-ffdc8543cb9b15fee16c6c7f9f1a72298bbbc9480b9ca2f08334d4d1d454fcccL4' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52997948</div><div id='project'> Project Name: uca-datalab/nilm-thresholding</div><div id='commit'> Commit Name: a9a5a48d9e3627123745ab31e088cd82d25af43c</div><div id='time'> Time: 2021-05-06</div><div id='author'> Author: danipg1409@gmail.com</div><div id='file'> File Name: nilm_thresholding/utils/plot.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_real_data(6)</div><div id='n_method'> N Method Name: plot_real_data(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nilm_thresholding/utils/plot.py</div><div id='n_file'> N File Name: nilm_thresholding/utils/plot.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 29</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    output_hidden_states=True, output_scores=True, return_dict_in_generate=True,
                ).sequences
                &#47&#47 res = self.tokenizer.decode(output_id)
                res = self.tokenizer.decode(<a id="change">output_ids[0].tolist()[input_len:]</a>, skip_special_tokens=True)
                
                print(f"Bot: {res}")
                input_hists.append([self.args.sp2_id] + self.tokenizer.encode(res))</code></pre><h3>After Change</h3><pre><code class='java'>
                    output_hidden_states=True, output_scores=True, return_dict_in_generate=True,
                ).sequences
                &#47&#47 res = self.tokenizer.decode(output_id)
                output_ids = <a id="change">output_ids[0].tolist()[input_len:]</a>
                res<a id="change"> = </a>self.tokenizer.decode(output_ids, skip_special_tokens=True)
                
                print(f"Bot: {res}")
                input_hists.append([self.args.sp2_id] + self.tokenizer.encode(res))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/devjwsong/gpt2-dialogue-generation-pytorch/commit/eb5f317bd588d72401e90786176c2a0b42e41b45#diff-2e5ad92c43aa96cc3a9cef6c6aec998b216f1379c43b1f651013d25e55989312L212' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52997934</div><div id='project'> Project Name: devjwsong/gpt2-dialogue-generation-pytorch</div><div id='commit'> Commit Name: eb5f317bd588d72401e90786176c2a0b42e41b45</div><div id='time'> Time: 2021-11-29</div><div id='author'> Author: devjwsong@gmail.com</div><div id='file'> File Name: src/main.py</div><div id='m_class'> M Class Name: Manager</div><div id='n_method'> N Class Name: Manager</div><div id='m_method'> M Method Name: infer(1)</div><div id='n_method'> N Method Name: infer(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/main.py</div><div id='n_file'> N File Name: src/main.py</div><div id='m_start'> M Start Line: 252</div><div id='m_end'> M End Line: 252</div><div id='n_start'> N Start Line: 252</div><div id='n_end'> N End Line: 253</div><BR>