<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47brute force is fine here. We are working with very small lists
    for base in base_list:
        batch_size = base
        <a id="change">for </a>hcn in HCN_LIST<a id="change">:
            </a>new_batch_size = base * hcn
            if new_batch_size &gt; max_acceptable_batch_size:
                break
            batch_size<a id="change"> = </a>new_batch_size
        candidate_batch_size.append(batch_size)
    return list(set(candidate_batch_size))
</code></pre><h3>After Change</h3><pre><code class='java'>
            candidate_batch_size.append(base)
        else:
            value = max_acceptable_batch_size // base
            index<a id="change"> = </a>np.argmax(<a id="change">np.asarray(</a>HCN_LIST<a id="change">)</a> &gt; value)
            candidate_batch_size.append(HCN_LIST[index - 1] * base)
    candidate_batch_size = list(set(candidate_batch_size))
    logger.info(f"Candidate batch size: {candidate_batch_size}")</code></pre>