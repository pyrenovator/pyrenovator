<html><h3>Pattern ID :15671
</h3><img src='53014648.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
			d_out_fake = D(fake_images)
			&#47&#47誤差の計算
			d_loss_real = criterion(d_out_real.view(-1),label_real)
			d_loss_fake<a id="change"> = </a>criterion(<a id="change">d_out_fake.view(-1</a><a id="change">)</a>,label_fake)
			d_loss = d_loss_real + d_loss_fake
			&#47&#47誤差を伝搬
			g_optimizer.zero_grad()</code></pre><h3>After Change</h3><pre><code class='java'>
			&#47&#47誤差の計算
			&#47&#47 d_loss_real = criterion(d_out_real.view(-1),label_real)
			&#47&#47 d_loss_fake = criterion(d_out_fake.view(-1),label_fake)
			d_loss_real<a id="change"> = </a><a id="change">torch.nn.ReLU()(</a>1.0-d_out_real<a id="change">)</a>.mean()
			d_loss_fake = torch.nn.ReLU()(1.0+d_out_fake).mean()
			d_loss = d_loss_real + d_loss_fake
			&#47&#47誤差を伝搬</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zassou65535/image_generator/commit/0d1f9d59248bbe59037827d4a2f017e6c6b20344#diff-0d870b2bcbd491080fbd232f7f785688a61c1c4123b664a61c87830ae9118f0aL31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53014648</div><div id='project'> Project Name: zassou65535/image_generator</div><div id='commit'> Commit Name: 0d1f9d59248bbe59037827d4a2f017e6c6b20344</div><div id='time'> Time: 2020-02-06</div><div id='author'> Author: nakamura.k.bv@m.titech.ac.jp</div><div id='file'> File Name: GAN.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_model(4)</div><div id='n_method'> N Method Name: train_model(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: GAN.py</div><div id='n_file'> N File Name: GAN.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 83</div><div id='n_end'> N End Line: 111</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 assert samples.shape == (2, 500)
    import matplotlib.pyplot as plt

    flat<a id="change"> = </a><a id="change">samples.view(-1</a><a id="change">)</a>

    print(_multinomial_prob(flat, torch.ones(10)))

    &#47&#47 plt.hist(flat.int().numpy(), 10, density=True)</code></pre><h3>After Change</h3><pre><code class='java'>
def test_greedy_sampler():
    torch.manual_seed(123)
    logits = torch.rand(2, 10, 5000)
    samples<a id="change"> = </a><a id="change">sampling.GreedySampler()(</a>logits<a id="change">)</a>
    assert samples.shape == (2, 5000)
    assert chi2_test(samples.view(-1), torch.ones(10) * 0.1)

    logits = torch.rand(2, 10, 10000)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cheind/autoregressive/commit/bd9eb01183a89771ea325551b59720b4f8ce0140#diff-a0b4514aac5190e4b09584f86c51f7c4974d218db9bdd7a68522534959736ce6L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53014651</div><div id='project'> Project Name: cheind/autoregressive</div><div id='commit'> Commit Name: bd9eb01183a89771ea325551b59720b4f8ce0140</div><div id='time'> Time: 2021-11-11</div><div id='author'> Author: christoph.heindl@gmail.com</div><div id='file'> File Name: autoregressive/tests/test_sampling.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_greedy_sampler(0)</div><div id='n_method'> N Method Name: test_greedy_sampler(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: autoregressive/tests/test_sampling.py</div><div id='n_file'> N File Name: autoregressive/tests/test_sampling.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ir_file = os.path.join(self.ir_files_dir, ir_file)
        if ir_file.endswith(&quot.mat&quot):
            data= io.loadmat(ir_file)
            IR<a id="change"> = </a><a id="change">torch.from_numpy(data[self.mat_dict_key]).view(-1</a><a id="change">)</a>.float()
        else:
            IR, _ = torchaudio.load(ir_file)
            IR = IR.view(-1)</code></pre><h3>After Change</h3><pre><code class='java'>
            IR = IR[0]

        if rate != self.ir_rate:
            transformed<a id="change"> = </a><a id="change">torchaudio.transforms.Resample(rate, self.ir_rate)(</a>IR.view(1,-1)<a id="change">)</a>
            
        IR = IR.view(-1)
        IR = IR[:self.max_reverb_len]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/shangeth/wavencoder/commit/ef13a183eda6e006e80057c8bc49676a771a098e#diff-5926ee152bdda2f782888a2d6595c3db07100a7ea30ef5deb2db220820484662L16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53014646</div><div id='project'> Project Name: shangeth/wavencoder</div><div id='commit'> Commit Name: ef13a183eda6e006e80057c8bc49676a771a098e</div><div id='time'> Time: 2021-02-25</div><div id='author'> Author: shangethrajaa@gmail.com</div><div id='file'> File Name: wavencoder/transforms/reverberation.py</div><div id='m_class'> M Class Name: Reverberation</div><div id='n_method'> N Class Name: Reverberation</div><div id='m_method'> M Method Name: load_IR(1)</div><div id='n_method'> N Method Name: load_IR(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wavencoder/transforms/reverberation.py</div><div id='n_file'> N File Name: wavencoder/transforms/reverberation.py</div><div id='m_start'> M Start Line: 18</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 19</div><div id='n_end'> N End Line: 27</div><BR>