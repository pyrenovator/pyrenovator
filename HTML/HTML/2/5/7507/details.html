<html><h3>Pattern ID :7507
</h3><img src='24793126.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def query():
    f = Flow.load_config(&quotflows/query.yml&quot)

    <a id="change">with f</a><a id="change">:
        </a>f.block()


def index_restful(num_docs):</code></pre><h3>After Change</h3><pre><code class='java'>
    flow = Flow.load_config(&quotflows/query.yml&quot)
    flow.rest_api = True
    flow.protocol = &quothttp&quot
    <a id="change">with flow</a><a id="change">:
        </a><a id="change">flow.block()</a>


def query_text():
    def print_result(response):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/e2bac6411dfc263b22bd8023274ce5a662e21c57#diff-2267e8e53b42b3d2dc2a413309c4f06c2b0754b68241bb673b5075436beb815dL42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24793126</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: e2bac6411dfc263b22bd8023274ce5a662e21c57</div><div id='time'> Time: 2021-07-16</div><div id='author'> Author: 51201318+slettner@users.noreply.github.com</div><div id='file'> File Name: multires-lyrics-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: query(0)</div><div id='n_method'> N Method Name: query(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: multires-lyrics-search/app.py</div><div id='n_file'> N File Name: multires-lyrics-search/app.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def index_restful(num_docs):
    f = Flow().load_config(&quotflows/flow-index.yml&quot)

    <a id="change">with f</a><a id="change">:
        </a>data_path = os.path.join(os.path.dirname(__file__), os.environ.get(&quotJINA_DATA_FILE&quot, None))
        f.logger.info(f&quotIndexing {data_path}&quot)
        url = f&quothttp://0.0.0.0:{f.port_expose}/index&quot
</code></pre><h3>After Change</h3><pre><code class='java'>
def index_restful():
    flow = Flow().load_config(&quotflows/flow-index.yml&quot)
    flow.use_rest_gateway()
    <a id="change">with flow</a><a id="change">:
        </a><a id="change">flow.block()</a>


def check_index_result(resp):
    for doc in resp.data.docs:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/edaccb36633b8c0975805f2c739d1c208a732368#diff-65875dec66851abea420703f90a17205ba13845961aa9059e9fff70a4f2b910cL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24793124</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: edaccb36633b8c0975805f2c739d1c208a732368</div><div id='time'> Time: 2021-06-15</div><div id='author'> Author: zhuoran2@andrew.cmu.edu</div><div id='file'> File Name: cross-modal-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: index_restful(0)</div><div id='n_method'> N Method Name: index_restful(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cross-modal-search/app.py</div><div id='n_file'> N File Name: cross-modal-search/app.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                             "img_mean": [0.485, 0.456, 0.406],
                             "img_std": [0.229, 0.224, 0.225]}})
    f.use_rest_gateway()
    <a id="change">with f</a><a id="change">:
        </a>f.block()


@click.command()</code></pre><h3>After Change</h3><pre><code class='java'>
                            "img_mean": [0.485, 0.456, 0.406],
                            "img_std": [0.229, 0.224, 0.225]}})
    flow.use_rest_gateway()
    <a id="change">with flow</a><a id="change">:
        </a><a id="change">flow.block()</a>


@click.command()
@click.option(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/f7e0191f8792cfd23956c6eaddcee9c834fcbd6f#diff-0e0f5dd215d03c5016169bbff872035c56e665669c76bf653f35286f3f9f5084L54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24793125</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: f7e0191f8792cfd23956c6eaddcee9c834fcbd6f</div><div id='time'> Time: 2021-05-28</div><div id='author'> Author: jakob.kruse@jina.ai</div><div id='file'> File Name: pokedex-with-bit/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: query_restful(0)</div><div id='n_method'> N Method Name: query_restful(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pokedex-with-bit/app.py</div><div id='n_file'> N File Name: pokedex-with-bit/app.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 76</div><BR>