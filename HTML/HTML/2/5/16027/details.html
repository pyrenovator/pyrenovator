<html><h3>Pattern ID :16027
</h3><img src='53835157.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                            captions = [objects[2 * i + 1]
                                for i in range(int(len(objects) / 2))]
                        else:
                            <a id="change">raise </a><a id="change">Exception(</a>"Line %s: unexpected number "
                                "of quotes in filename" % line<a id="change">)</a>
                    else:
                        captions = objects[0].split()
                else:
                    image = objects[0][:-1]</code></pre><h3>After Change</h3><pre><code class='java'>
                            log.warning("Line %s: unexpected number "
                                "of quotes" % line)
                        else:
                            captions.append(<a id="change">caption.replace(&quot\\&quot</a>, <a id="change">&quot&quot</a><a id="change">)</a>[1:-1])
                else:
                    image = objects[0][:-1]
                    captions = []</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/551fa11a820347080aaa92b43cac2fe61f1691a6#diff-8dabf26e19c18cd14fd53c6edd8a4b1d2dda9ebff6029ef2786e570df53ac0daL58' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53835157</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 551fa11a820347080aaa92b43cac2fe61f1691a6</div><div id='time'> Time: 2021-07-22</div><div id='author'> Author: kirill.sizov@intel.com</div><div id='file'> File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_class'> M Class Name: _IcdarExtractor</div><div id='n_method'> N Class Name: _IcdarExtractor</div><div id='m_method'> M Method Name: _load_recognition_items(1)</div><div id='n_method'> N Method Name: _load_recognition_items(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 59</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            sout, serr=p.communicate()
            if p.returncode != 0:
                <a id="change">raise </a><a id="change">Exception(</a>&quotPDFpng error&quot, serr<a id="change">)</a>

            png=[open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
            return png
</code></pre><h3>After Change</h3><pre><code class='java'>
                if len(self.math) &gt; 1:
                    png = [open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
                else:
                    png = open(<a id="change">pngfile.replace(&quot.png&quot</a>, <a id="change">&quot&quot</a><a id="change">)</a>+&quot.png&quot, &quotrb&quot).read()
                return png
            else:
                if len(self.math) &gt; 1:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/1ac35a887d70fd94c4324af8a3f3a6ef624e5878#diff-fa4089e8a1b4c36ad8263be050d34e31ea1d452268658ee5bc4298c393f1dc64L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53835156</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 1ac35a887d70fd94c4324af8a3f3a6ef624e5878</div><div id='time'> Time: 2021-01-20</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/latex2png.py</div><div id='m_class'> M Class Name: Latex</div><div id='n_method'> N Class Name: Latex</div><div id='m_method'> M Method Name: convert_file(4)</div><div id='n_method'> N Method Name: convert_file(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/latex2png.py</div><div id='n_file'> N File Name: dataset/latex2png.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 106</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        log.debug("Converting item &quot%s&quot", item.id)

        if &quot/&quot in item.id:
            <a id="change">raise </a><a id="change">Exception(</a>"Can&quott export item &quot%s&quot: "
                "LabelMe format only supports flat image layout" % item.id<a id="change">)</a>

        image_filename = self._make_image_filename(item)
        if self._save_images:
            if item.has_image and item.image.has_data:</code></pre><h3>After Change</h3><pre><code class='java'>
                    str(ann.attributes.pop(&quotusername&quot, &quot&quot))
            elif ann.type == AnnotationType.mask:
                mask_filename = &quot%s_mask_%s.png&quot % \
                    (<a id="change">item.id.replace(&quot/&quot</a>, <a id="change">&quot_&quot</a><a id="change">)</a>, obj_id)
                save_image(osp.join(subset_dir, LabelMePath.MASKS_DIR,
                        mask_filename),
                    self._paint_mask(ann.image))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/c2d6c7926d4c1637cb8f01557b45450b0204189f#diff-0911b298774a2c7666cd21315c252b95786155710fae0debd890e9b9ae7dee6bL310' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53835153</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: c2d6c7926d4c1637cb8f01557b45450b0204189f</div><div id='time'> Time: 2020-09-17</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/labelme_format.py</div><div id='m_class'> M Class Name: LabelMeConverter</div><div id='n_method'> N Class Name: LabelMeConverter</div><div id='m_method'> M Method Name: _save_item(4)</div><div id='n_method'> N Method Name: _save_item(3)</div><div id='m_parent_class'> M Parent Class: Converter</div><div id='n_parent_class'> N Parent Class: Converter</div><div id='m_file'> M File Name: datumaro/plugins/labelme_format.py</div><div id='n_file'> N File Name: datumaro/plugins/labelme_format.py</div><div id='m_start'> M Start Line: 315</div><div id='m_end'> M End Line: 427</div><div id='n_start'> N Start Line: 314</div><div id='n_end'> N End Line: 428</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if pretrained_weights == SupportedPretrainedWeights.IMAGENET:
            alexnet = models.alexnet(pretrained=True, progress=show_progress).eval()
        else:
            <a id="change">raise </a><a id="change">Exception(</a>f&quotPretrained weights {pretrained_weights} not yet supported for {self.__class__.__name__} model.&quot<a id="change">)</a>

        alexnet_pretrained_features = alexnet.features
        self.layer_names = [&quotrelu1&quot, &quotrelu2&quot, &quotrelu3&quot, &quotrelu4&quot, &quotrelu5&quot]
</code></pre><h3>After Change</h3><pre><code class='java'>

            new_state_dict = {}  &#47&#47 modify key names and make it compatible with current PyTorch model naming scheme
            for old_key in state_dict.keys():
                new_key = <a id="change">old_key.replace(&quot.module&quot</a>, <a id="change">&quot&quot</a><a id="change">)</a>
                new_state_dict[new_key] = state_dict[old_key]

            alexnet.classifier[-1] = torch.nn.Linear(alexnet.classifier[-1].in_features, 365)
            alexnet.load_state_dict(new_state_dict, strict=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gordicaleksa/pytorch-deepdream/commit/17fdee1cae94d2cbcd8425c9ce69a8e5306c7bc3#diff-10adb9dfe49db1ddf9a04331514e367dfba6e08d1ce43e4c16086d7f4dc7610aL11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53835152</div><div id='project'> Project Name: gordicaleksa/pytorch-deepdream</div><div id='commit'> Commit Name: 17fdee1cae94d2cbcd8425c9ce69a8e5306c7bc3</div><div id='time'> Time: 2020-07-14</div><div id='author'> Author: gordicaleksa@gmail.com</div><div id='file'> File Name: models/alexnet.py</div><div id='m_class'> M Class Name: AlexNet</div><div id='n_method'> N Class Name: AlexNet</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: models/alexnet.py</div><div id='n_file'> N File Name: models/alexnet.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 16</div><div id='n_start'> N Start Line: 19</div><div id='n_end'> N End Line: 29</div><BR>