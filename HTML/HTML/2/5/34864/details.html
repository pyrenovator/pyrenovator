<html><h3>Pattern ID :34864
</h3><img src='99913892.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            s_img[mask] = c_img[mask]

            out_path = os.path.join(dump_path_bkg_masked, &quotcombined_&quot + str(cnt).zfill(4) + format)
            out_path_inv = os.path.join(dump_path_person_masked, <a id="change">&quotcombined_&quot</a><a id="change"> + </a><a id="change">str(cnt).zfill(4</a><a id="change">)</a> + format)
            &#47&#47 print(out_path)
            img = Image.fromarray(s_img)
            img.save(out_path)</code></pre><h3>After Change</h3><pre><code class='java'>

            &#47&#47 save combined imagery
            combined_img_background_path = os.path.join(dump_path_bkg_masked, str(cnt).zfill(FILE_NAME_NUM_DIGITS) + dump_frame_extension)
            combined_img_person_path = os.path.join(dump_path_person_masked, <a id="change">str(cnt).zfill(</a>FILE_NAME_NUM_DIGITS<a id="change">)</a> + dump_frame_extension)
            cv.imwrite(combined_img_background_path, combined_img_background)
            cv.imwrite(combined_img_person_path, combined_img_person)
    else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/gordicaleksa/pytorch-naive-video-neural-style-transfer/commit/eb258a320653c1198a40fb422c98f1f37212c8cc#diff-18d7056e8caf3b212693d1befdc8190da58ab6dad574ab5496d98ca47f8927f4L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99913892</div><div id='project'> Project Name: gordicaleksa/pytorch-naive-video-neural-style-transfer</div><div id='commit'> Commit Name: eb258a320653c1198a40fb422c98f1f37212c8cc</div><div id='time'> Time: 2020-08-03</div><div id='author'> Author: gordicaleksa@gmail.com</div><div id='file'> File Name: segmentation.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: stylized_frames_mask_combiner(3)</div><div id='n_method'> N Method Name: stylized_frames_mask_combiner(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: segmentation.py</div><div id='n_file'> N File Name: segmentation.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 109</div><div id='n_end'> N End Line: 156</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    out = np.uint8(out)
    if should_save:
        out = Image.fromarray(out)
        out.save(os.path.join(dump_path, <a id="change">str(img_id).zfill(4</a><a id="change">) + &quot.png&quot</a>))
    if should_display:
        plt.imshow(out)
        plt.show()</code></pre><h3>After Change</h3><pre><code class='java'>
    out_img = np.uint8(out_img * 255)
    if should_save:
        out_img = Image.fromarray(out_img)
        out_img.save(os.path.join(dump_path, <a id="change">str(img_id).zfill(</a>img_format[0]<a id="change">)</a> + img_format[1]))
    if should_display:
        plt.imshow(out_img)
        plt.show()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gordicaleksa/pytorch-neural-style-transfer/commit/81c579884b5780feca8c73755015fd89fcaf5078#diff-9653b8c2ce917a6134298b00c8b3f7d4b7c4dc473a752303f37a870392742127L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99913893</div><div id='project'> Project Name: gordicaleksa/pytorch-neural-style-transfer</div><div id='commit'> Commit Name: 81c579884b5780feca8c73755015fd89fcaf5078</div><div id='time'> Time: 2020-03-27</div><div id='author'> Author: gordicaleksa@gmail.com</div><div id='file'> File Name: utils/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: save_display(6)</div><div id='n_method'> N Method Name: save_display(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/utils.py</div><div id='n_file'> N File Name: utils/utils.py</div><div id='m_start'> M Start Line: 60</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 52</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                &#47&#47 print(np.histogram(processed_mask, bins=np.arange(256)))

                mask_path = os.path.join(masks_dump_path, str(batch_id*batch_size+j).zfill(4) + &quot_mask&quot + format)
                pmask_path = os.path.join(processed_masks_dump_path, <a id="change">str(batch_id*batch_size+j).zfill(4</a><a id="change">) + &quot_p_mask&quot</a> + format)

                mask.save(mask_path)
                processed_mask.save(pmask_path)</code></pre><h3>After Change</h3><pre><code class='java'>

                processed_mask = post_process_mask(mask)  &#47&#47 simple heuristics (connected components, etc.)

                filename = <a id="change">str(batch_id*batch_size+j).zfill(</a>FILE_NAME_NUM_DIGITS<a id="change">)</a> + mask_extension
                &#47&#47 ::-1 because opencv expects BGR (and not RGB) format...
                cv.imwrite(os.path.join(masks_dump_path, filename), mask)
                cv.imwrite(os.path.join(processed_masks_dump_path, filename), processed_mask)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gordicaleksa/pytorch-naive-video-neural-style-transfer/commit/800d1f102a6821c05550ab79f012562d150d96d1#diff-18d7056e8caf3b212693d1befdc8190da58ab6dad574ab5496d98ca47f8927f4L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99913891</div><div id='project'> Project Name: gordicaleksa/pytorch-naive-video-neural-style-transfer</div><div id='commit'> Commit Name: 800d1f102a6821c05550ab79f012562d150d96d1</div><div id='time'> Time: 2020-08-02</div><div id='author'> Author: gordicaleksa@gmail.com</div><div id='file'> File Name: segmentation.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: extract_masks_from_frames(6)</div><div id='n_method'> N Method Name: extract_masks_from_frames(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: segmentation.py</div><div id='n_file'> N File Name: segmentation.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 86</div><BR>