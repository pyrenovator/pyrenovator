<html><h3>Pattern ID :25816
</h3><img src='78146536.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    file_name = (os.path.basename(video).split(&quot.mp4&quot))[0]
    try:
        if not os.path.exists(save_dir + file_name):
            <a id="change">os.makedirs(</a>save_dir + file_name<a id="change">)</a>
    except OSError:
        print(&quotError: Creating directory of data&quot)

    &#47&#47 Setting the frame limit to 100</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 if not os.path.exists(save_dir + file_name):
        &#47&#47     os.makedirs(save_dir + file_name)

        save_path<a id="change"> = </a><a id="change">Path(</a>save_dir<a id="change">)</a>.joinpath(file_name)
        if <a id="change">not save_path.exists()</a>:
            save_path.mkdir()
    except OSError:
        print(&quotError: Creating directory of data&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/liaorongfan/deeppersonality/commit/fc0e0a8ca8ebd7ce3ad206c1265dc8e586819def#diff-18b089b4bdf8ffa9f3b77901324ca9a0d333fad0082874610e7140a0d1cf04f3L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78146536</div><div id='project'> Project Name: liaorongfan/deeppersonality</div><div id='commit'> Commit Name: fc0e0a8ca8ebd7ce3ad206c1265dc8e586819def</div><div id='time'> Time: 2022-03-06</div><div id='author'> Author: 15670381505@163.com</div><div id='file'> File Name: dpcv/data/utils/video_to_image.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: frame_sample(2)</div><div id='n_method'> N Method Name: frame_sample(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dpcv/data/utils/video_to_image.py</div><div id='n_file'> N File Name: dpcv/data/utils/video_to_image.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    def __init__(self, save_path=None, ckpt_name=None, epochs=None, keep_checkpoint_max=5):
        if save_path is not None:
            <a id="change">os.makedirs(</a>save_path<a id="change">, exist_ok=True)</a>
        else:
            os.makedirs(os.path.expanduser(&quot~&quot), exist_ok=True)
        self.save_path = save_path
        self.epochs = epochs</code></pre><h3>After Change</h3><pre><code class='java'>
    
    def __init__(self, save_path, ckpt_name=None, epochs=None, keep_checkpoint_max=5):
        if isinstance(save_path, str):
            self.save_path<a id="change"> = </a><a id="change">Path(</a>save_path<a id="change">)</a>
        elif isinstance(save_path, Path):
            self.save_path = save_path
        else:
            raise ValueError(f"the &quotsave_path&quot argument must be str or Path, but got {type(save_path)}.")

        if <a id="change">not self.save_path.exists()</a>:
            os.makedirs(str(self.save_path))

        self.epochs = epochs</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindlab-ai/mindnlp/commit/07e706388b02e3722cffb648db6ac1f6f204803b#diff-b7577c9b10cdc9d3f8a45bd10d70023c3057d1b97d61e206033aafb4b9f9af5aL39' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78146537</div><div id='project'> Project Name: mindlab-ai/mindnlp</div><div id='commit'> Commit Name: 07e706388b02e3722cffb648db6ac1f6f204803b</div><div id='time'> Time: 2023-04-21</div><div id='author'> Author: lvyufeng@cqu.edu.cn</div><div id='file'> File Name: mindnlp/engine/callbacks/checkpoint_callback.py</div><div id='m_class'> M Class Name: CheckpointCallback</div><div id='n_method'> N Class Name: CheckpointCallback</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: mindnlp/engine/callbacks/checkpoint_callback.py</div><div id='n_file'> N File Name: mindnlp/engine/callbacks/checkpoint_callback.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __init__(self, save_path=None, ckpt_name=None, larger_better=True,
                 auto_load=False, save_on_exception=False):
        if save_path is not None:
            <a id="change">os.makedirs(</a>save_path<a id="change">, exist_ok=True)</a>
        else:
            os.makedirs(os.path.expanduser(&quot~&quot), exist_ok=True)

        self.save_path = save_path</code></pre><h3>After Change</h3><pre><code class='java'>
    def __init__(self, save_path, ckpt_name=None, larger_better=True,
                 auto_load=False, save_on_exception=False):
        if isinstance(save_path, str):
            self.save_path<a id="change"> = </a><a id="change">Path(</a>save_path<a id="change">)</a>
        elif isinstance(save_path, Path):
            self.save_path = save_path
        else:
            raise ValueError(f"the &quotsave_path&quot argument must be str or Path, but got {type(save_path)}.")

        if <a id="change">not self.save_path.exists()</a>:
            os.makedirs(str(self.save_path))

        self.larger_better = larger_better</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindlab-ai/mindnlp/commit/07e706388b02e3722cffb648db6ac1f6f204803b#diff-73b41f9961ab195e6773518105697d21dfea0a444ca2dc1732c0ef6ff3df2d5dL36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78146539</div><div id='project'> Project Name: mindlab-ai/mindnlp</div><div id='commit'> Commit Name: 07e706388b02e3722cffb648db6ac1f6f204803b</div><div id='time'> Time: 2023-04-21</div><div id='author'> Author: lvyufeng@cqu.edu.cn</div><div id='file'> File Name: mindnlp/engine/callbacks/best_model_callback.py</div><div id='m_class'> M Class Name: BestModelCallback</div><div id='n_method'> N Class Name: BestModelCallback</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: mindnlp/engine/callbacks/best_model_callback.py</div><div id='n_file'> N File Name: mindnlp/engine/callbacks/best_model_callback.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 47</div><BR>