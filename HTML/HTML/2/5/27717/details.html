<html><h3>Pattern ID :27717
</h3><img src='82199110.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    logging.info(
        f"Loaded data for &quot{gym_env_name_chans_last}&quot, setting up env")
    env_chans_last = <a id="change">gym.make(</a>gym_env_name_chans_last<a id="change">)</a>
    env_chans_first = ChannelsFirst(env_chans_last)

    logging.info(f"Setting up &quot{algo}&quot IL algorithm")
</code></pre><h3>After Change</h3><pre><code class='java'>
    log_dir = il_train_ex.observers[0].dir
    imitation_logger.configure(log_dir, ["stdout", "tensorboard"])

    <a id="change">if </a>benchmark[&quotbenchmark_name&quot] == &quotmagical&quot:
        gym_env_name_chans_last, dataset_dict = load_dataset_magical()
        venv_chans_last = make_vec_env(gym_env_name_chans_last,
                                       n_envs=1,
                                       parallel=False)
        venv_chans_first = VecTransposeImage(venv_chans_last)
    elif benchmark[&quotbenchmark_name&quot] == &quotdm_control&quot:
        gym_env_name_chans_last, dataset_dict = load_dataset_dm_control()
        venv_chans_last<a id="change"> = </a>make_vec_env(gym_env_name_chans_last,
                                       n_envs=1,
                                       parallel=False)
        venv_chans_first = VecTransposeImage(venv_chans_last)
    elif <a id="change">benchmark[&quotbenchmark_name&quot] == &quotatari&quot</a>:
        dataset_dict = load_dataset_atari()
        gym_env_name_chans_last = benchmark[&quotatari_env_id&quot]
        venv_chans_last = VecFrameStack(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/34d5fd739f4f736f0c77644f2eb853ee1b777453#diff-b8a30b79d4b477ae4ff3f89cb23e1e0d8475a5ef44d82945f1ab0d152531016cL110' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82199110</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 34d5fd739f4f736f0c77644f2eb853ee1b777453</div><div id='time'> Time: 2020-08-05</div><div id='author'> Author: sam@qxcv.net</div><div id='file'> File Name: src/il_representations/scripts/il_train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(4)</div><div id='n_method'> N Method Name: train(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/il_train.py</div><div id='n_file'> N File Name: src/il_representations/scripts/il_train.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 125</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 133</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    logging.info(
        f"Loaded data for &quot{gym_env_name_chans_last}&quot, setting up env")
    env_chans_last = <a id="change">gym.make(</a>gym_env_name_chans_last<a id="change">)</a>
    env_chans_first = ChannelsFirst(env_chans_last)

    logging.info(f"Setting up &quot{algo}&quot IL algorithm")
</code></pre><h3>After Change</h3><pre><code class='java'>
    log_dir = il_train_ex.observers[0].dir
    imitation_logger.configure(log_dir, ["stdout", "tensorboard"])

    <a id="change">if </a>benchmark[&quotbenchmark_name&quot] == &quotmagical&quot:
        gym_env_name_chans_last, dataset_dict = load_dataset_magical()
        venv_chans_last = make_vec_env(gym_env_name_chans_last,
                                       n_envs=1,
                                       parallel=False)
        venv_chans_first<a id="change"> = </a>VecTransposeImage(venv_chans_last)
    elif benchmark[&quotbenchmark_name&quot] == &quotdm_control&quot:
        gym_env_name_chans_last, dataset_dict = load_dataset_dm_control()
        venv_chans_last = make_vec_env(gym_env_name_chans_last,
                                       n_envs=1,
                                       parallel=False)
        venv_chans_first = VecTransposeImage(venv_chans_last)
    elif <a id="change">benchmark[&quotbenchmark_name&quot] == &quotatari&quot</a>:
        dataset_dict = load_dataset_atari()
        gym_env_name_chans_last = benchmark[&quotatari_env_id&quot]
        venv_chans_last = VecFrameStack(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/99b47e8bdfa36f1e53e533ee8241353b2800594b#diff-b8a30b79d4b477ae4ff3f89cb23e1e0d8475a5ef44d82945f1ab0d152531016cL104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82199109</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 99b47e8bdfa36f1e53e533ee8241353b2800594b</div><div id='time'> Time: 2020-08-05</div><div id='author'> Author: sam@qxcv.net</div><div id='file'> File Name: src/il_representations/scripts/il_train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(4)</div><div id='n_method'> N Method Name: train(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/il_train.py</div><div id='n_file'> N File Name: src/il_representations/scripts/il_train.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 125</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 133</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if env is not None:
            if env is not None:
                if isinstance(env, str):
                    env = <a id="change">gym.make(</a>env<a id="change">)</a>
            self.env = env
            self.n_envs = 1
            self.observation_space = env.observation_space
            self.action_space = env.action_space</code></pre><h3>After Change</h3><pre><code class='java'>

            self.observation_space = env.observation_space
            self.action_space = env.action_space
            <a id="change">if </a>not isinstance(env, VecEnv):
                <a id="change">if self.verbose &gt;= 1</a>:
                    print("Wrapping the env in a DummyVecEnv.")
                env<a id="change"> = </a>DummyVecEnv([lambda: env])
            self.n_envs = env.num_envs
            self.env = env
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dlr-rm/stable-baselines3/commit/255ff10bfffdccaf7193772d46e0c2df6cf36a9b#diff-809f42ee33a70ea5bb5bec8c668f97ad0b62b632c5f10368759a86ac15aeb126L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82199112</div><div id='project'> Project Name: dlr-rm/stable-baselines3</div><div id='commit'> Commit Name: 255ff10bfffdccaf7193772d46e0c2df6cf36a9b</div><div id='time'> Time: 2019-09-20</div><div id='author'> Author: antonin.raffin@dlr.de</div><div id='file'> File Name: torchy_baselines/common/base_class.py</div><div id='m_class'> M Class Name: BaseRLModel</div><div id='n_method'> N Class Name: BaseRLModel</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: torchy_baselines/common/base_class.py</div><div id='n_file'> N File Name: torchy_baselines/common/base_class.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 80</div><BR>