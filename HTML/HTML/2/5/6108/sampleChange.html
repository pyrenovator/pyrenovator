<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    

    <a id="change">if output.shape[-1] == target.shape[-1]</a>:
        pass
    else:
        depth<a id="change"> = </a>output.shape[-1]
        target = pd.fluid.layers.one_hot(target, depth=depth)
    out = pd.fluid.layers.sigmoid_cross_entropy_with_logits(x=output, label=target)
    out = pd.fluid.layers.reduce_mean(out)</code></pre><h3>After Change</h3><pre><code class='java'>

    

    return F.binary_cross_entropy(<a id="change">F.sigmoid(</a>output<a id="change">)</a>, target, reduction=reduction)


def binary_cross_entropy(output, target, reduction=&quotmean&quot):</code></pre>