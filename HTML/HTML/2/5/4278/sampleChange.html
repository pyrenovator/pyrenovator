<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            extension = data_args.test_file.split(".")[-1]

        &#47&#47 unwrap data from json
        load_kwargs = {"field": "data"}<a id="change"> if extension == "json"</a><a id="change"> else </a>{}
        datasets = load_dataset(
            extension,
            data_files=data_files,</code></pre><h3>After Change</h3><pre><code class='java'>
                range(data_args.max_predict_samples)
            )
        &#47&#47 Predict Feature Creation
        <a id="change">with training_args</a><a id="change">.main_process_first(
            desc="prediction dataset map pre-processing"
        ):
            </a>predict_dataset = predict_examples.map(
                prepare_validation_features,
                batched=True,
                num_proc=data_args.preprocessing_num_workers,</code></pre>