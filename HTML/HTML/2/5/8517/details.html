<html><h3>Pattern ID :8517
</h3><img src='29481481.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    private_key_path = os.path.expanduser(private_key_path)
    public_key_path = get_public_key_path(private_key_path)
    key_name<a id="change"> = </a><a id="change">private_key_path.split(&quot/&quot</a><a id="change">)</a>[-1]

    &#47&#47 Generating ssh key if it does not exist
    if private_key_path is None or not os.path.exists(private_key_path):</code></pre><h3>After Change</h3><pre><code class='java'>
    ec2 = boto3.client(&quotec2&quot, config[&quotprovider&quot][&quotregion&quot])
    key_pairs = ec2.describe_key_pairs()[&quotKeyPairs&quot]
    key_name = None
    all_key_names<a id="change"> = </a><a id="change">set()</a>

    def _get_fingerprint(public_key_path):
        key = RSA.importKey(open(public_key_path).read())
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/cae97d0a2a94d72e071cb99dd8522b0e2cac212e#diff-6c646aab4206c65de41fe9ac6ca33768c27903613be22502c814bbf0e26d3cdeL68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29481481</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: cae97d0a2a94d72e071cb99dd8522b0e2cac212e</div><div id='time'> Time: 2021-12-20</div><div id='author'> Author: michael.luo123456789@gmail.com</div><div id='file'> File Name: prototype/sky/authentication.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: setup_aws_authentication(1)</div><div id='n_method'> N Method Name: setup_aws_authentication(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: prototype/sky/authentication.py</div><div id='n_file'> N File Name: prototype/sky/authentication.py</div><div id='m_start'> M Start Line: 68</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 122</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    args, kwargs = fake_create_mining_cache.call_args

    &#47&#47 Construct the restricted model library data frame
    selected_models<a id="change"> = </a><a id="change">restrict_to_models.split(","</a><a id="change">)</a>
    df_model_library_selected = df_model_library[
        df_model_library["model_id"].isin(selected_models).tolist()
    ]
</code></pre><h3>After Change</h3><pre><code class='java'>
    args, kwargs = fake_create_mining_cache.call_args

    &#47&#47 Construct the restricted etypes
    available_models<a id="change"> = </a>set(restrict_to_etypes.split(",")) & <a id="change">set(</a>entity_types<a id="change">)</a>

    &#47&#47 Check the args/kwargs
    assert kwargs["database_engine"] == fake_sqlalchemy.create_engine()
    assert isinstance(kwargs["ee_models_paths"], dict)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bluebrain/search/commit/05fe137611fffaab1cdfb9f3c04b32bb8964666d#diff-eb6867eaad1ec93599103bb9af4fee07a7f212f5c5417c4b51e670fa54658efdL78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29481483</div><div id='project'> Project Name: bluebrain/search</div><div id='commit'> Commit Name: 05fe137611fffaab1cdfb9f3c04b32bb8964666d</div><div id='time'> Time: 2021-06-22</div><div id='author'> Author: 47669575+EmilieDel@users.noreply.github.com</div><div id='file'> File Name: tests/test_entrypoint/test_create_mining_cache.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_send_through(9)</div><div id='n_method'> N Method Name: test_send_through(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_entrypoint/test_create_mining_cache.py</div><div id='n_file'> N File Name: tests/test_entrypoint/test_create_mining_cache.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 85</div><div id='n_end'> N End Line: 135</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    if bio_label == ENTITY_OUTSIDE_SYMBOL:
                        yield bio_label, None, confidence_val
                    else:
                        bio_label<a id="change">, class_label = </a><a id="change">bio_label.split("-"</a><a id="change">)</a>
                        yield bio_label, class_label, confidence_val
                else:
                    break
            else:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.id2label = id2label

    def get_labels(self, word: TokenizedWord) -&gt; Set[Tuple[str, Optional[str]]]:
        bio_and_class_labels<a id="change">: Set[Tuple[str, Optional[str]]] = </a><a id="change">set()</a>
        token_confidences_sorted = torch.argsort(word.token_confidences, dim=1, descending=True)

        for i, token_confidence_indices in enumerate(token_confidences_sorted):
            for confidence_index in token_confidence_indices:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/422eb2bceb9b3988a63113d66d19b1298220cec1#diff-1ed01e16084b465052b00a2921f81152aeb1492e7e29cf6f1f8b12775c2e45cfL278' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29481484</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 422eb2bceb9b3988a63113d66d19b1298220cec1</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/steps/ner/tokenized_word_processor.py</div><div id='m_class'> M Class Name: SmartSpanFinder</div><div id='n_method'> N Class Name: SmartSpanFinder</div><div id='m_method'> M Method Name: get_labels(2)</div><div id='n_method'> N Method Name: get_labels(3)</div><div id='m_parent_class'> M Parent Class: SpanFinder</div><div id='n_parent_class'> N Parent Class: SpanFinder</div><div id='m_file'> M File Name: kazu/steps/ner/tokenized_word_processor.py</div><div id='n_file'> N File Name: kazu/steps/ner/tokenized_word_processor.py</div><div id='m_start'> M Start Line: 279</div><div id='m_end'> M End Line: 312</div><div id='n_start'> N Start Line: 246</div><div id='n_end'> N End Line: 272</div><BR>