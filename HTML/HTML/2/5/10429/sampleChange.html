<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    env.ri.attachments = attachments

    if j is not None:
        <a id="change">env.ri.setj(</a>j<a id="change">)</a>
        c = mercury.geometry.Coordinate(*env.ri.get_pose("tipLink"))
        c.translate([0, 0, 0.2], wrt="world")
        j = env.ri.solve_ik(c.pose, n_init=1)
        obstacles = env.bg_objects + env.object_ids</code></pre><h3>After Change</h3><pre><code class='java'>
        before_return()
        return result

    <a id="change">env.ri.setj(result["j_grasp"]</a><a id="change">)</a>
    ee_af_to_world = env.ri.get_pose("tipLink")

    obj_to_world = pp.get_pose(env.fg_object_id)
    obj_to_ee = pp.multiply(pp.invert(ee_af_to_world), obj_to_world)</code></pre>