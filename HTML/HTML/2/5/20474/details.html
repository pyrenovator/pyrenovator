<html><h3>Pattern ID :20474
</h3><img src='66220688.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
			os.makedirs(os.path.dirname(filename), exist_ok=True)
			assert file_extension in ["mp4", "gif"], "The extension of the file must be mp4 or gif."
			if filename.endswith(file_extension):
				filename = filename[<a id="change">:-len(file_extension)</a>]
			anim.save(f"{filename}.{file_extension}", writer="imagemagick", fps=kwargs.get("fps", 30))
		if show:
			plt.show()</code></pre><h3>After Change</h3><pre><code class='java'>
			os.makedirs(os.path.dirname(filename), exist_ok=True)
			if file_extension is None:
				if &quot.&quot in filename:
					file_extension<a id="change"> = </a><a id="change">filename.split(&quot.&quot</a><a id="change">)</a>[-1]
				else:
					file_extension = &quotgif&quot
			assert file_extension in ["mp4", "gif"], "The extension of the file must be mp4 or gif."</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/neurotorch/neurotorch/commit/289204a4205b9c4b3281ca31981588948bb72b1e#diff-3f2a254439d2b0bc3c0caf60bf26196fed4258328e911e8a7b0b7ad0952e1de5L93' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66220688</div><div id='project'> Project Name: neurotorch/neurotorch</div><div id='commit'> Commit Name: 289204a4205b9c4b3281ca31981588948bb72b1e</div><div id='time'> Time: 2022-08-24</div><div id='author'> Author: 50332514+JeremieGince@users.noreply.github.com</div><div id='file'> File Name: src/neurotorch/visualisation/time_series_visualisation.py</div><div id='m_class'> M Class Name: Visualise</div><div id='n_method'> N Class Name: Visualise</div><div id='m_method'> M Method Name: animate(10)</div><div id='n_method'> N Method Name: animate(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/neurotorch/visualisation/time_series_visualisation.py</div><div id='n_file'> N File Name: src/neurotorch/visualisation/time_series_visualisation.py</div><div id='m_start'> M Start Line: 93</div><div id='m_end'> M End Line: 152</div><div id='n_start'> N Start Line: 94</div><div id='n_end'> N End Line: 158</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 check this span for a crucial token
        for j in range(0, num_tokens_to_mask):
            curr_token = input_tokens[mask_start_index + j]
            if is_entity(curr_token) or curr_token in all_device_tokens or has_match(input_tokens[<a id="change">j + mask_start_index:</a>], all_entities):
                contains_crucial_token = True
                break
        if not contains_crucial_token:</code></pre><h3>After Change</h3><pre><code class='java'>
        all_entities = quoted_pattern_maybe_space.findall(thingtalk)
        
        for entity in all_entities:
            entity_tokens<a id="change"> = </a><a id="change">entity.split(&quot &quot</a><a id="change">)</a>
            beg = find_index(input_tokens, entity_tokens)
            if beg != -1:
                all_entity_spans.append((beg, beg+len(entity_tokens)))
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/d115a89777ce01ede1c3631bd8f65949bcc789bb#diff-282dc979bfecd6e0539625f0962d48d9f6dbcb603e2032dd23b35988bcd65662L157' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66220686</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: d115a89777ce01ede1c3631bd8f65949bcc789bb</div><div id='time'> Time: 2020-12-30</div><div id='author'> Author: mehrad@stanford.edu</div><div id='file'> File Name: genienlp/paraphrase/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: text_infilling(4)</div><div id='n_method'> N Method Name: text_infilling(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: genienlp/paraphrase/data_utils.py</div><div id='n_file'> N File Name: genienlp/paraphrase/data_utils.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 181</div><div id='n_start'> N Start Line: 175</div><div id='n_end'> N End Line: 205</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 remove "dl=1" query param: https://foo.bar/train.json.gz?dl=1 -&gt; https://foo.bar/train.json.gz
    suf = "?dl=1"
    if path.endswith(suf):
        path = path[<a id="change">: -len(suf)</a>]

    &#47&#47 Get extension: https://foo.bar/train.json.gz -&gt; gz
    extension = path.split(".")[-1]</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Get extension: https://foo.bar/train.json.gz -&gt; gz
    extension = path.split(".")[-1]
    &#47&#47 Remove query params ("dl=1", "raw=true"): gz?dl=1 -&gt; gz
    extension<a id="change"> = </a><a id="change">extension.split("?"</a><a id="change">)</a>[0]
    if extension in BASE_KNOWN_EXTENSIONS:
        return None
    elif path.endswith(".tar.gz") or path.endswith(".tgz"):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/492fb1640cc311ac1eda4be4ed3ea08341a1decb#diff-4c0de8006f7290eb614aea915a81e7f9dd9d42eda88ff80f2d13cdfe976a60ebL140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66220685</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 492fb1640cc311ac1eda4be4ed3ea08341a1decb</div><div id='time'> Time: 2021-10-04</div><div id='author'> Author: 8515462+albertvillanova@users.noreply.github.com</div><div id='file'> File Name: src/datasets/utils/streaming_download_manager.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _get_extraction_protocol(1)</div><div id='n_method'> N Method Name: _get_extraction_protocol(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/datasets/utils/streaming_download_manager.py</div><div id='n_file'> N File Name: src/datasets/utils/streaming_download_manager.py</div><div id='m_start'> M Start Line: 142</div><div id='m_end'> M End Line: 156</div><div id='n_start'> N Start Line: 144</div><div id='n_end'> N End Line: 153</div><BR>