<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                y[..., 2:4] = (y[..., 2:4] * 2) ** 2 * self.anchor_grid[i]  &#47&#47 wh
                z.append(y.view(bs, -1, self.no))

        <a id="change">if </a>torch.jit.is_scripting():
            <a id="change">warnings.warn("YOLO always returns a (outputs, features) tuple in scripting"</a><a id="change">)</a>
            return (torch.cat(z, 1), x)
        else:
            return self.eager_outputs(torch.cat(z, 1), x)
</code></pre><h3>After Change</h3><pre><code class='java'>
            x[i] = x[i].view(bs, self.na, self.no, ny, nx).permute(0, 1, 3, 4, 2).contiguous()

            if not self.training:  &#47&#47 inference
                <a id="change">if </a>not <a id="change">isinstance(</a>self.stride, Tensor<a id="change">)</a>:
                    self.stride = torch.tensor(self.stride, device=device)

                if self.grid[i].shape[2:4] != x[i].shape[2:4]:</code></pre>