<html><h3>Pattern ID :17496
</h3><img src='57952448.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            sout, serr=p.communicate()
            if p.returncode != 0:
                <a id="change">raise </a>Exception(&quotPDFpng error&quot, serr)

            png=[open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
            return png</code></pre><h3>After Change</h3><pre><code class='java'>
            if p.returncode != 0:
                raise Exception(&quotPDFpng error&quot, serr, cmd, os.path.exists(pdffile), os.path.exists(infile))
            if return_bytes:
                <a id="change">if len(self.math) &gt; 1</a>:
                    png = [open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
                else:
                    png = <a id="change">open(</a>pngfile.replace(&quot.png&quot, &quot&quot)+&quot.png&quot, <a id="change">&quotrb&quot</a><a id="change">)</a>.read()
                return png
            else:
                if len(self.math) &gt; 1:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/1ac35a887d70fd94c4324af8a3f3a6ef624e5878#diff-fa4089e8a1b4c36ad8263be050d34e31ea1d452268658ee5bc4298c393f1dc64L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57952448</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 1ac35a887d70fd94c4324af8a3f3a6ef624e5878</div><div id='time'> Time: 2021-01-20</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/latex2png.py</div><div id='m_class'> M Class Name: Latex</div><div id='n_method'> N Class Name: Latex</div><div id='m_method'> M Method Name: convert_file(4)</div><div id='n_method'> N Method Name: convert_file(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/latex2png.py</div><div id='n_file'> N File Name: dataset/latex2png.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 106</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return len(self._tokenizer)

    def load(self, save_dir):
        <a id="change">raise </a>NotImplementedError()

    def pad(self, batch):
        </code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 HACK we cannot save the tokenizer without this
        del self._tokenizer.init_kwargs[&quotconfig&quot]

        <a id="change">if self.max_generative_vocab is not None</a>:
            with <a id="change">open(</a>os.path.join(save_dir, &quotdecoder-vocab.txt&quot), <a id="change">&quotr&quot</a><a id="change">)</a> as fp:
                self._decoder_words = [line.rstrip(&quot\n&quot) for line in fp]

        self._init()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/6dd8f5b221db4adc2f120bf8b5f07f6de8a3f838#diff-9af5dd141b0e34d2f5c949979780fee4bbcf029a9df5dbd3705907a7dc380d84L62' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57952449</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: 6dd8f5b221db4adc2f120bf8b5f07f6de8a3f838</div><div id='time'> Time: 2020-12-05</div><div id='author'> Author: gcampagn@cs.stanford.edu</div><div id='file'> File Name: genienlp/data_utils/numericalizer/transformer.py</div><div id='m_class'> M Class Name: TransformerNumericalizer</div><div id='n_method'> N Class Name: TransformerNumericalizer</div><div id='m_method'> M Method Name: load(2)</div><div id='n_method'> N Method Name: load(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: genienlp/data_utils/numericalizer/transformer.py</div><div id='n_file'> N File Name: genienlp/data_utils/numericalizer/transformer.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47     sess = ort.InferenceSession(bitstream)
    &#47&#47     del bitstream
    else:
        <a id="change">raise </a>TypeError

    inputs = {
        x.name: np.random.randn(*get_shape(x)).astype(get_type(x))</code></pre><h3>After Change</h3><pre><code class='java'>

    if quantize:
        orig_model = onnx.load(path_to_model)
        <a id="change">if orig_model.opset_import[0].version &lt; 11</a>:
            converted_model = version_converter.convert_version(orig_model, 11)
            path_to_model = &quot/tmp/model_conv.onnx&quot
            with <a id="change">open(</a>path_to_model, <a id="change">&quotwb&quot</a><a id="change">)</a> as f:
                f.write(converted_model.SerializeToString())
            del orig_model, converted_model
        path_to_quant_model = "/tmp/model_quant.onnx"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/toriml/dnn-bench/commit/35587624166643b01624273d8ce970357470b6f0#diff-dda11a5dbab87648cbb4b7ef3d682808610856dbcd4675870bff9c385dcac252L10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 57952445</div><div id='project'> Project Name: toriml/dnn-bench</div><div id='commit'> Commit Name: 35587624166643b01624273d8ce970357470b6f0</div><div id='time'> Time: 2021-02-09</div><div id='author'> Author: talmaj@gmail.com</div><div id='file'> File Name: bench/bench_onnxruntime.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: benchmark_onnxruntime(5)</div><div id='n_method'> N Method Name: benchmark_onnxruntime(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: bench/bench_onnxruntime.py</div><div id='n_file'> N File Name: bench/bench_onnxruntime.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 52</div><BR>