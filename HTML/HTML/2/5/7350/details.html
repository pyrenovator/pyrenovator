<html><h3>Pattern ID :7350
</h3><img src='24476645.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        elif in_source == to_source:
            pass
        else:
            <a id="change">raise </a><a id="change">Exception(
                f&quotConversion form {in_source} to {to_source} is not Supported.&quot
                f&quot Supported types: {Box.__get_enum_names(Point.PointSource)}&quot</a><a id="change">)</a>
        return point


class Box:</code></pre><h3>After Change</h3><pre><code class='java'>

    @staticmethod
    def point2point(point, in_source, to_source):
        if point is None or <a id="change">len(</a>point<a id="change">)</a> == 0:
            pass
        elif type(point[0]) in [tuple, list, np.ndarray]:
            point<a id="change"> = </a>[Point.point2point(p, in_source=in_source, to_source=to_source) for p in point]
        else:
            point = Point.point2point(point, in_source=in_source, to_source=to_source)
        return point</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pooya-mohammadi/deep_utils/commit/2ef8e70d9e4b3bc53df5294415180ce10a4ed033#diff-3ceb9fa0303b3f44b715ed4c9b696a70081baf0d12eb4c7fc08d14514519f85aL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24476645</div><div id='project'> Project Name: pooya-mohammadi/deep_utils</div><div id='commit'> Commit Name: 2ef8e70d9e4b3bc53df5294415180ce10a4ed033</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: practical.ai.programming@gmail.com</div><div id='file'> File Name: deep_utils/utils/box_utils/boxes.py</div><div id='m_class'> M Class Name: Point</div><div id='n_method'> N Class Name: Point</div><div id='m_method'> M Method Name: point2point(3)</div><div id='n_method'> N Method Name: point2point(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deep_utils/utils/box_utils/boxes.py</div><div id='n_file'> N File Name: deep_utils/utils/box_utils/boxes.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 17</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        elif args.federated_optimizer == "FedOpt":
            agg_func = FedMLAggOperator.FedOpt
        else:
            <a id="change">raise </a><a id="change">Exception("will support many optimizers in a unified framework soon"</a><a id="change">)</a>
        return agg_func(args, raw_grad_list)


</code></pre><h3>After Change</h3><pre><code class='java'>
    @staticmethod
    def agg(args, raw_grad_list: List[Tuple[float, Dict]]) -&gt; Dict:
        training_num = 0
        for i in range(<a id="change">len(</a>raw_grad_list<a id="change">)</a>):
            local_sample_num, local_model_params = raw_grad_list[i]
            training_num<a id="change"> += </a>local_sample_num

        avg_params = model_aggregator(args, raw_grad_list, training_num)
        return avg_params</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/35e4d35626ceaae99f8c567eb3d4327ace5b3172#diff-c6b04f9477ba103ae7a115c85f66fb493bb53edb376668c8d161e00eacc75bfcL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24476644</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 35e4d35626ceaae99f8c567eb3d4327ace5b3172</div><div id='time'> Time: 2022-08-27</div><div id='author'> Author: chaoyanghe.com@gmail.com</div><div id='file'> File Name: python/fedml/ml/aggregator/agg_operator.py</div><div id='m_class'> M Class Name: FedMLAggOperator</div><div id='n_method'> N Class Name: FedMLAggOperator</div><div id='m_method'> M Method Name: agg(2)</div><div id='n_method'> N Method Name: agg(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/ml/aggregator/agg_operator.py</div><div id='n_file'> N File Name: python/fedml/ml/aggregator/agg_operator.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 15</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            sout, serr=p.communicate()
            if p.returncode != 0:
                <a id="change">raise </a><a id="change">Exception(&quotPDFpng error&quot</a>, serr<a id="change">)</a>

            png=[open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
            return png
</code></pre><h3>After Change</h3><pre><code class='java'>
            if p.returncode != 0:
                raise Exception(&quotPDFpng error&quot, serr, cmd, os.path.exists(pdffile), os.path.exists(infile))
            if return_bytes:
                if <a id="change">len(</a>self.math<a id="change">)</a> &gt; 1:
                    png = [open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot-%i.png&quot % i, &quotrb&quot).read() for i in range(len(self.math))]
                else:
                    png<a id="change"> = </a>open(pngfile.replace(&quot.png&quot, &quot&quot)+&quot.png&quot, &quotrb&quot).read()
                return png
            else:
                if len(self.math) &gt; 1:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/1ac35a887d70fd94c4324af8a3f3a6ef624e5878#diff-fa4089e8a1b4c36ad8263be050d34e31ea1d452268658ee5bc4298c393f1dc64L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24476642</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 1ac35a887d70fd94c4324af8a3f3a6ef624e5878</div><div id='time'> Time: 2021-01-20</div><div id='author'> Author: luk.blecher@gmx.de</div><div id='file'> File Name: dataset/latex2png.py</div><div id='m_class'> M Class Name: Latex</div><div id='n_method'> N Class Name: Latex</div><div id='m_method'> M Method Name: convert_file(4)</div><div id='n_method'> N Method Name: convert_file(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/latex2png.py</div><div id='n_file'> N File Name: dataset/latex2png.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 106</div><BR>