<html><h3>Pattern ID :16382
</h3><img src='55193530.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    fnames = clean_lst(fnames)
    results = {}
    for fname in fnames:
      paper<a id="change"> = </a>self.get_by_fname(fname,int(year_from),<a id="change">int(</a>year_to<a id="change">)</a>)
      results[fname]= paper
    return results
</code></pre><h3>After Change</h3><pre><code class='java'>
    &quot&quot&quot
    fnames = clean_lst(fnames)
    ln = len(fnames)
    conditions<a id="change"> = </a><a id="change">&quot OR &quot.join(</a>["fname = ?"] * ln<a id="change">)</a>
    command = "SELECT website,year, database, messages, reported, title, journal, authors, numCitedBy, fname, allauthors FROM all_papers WHERE " + conditions
    self.cursor.execute(command, fnames)
    list_papers = self.cursor.fetchall()
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yassinekdi/naimai/commit/66240782c14745ccbb8ea1af07fe0de33544ba53#diff-29b883fc43b84b7178ae52d3dcd9132ff2d11fdadd41523df13b0b2f178e142dL123' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55193530</div><div id='project'> Project Name: yassinekdi/naimai</div><div id='commit'> Commit Name: 66240782c14745ccbb8ea1af07fe0de33544ba53</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: keptsa@yahoo.fr</div><div id='file'> File Name: data_sqlite.py</div><div id='m_class'> M Class Name: SQLiteManager</div><div id='n_method'> N Class Name: SQLiteManager</div><div id='m_method'> M Method Name: get_by_multiple_fnames(4)</div><div id='n_method'> N Method Name: get_by_multiple_fnames(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data_sqlite.py</div><div id='n_file'> N File Name: data_sqlite.py</div><div id='m_start'> M Start Line: 123</div><div id='m_end'> M End Line: 128</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &quot&quot&quot
    fnames = clean_lst(fnames)
    results = {}
    for <a id="change">fname</a> in fnames:
      paper = self.get_by_fname(fname,int(year_from),<a id="change">int(</a>year_to<a id="change">)</a>)
      results[fname]<a id="change">= </a>paper
    return results

  def to_dict(self,sql_result: tuple) -&gt; dict:</code></pre><h3>After Change</h3><pre><code class='java'>
    &quot&quot&quot
    fnames = clean_lst(fnames)
    ln = len(fnames)
    conditions<a id="change"> = </a><a id="change">&quot OR &quot.join(</a>["fname = ?"] * ln<a id="change">)</a>
    command = "SELECT website,year, database, messages, reported, title, journal, authors, numCitedBy, fname, allauthors FROM all_papers WHERE " + conditions
    self.cursor.execute(command, fnames)
    list_papers = self.cursor.fetchall()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yassinekdi/naimai/commit/66240782c14745ccbb8ea1af07fe0de33544ba53#diff-29b883fc43b84b7178ae52d3dcd9132ff2d11fdadd41523df13b0b2f178e142dL119' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55193531</div><div id='project'> Project Name: yassinekdi/naimai</div><div id='commit'> Commit Name: 66240782c14745ccbb8ea1af07fe0de33544ba53</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: keptsa@yahoo.fr</div><div id='file'> File Name: data_sqlite.py</div><div id='m_class'> M Class Name: SQLiteManager</div><div id='n_method'> N Class Name: SQLiteManager</div><div id='m_method'> M Method Name: get_by_multiple_fnames(4)</div><div id='n_method'> N Method Name: get_by_multiple_fnames(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data_sqlite.py</div><div id='n_file'> N File Name: data_sqlite.py</div><div id='m_start'> M Start Line: 123</div><div id='m_end'> M End Line: 128</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    file_path = os.path.join(log_dir, camera_id, "objects_log", today + ".csv")
    now = datetime.today()
    violations = 0
    with open(file_path, &quotr&quot, newline=&quot&quot) as <a id="change">csvfile</a>:
        reader = csv.DictReader(csvfile)
        for row in reader:
            row_time = datetime.strptime(row[&quotTimestamp&quot], "%Y-%m-%d %H:%M:%S")
            if ((now - row_time).seconds / 60) &lt; interval:
                violations<a id="change"> += </a><a id="change">int(</a>row[&quotViolatingObjects&quot]<a id="change">)</a>
    if violations &gt; threshold:
        &#47&#47 send notification
        if should_send_email:
            ms = MailService(config)</code></pre><h3>After Change</h3><pre><code class='java'>

    violations = 0
    if entity_type == &quotCamera&quot:
        file_paths<a id="change"> = </a>[<a id="change">os.path.join(</a>log_dir, entity_info[&quotid&quot], "objects_log", today + ".csv"<a id="change">)</a>]
    else:
        &#47&#47 entity_type == &quotArea&quot
        camera_ids = entity_info[&quotcameras&quot]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neuralet/smart-social-distancing/commit/cc83a5359249689566aff454deb74f361ee3c432#diff-61543c94b6b9e62dd360231676e1266517169b7ab96d3c16929c60e65ef5f869L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55193529</div><div id='project'> Project Name: neuralet/smart-social-distancing</div><div id='commit'> Commit Name: cc83a5359249689566aff454deb74f361ee3c432</div><div id='time'> Time: 2020-10-23</div><div id='author'> Author: 42361379+renzodgc@users.noreply.github.com</div><div id='file'> File Name: libs/utils/notifications.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_violations(7)</div><div id='n_method'> N Method Name: check_violations(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: libs/utils/notifications.py</div><div id='n_file'> N File Name: libs/utils/notifications.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 32</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        resp = urllib.request.urlopen(req)

    length = resp.getheader(&quotcontent-length&quot)
    if <a id="change">length</a>:
        length = <a id="change">int(</a>length<a id="change">)</a>
        blocksize<a id="change"> = </a>max(4096, length // 100)
    else:
        blocksize = 1000000  &#47&#47 just made something up
</code></pre><h3>After Change</h3><pre><code class='java'>


def download(url, path):
    file_name<a id="change"> = </a><a id="change">os.path.join(</a>path, url.split("/")[-1]<a id="change">)</a>

    if os.path.exists(file_name):
        print(f"Dataset already downloaded at {file_name}.")
    else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/continvvm/continuum/commit/21c44f320830e89c7754209a9c98affafb0932c8#diff-25b5e494ed7669996260965822bf8b7569efb732db0fb1e8b76ad4f54d3bf865L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55193538</div><div id='project'> Project Name: continvvm/continuum</div><div id='commit'> Commit Name: 21c44f320830e89c7754209a9c98affafb0932c8</div><div id='time'> Time: 2020-06-17</div><div id='author'> Author: ar.douillard@gmail.com</div><div id='file'> File Name: continuum/download.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: download(2)</div><div id='n_method'> N Method Name: download(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: continuum/download.py</div><div id='n_file'> N File Name: continuum/download.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 17</div><BR>