<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    f = Flow().load_config(&quotflows/flow-index.yml&quot)

    with f:
        data_path<a id="change"> = os.path.join(</a><a id="change">os.path.dirname(</a>__file__<a id="change">)</a>, os.environ.get(&quotJINA_DATA_FILE&quot, None)<a id="change">)</a>
        f.logger.info(f&quotIndexing {data_path}&quot)
        url = f&quothttp://0.0.0.0:{f.port_expose}/index&quot

        input_docs = _input_lines(</code></pre><h3>After Change</h3><pre><code class='java'>
def index_restful():
    flow = Flow().load_config(&quotflows/flow-index.yml&quot)
    flow.use_rest_gateway()
    <a id="change">with </a><a id="change">flow:
        </a>flow.block()


def check_index_result(resp):</code></pre>