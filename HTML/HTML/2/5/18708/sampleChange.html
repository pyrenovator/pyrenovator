<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    base_dir = os.path.dirname(os.path.dirname(os.path.dirname(os.path.realpath(__file__))))
    script = "run_monailabel_app.bat" if any(platform.win32_ver()) else "run_monailabel_app.sh"
    if os.path.exists(os.path.realpath(os.path.join(base_dir, "scripts", script))):
        script<a id="change"> = </a>os.path.realpath(<a id="change">os.path.join(</a>base_dir, "scripts", script<a id="change">)</a>)

    request = task["request"]
    cmd = [</code></pre><h3>After Change</h3><pre><code class='java'>
    request = task["request"]
    my_env = {**os.environ}

    gpus<a id="change"> = </a><a id="change">request.get("gpus"</a>, "all"<a id="change">)</a>
    gpus = gpus if gpus else "all"
    if gpus != "all":
        my_env["CUDA_VISIBLE_DEVICES"] = gpus
    request["gpus"] = "all"</code></pre>