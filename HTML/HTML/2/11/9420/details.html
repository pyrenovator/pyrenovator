<html><h3>Pattern ID :9420
</h3><img src='33675397.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                device_id = hex(device_id)

        if device_id is not None and device_id != "":
            <a id="change">try:
                </a>with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                    f.write(device_id)
            <a id="change">except</a>:
                <a id="change">pass</a>
        else:
            try:
                device_id_from_file = None
                with open(file_for_device_id, &quotr&quot, encoding=&quotutf-8&quot) as f:</code></pre><h3>After Change</h3><pre><code class='java'>
                )
                device_id = hex(device_id)

        <a id="change">device_file_path = </a><a id="change">os.path.join(ClientConstants.get_data_dir()</a>, ClientConstants.LOCAL_RUNNER_INFO_DIR_NAME<a id="change">)</a>
        <a id="change">if not os.path.exists(device_file_path)</a>:
            <a id="change">os.makedirs(device_file_path</a><a id="change">)</a>
        if device_id is not None and device_id != "":
            if not os.path.exists(file_for_device_id):
                with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                    f.write(device_id)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/91f443bae03d7e828eeb11b3643e905a1d1bfb14#diff-e80d580c8c52b12fe048ba58db4ca171ad8dccec37aa7c8fad24e42431a5e803L643' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33675397</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 91f443bae03d7e828eeb11b3643e905a1d1bfb14</div><div id='time'> Time: 2022-07-28</div><div id='author'> Author: chaoyanghe.com@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_class'> M Class Name: FedMLClientRunner</div><div id='n_method'> N Class Name: FedMLClientRunner</div><div id='m_method'> M Method Name: get_device_id(0)</div><div id='n_method'> N Method Name: get_device_id(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_start'> M Start Line: 675</div><div id='m_end'> M End Line: 694</div><div id='n_start'> N Start Line: 643</div><div id='n_end'> N End Line: 693</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            except:
                pass
        else:
            <a id="change">try:
                </a>device_id_from_file = None
                with open(file_for_device_id, &quotr&quot, encoding=&quotutf-8&quot) as f:
                    device_id_from_file = f.readline()
                if device_id_from_file is not None and device_id_from_file != "":
                    device_id = device_id_from_file
                else:
                    device_id = hex(uuid.uuid4())
                    with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                        f.write(device_id)
            <a id="change">except</a>:
                <a id="change">pass</a>

        return device_id

    def bind_account_and_device_id(self, url, account_id, device_id, os_name):</code></pre><h3>After Change</h3><pre><code class='java'>
                )
                device_id = hex(device_id)

        <a id="change">device_file_path = </a><a id="change">os.path.join(ServerConstants.get_data_dir()</a>, ServerConstants.LOCAL_RUNNER_INFO_DIR_NAME<a id="change">)</a>
        <a id="change">if not os.path.exists(device_file_path)</a>:
            <a id="change">os.makedirs(</a>device_file_path<a id="change">)</a>
        if device_id is not None and device_id != "":
            with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                f.write(device_id)
        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/da85abb98929b8ce7f6eeeef463e55362f031ee6#diff-f66507579c73948f25ecb3f120d0f2df0a4d58da3209559db61063f5d91bcc72L888' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33675396</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: da85abb98929b8ce7f6eeeef463e55362f031ee6</div><div id='time'> Time: 2022-07-28</div><div id='author'> Author: chaoyanghe.com@gmail.com</div><div id='file'> File Name: python/fedml/cli/server_deployment/server_runner.py</div><div id='m_class'> M Class Name: FedMLServerRunner</div><div id='n_method'> N Class Name: FedMLServerRunner</div><div id='m_method'> M Method Name: get_device_id(0)</div><div id='n_method'> N Method Name: get_device_id(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/server_deployment/server_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/server_deployment/server_runner.py</div><div id='m_start'> M Start Line: 921</div><div id='m_end'> M End Line: 940</div><div id='n_start'> N Start Line: 920</div><div id='n_end'> N End Line: 936</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            except:
                pass
        else:
            <a id="change">try:
                </a>device_id_from_file = None
                with open(file_for_device_id, &quotr&quot, encoding=&quotutf-8&quot) as f:
                    device_id_from_file = f.readline()
                if device_id_from_file is not None and device_id_from_file != "":
                    device_id = device_id_from_file
                else:
                    device_id = hex(uuid.uuid4())
                    with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                        f.write(device_id)
            <a id="change">except</a>:
                <a id="change">pass</a>

        return device_id

    def bind_account_and_device_id(self, url, account_id, device_id, os_name):</code></pre><h3>After Change</h3><pre><code class='java'>
                )
                device_id = hex(device_id)

        <a id="change">device_file_path = </a><a id="change">os.path.join(ServerConstants.get_data_dir()</a>, ServerConstants.LOCAL_RUNNER_INFO_DIR_NAME<a id="change">)</a>
        <a id="change">if not os.path.exists(device_file_path)</a>:
            <a id="change">os.makedirs(</a>device_file_path<a id="change">)</a>
        if device_id is not None and device_id != "":
            with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                f.write(device_id)
        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/e97cfd7d1fee21941496e00562a4dc6ccac0d9b5#diff-f66507579c73948f25ecb3f120d0f2df0a4d58da3209559db61063f5d91bcc72L888' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33675399</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: e97cfd7d1fee21941496e00562a4dc6ccac0d9b5</div><div id='time'> Time: 2022-07-28</div><div id='author'> Author: chaoyanghe.com@gmail.com</div><div id='file'> File Name: python/fedml/cli/server_deployment/server_runner.py</div><div id='m_class'> M Class Name: FedMLServerRunner</div><div id='n_method'> N Class Name: FedMLServerRunner</div><div id='m_method'> M Method Name: get_device_id(0)</div><div id='n_method'> N Method Name: get_device_id(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/server_deployment/server_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/server_deployment/server_runner.py</div><div id='m_start'> M Start Line: 921</div><div id='m_end'> M End Line: 940</div><div id='n_start'> N Start Line: 920</div><div id='n_end'> N End Line: 936</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            except:
                pass
        else:
            <a id="change">try:
                </a>device_id_from_file = None
                with open(file_for_device_id, &quotr&quot, encoding=&quotutf-8&quot) as f:
                    device_id_from_file = f.readline()
                if device_id_from_file is not None and device_id_from_file != "":
                    device_id = device_id_from_file
                else:
                    device_id = hex(uuid.uuid4())
                    with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                        f.write(device_id)
            <a id="change">except</a>:
                <a id="change">pass</a>

        return device_id

    def bind_account_and_device_id(self, url, account_id, device_id, os_name, role="client"):</code></pre><h3>After Change</h3><pre><code class='java'>
                )
                device_id = hex(device_id)

        <a id="change">device_file_path = </a><a id="change">os.path.join(ClientConstants.get_data_dir()</a>, ClientConstants.LOCAL_RUNNER_INFO_DIR_NAME<a id="change">)</a>
        <a id="change">if not os.path.exists(device_file_path)</a>:
            <a id="change">os.makedirs(</a>device_file_path<a id="change">)</a>
        if device_id is not None and device_id != "":
            if not os.path.exists(file_for_device_id):
                with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                    f.write(device_id)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/91f443bae03d7e828eeb11b3643e905a1d1bfb14#diff-e80d580c8c52b12fe048ba58db4ca171ad8dccec37aa7c8fad24e42431a5e803L642' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33675401</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 91f443bae03d7e828eeb11b3643e905a1d1bfb14</div><div id='time'> Time: 2022-07-28</div><div id='author'> Author: chaoyanghe.com@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_class'> M Class Name: FedMLClientRunner</div><div id='n_method'> N Class Name: FedMLClientRunner</div><div id='m_method'> M Method Name: get_device_id(0)</div><div id='n_method'> N Method Name: get_device_id(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_start'> M Start Line: 675</div><div id='m_end'> M End Line: 694</div><div id='n_start'> N Start Line: 643</div><div id='n_end'> N End Line: 693</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                device_id = hex(device_id)

        if device_id is not None and device_id != "":
            <a id="change">try:
                </a>with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                    f.write(device_id)
            <a id="change">except</a>:
                <a id="change">pass</a>
        else:
            try:
                device_id_from_file = None
                with open(file_for_device_id, &quotr&quot, encoding=&quotutf-8&quot) as f:</code></pre><h3>After Change</h3><pre><code class='java'>
                )
                device_id = hex(device_id)

        <a id="change">device_file_path = </a><a id="change">os.path.join(ClientConstants.get_data_dir()</a>, ClientConstants.LOCAL_RUNNER_INFO_DIR_NAME<a id="change">)</a>
        <a id="change">if not os.path.exists(device_file_path)</a>:
            <a id="change">os.makedirs(</a>device_file_path<a id="change">)</a>
        if device_id is not None and device_id != "":
            if not os.path.exists(file_for_device_id):
                with open(file_for_device_id, &quotx&quot, encoding=&quotutf-8&quot) as f:
                    f.write(device_id)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/3a86cb782d92e614bdfdd8617cb5023deafca7f7#diff-e80d580c8c52b12fe048ba58db4ca171ad8dccec37aa7c8fad24e42431a5e803L642' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33675400</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 3a86cb782d92e614bdfdd8617cb5023deafca7f7</div><div id='time'> Time: 2022-07-28</div><div id='author'> Author: chaoyanghe.com@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_class'> M Class Name: FedMLClientRunner</div><div id='n_method'> N Class Name: FedMLClientRunner</div><div id='m_method'> M Method Name: get_device_id(0)</div><div id='n_method'> N Method Name: get_device_id(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_start'> M Start Line: 675</div><div id='m_end'> M End Line: 694</div><div id='n_start'> N Start Line: 643</div><div id='n_end'> N End Line: 693</div><BR>