<html><h3>Pattern ID :32748
</h3><img src='95140927.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            exp_name (str): the experiment name. If None, then use default_exp_name.

        
        <a id="change">if exp_name is None</a>:
            <a id="change">if self.default_exp_name is None</a>:
                <a id="change">raise ValueError(
                    "Both default_exp_name and exp_name are None. OnlineToolR needs a specific experiment."</a><a id="change">
                )</a>
            exp_name<a id="change"> = </a>self.default_exp_name
        if isinstance(recorder, Recorder):
            recorder = [recorder]
        recs = list_recorders(exp_name)</code></pre><h3>After Change</h3><pre><code class='java'>
            exp_name (str): the experiment name. If None, then use default_exp_name.

        
        exp_name<a id="change"> = </a><a id="change">self._get_exp_name(</a>exp_name<a id="change">)</a>
        if isinstance(recorder, Recorder):
            recorder = [recorder]
        recs = list_recorders(exp_name)
        self.set_online_tag(self.OFFLINE_TAG, list(recs.values()))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/0b83fb3564b31e6988b8d8cde62104823b055c3d#diff-1bcdc3694cc35789421c7d4f50dd8c02a09655c869ba42141d3157d7ff0834e9L141' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95140927</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 0b83fb3564b31e6988b8d8cde62104823b055c3d</div><div id='time'> Time: 2021-06-29</div><div id='author'> Author: lzh222333@163.com</div><div id='file'> File Name: qlib/workflow/online/utils.py</div><div id='m_class'> M Class Name: OnlineToolR</div><div id='n_method'> N Class Name: OnlineToolR</div><div id='m_method'> M Method Name: reset_online_tag(3)</div><div id='n_method'> N Method Name: reset_online_tag(3)</div><div id='m_parent_class'> M Parent Class: OnlineTool</div><div id='n_parent_class'> N Parent Class: OnlineTool</div><div id='m_file'> M File Name: qlib/workflow/online/utils.py</div><div id='n_file'> N File Name: qlib/workflow/online/utils.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 147</div><div id='n_start'> N Start Line: 141</div><div id='n_end'> N End Line: 141</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Returns:
            list: a list of `online` models.
        
        <a id="change">if exp_name is None</a>:
            <a id="change">if self.default_exp_name is None</a>:
                <a id="change">raise ValueError(
                    "Both default_exp_name and exp_name are None. OnlineToolR needs a specific experiment."</a><a id="change">
                )</a>
            exp_name<a id="change"> = </a>self.default_exp_name
        return list(list_recorders(exp_name, lambda rec: self.get_online_tag(rec) == self.ONLINE_TAG).values())

    def update_online_pred(self, to_date=None, exp_name: str = None):</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            list: a list of `online` models.
        
        exp_name<a id="change"> = </a><a id="change">self._get_exp_name(</a>exp_name<a id="change">)</a>
        return list(list_recorders(exp_name, lambda rec: self.get_online_tag(rec) == self.ONLINE_TAG).values())

    def update_online_pred(self, to_date=None, exp_name: str = None):
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/0b83fb3564b31e6988b8d8cde62104823b055c3d#diff-1bcdc3694cc35789421c7d4f50dd8c02a09655c869ba42141d3157d7ff0834e9L153' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95140930</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 0b83fb3564b31e6988b8d8cde62104823b055c3d</div><div id='time'> Time: 2021-06-29</div><div id='author'> Author: lzh222333@163.com</div><div id='file'> File Name: qlib/workflow/online/utils.py</div><div id='m_class'> M Class Name: OnlineToolR</div><div id='n_method'> N Class Name: OnlineToolR</div><div id='m_method'> M Method Name: online_models(2)</div><div id='n_method'> N Method Name: online_models(2)</div><div id='m_parent_class'> M Parent Class: OnlineTool</div><div id='n_parent_class'> N Parent Class: OnlineTool</div><div id='m_file'> M File Name: qlib/workflow/online/utils.py</div><div id='n_file'> N File Name: qlib/workflow/online/utils.py</div><div id='m_start'> M Start Line: 163</div><div id='m_end'> M End Line: 169</div><div id='n_start'> N Start Line: 158</div><div id='n_end'> N End Line: 158</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            to_date (pd.Timestamp): the pred before this date will be updated. None for updating to latest time in Calendar.
            exp_name (str): the experiment name. If None, then use default_exp_name.
        
        <a id="change">if exp_name is None</a>:
            <a id="change">if self.default_exp_name is None</a>:
                <a id="change">raise ValueError(
                    "Both default_exp_name and exp_name are None. OnlineToolR needs a specific experiment."</a><a id="change">
                )</a>
            exp_name<a id="change"> = </a>self.default_exp_name
        online_models = self.online_models(exp_name=exp_name)
        for rec in online_models:
            hist_ref = 0</code></pre><h3>After Change</h3><pre><code class='java'>
            to_date (pd.Timestamp): the pred before this date will be updated. None for updating to latest time in Calendar.
            exp_name (str): the experiment name. If None, then use default_exp_name.
        
        exp_name<a id="change"> = </a><a id="change">self._get_exp_name(</a>exp_name<a id="change">)</a>
        online_models = self.online_models(exp_name=exp_name)
        for rec in online_models:
            hist_ref = 0
            task = rec.load_object("task")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/0b83fb3564b31e6988b8d8cde62104823b055c3d#diff-1bcdc3694cc35789421c7d4f50dd8c02a09655c869ba42141d3157d7ff0834e9L171' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95140929</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 0b83fb3564b31e6988b8d8cde62104823b055c3d</div><div id='time'> Time: 2021-06-29</div><div id='author'> Author: lzh222333@163.com</div><div id='file'> File Name: qlib/workflow/online/utils.py</div><div id='m_class'> M Class Name: OnlineToolR</div><div id='n_method'> N Class Name: OnlineToolR</div><div id='m_method'> M Method Name: update_online_pred(3)</div><div id='n_method'> N Method Name: update_online_pred(3)</div><div id='m_parent_class'> M Parent Class: OnlineTool</div><div id='n_parent_class'> N Parent Class: OnlineTool</div><div id='m_file'> M File Name: qlib/workflow/online/utils.py</div><div id='n_file'> N File Name: qlib/workflow/online/utils.py</div><div id='m_start'> M Start Line: 179</div><div id='m_end'> M End Line: 185</div><div id='n_start'> N Start Line: 169</div><div id='n_end'> N End Line: 169</div><BR>