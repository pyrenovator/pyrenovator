<html><h3>Pattern ID :18470
</h3><img src='60315928.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        self.train<a id="change"> = </a>train
        self.query<a id="change"> = </a>query
        self.gallery<a id="change"> = </a>gallery

        self<a id="change">.num_train_pids, self.num_train_imgs, self.num_train_cams = self</a><a id="change">.get_imagedata_info(</a>self.train<a id="change">)</a>
        self<a id="change">.num_query_pids, self.num_query_imgs, self.num_query_cams = self</a><a id="change">.get_imagedata_info(</a>self.query<a id="change">)</a>
        self<a id="change">.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = self</a><a id="change">.get_imagedata_info(</a>self.gallery<a id="change">)</a>

    def download_data(self):
        if osp.exists(self.dataset_dir):
            return</code></pre><h3>After Change</h3><pre><code class='java'>

        train, query, gallery = self.process_split(split)

        <a id="change">self.init_attributes(</a>train, query, gallery<a id="change">)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/vlsomers/bpbreid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-457bc9aeee25f1803c58072e8dec25e2b2419764088253993d1106de6036ae6bL61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60315928</div><div id='project'> Project Name: vlsomers/bpbreid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/ilids.py</div><div id='m_class'> M Class Name: iLIDS</div><div id='n_method'> N Class Name: iLIDS</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseImageDataset</div><div id='n_parent_class'> N Parent Class: BaseImageDataset</div><div id='m_file'> M File Name: torchreid/datasets/ilids.py</div><div id='n_file'> N File Name: torchreid/datasets/ilids.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        self.train<a id="change"> = </a>train
        self.query<a id="change"> = </a>query
        self.gallery<a id="change"> = </a>gallery

        self<a id="change">.num_train_pids, self.num_train_imgs, self.num_train_cams = </a><a id="change">self.get_imagedata_info(</a>self.train<a id="change">)</a>
        self<a id="change">.num_query_pids, self.num_query_imgs, self.num_query_cams = </a><a id="change">self.get_imagedata_info(</a>self.query<a id="change">)</a>
        self<a id="change">.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = </a><a id="change">self.get_imagedata_info(</a>self.gallery<a id="change">)</a>

    def download_data(self):
        if osp.exists(self.dataset_dir):
            return</code></pre><h3>After Change</h3><pre><code class='java'>

        train, query, gallery = self.process_split(split)

        <a id="change">self.init_attributes(</a>train, query, gallery<a id="change">)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vlsomers/bpbreid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-457bc9aeee25f1803c58072e8dec25e2b2419764088253993d1106de6036ae6bL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60315929</div><div id='project'> Project Name: vlsomers/bpbreid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/ilids.py</div><div id='m_class'> M Class Name: iLIDS</div><div id='n_method'> N Class Name: iLIDS</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseImageDataset</div><div id='n_parent_class'> N Parent Class: BaseImageDataset</div><div id='m_file'> M File Name: torchreid/datasets/ilids.py</div><div id='n_file'> N File Name: torchreid/datasets/ilids.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        self.train<a id="change"> = </a>train
        self.query<a id="change"> = </a>query
        self.gallery<a id="change"> = </a>gallery

        self<a id="change">.num_train_pids, self.num_train_imgs, self.num_train_cams = </a><a id="change">self.get_imagedata_info(</a>self.train<a id="change">)</a>
        self<a id="change">.num_query_pids, self.num_query_imgs, self.num_query_cams = </a><a id="change">self.get_imagedata_info(</a>self.query<a id="change">)</a>
        self<a id="change">.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = </a><a id="change">self.get_imagedata_info(</a>self.gallery<a id="change">)</a>

    def process_dir(self, dir_path, list_path):
        with open(list_path, &quotr&quot) as txt:
            lines = txt.readlines()</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47train += val
        &#47&#47num_train_imgs += num_val_imgs

        <a id="change">self.init_attributes(</a>train, query, gallery<a id="change">)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
    def process_dir(self, dir_path, list_path):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vlsomers/bpbreid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-71cad8268e3dca9c4ce2979bad9781bd6d2b0beacd85ffbc0033307d1c0e14e9L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60315932</div><div id='project'> Project Name: vlsomers/bpbreid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/msmt17.py</div><div id='m_class'> M Class Name: MSMT17</div><div id='n_method'> N Class Name: MSMT17</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: BaseImageDataset</div><div id='n_parent_class'> N Parent Class: BaseImageDataset</div><div id='m_file'> M File Name: torchreid/datasets/msmt17.py</div><div id='n_file'> N File Name: torchreid/datasets/msmt17.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 78</div><div id='n_end'> N End Line: 87</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        self.train<a id="change"> = </a>train
        self.query<a id="change"> = </a>query
        self.gallery<a id="change"> = </a>gallery

        self<a id="change">.num_train_pids, self.num_train_imgs, self.num_train_cams = </a><a id="change">self.get_imagedata_info(</a>self.train<a id="change">)</a>
        self<a id="change">.num_query_pids, self.num_query_imgs, self.num_query_cams = </a><a id="change">self.get_imagedata_info(</a>self.query<a id="change">)</a>
        self<a id="change">.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = </a><a id="change">self.get_imagedata_info(</a>self.gallery<a id="change">)</a>

    def download_data(self):
        if osp.exists(self.dataset_dir):
            return</code></pre><h3>After Change</h3><pre><code class='java'>
        query = [tuple(item) for item in query]
        gallery = [tuple(item) for item in gallery]

        <a id="change">self.init_attributes(</a>train, query, gallery<a id="change">)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vlsomers/bpbreid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-b7d7d7ae831c8785d1b9bd557b7406ce29d3b62514476006b4f9c1024e24a869L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60315920</div><div id='project'> Project Name: vlsomers/bpbreid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/grid.py</div><div id='m_class'> M Class Name: GRID</div><div id='n_method'> N Class Name: GRID</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseImageDataset</div><div id='n_parent_class'> N Parent Class: BaseImageDataset</div><div id='m_file'> M File Name: torchreid/datasets/grid.py</div><div id='n_file'> N File Name: torchreid/datasets/grid.py</div><div id='m_start'> M Start Line: 66</div><div id='m_end'> M End Line: 79</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        self.train<a id="change"> = </a>train
        self.query<a id="change"> = </a>query
        self.gallery<a id="change"> = </a>gallery

        self<a id="change">.num_train_pids, self.num_train_imgs, self.num_train_cams = </a><a id="change">self.get_imagedata_info(</a>self.train<a id="change">)</a>
        self<a id="change">.num_query_pids, self.num_query_imgs, self.num_query_cams = </a><a id="change">self.get_imagedata_info(</a>self.query<a id="change">)</a>
        self<a id="change">.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = </a><a id="change">self.get_imagedata_info(</a>self.gallery<a id="change">)</a>

    def process_dir(self, dir_path, relabel=False):
        img_paths = glob.glob(osp.join(dir_path, &quot*.jpg&quot))
        pattern = re.compile(r&quot([-\d]+)_c(\d)&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.market1501_500k:
            gallery += self.process_dir(self.extra_gallery_dir, relabel=False)

        <a id="change">self.init_attributes(</a>train, query, gallery<a id="change">)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vlsomers/bpbreid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-a035b1ee8acd47298fdb85e9c3aa2b0a536e13016e91203ba6b52e51ca5c8d4dL35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60315922</div><div id='project'> Project Name: vlsomers/bpbreid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/market1501.py</div><div id='m_class'> M Class Name: Market1501</div><div id='n_method'> N Class Name: Market1501</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseImageDataset</div><div id='n_parent_class'> N Parent Class: BaseImageDataset</div><div id='m_file'> M File Name: torchreid/datasets/market1501.py</div><div id='n_file'> N File Name: torchreid/datasets/market1501.py</div><div id='m_start'> M Start Line: 54</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        self.train<a id="change"> = </a>train
        self.query<a id="change"> = </a>query
        self.gallery<a id="change"> = </a>gallery

        self<a id="change">.num_train_pids, self.num_train_imgs, self.num_train_cams = </a><a id="change">self.get_imagedata_info(</a>self.train<a id="change">)</a>
        self<a id="change">.num_query_pids, self.num_query_imgs, self.num_query_cams = </a><a id="change">self.get_imagedata_info(</a>self.query<a id="change">)</a>
        self<a id="change">.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = </a><a id="change">self.get_imagedata_info(</a>self.gallery<a id="change">)</a>

    def download_data(self):
        if osp.exists(self.dataset_dir):
            return</code></pre><h3>After Change</h3><pre><code class='java'>
        query = [tuple(item) for item in query]
        gallery = [tuple(item) for item in gallery]

        <a id="change">self.init_attributes(</a>train, query, gallery<a id="change">)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vlsomers/bpbreid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-fd00b0e9998ae0c2382ad04ea46ba8fdbdbf796dd0f6c9043d748488e0fefe3cL37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60315924</div><div id='project'> Project Name: vlsomers/bpbreid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/prid450s.py</div><div id='m_class'> M Class Name: PRID450S</div><div id='n_method'> N Class Name: PRID450S</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: BaseImageDataset</div><div id='n_parent_class'> N Parent Class: BaseImageDataset</div><div id='m_file'> M File Name: torchreid/datasets/prid450s.py</div><div id='n_file'> N File Name: torchreid/datasets/prid450s.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 68</div><BR>