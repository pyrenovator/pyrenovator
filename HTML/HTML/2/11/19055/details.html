<html><h3>Pattern ID :19055
</h3><img src='62064179.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def _get_gke_vpc_name(cloud_provider):
    &#47&#47 TO IMPROVE: retrieve the vpc name from GKE cluster information
    <a id="change">return </a>cloud_provider.get("vpc_name")


def _create_managed_cloud_database_for_gke(</code></pre><h3>After Change</h3><pre><code class='java'>
    availability_zone = cloud_provider.get("availability_zone")
    if not availability_zone:
        raise RuntimeError("GKE zone is not specified in cloud provider section.")
    gke_cluster_name<a id="change"> = </a>cloud_provider.get("gke_cluster_name")
    <a id="change">if not gke_cluster_name</a>:
        raise RuntimeError("GKE cluster name is not specified in cloud provider section.")

    name = "projects/{}/locations/{}/clusters/{}".format(
        project_id, availability_zone, gke_cluster_name
    )
    try:
        cluster = container_client.get_cluster(name=name)
        <a id="change">return </a>cluster.network
    except Exception as e:
        cli_logger.warning(
            "Failed to get GKE cluster: {}. {}",
            gke_cluster_name, str(e))

    vpc_name = cloud_provider.get("gke_network")
    <a id="change">if not vpc_name</a>:
        <a id="change">raise </a><a id="change">RuntimeError("GKE network name must specified "
                           "with gke_network key in cloud provider."</a><a id="change">)</a>
    <a id="change">return </a>vpc_name


def _create_managed_cloud_database_for_gke(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/oap-project/cloudtik/commit/3496496f901215a66041ddf19ed9a78312358f75#diff-7458cf98b81c6ed21cbf5b6504a6d425c4b1928716a3bf9cb07503dbf98cc627L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62064179</div><div id='project'> Project Name: oap-project/cloudtik</div><div id='commit'> Commit Name: 3496496f901215a66041ddf19ed9a78312358f75</div><div id='time'> Time: 2023-05-07</div><div id='author'> Author: haifeng.chen@intel.com</div><div id='file'> File Name: python/cloudtik/providers/_private/_kubernetes/gcp_gke/config.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _get_gke_vpc_name(1)</div><div id='n_method'> N Method Name: _get_gke_vpc_name(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/cloudtik/providers/_private/_kubernetes/gcp_gke/config.py</div><div id='n_file'> N File Name: python/cloudtik/providers/_private/_kubernetes/gcp_gke/config.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 95</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 120</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &gt;&gt;&gt; udut, ipiv, x, info = xsysv(a, b, lwork=int(opt_lwork.real))

    
    <a id="change">return </a>_get_funcs(names, arrays, dtype,
                      "LAPACK", _flapack, _clapack,
                      "flapack", "clapack", _lapack_alias)
</code></pre><h3>After Change</h3><pre><code class='java'>
    
    if isinstance(ilp64, str):
        if ilp64 == &quotpreferred&quot:
            ilp64<a id="change"> = </a>HAS_ILP64
        else:
            raise ValueError("Invalid value for &quotilp64&quot")

    <a id="change">if not ilp64</a>:
        <a id="change">return </a>_get_funcs(names, arrays, dtype,
                          "LAPACK", _flapack, _clapack,
                          "flapack", "clapack", _lapack_alias,
                          ilp64=False)
    else:
        <a id="change">if not HAS_ILP64</a>:
            <a id="change">raise </a><a id="change">RuntimeError("LAPACK ILP64 routine requested, but Scipy "
                               "compiled only with 32-bit BLAS"</a><a id="change">)</a>
        <a id="change">return </a>_get_funcs(names, arrays, dtype,
                          "LAPACK", _flapack_64, None,
                          "flapack_64", None, _lapack_alias,
                          ilp64=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/a2b3744ca6fd22f85410cd9027e7772f183d5ee3#diff-2134fdbeaf4d9894daccd989b4b4a59bf2cd665789136d99c2df78b7abab8d3fL855' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62064181</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: a2b3744ca6fd22f85410cd9027e7772f183d5ee3</div><div id='time'> Time: 2020-06-02</div><div id='author'> Author: pav@iki.fi</div><div id='file'> File Name: scipy/linalg/lapack.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_lapack_funcs(4)</div><div id='n_method'> N Method Name: get_lapack_funcs(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scipy/linalg/lapack.py</div><div id='n_file'> N File Name: scipy/linalg/lapack.py</div><div id='m_start'> M Start Line: 920</div><div id='m_end'> M End Line: 922</div><div id='n_start'> N Start Line: 862</div><div id='n_end'> N End Line: 952</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &quotz&quot

    
    <a id="change">return </a>_get_funcs(names, arrays, dtype,
                      "BLAS", _fblas, _cblas, "fblas", "cblas",
                      _blas_alias)
</code></pre><h3>After Change</h3><pre><code class='java'>
    
    if isinstance(ilp64, str):
        if ilp64 == &quotpreferred&quot:
            ilp64<a id="change"> = </a>HAS_ILP64
        else:
            raise ValueError("Invalid value for &quotilp64&quot")

    <a id="change">if not ilp64</a>:
        <a id="change">return </a>_get_funcs(names, arrays, dtype,
                          "BLAS", _fblas, _cblas, "fblas", "cblas",
                          _blas_alias, ilp64=False)
    else:
        <a id="change">if not HAS_ILP64</a>:
            <a id="change">raise </a><a id="change">RuntimeError("BLAS ILP64 routine requested, but Scipy "
                               "compiled only with 32-bit BLAS"</a><a id="change">)</a>
        <a id="change">return </a>_get_funcs(names, arrays, dtype,
                          "BLAS", _fblas_64, None, "fblas_64", None,
                          _blas_alias, ilp64=True)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/a2b3744ca6fd22f85410cd9027e7772f183d5ee3#diff-10466c6f5940d340fc1fa09c6936d9bbe6b593d828386576c1ff16d361b911beL398' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62064173</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: a2b3744ca6fd22f85410cd9027e7772f183d5ee3</div><div id='time'> Time: 2020-06-02</div><div id='author'> Author: pav@iki.fi</div><div id='file'> File Name: scipy/linalg/blas.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_blas_funcs(4)</div><div id='n_method'> N Method Name: get_blas_funcs(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scipy/linalg/blas.py</div><div id='n_file'> N File Name: scipy/linalg/blas.py</div><div id='m_start'> M Start Line: 448</div><div id='m_end'> M End Line: 450</div><div id='n_start'> N Start Line: 410</div><div id='n_end'> N End Line: 480</div><BR>