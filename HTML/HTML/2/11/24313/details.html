<html><h3>Pattern ID :24313
</h3><img src='75522128.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            total_loss = []

            for iteration, data in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(action_dict</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
            total_loss = []

            for iteration, data in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/7ceec971238d4042a1390aed2208afca778281dc#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522128</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 7ceec971238d4042a1390aed2208afca778281dc</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(</a>action_dict<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/64906ecb9dd6746aa034fa51565a42e4e77ab31b#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522129</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 64906ecb9dd6746aa034fa51565a42e4e77ab31b</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(</a>action_dict<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/535e32d46aa246c45a9c35444c5b8c6d0768b823#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522130</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 535e32d46aa246c45a9c35444c5b8c6d0768b823</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(</a>action_dict<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/e9193bdfa9514cdd9591ee89ecbae7e60d90b96f#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522131</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: e9193bdfa9514cdd9591ee89ecbae7e60d90b96f</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(</a>action_dict<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/457474ebf7d978001431bbe81795ad1902887a2d#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522132</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 457474ebf7d978001431bbe81795ad1902887a2d</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(</a>action_dict<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/0cb36e8a7a755287b752572a9ea81f8162016bff#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522126</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 0cb36e8a7a755287b752572a9ea81f8162016bff</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict<a id="change">, action_dict</a> = <a id="change">data[:2]</a>
                <a id="change">convert_to_torch(</a>action_dict<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,
                                             events=self.eval_events).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(</a>data.actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions<a id="change"> = </a><a id="change">convert_to_torch(</a>data.actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data.observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/e9932c19ff8a75bdc487a59753bfff6de0f0d5d1#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75522127</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: e9932c19ff8a75bdc487a59753bfff6de0f0d5d1</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 61</div><BR>