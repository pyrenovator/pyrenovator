<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        gamma_test = 1 / gamma_test

        &#47&#47 check gamma value
        self.assertEqual(<a id="change">obs_result[0]</a>, gamma_test)

        &#47&#47 check quantization levels size
        quantlevels_size_test<a id="change"> = </a><a id="change">int(</a><a id="change">len(obs_result</a><a id="change">[1]))</a>
        quantlevels_size = 2**6
        self.assertEqual(quantlevels_size_test, quantlevels_size)

        &#47&#47 check level indices size
        levelindices_size_test<a id="change"> = </a><a id="change">int(</a><a id="change">len(obs_result[2]</a><a id="change">))</a>
        self.assertEqual(levelindices_size_test, 64)

        &#47&#47 check level indices unique values
        level_indices_test_list<a id="change"> = obs_result</a><a id="change">[2].tolist()</a>
        self.assertEqual(len(level_indices_test_list), len(set(level_indices_test_list)))

    
        Test case 4</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_calculate_qparams_3terms(self):
        obs = APoTObserver(b=6, k=2)

        min_val<a id="change"> = torch</a><a id="change">.tensor([0</a>]<a id="change">)</a>
        max_val<a id="change"> = torch</a><a id="change">.tensor([1</a>]<a id="change">)</a>
        alpha, gamma, quantization_levels, level_indices = obs.calculate_qparams(signed=False,
                                                                                 min_val=min_val,
                                                                                 max_val=max_val)
</code></pre>