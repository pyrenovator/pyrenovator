<html><h3>Pattern ID :62
</h3><img src='1003791.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        optimizer = Adam(filter(lambda p: p.requires_grad, self.parameters()), lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(filter(lambda p: p.requires_grad, self.parameters()), lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = MULTISTEPLR_MILESTONES_DEFAULT</a>
                gamma<a id="change"> = MULTISTEPLR_GAMMA_DEFAULT</a>
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, <a id="change">MULTISTEPLR_MILESTONES_DEFAULT</a><a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, <a id="change">MULTISTEPLR_GAMMA_DEFAULT</a><a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 19</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/7481b1c54572a84bc93d4732374b32a113534f10#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL167' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003791</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 7481b1c54572a84bc93d4732374b32a113534f10</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: BaseFeatureExtractor</div><div id='n_method'> N Class Name: BaseFeatureExtractor</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: LightningModule</div><div id='n_parent_class'> N Parent Class: LightningModule</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 167</div><div id='m_end'> M End Line: 170</div><div id='n_start'> N Start Line: 177</div><div id='n_end'> N End Line: 198</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            )

        optimizer = Adam(params, lr=1e-3)
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 150, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(params, lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = </a>MULTISTEPLR_MILESTONES_DEFAULT
                gamma<a id="change"> = </a>MULTISTEPLR_GAMMA_DEFAULT
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, MULTISTEPLR_MILESTONES_DEFAULT<a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, MULTISTEPLR_GAMMA_DEFAULT<a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/f8e30543608524f1b11db1028dce448f33cc06da#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL351' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003790</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: f8e30543608524f1b11db1028dce448f33cc06da</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: SemiSupervisedTrackerMixin</div><div id='n_method'> N Class Name: SemiSupervisedTrackerMixin</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 378</div><div id='m_end'> M End Line: 379</div><div id='n_start'> N Start Line: 422</div><div id='n_end'> N End Line: 443</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        optimizer = Adam(filter(lambda p: p.requires_grad, self.parameters()), lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(filter(lambda p: p.requires_grad, self.parameters()), lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = </a>MULTISTEPLR_MILESTONES_DEFAULT
                gamma<a id="change"> = </a>MULTISTEPLR_GAMMA_DEFAULT
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, MULTISTEPLR_MILESTONES_DEFAULT<a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, MULTISTEPLR_GAMMA_DEFAULT<a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/f8e30543608524f1b11db1028dce448f33cc06da#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL163' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003789</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: f8e30543608524f1b11db1028dce448f33cc06da</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: BaseFeatureExtractor</div><div id='n_method'> N Class Name: BaseFeatureExtractor</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: LightningModule</div><div id='n_parent_class'> N Parent Class: LightningModule</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 167</div><div id='m_end'> M End Line: 170</div><div id='n_start'> N Start Line: 177</div><div id='n_end'> N End Line: 198</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        optimizer = Adam(filter(lambda p: p.requires_grad, self.parameters()), lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(filter(lambda p: p.requires_grad, self.parameters()), lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = </a>MULTISTEPLR_MILESTONES_DEFAULT
                gamma<a id="change"> = </a>MULTISTEPLR_GAMMA_DEFAULT
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, MULTISTEPLR_MILESTONES_DEFAULT<a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, MULTISTEPLR_GAMMA_DEFAULT<a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/7481b1c54572a84bc93d4732374b32a113534f10#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL163' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003788</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 7481b1c54572a84bc93d4732374b32a113534f10</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: BaseFeatureExtractor</div><div id='n_method'> N Class Name: BaseFeatureExtractor</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: LightningModule</div><div id='n_parent_class'> N Parent Class: LightningModule</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 167</div><div id='m_end'> M End Line: 170</div><div id='n_start'> N Start Line: 177</div><div id='n_end'> N End Line: 198</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            params = filter(lambda p: p.requires_grad, self.parameters())

        optimizer = Adam(params, lr=1e-3)
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(params, lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = </a>MULTISTEPLR_MILESTONES_DEFAULT
                gamma<a id="change"> = </a>MULTISTEPLR_GAMMA_DEFAULT
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, MULTISTEPLR_MILESTONES_DEFAULT<a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, MULTISTEPLR_GAMMA_DEFAULT<a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/f8e30543608524f1b11db1028dce448f33cc06da#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL247' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003787</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: f8e30543608524f1b11db1028dce448f33cc06da</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: BaseSupervisedTracker</div><div id='n_method'> N Class Name: BaseSupervisedTracker</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: BaseFeatureExtractor</div><div id='n_parent_class'> N Parent Class: BaseFeatureExtractor</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 266</div><div id='m_end'> M End Line: 267</div><div id='n_start'> N Start Line: 292</div><div id='n_end'> N End Line: 313</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            )

        optimizer = Adam(params, lr=1e-3)
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 150, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(params, lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = </a>MULTISTEPLR_MILESTONES_DEFAULT
                gamma<a id="change"> = </a>MULTISTEPLR_GAMMA_DEFAULT
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, MULTISTEPLR_MILESTONES_DEFAULT<a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, MULTISTEPLR_GAMMA_DEFAULT<a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/7481b1c54572a84bc93d4732374b32a113534f10#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL351' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003786</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 7481b1c54572a84bc93d4732374b32a113534f10</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: SemiSupervisedTrackerMixin</div><div id='n_method'> N Class Name: SemiSupervisedTrackerMixin</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 378</div><div id='m_end'> M End Line: 379</div><div id='n_start'> N Start Line: 422</div><div id='n_end'> N End Line: 443</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            params = filter(lambda p: p.requires_grad, self.parameters())

        optimizer = Adam(params, lr=1e-3)
        scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=[100, 200, 300], gamma=0.5)</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre><h3>After Change</h3><pre><code class='java'>
        optimizer = Adam(params, lr=1e-3)

        &#47&#47 define a scheduler that reduces the base learning rate
        <a id="change">if self.lr_scheduler == "multisteplr" or self.lr_scheduler == "multistep_lr"</a>:

            <a id="change">if self.lr_scheduler_params is None</a>:
                milestones<a id="change"> = </a>MULTISTEPLR_MILESTONES_DEFAULT
                gamma<a id="change"> = </a>MULTISTEPLR_GAMMA_DEFAULT
            else:
                milestones<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "milestones"</a>, MULTISTEPLR_MILESTONES_DEFAULT<a id="change">)</a>
                gamma<a id="change"> = </a><a id="change">self.lr_scheduler_params.get(
                    "gamma"</a>, MULTISTEPLR_GAMMA_DEFAULT<a id="change">)</a>

            scheduler<a id="change"> = </a><a id="change">MultiStepLR(</a>optimizer<a id="change">, milestones=milestones, gamma=gamma)</a>

        else:
            <a id="change">raise </a><a id="change">NotImplementedError(
                "&quot%s&quot is an invalid LR scheduler"</a><a id="change"> % </a>self.lr_scheduler<a id="change">
            )</a>

        return {
            "optimizer": optimizer,
            "lr_scheduler": scheduler,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/7481b1c54572a84bc93d4732374b32a113534f10#diff-99cc1aafbbd2d9185478090d049cb28431c41fdb606d1787b4e8c11baa8aa7ebL247' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1003776</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 7481b1c54572a84bc93d4732374b32a113534f10</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: lightning_pose/models/base.py</div><div id='m_class'> M Class Name: BaseSupervisedTracker</div><div id='n_method'> N Class Name: BaseSupervisedTracker</div><div id='m_method'> M Method Name: configure_optimizers(1)</div><div id='n_method'> N Method Name: configure_optimizers(1)</div><div id='m_parent_class'> M Parent Class: BaseFeatureExtractor</div><div id='n_parent_class'> N Parent Class: BaseFeatureExtractor</div><div id='m_file'> M File Name: lightning_pose/models/base.py</div><div id='n_file'> N File Name: lightning_pose/models/base.py</div><div id='m_start'> M Start Line: 266</div><div id='m_end'> M End Line: 267</div><div id='n_start'> N Start Line: 292</div><div id='n_end'> N End Line: 313</div><BR>