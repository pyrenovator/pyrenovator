<html><h3>Pattern ID :9701
</h3><img src='34895604.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>
        I_kk = [(delta_bm_ ** 2. - dt) / 2. for delta_bm_ in I_k]
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min</code></pre><h3>After Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">self.bm(t0</a>, <a id="change">t0</a><a id="change"> + </a>dt<a id="change">)</a>
        I_kk = [(delta_bm_ ** 2. - dt) / 2. for delta_bm_ in I_k]
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 11</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-49253e84d32264ed17c926e14f22c0539ffe6757541ee40afae06cbf54201c4eL56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895604</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/diagonal/srk_zipped.py</div><div id='m_class'> M Class Name: SRKDiagonal</div><div id='n_method'> N Class Name: SRKDiagonal</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/diagonal/srk_zipped.py</div><div id='n_file'> N File Name: torchsde/_core/methods/diagonal/srk_zipped.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min
            ) if self.trapezoidal_approx else [</code></pre><h3>After Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">self.bm(</a>t0, t0<a id="change"> + </a>dt<a id="change">)</a>
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min
            ) if self.trapezoidal_approx else [</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-730f464d23e416ca61a4332dfd85d97491f2ee8fecdc008665bbe1f1aef36261L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895605</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/additive/srk.py</div><div id='m_class'> M Class Name: SRKAdditive</div><div id='n_method'> N Class Name: SRKAdditive</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/additive/srk.py</div><div id='n_file'> N File Name: torchsde/_core/methods/additive/srk.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 52</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>
        I_kk = [(delta_bm_ ** 2. - dt) / 2. for delta_bm_ in I_k]
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min</code></pre><h3>After Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">self.bm(</a>t0, t0<a id="change"> + </a>dt<a id="change">)</a>
        I_kk = [(delta_bm_ ** 2. - dt) / 2. for delta_bm_ in I_k]
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-49253e84d32264ed17c926e14f22c0539ffe6757541ee40afae06cbf54201c4eL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895600</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/diagonal/srk_zipped.py</div><div id='m_class'> M Class Name: SRKDiagonal</div><div id='n_method'> N Class Name: SRKDiagonal</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/diagonal/srk_zipped.py</div><div id='n_file'> N File Name: torchsde/_core/methods/diagonal/srk_zipped.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def step(self, t0, y0, dt):
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>
        v = [delta_bm_ ** 2. - dt for delta_bm_ in I_k]

        f_eval = self.sde.f(t0, y0)
        g_prod_eval = self.sde.g_prod(t0, y0, I_k)</code></pre><h3>After Change</h3><pre><code class='java'>
    def step(self, t0, y0, dt):
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        I_k = <a id="change">self.bm(</a>t0, t0<a id="change"> + </a>dt<a id="change">)</a>
        v = [delta_bm_ ** 2. - dt for delta_bm_ in I_k]

        f_eval = self.sde.f(t0, y0)
        g_prod_eval = self.sde.g_prod(t0, y0, I_k)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-613e833d1db6b396510a621429270d3f0aa4ed58cdbc6bea35cce9dc6ad71d94L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895601</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/diagonal/milstein.py</div><div id='m_class'> M Class Name: MilsteinDiagonal</div><div id='n_method'> N Class Name: MilsteinDiagonal</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/diagonal/milstein.py</div><div id='n_file'> N File Name: torchsde/_core/methods/diagonal/milstein.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 27</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>
        I_kk = [(delta_bm_ ** 2. - dt) / 2. for delta_bm_ in I_k]
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min</code></pre><h3>After Change</h3><pre><code class='java'>
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        sqrt_dt = torch.sqrt(dt) if isinstance(dt, torch.Tensor) else math.sqrt(dt)
        I_k = <a id="change">self.bm(</a>t0, t0<a id="change"> + </a>dt<a id="change">)</a>
        I_kk = [(delta_bm_ ** 2. - dt) / 2. for delta_bm_ in I_k]
        I_k0 = (
            utils.compute_trapezoidal_approx(
                self.bm, t0, y0, dt, sqrt_dt, dt1_div_dt=self.dt1_div_dt, dt1_min=self.dt1_min</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-a5eff34c58e7f1a0a3309bfc1f3d7e3884434df3549525a53626dea4b9ee36e8L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895602</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/diagonal/srk.py</div><div id='m_class'> M Class Name: SRKDiagonal</div><div id='n_method'> N Class Name: SRKDiagonal</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/diagonal/srk.py</div><div id='n_file'> N File Name: torchsde/_core/methods/diagonal/srk.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def step(self, t0, y0, dt):
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>

        f_eval = self.sde.f(t0, y0)
        g_prod_eval = self.sde.g_prod(t0, y0, I_k)
        y1 = [</code></pre><h3>After Change</h3><pre><code class='java'>
    def step(self, t0, y0, dt):
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        I_k = <a id="change">self.bm(</a>t0, t0<a id="change"> + </a>dt<a id="change">)</a>

        f_eval = self.sde.f(t0, y0)
        g_prod_eval = self.sde.g_prod(t0, y0, I_k)
        y1 = [</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-636a011071c1011b6e2fda633ee213ea5eb62642886033943efc0450cb30a333L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895603</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/diagonal/euler.py</div><div id='m_class'> M Class Name: EulerDiagonal</div><div id='n_method'> N Class Name: EulerDiagonal</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/diagonal/euler.py</div><div id='n_file'> N File Name: torchsde/_core/methods/diagonal/euler.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 27</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def step(self, t0, y0, dt):
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        I_k = <a id="change">[(bm_next - bm_cur).to(y0[0]) for bm_next, bm_cur in zip(self.bm(t0 + dt), self.bm(t0))]</a>

        t1, y1 = t0 + dt, y0
        f_eval = self.sde.f(t0, y0)
        g_prod_eval = self.sde.g_prod(t0, y0, I_k)</code></pre><h3>After Change</h3><pre><code class='java'>
    def step(self, t0, y0, dt):
        assert dt &gt; 0, &quotUnderflow in dt {}&quot.format(dt)

        I_k = <a id="change">self.bm(</a>t0, t0<a id="change"> + </a>dt<a id="change">)</a>

        t1, y1 = t0 + dt, y0
        f_eval = self.sde.f(t0, y0)
        g_prod_eval = self.sde.g_prod(t0, y0, I_k)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google-research/torchsde/commit/6837a040df931bc71d0cf66f1b7528cc87f58ac3#diff-8ca85803106c113672d4693165e3751a6cfe468ecafa1844e9495b9fe658ac7fL24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34895597</div><div id='project'> Project Name: google-research/torchsde</div><div id='commit'> Commit Name: 6837a040df931bc71d0cf66f1b7528cc87f58ac3</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchsde/_core/methods/general/euler.py</div><div id='m_class'> M Class Name: EulerGeneral</div><div id='n_method'> N Class Name: EulerGeneral</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: base_solver.GenericSDESolver</div><div id='n_parent_class'> N Parent Class: base_solver.GenericSDESolver</div><div id='m_file'> M File Name: torchsde/_core/methods/general/euler.py</div><div id='n_file'> N File Name: torchsde/_core/methods/general/euler.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 27</div><BR>