<html><h3>Pattern ID :19715
</h3><img src='64338517.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        dxs = np.linspace(-0.05, 0.05, 3)
        dys = np.linspace(-0.05, 0.05, 3)
        <a id="change">if action == "m0pdz"</a>:
            dzs<a id="change"> = </a>np.linspace(-0.05, 0.05, 3)
        elif <a id="change">action == "0pdz"</a>:
            dzs<a id="change"> = </a>[0, 0.05]
        elif <a id="change">action == "pdz"</a>:
            dzs<a id="change"> = </a>[0.05]
        else:
            <a id="change">raise </a>ValueError
        das = np.linspace(np.deg2rad(-22.5), np.deg2rad(22.5), 3)
        dbs = np.linspace(np.deg2rad(-22.5), np.deg2rad(22.5), 3)
        dgs = np.linspace(np.deg2rad(-22.5), np.deg2rad(22.5), 3)</code></pre><h3>After Change</h3><pre><code class='java'>

        dxs = [-self.DP, 0, self.DP]
        dys = [-self.DP, 0, self.DP]
        dzs<a id="change"> = </a><a id="change">[</a>-self.DP, 0, self.DP<a id="change"></a>]
        das = np.linspace(-self.DR, self.DR, 3)
        dbs = np.linspace(-self.DR, self.DR, 3)
        dgs = np.linspace(-self.DR, self.DR, 3)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/wkentaro/safepicking/commit/d6e097b7daaa836316bc0951a032e09461ae1d42#diff-f985cd057b0aefd481c603155943b423e7e50ed4fcacef6f880739c67bdbf25eL39' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64338517</div><div id='project'> Project Name: wkentaro/safepicking</div><div id='commit'> Commit Name: d6e097b7daaa836316bc0951a032e09461ae1d42</div><div id='time'> Time: 2021-06-11</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/target_pick/env.py</div><div id='m_class'> M Class Name: PickFromPileEnv</div><div id='n_method'> N Class Name: PickFromPileEnv</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: Env</div><div id='n_parent_class'> N Parent Class: Env</div><div id='m_file'> M File Name: examples/target_pick/env.py</div><div id='n_file'> N File Name: examples/target_pick/env.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 59</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        loss_instance_l = loss_class_l()
        loss_instance_r = loss_class_r() if not isinstance(loss_class_r, int) else loss_class_r

        <a id="change">if op == &quotsum&quot</a>:
            mixed<a id="change"> = </a>loss_instance_l + loss_instance_r
            sign = &quot+&quot

        elif <a id="change">op == &quotmul&quot</a>:
            mixed<a id="change"> = </a>loss_instance_l * loss_instance_r
            sign = &quot*&quot

        elif <a id="change">op == &quotdiv&quot</a>:
            mixed<a id="change"> = </a>loss_instance_l / loss_instance_r
            sign = &quot/&quot

        elif op == &quotpow&quot:
            mixed = loss_instance_l ** 2
            sign = &quot**&quot

        else:
            <a id="change">raise </a>ValueError(&quotUnrecognized op&quot)

        weights = (torch.ones(n_samples, n_assets) / n_assets).to(device=y_dummy.device, dtype=y_dummy.dtype)
</code></pre><h3>After Change</h3><pre><code class='java'>
        true_tensor = python_operator(loss_instance_l(weights, y_dummy),
                                      loss_instance_r(weights, y_dummy) if not r_is_constant else loss_class_r)

        sign<a id="change"> = </a><a id="change">{</a>&quotadd&quot: &quot+&quot, &quottruediv&quot: &quot/&quot, &quotmul&quot: &quot*&quot, &quotpow&quot: &quot**&quot<a id="change">}</a>[op]

        mixed_tensor = mixed_loss(weights, y_dummy)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jankrepl/deepdow/commit/cd0fa7772131cebf9a6abfcdd09474b1a20c4fc8#diff-342d0a5580b6668a1bcc0b9f5e3e04cf47c22ffe7cb7c0bb35a95f16c20c769aL200' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64338516</div><div id='project'> Project Name: jankrepl/deepdow</div><div id='commit'> Commit Name: cd0fa7772131cebf9a6abfcdd09474b1a20c4fc8</div><div id='time'> Time: 2020-06-22</div><div id='author'> Author: jankrepl@yahoo.com</div><div id='file'> File Name: tests/test_losses.py</div><div id='m_class'> M Class Name: TestAllLosses</div><div id='n_method'> N Class Name: TestAllLosses</div><div id='m_method'> M Method Name: test_arithmetic(4)</div><div id='n_method'> N Method Name: test_arithmetic(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_losses.py</div><div id='n_file'> N File Name: tests/test_losses.py</div><div id='m_start'> M Start Line: 205</div><div id='m_end'> M End Line: 235</div><div id='n_start'> N Start Line: 207</div><div id='n_end'> N End Line: 237</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        else:
            generator = torch.Generator(device=device).manual_seed(seed)

        <a id="change">if input_image_type == "pt"</a>:
            input_image<a id="change"> = </a>image
        elif <a id="change">input_image_type == "np"</a>:
            input_image<a id="change"> = </a>image.cpu().numpy().transpose(0, 2, 3, 1)
        elif <a id="change">input_image_type == "pil"</a>:
            input_image = image.cpu().numpy().transpose(0, 2, 3, 1)
            input_image<a id="change"> = </a>VaeImageProcessor.numpy_to_pil(input_image)
        else:
            <a id="change">raise </a>ValueError(f"unsupported input_image_type {input_image_type}.")

        if output_type not in ["pt", "np", "pil"]:
            raise ValueError(f"unsupported output_type {output_type}")</code></pre><h3>After Change</h3><pre><code class='java'>
            generator = torch.manual_seed(seed)
        else:
            generator = torch.Generator(device=device).manual_seed(seed)
        inputs<a id="change"> = </a><a id="change">{
            </a>"prompt": "A painting of a squirrel eating a burger",
            "image": image,
            "generator": generator,
            "num_inference_steps": 2,
            "guidance_scale": 6.0,
            "output_type": "numpy"<a id="change">,
        }</a>
        return inputs

    def test_stable_diffusion_img2img_default_case(self):
        device = "cpu"  &#47&#47 ensure determinism for the device-dependent torch.Generator</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/diffusers/commit/a7f25b4a881c0835980e2a3db5fe09bfc4ab2dc0#diff-1947778ff8a6e5a6d1057853c9a2d5618649ddd9c5aade06e2acaa82614aa45aL99' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64338512</div><div id='project'> Project Name: huggingface/diffusers</div><div id='commit'> Commit Name: a7f25b4a881c0835980e2a3db5fe09bfc4ab2dc0</div><div id='time'> Time: 2023-05-01</div><div id='author'> Author: yixu310@gmail.com</div><div id='file'> File Name: tests/pipelines/stable_diffusion/test_stable_diffusion_img2img.py</div><div id='m_class'> M Class Name: StableDiffusionImg2ImgPipelineFastTests</div><div id='n_method'> N Class Name: StableDiffusionImg2ImgPipelineFastTests</div><div id='m_method'> M Method Name: get_dummy_inputs(3)</div><div id='n_method'> N Method Name: get_dummy_inputs(5)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase,PipelineLatentTesterMixin,PipelineTesterMixin</div><div id='n_parent_class'> N Parent Class: unittest.TestCase,PipelineTesterMixin</div><div id='m_file'> M File Name: tests/pipelines/stable_diffusion/test_stable_diffusion_img2img.py</div><div id='n_file'> N File Name: tests/pipelines/stable_diffusion/test_stable_diffusion_img2img.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 105</div><div id='n_end'> N End Line: 117</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        dxs = np.linspace(-0.05, 0.05, 3)
        dys = np.linspace(-0.05, 0.05, 3)
        <a id="change">if action == "m0pdz"</a>:
            dzs<a id="change"> = </a>np.linspace(-0.05, 0.05, 3)
        elif <a id="change">action == "0pdz"</a>:
            dzs<a id="change"> = </a>[0, 0.05]
        elif <a id="change">action == "pdz"</a>:
            dzs<a id="change"> = </a>[0.05]
        else:
            <a id="change">raise </a>ValueError
        das = np.linspace(np.deg2rad(-22.5), np.deg2rad(22.5), 3)
        dbs = np.linspace(np.deg2rad(-22.5), np.deg2rad(22.5), 3)
        dgs = np.linspace(np.deg2rad(-22.5), np.deg2rad(22.5), 3)</code></pre><h3>After Change</h3><pre><code class='java'>

        dxs = [-self.DP, 0, self.DP]
        dys = [-self.DP, 0, self.DP]
        dzs<a id="change"> = </a><a id="change">[</a>-self.DP, 0, self.DP<a id="change"></a>]
        das = np.linspace(-self.DR, self.DR, 3)
        dbs = np.linspace(-self.DR, self.DR, 3)
        dgs = np.linspace(-self.DR, self.DR, 3)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wkentaro/safepicking/commit/d6e097b7daaa836316bc0951a032e09461ae1d42#diff-f985cd057b0aefd481c603155943b423e7e50ed4fcacef6f880739c67bdbf25eL35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64338506</div><div id='project'> Project Name: wkentaro/safepicking</div><div id='commit'> Commit Name: d6e097b7daaa836316bc0951a032e09461ae1d42</div><div id='time'> Time: 2021-06-11</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/target_pick/env.py</div><div id='m_class'> M Class Name: PickFromPileEnv</div><div id='n_method'> N Class Name: PickFromPileEnv</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: Env</div><div id='n_parent_class'> N Parent Class: Env</div><div id='m_file'> M File Name: examples/target_pick/env.py</div><div id='n_file'> N File Name: examples/target_pick/env.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 59</div><BR>