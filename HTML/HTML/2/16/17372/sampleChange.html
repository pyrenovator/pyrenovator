<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        return self.model(z, pos, batch=batch)

    def training_step(self, batch, batch_idx):
        batch<a id="change"> = </a><a id="change">batch.to(</a>self.device<a id="change">)</a>
        pred<a id="change"> = self(</a>batch.z, batch.pos, batch.batch<a id="change">)</a>
        <a id="change">loss</a><a id="change"> = </a>mse_loss(pred[:,0], <a id="change">batch.y[:,self.label_idx]</a>)
        <a id="change">self.losses[&quottrain&quot].append(loss</a><a id="change">.detach())</a>
        <a id="change">return loss</a>

    def validation_step(self, batch, batch_idx):
        batch = batch.to(self.device)
        pred = self(batch.z, batch.pos, batch.batch)</code></pre><h3>After Change</h3><pre><code class='java'>
        return self.model(z, pos, batch=batch)

    def training_step(self, batch, batch_idx):
        <a id="change">return </a><a id="change">self.step(</a>batch, mse_loss, <a id="change">&quottrain&quot</a><a id="change">)</a>

    def validation_step(self, batch, batch_idx):
        return self.step(batch, mse_loss, &quotval&quot)
</code></pre>