<html><h3>Pattern ID :31156
</h3><img src='91524660.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def configure_distmult_hpo_pipeline():
    <a id="change">pass</a>
</code></pre><h3>After Change</h3><pre><code class='java'>


def configure_distmult_hpo_pipeline(model_name):
    <a id="change">config = </a><a id="change">get_config_dict(</a>model_name<a id="change">)</a>

    &#47&#47 Step 1: Query embedding dimensions
    print_hpo_embedding_dimensions_message()
    embedding_dimensions<a id="change"> = select_positive_integer_values(</a>EMBEDDING_DIMENSIONS_PRINT_MSG,
                                                          EMBEDDING_DIMENSIONS_PROMPT_MSG,
                                                          EMBEDDING_DIMENSIONS_ERROR_MSG<a id="change">)</a>
    <a id="change">config[EMBEDDING_DIM] = </a>embedding_dimensions
    print_section_divider()

    &#47&#47 Step 2: Query margin loss
    print_hpo_margin_losses_message()
    magin_loss<a id="change"> = </a><a id="change">select_float_values(
        print_msg=MARGIN_LOSSES_PRINT_MSG,
        prompt_msg=MARGIN_LOSSES_PROMPT_MSG,
        error_msg=MARGIN_LOSSES_ERROR_MSG)</a>

    <a id="change">config[MARGIN_LOSS] = </a>magin_loss
    print_section_divider()


    &#47&#47 Step 3: Query L_p norms for normalizing the entities
    print_hpo_entity_normalization_norms_message()
    entity_normalization_norm<a id="change"> = </a>select_positive_integer_values(
        print_msg=NORMS_FOR_NORMALIZATION_OF_ENTITIES_PRINT_MSG,
        prompt_msg=NORMS_FOR_NORMALIZATION_OF_ENTITIES_PROMPT_MSG,
        error_msg=NORMS_FOR_NORMALIZATION_OF_ENTITIES_ERROR_MSG
    )
    config[NORM_FOR_NORMALIZATION_OF_ENTITIES]<a id="change"> = </a>entity_normalization_norm
    print_section_divider()

    &#47&#47 Step 4: Query learning rate
    print_hpo_learning_rates_message()
    learning_rate<a id="change"> = </a><a id="change">select_float_values(
        print_msg=LEARNING_RATES_PRINT_MSG,
        prompt_msg=LEARNING_RATES_PROMPT_MSG,
        error_msg=LEARNING_RATES_ERROR_MSG)</a>
    <a id="change">config[LEARNING_RATE] = </a>learning_rate
    print_section_divider()

    &#47&#47 Step 5: Query batch size
    print_hpo_batch_sizes_message()
    batch_size<a id="change"> = </a>select_positive_integer_values(
        print_msg=BATCH_SIZES_PRINT_MSG,
        prompt_msg=BATCH_SIZES_PROMPT_MSG,
        error_msg=BATCH_SIZES_ERROR_MSG)
    <a id="change">config[BATCH_SIZE] = </a>batch_size
    print_section_divider()

    &#47&#47 Step 6: Query number of epochs
    print_hpo_epochs_message()
    number_epochs<a id="change"> = </a>select_positive_integer_values(
        print_msg=EPOCHS_PRINT_MSG,
        prompt_msg=EPOCHS_PROMPT_MSG,
        error_msg=EPOCHS_ERROR_MSG)
    <a id="change">config[NUM_EPOCHS] = </a>number_epochs
    print_section_divider()

    return config</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 23</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/bc8ebdf44130f91c6e0180506efd18c577bbf434#diff-9e8c31d217fbebcd7c65d2b97cd14d53a0568057df56d337489fa833bb5f0f92L82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91524660</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: bc8ebdf44130f91c6e0180506efd18c577bbf434</div><div id='time'> Time: 2018-10-10</div><div id='author'> Author: ali-mehdi@live.de</div><div id='file'> File Name: src/pykeen/utilities/cli_utils/distmult_cli.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: configure_distmult_hpo_pipeline(1)</div><div id='n_method'> N Method Name: configure_distmult_hpo_pipeline(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pykeen/utilities/cli_utils/distmult_cli.py</div><div id='n_file'> N File Name: src/pykeen/utilities/cli_utils/distmult_cli.py</div><div id='m_start'> M Start Line: 82</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 92</div><div id='n_end'> N End Line: 151</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def configure_trans_e_hpo_pipeline():
    <a id="change">pass</a>
</code></pre><h3>After Change</h3><pre><code class='java'>


def configure_trans_e_hpo_pipeline(model_name):
    <a id="change">config = </a><a id="change">get_config_dict(</a>model_name<a id="change">)</a>

    &#47&#47 Step 1: Query embedding dimensions
    print_hpo_embedding_dimensions_message()
    embedding_dimensions<a id="change"> = select_positive_integer_values(</a>EMBEDDING_DIMENSIONS_PRINT_MSG,
                                                          EMBEDDING_DIMENSIONS_PROMPT_MSG,
                                                          EMBEDDING_DIMENSIONS_ERROR_MSG<a id="change">)</a>
    <a id="change">config[EMBEDDING_DIM] = </a>embedding_dimensions
    print_section_divider()

    &#47&#47 Step 2: Query margin loss
    print_hpo_margin_losses_message()
    magin_loss<a id="change"> = </a><a id="change">select_float_values(
        print_msg=MARGIN_LOSSES_PRINT_MSG,
        prompt_msg=MARGIN_LOSSES_PROMPT_MSG,
        error_msg=MARGIN_LOSSES_ERROR_MSG)</a>

    <a id="change">config[MARGIN_LOSS]</a><a id="change"> = </a>magin_loss
    print_section_divider()

    &#47&#47 Step 3: Query L_p norms to use as scoring function
    print_hpo_scoring_fcts_message()
    scoring_fct_norm = select_positive_integer_values(
        print_msg=NORMS_SCORING_FUNCTION_PRINT_MSG,
        prompt_msg=NORMS_SCORING_FUNCTION_PROMPT_MSG,
        error_msg=NORMS_SCORING_FUNCTION_ERROR_MSG
    )
    config[SCORING_FUNCTION_NORM] = scoring_fct_norm
    print_section_divider()

    &#47&#47 Step 4: Query L_p normw for normalizing the entities
    &#47&#47 TODO: Add message
    entity_normalization_norm<a id="change"> = </a>select_positive_integer_values(
        print_msg=NORMS_FOR_NORMALIZATION_OF_ENTITIES_PRINT_MSG,
        prompt_msg=NORMS_FOR_NORMALIZATION_OF_ENTITIES_PROMPT_MSG,
        error_msg=NORMS_FOR_NORMALIZATION_OF_ENTITIES_ERROR_MSG
    )
    config[NORM_FOR_NORMALIZATION_OF_ENTITIES]<a id="change"> = </a>entity_normalization_norm
    print_section_divider()

    &#47&#47 Step 5: Query learning rate
    &#47&#47 TODO: Add message
    learning_rate<a id="change"> = </a><a id="change">select_float_values(
        print_msg=LEARNING_RATES_PRINT_MSG,
        prompt_msg=LEARNING_RATES_PROMPT_MSG,
        error_msg=LEARNING_RATES_ERROR_MSG)</a>
    <a id="change">config[LEARNING_RATE] = </a>learning_rate
    print_section_divider()

    &#47&#47 Step 6: Query batch size
    &#47&#47 TODO: Add message
    batch_size<a id="change"> = </a>select_positive_integer_values(
        print_msg=BATCH_SIZES_PRINT_MSG,
        prompt_msg=BATCH_SIZES_PROMPT_MSG,
        error_msg=BATCH_SIZES_ERROR_MSG)
    <a id="change">config[BATCH_SIZE] = </a>batch_size
    print_section_divider()

    &#47&#47 Step 7: Query number of epochs
    &#47&#47 TODO: Add message
    number_epochs<a id="change"> = </a>select_positive_integer_values(
        print_msg=EPOCHS_PRINT_MSG,
        prompt_msg=EPOCHS_PROMPT_MSG,
        error_msg=EPOCHS_ERROR_MSG)
    <a id="change">config[NUM_EPOCHS] = </a>number_epochs
    print_section_divider()

    &#47&#47 Step 8: Query number of HPO iterations</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/b9c7639b2da9f4a18ac3f866945792d5cc85b7b2#diff-e0777cf9b61817fd8e4f2ff6cb2912fbb39225b8d160f75cf62cb1c5ddd39cb9L104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91524656</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: b9c7639b2da9f4a18ac3f866945792d5cc85b7b2</div><div id='time'> Time: 2018-10-08</div><div id='author'> Author: ali-mehdi@live.de</div><div id='file'> File Name: src/keen/utilities/cli_utils/trans_e_cli.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: configure_trans_e_hpo_pipeline(1)</div><div id='n_method'> N Method Name: configure_trans_e_hpo_pipeline(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/keen/utilities/cli_utils/trans_e_cli.py</div><div id='n_file'> N File Name: src/keen/utilities/cli_utils/trans_e_cli.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 112</div><div id='n_end'> N End Line: 188</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    print("Command linter interface vor TransH (HPO mode) is under development.\n"
          "Please select, a different model or execute PyKEEN in training mode.")
    exit(0)
    <a id="change">pass</a>
</code></pre><h3>After Change</h3><pre><code class='java'>


def configure_trans_h_hpo_pipeline(model_name):
    <a id="change">config = </a><a id="change">get_config_dict(</a>model_name<a id="change">)</a>

    &#47&#47 Step 1: Query embedding dimensions
    print_hpo_embedding_dimensions_message()
    embedding_dimensions<a id="change"> = select_positive_integer_values(</a>EMBEDDING_DIMENSIONS_PRINT_MSG,
                                                          EMBEDDING_DIMENSIONS_PROMPT_MSG,
                                                          EMBEDDING_DIMENSIONS_ERROR_MSG<a id="change">)</a>
    <a id="change">config[EMBEDDING_DIM] = </a>embedding_dimensions
    print_section_divider()

    &#47&#47 Step 2: Query margin loss
    print_hpo_margin_losses_message()
    magin_loss<a id="change"> = </a><a id="change">select_float_values(
        print_msg=MARGIN_LOSSES_PRINT_MSG,
        prompt_msg=MARGIN_LOSSES_PROMPT_MSG,
        error_msg=MARGIN_LOSSES_ERROR_MSG)</a>

    <a id="change">config[MARGIN_LOSS] = </a>magin_loss
    print_section_divider()

    &#47&#47 Step 3: Query L_p norms to use as scoring function
    print_hpo_scoring_fcts_message()
    scoring_fct_norm<a id="change"> = </a>select_positive_integer_values(
        print_msg=NORMS_SCORING_FUNCTION_PRINT_MSG,
        prompt_msg=NORMS_SCORING_FUNCTION_PROMPT_MSG,
        error_msg=NORMS_SCORING_FUNCTION_ERROR_MSG
    )
    config[SCORING_FUNCTION_NORM]<a id="change"> = </a>scoring_fct_norm
    print_section_divider()

    &#47&#47 Step 4: Query weight for the soft constraints
    print_hpo_trans_h_soft_constraints_weights_message()
    soft_constraints_weight<a id="change"> = </a><a id="change">select_float_values(
        print_msg=WEIGHTS_SOFT_CONSTRAINT_TRANS_H_PRINT_MSG,
        prompt_msg=WEIGHTS_SOFT_CONSTRAINT_TRANS_H_PROMPT_MSG,
        error_msg=WEIGHTS_SOFT_CONSTRAINT_TRANS_H_ERROR_MSG
    )</a>
    <a id="change">config[WEIGHT_SOFT_CONSTRAINT_TRANS_H] = </a>soft_constraints_weight
    print_section_divider()


    &#47&#47 Step 5: Query learning rate
    print_hpo_learning_rates_message()
    learning_rate<a id="change"> = </a>select_float_values(
        print_msg=LEARNING_RATES_PRINT_MSG,
        prompt_msg=LEARNING_RATES_PROMPT_MSG,
        error_msg=LEARNING_RATES_ERROR_MSG)
    <a id="change">config[LEARNING_RATE] = </a>learning_rate
    print_section_divider()

    &#47&#47 Step 6: Query batch size
    print_hpo_batch_sizes_message()
    batch_sizes<a id="change"> = </a>select_positive_integer_values(
        print_msg=BATCH_SIZES_PRINT_MSG,
        prompt_msg=BATCH_SIZES_PROMPT_MSG,
        error_msg=BATCH_SIZES_ERROR_MSG)
    <a id="change">config[BATCH_SIZE] = </a>batch_sizes
    print_section_divider()

    &#47&#47 Step 7: Query number of epochs</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/fd0719a5616867bbe49a4d9eecf6b9fb81c237f5#diff-47235ab15d3e337951cabae6049eacd89eb10b21951e4759c4d6a0311723f6c8L106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91524651</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: fd0719a5616867bbe49a4d9eecf6b9fb81c237f5</div><div id='time'> Time: 2018-10-18</div><div id='author'> Author: ali-mehdi@live.de</div><div id='file'> File Name: src/pykeen/utilities/cli_utils/trans_h_cli.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: configure_trans_h_hpo_pipeline(1)</div><div id='n_method'> N Method Name: configure_trans_h_hpo_pipeline(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pykeen/utilities/cli_utils/trans_h_cli.py</div><div id='n_file'> N File Name: src/pykeen/utilities/cli_utils/trans_h_cli.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 116</div><div id='n_end'> N End Line: 184</div><BR>