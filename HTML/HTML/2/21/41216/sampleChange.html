<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    n_dims = input.dim()
    
    <a id="change">if n_dims == 3</a>:
        norm<a id="change"> = input</a><a id="change">.sum(dim=0, keepdim=True)</a> &#47&#47 (1, n_bins, n_frames)
    elif <a id="change">n_dims == 4</a>:
        norm<a id="change"> = input</a><a id="change">.sum(dim=1, keepdim=True)</a> &#47&#47 (batch_size, 1, n_bins, n_frames)
    else:
        <a id="change">raise ValueError(</a><a id="change">"Not support {}-dimension".format(n_dims</a><a id="change">))</a>
    
    mask<a id="change"> = input</a><a id="change"> / </a>(norm<a id="change"> + </a>eps) &#47&#47 (n_sources, n_bins, n_frames) or (batch_size, n_sources, n_bins, n_frames)
    
    return mask
</code></pre><h3>After Change</h3><pre><code class='java'>
    return mask

def ideal_ratio_mask(input, eps=EPS):
    <a id="change">warnings.warn("Use compute_ideal_ratio_mask instead."</a>, DeprecationWarning<a id="change">)</a>
    mask = compute_ideal_ratio_mask(input, eps=eps)
    return mask

def wiener_filter_mask(input, domain=1, eps=EPS):</code></pre>