<html><h3>Pattern ID :27592
</h3><img src='81935378.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 measure accuracy and record loss
            acc1, acc5 = accuracy(output, target, topk=(1, 5))
            losses.update(loss.item(), images.size(0))
            top1.update(<a id="change">acc1[0]</a>, images.size(0))
            top5.update(acc5[0], images.size(0))

            &#47&#47 measure elapsed time</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 switch to evaluate mode
    model.eval()
    <a id="change">if args.per_class_eval</a>:
        classes<a id="change"> = </a>val_loader.dataset.classes
        confmat<a id="change"> = </a><a id="change">ConfusionMatrix(len(</a>classes<a id="change">)</a><a id="change">)</a>
    else:
        confmat<a id="change"> = </a>None

    with torch.no_grad():
        end = time.time()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/6344fa3fb32a265b8557d8697765c11de7bde4d8#diff-09c477d9e7999132b024e7dff61c7ba42b831f8e36af1b15eb3b8cd877ea7f88L221' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81935378</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: 6344fa3fb32a265b8557d8697765c11de7bde4d8</div><div id='time'> Time: 2021-01-12</div><div id='author'> Author: 13126830206@163.com</div><div id='file'> File Name: examples-da/partial/pada.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: validate(3)</div><div id='n_method'> N Method Name: validate(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples-da/partial/pada.py</div><div id='n_file'> N File Name: examples-da/partial/pada.py</div><div id='m_start'> M Start Line: 235</div><div id='m_end'> M End Line: 236</div><div id='n_start'> N Start Line: 221</div><div id='n_end'> N End Line: 257</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 measure accuracy and record loss
            acc1, acc5= accuracy(output, target, topk=(1, 5))
            losses.update(loss.item(), images.size(0))
            top1.update(<a id="change">acc1[0]</a>, images.size(0))
            top5.update(acc5[0], images.size(0))

            &#47&#47 measure elapsed time</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 switch to evaluate mode
    model.eval()
    <a id="change">if args.per_class_eval</a>:
        classes<a id="change"> = </a>val_loader.dataset.classes
        confmat<a id="change"> = </a><a id="change">ConfusionMatrix(len(</a>classes<a id="change">)</a><a id="change">)</a>
    else:
        confmat<a id="change"> = </a>None

    with torch.no_grad():
        end = time.time()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/6344fa3fb32a265b8557d8697765c11de7bde4d8#diff-41534dfd8dac29924afcdc4ac0ae155ef17c839f71543cbff7d15a610b91f1feL189' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81935377</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: 6344fa3fb32a265b8557d8697765c11de7bde4d8</div><div id='time'> Time: 2021-01-12</div><div id='author'> Author: 13126830206@163.com</div><div id='file'> File Name: examples-da/partial/dann.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: validate(3)</div><div id='n_method'> N Method Name: validate(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples-da/partial/dann.py</div><div id='n_file'> N File Name: examples-da/partial/dann.py</div><div id='m_start'> M Start Line: 215</div><div id='m_end'> M End Line: 216</div><div id='n_start'> N Start Line: 210</div><div id='n_end'> N End Line: 246</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            acc1, acc5 = accuracy(output, target, topk=(1, 5))
            losses.update(loss.item(), images.size(0))
            top1.update(acc1[0], images.size(0))
            top5.update(<a id="change">acc5[0]</a>, images.size(0))

            &#47&#47 measure elapsed time
            batch_time.update(time.time() - end)</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 switch to evaluate mode
    model.eval()
    <a id="change">if args.per_class_eval</a>:
        classes<a id="change"> = </a>val_loader.dataset.classes
        confmat<a id="change"> = </a><a id="change">ConfusionMatrix(len(</a>classes<a id="change">)</a><a id="change">)</a>
    else:
        confmat<a id="change"> = </a>None

    with torch.no_grad():
        end = time.time()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/6344fa3fb32a265b8557d8697765c11de7bde4d8#diff-d88d10ce53fe2154a960cc01316fb7e943431c549eaff4fa0a706f90a2c8b677L161' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81935374</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: 6344fa3fb32a265b8557d8697765c11de7bde4d8</div><div id='time'> Time: 2021-01-12</div><div id='author'> Author: 13126830206@163.com</div><div id='file'> File Name: examples-da/partial/source_only.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: validate(3)</div><div id='n_method'> N Method Name: validate(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples-da/partial/source_only.py</div><div id='n_file'> N File Name: examples-da/partial/source_only.py</div><div id='m_start'> M Start Line: 187</div><div id='m_end'> M End Line: 188</div><div id='n_start'> N Start Line: 173</div><div id='n_end'> N End Line: 209</div><BR>