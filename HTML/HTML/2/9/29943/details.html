<html><h3>Pattern ID :29943
</h3><img src='88809739.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        mask = torch.zeros(h, w, dtype=torch.float)
        for i in range(h):
            for j in range(w):
                <a id="change">if </a><a id="change">j &gt;= 2 and j &lt; 8 and i &gt;= 2 and i &lt; 8</a>:
                    mask[(i, j)]<a id="change"> = </a>1
        return to_tensor(mask, non_blocking=False)

    def nc_filter_img(self) -&gt; torch.Tensor:</code></pre><h3>After Change</h3><pre><code class='java'>
    def filter_img(self):
        h, w = self.dataset.n_dim
        mask = torch.zeros(h, w, dtype=torch.float)
        <a id="change">mask[2:7, 2:7]</a> = 1
        return to_tensor(mask, non_blocking=False)

    def nc_filter_img(self) -&gt; torch.Tensor:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/bff3c054b49f95162cc6930c4710dcc178dea095#diff-7af6064ea7ec79a26e3db236e9cf91c2f5bb481beb04de7a8aadbb1986e10026L257' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88809739</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: bff3c054b49f95162cc6930c4710dcc178dea095</div><div id='time'> Time: 2020-07-05</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/defense/backdoor/abs.py</div><div id='m_class'> M Class Name: ABS</div><div id='n_method'> N Class Name: ABS</div><div id='m_method'> M Method Name: filter_img(1)</div><div id='n_method'> N Method Name: filter_img(1)</div><div id='m_parent_class'> M Parent Class: Defense_Backdoor</div><div id='n_parent_class'> N Parent Class: Defense_Backdoor</div><div id='m_file'> M File Name: trojanzoo/defense/backdoor/abs.py</div><div id='n_file'> N File Name: trojanzoo/defense/backdoor/abs.py</div><div id='m_start'> M Start Line: 257</div><div id='m_end'> M End Line: 262</div><div id='n_start'> N Start Line: 258</div><div id='n_end'> N End Line: 259</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def filter_img(self):
        h, w = self.dataset.n_dim
        mask = torch.zeros(h, w, dtype=torch.float)
        for <a id="change">i</a> in range(h):
            for j in range(w):
                <a id="change">if j &gt;= 2</a><a id="change"> and j &lt; 8 and i &gt;= 2 and i &lt; 8</a>:
                    mask[(i, j)]<a id="change"> = </a>1
        return to_tensor(mask, non_blocking=False)

    def nc_filter_img(self) -&gt; torch.Tensor:</code></pre><h3>After Change</h3><pre><code class='java'>
    def filter_img(self):
        h, w = self.dataset.n_dim
        mask = torch.zeros(h, w, dtype=torch.float)
        <a id="change">mask[2:7, 2:7]</a> = 1
        return to_tensor(mask, non_blocking=False)

    def nc_filter_img(self) -&gt; torch.Tensor:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/bff3c054b49f95162cc6930c4710dcc178dea095#diff-7af6064ea7ec79a26e3db236e9cf91c2f5bb481beb04de7a8aadbb1986e10026L255' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88809769</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: bff3c054b49f95162cc6930c4710dcc178dea095</div><div id='time'> Time: 2020-07-05</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/defense/backdoor/abs.py</div><div id='m_class'> M Class Name: ABS</div><div id='n_method'> N Class Name: ABS</div><div id='m_method'> M Method Name: filter_img(1)</div><div id='n_method'> N Method Name: filter_img(1)</div><div id='m_parent_class'> M Parent Class: Defense_Backdoor</div><div id='n_parent_class'> N Parent Class: Defense_Backdoor</div><div id='m_file'> M File Name: trojanzoo/defense/backdoor/abs.py</div><div id='n_file'> N File Name: trojanzoo/defense/backdoor/abs.py</div><div id='m_start'> M Start Line: 257</div><div id='m_end'> M End Line: 262</div><div id='n_start'> N Start Line: 258</div><div id='n_end'> N End Line: 259</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    list_field = _LABEL_LIST_FIELDS.get(embedded_doc_type, None)
    has_attrs = embedded_doc_type in _HAS_ATTRIBUTES_DICT

    for <a id="change">field</a> in fields:
        if (
            list_field is not None
            and field.get("name", None) == list_field
            and field.get("ftype", None) == "fiftyone.core.fields.ListField"
        ):
            path = name + "." + list_field
            field["subfield"] = "fiftyone.core.fields.EmbeddedDocumentField"
            field["fields"] = _do_infer_fields(coll, path, is_list_field=True)

        <a id="change">if </a><a id="change">(
            has_attrs
            and field.get("name", None) == "attributes"
            and field.get("ftype", None) == "fiftyone.core.fields.DictField"
        )</a>:
            path<a id="change"> = </a>name + "." + "attributes"
            field["subfield"] = "fiftyone.core.fields.EmbeddedDocumentField"
            field["fields"] = _do_infer_fields(coll, path)
</code></pre><h3>After Change</h3><pre><code class='java'>
            and field.get("ftype", None) == "fiftyone.core.fields.ListField"
        ):
            list_path = name + "." + list_field
            ltype = <a id="change">embedded_doc_type[:-1]</a>  &#47&#47 remove "s"
            field["subfield"] = "fiftyone.core.fields.EmbeddedDocumentField"
            field["embedded_doc_type"] = ltype
            field["fields"] = _do_infer_fields(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/0df6bc4a4d302f9db6c9b69697ed1564629bdaf6#diff-754d2ab37ba080d18f919795d88978a7031896949642b2fdefeeba1aa2cf5cd5L105' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88809785</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 0df6bc4a4d302f9db6c9b69697ed1564629bdaf6</div><div id='time'> Time: 2022-04-04</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/migrations/revisions/v0_16_0.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _infer_fields(3)</div><div id='n_method'> N Method Name: _infer_fields(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/migrations/revisions/v0_16_0.py</div><div id='n_file'> N File Name: fiftyone/migrations/revisions/v0_16_0.py</div><div id='m_start'> M Start Line: 109</div><div id='m_end'> M End Line: 130</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 118</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    for lab in [701]:  &#47&#47 range(1000):
        img_str = &quot&quot
        count = 0
        for <a id="change">ind</a> in vog_list:
            <a id="change">if </a><a id="change">ground_truth[ind] == lab and count &lt; 25</a>:
                pr_label = imagenet_classes[pr[ind]][1][2:-1].split(&quot,&quot)[0] 
                img_str<a id="change"> += </a>&quot-label "{}" ./{}/weight_32000/img_{:05d}.jpg &quot.format(pr_label, load_path, ind)
                count += 1
        os.system(&quotmontage -quiet {} -tile 5x5 -geometry +0+0 -pointsize 33 ./imagenet_samples/{:03d}_{}&quot.format(img_str, lab, out_name))
</code></pre><h3>After Change</h3><pre><code class='java'>
def plot_grid(score_x, vog, dataset_classes, x_gt, x_pr, label_type):
    count = 0
    for ind in score_x:
        img_str = &quot-label "{:.4f}\nGT: {}\nPT: {}" ./{}/weight_32000/img_{:05d}.jpg &quot.format(vog[ind], dataset_classes[x_gt[ind]][1][2:-1].split(&quot,&quot)[0], <a id="change">dataset_classes[x_pr[ind]][1][2:-1]</a>.split(&quot,&quot)[0], load_path, ind)
        os.system(&quotmontage -quiet {} -tile 1x -geometry +0+0 -pointsize 33 ./{:03d}_{}.jpg&quot.format(img_str, ind, label_type))
        count += 1
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/chirag126/vog/commit/3ee87c7f69ff5289cb7138bd3e042e91562f6490#diff-edb4aece2b1cd309a69d17c509f55e22d319fb7061558b53e4df937291a06b71L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88809743</div><div id='project'> Project Name: chirag126/vog</div><div id='commit'> Commit Name: 3ee87c7f69ff5289cb7138bd3e042e91562f6490</div><div id='time'> Time: 2020-10-09</div><div id='author'> Author: chiragagarwall12@gmail.com</div><div id='file'> File Name: imagenet/train_visualize_grad.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_grid(6)</div><div id='n_method'> N Method Name: plot_grid(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: imagenet/train_visualize_grad.py</div><div id='n_file'> N File Name: imagenet/train_visualize_grad.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    list_field = _LABEL_LIST_FIELDS.get(embedded_doc_type, None)
    has_attrs = embedded_doc_type in _HAS_ATTRIBUTES_DICT

    for <a id="change">field</a> in fields:
        if (
            list_field is not None
            and field.get("name", None) == list_field
            and field.get("ftype", None) == "fiftyone.core.fields.ListField"
        ):
            path = name + "." + list_field
            field["subfield"] = "fiftyone.core.fields.EmbeddedDocumentField"
            field["fields"] = _do_infer_fields(coll, path, is_list_field=True)

        <a id="change">if </a><a id="change">(
            has_attrs
            and field.get("name", None) == "attributes"
            and field.get("ftype", None) == "fiftyone.core.fields.DictField"
        )</a>:
            path<a id="change"> = </a>name + "." + "attributes"
            field["subfield"] = "fiftyone.core.fields.EmbeddedDocumentField"
            field["fields"] = _do_infer_fields(coll, path)
</code></pre><h3>After Change</h3><pre><code class='java'>
            and field.get("ftype", None) == "fiftyone.core.fields.ListField"
        ):
            list_path = name + "." + list_field
            ltype = <a id="change">embedded_doc_type[:-1]</a>  &#47&#47 remove "s"
            field["subfield"] = "fiftyone.core.fields.EmbeddedDocumentField"
            field["embedded_doc_type"] = ltype
            field["fields"] = _do_infer_fields(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/1ad20d651732a2bef0406526e3ff0171dea81320#diff-754d2ab37ba080d18f919795d88978a7031896949642b2fdefeeba1aa2cf5cd5L105' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88809806</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 1ad20d651732a2bef0406526e3ff0171dea81320</div><div id='time'> Time: 2022-04-27</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/migrations/revisions/v0_16_0.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _infer_fields(3)</div><div id='n_method'> N Method Name: _infer_fields(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/migrations/revisions/v0_16_0.py</div><div id='n_file'> N File Name: fiftyone/migrations/revisions/v0_16_0.py</div><div id='m_start'> M Start Line: 109</div><div id='m_end'> M End Line: 130</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 118</div><BR>