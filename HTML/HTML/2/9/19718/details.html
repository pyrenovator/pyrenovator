<html><h3>Pattern ID :19718
</h3><img src='64354389.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    from .moments import moments
    bwimage = _make_binary(bwimage)

    <a id="change">if </a>not np.any(bwimage):
        return 0

    cof = mh.center_of_mass(bwimage)
    hull_mu00 = moments(bwimage, 0, 0, cof)
    hull_mu11 = moments(bwimage, 1, 1, cof)
    hull_mu02 = moments(bwimage, 0, 2, cof)
    hull_mu20 = moments(bwimage, 2, 0, cof)

    &#47&#47 Parameters of the &quotimage ellipse&quot
    &#47&#47   (the constant intensity ellipse with the same mass and
    &#47&#47   second order moments as the original image.)
    &#47&#47   From Prokop, RJ, and Reeves, AP.  1992. CVGIP: Graphical
    &#47&#47   Models and Image Processing 54(5):438-460
    semimajor = np.sqrt((2 * (hull_mu20 + hull_mu02 + \
                    np.sqrt((hull_mu20 - hull_mu02)**2 + \
                    4 * hull_mu11**2)))/hull_mu00)

    semiminor<a id="change"> = </a><a id="change">np.sqrt(</a>(2 * (hull_mu20<a id="change"> + hull_mu02 - \
                    </a>np.sqrt((hull_mu20 - hull_mu02)<a id="change">**2</a> + \
                    <a id="change">4</a><a id="change"> * </a>hull_mu11**2)))/hull_mu00<a id="change">)</a>

    if semimajor == 0.:
        return 0.
    return  np.sqrt(semimajor**2 - semiminor**2) / semimajor</code></pre><h3>After Change</h3><pre><code class='java'>
    r : float
        Eccentricity measure
    
    semimajor<a id="change">, semiminor</a> = ellipse_axes(bwimage)
    if semimajor == 0.:
        return 0.
    return  np.sqrt(semimajor**2 - semiminor**2) / semimajor</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/luispedro/mahotas/commit/dc0696d7d48586992ea3cab12ad5ff5aa5f059a2#diff-0bec637cd35556779fb0c31aee6a55cb6b23a83aae9748523e42a788542abf9dL56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64354389</div><div id='project'> Project Name: luispedro/mahotas</div><div id='commit'> Commit Name: dc0696d7d48586992ea3cab12ad5ff5aa5f059a2</div><div id='time'> Time: 2014-03-12</div><div id='author'> Author: luis@luispedro.org</div><div id='file'> File Name: mahotas/features/shape.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eccentricity(1)</div><div id='n_method'> N Method Name: eccentricity(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mahotas/features/shape.py</div><div id='n_file'> N File Name: mahotas/features/shape.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 78</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 101</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if R is not None:
            pass
        elif <a id="change"></a>X is not None and Y is not None:
            X, Y = Rotate_Cartesian(-self["PA"].value, X, Y)
            R<a id="change"> = </a><a id="change">np.sqrt(</a>X<a id="change">**2 + </a>(Y / self["q"].value)<a id="change">**2</a><a id="change">)</a>
        else:
            X, Y = sample_image.get_coordinate_meshgrid(self["center_x"].value, self["center_y"].value)
            X, Y = Rotate_Cartesian(-self["PA"].value, X, Y)
            R = np.sqrt(X**2 + (Y / self["q"].value)**2)</code></pre><h3>After Change</h3><pre><code class='java'>
        Y /= self["q"].value
        X, Y = Rotate_Cartesian(self["PA"].value, X, Y)
        
        return sample_image<a id="change">, X, Y</a>
        
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/6df29afd1ddc3478624c8ba8aa2b1149255b1ceb#diff-b0bbcd6415decf9c05cba059f40dc2c030a7ad0882a21b0267f4b0ce58afb1ffL53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64354384</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: 6df29afd1ddc3478624c8ba8aa2b1149255b1ceb</div><div id='time'> Time: 2022-06-13</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/models/galaxy_model_object.py</div><div id='m_class'> M Class Name: Galaxy_Model</div><div id='n_method'> N Class Name: Galaxy_Model</div><div id='m_method'> M Method Name: sample_model(4)</div><div id='n_method'> N Method Name: sample_model(5)</div><div id='m_parent_class'> M Parent Class: BaseModel</div><div id='n_parent_class'> N Parent Class: BaseModel</div><div id='m_file'> M File Name: autoprof/models/galaxy_model_object.py</div><div id='n_file'> N File Name: autoprof/models/galaxy_model_object.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if X is None or Y is None:
            X, Y = sample_image.get_coordinate_meshgrid(self["center_x"].value, self["center_y"].value)
        <a id="change">if </a>R is None:
            R<a id="change"> = </a><a id="change">np.sqrt(</a>X<a id="change">**2 + </a>Y<a id="change">**2</a><a id="change">)</a>
            
        X, Y = Rotate_Cartesian(-self["PA"].value, X, Y)
        Y /= self["q"].value
        PA = UnivariateSpline(self.profR, self["PA(R)"].get_values(), ext = "const", s = 0)</code></pre><h3>After Change</h3><pre><code class='java'>
        if X is None or Y is None:
            X, Y = sample_image.get_coordinate_meshgrid(self["center_x"].value, self["center_y"].value)

        sample_image<a id="change">, X, Y</a> = super().sample_model(sample_image, X = X, Y = Y)

        R = self.radius_metric(X, Y)
        PA = UnivariateSpline(self.profR, np.unwrap(self["PA(R)"].get_values()*2)/2, ext = "const", s = 0)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/6df29afd1ddc3478624c8ba8aa2b1149255b1ceb#diff-451fb0ba5c1542751907e02d02e6cd501d388fbe86ebfeb9e9a8c1348d1d06d8L113' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64354383</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: 6df29afd1ddc3478624c8ba8aa2b1149255b1ceb</div><div id='time'> Time: 2022-06-13</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/models/warp_model.py</div><div id='m_class'> M Class Name: Warp_Galaxy</div><div id='n_method'> N Class Name: Warp_Galaxy</div><div id='m_method'> M Method Name: sample_model(4)</div><div id='n_method'> N Method Name: sample_model(5)</div><div id='m_parent_class'> M Parent Class: Galaxy_Model</div><div id='n_parent_class'> N Parent Class: Galaxy_Model</div><div id='m_file'> M File Name: autoprof/models/warp_model.py</div><div id='n_file'> N File Name: autoprof/models/warp_model.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 121</div><BR>