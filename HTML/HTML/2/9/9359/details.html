<html><h3>Pattern ID :9359
</h3><img src='33522363.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                            help=&quotMargin in hinge loss.&quot)
        parser.add_argument(&quot--base_method&quot, type=str, default=&quotBPR&quot,
                            help=&quotBasic method to generate recommendations: BPR, GMF&quot)
        <a id="change">return SLRCPlus.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        self.margin = args.margin
        self.stage = args.stage</code></pre><h3>After Change</h3><pre><code class='java'>
                            help=&quotStage of training: 1-KG_pretrain, 2-recommendation.&quot)
        parser.add_argument(&quot--base_method&quot, type=str, default=&quotBPR&quot,
                            help=&quotBasic method to generate recommendations: BPR, GMF&quot)
        <a id="change">parser.add_argument(&quot--emb_size&quot</a><a id="change">, type=int, default=64,
                            help=&quotSize of embedding vectors.&quot)</a>
        parser.add_argument(&quot--time_scalar&quot, type=int, default=60 * 60 * 24 * 100,
                            help=&quotTime scalar for time intervals.&quot)
        <a id="change">parser.add_argument(&quot--category_col&quot</a><a id="change">, type=str, default=&quoti_category&quot,
                            help=&quotThe name of category column in item_meta.csv.&quot)</a>
        parser.add_argument(&quot--lr_scale&quot, type=float, default=0.1,
                            help=&quotScale the lr for parameters in pre-trained KG model.&quot)
        parser.add_argument(&quot--margin&quot, type=float, default=1,
                            help=&quotMargin in hinge loss.&quot)
        <a id="change">return </a><a id="change">SequentialModel.parse_model_args(parser</a><a id="change">)</a>

    def __init__(self, args, corpus):
        self.margin = args.margin
        self.stage = args.stage</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/921472ff6f3ec55f2df913475748fa3da1ea73b7#diff-bb17336856be849d501235ed37ff6b13cb1dd6799a21764b5869947e3cacfb8dL25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33522363</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: 921472ff6f3ec55f2df913475748fa3da1ea73b7</div><div id='time'> Time: 2021-02-25</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/sequential/Chorus.py</div><div id='m_class'> M Class Name: Chorus</div><div id='n_method'> N Class Name: Chorus</div><div id='m_method'> M Method Name: parse_model_args(1)</div><div id='n_method'> N Method Name: parse_model_args(1)</div><div id='m_parent_class'> M Parent Class: SequentialModel</div><div id='n_parent_class'> N Parent Class: SLRCPlus</div><div id='m_file'> M File Name: src/models/sequential/Chorus.py</div><div id='n_file'> N File Name: src/models/sequential/Chorus.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                            help=&quotMargin in hinge loss.&quot)
        parser.add_argument(&quot--base_method&quot, type=str, default=&quotBPR&quot,
                            help=&quotBasic method to generate recommendations: BPR, GMF&quot)
        <a id="change">return SLRCPlus.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        self.margin = args.margin
        self.stage = args.stage</code></pre><h3>After Change</h3><pre><code class='java'>
                            help=&quotStage of training: 1-KG_pretrain, 2-recommendation.&quot)
        parser.add_argument(&quot--base_method&quot, type=str, default=&quotBPR&quot,
                            help=&quotBasic method to generate recommendations: BPR, GMF&quot)
        <a id="change">parser.add_argument(&quot--emb_size&quot</a><a id="change">, type=int, default=64,
                            help=&quotSize of embedding vectors.&quot)</a>
        <a id="change">parser.add_argument(&quot--time_scalar&quot</a><a id="change">, type=int, default=60 * 60 * 24 * 100,
                            help=&quotTime scalar for time intervals.&quot)</a>
        parser.add_argument(&quot--category_col&quot, type=str, default=&quoti_category&quot,
                            help=&quotThe name of category column in item_meta.csv.&quot)
        parser.add_argument(&quot--lr_scale&quot, type=float, default=0.1,
                            help=&quotScale the lr for parameters in pre-trained KG model.&quot)
        parser.add_argument(&quot--margin&quot, type=float, default=1,
                            help=&quotMargin in hinge loss.&quot)
        <a id="change">return </a><a id="change">SequentialModel.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        self.margin = args.margin
        self.stage = args.stage</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/921472ff6f3ec55f2df913475748fa3da1ea73b7#diff-bb17336856be849d501235ed37ff6b13cb1dd6799a21764b5869947e3cacfb8dL18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33522362</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: 921472ff6f3ec55f2df913475748fa3da1ea73b7</div><div id='time'> Time: 2021-02-25</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/sequential/Chorus.py</div><div id='m_class'> M Class Name: Chorus</div><div id='n_method'> N Class Name: Chorus</div><div id='m_method'> M Method Name: parse_model_args(1)</div><div id='n_method'> N Method Name: parse_model_args(1)</div><div id='m_parent_class'> M Parent Class: SequentialModel</div><div id='n_parent_class'> N Parent Class: SLRCPlus</div><div id='m_file'> M File Name: src/models/sequential/Chorus.py</div><div id='n_file'> N File Name: src/models/sequential/Chorus.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def parse_model_args(parser, model_name=&quotChorus&quot):
        parser.add_argument(&quot--stage&quot, type=int, default=2,
                            help=&quotStage of training: 1-KG pretrain, 2-recommendation.&quot)
        <a id="change">parser.add_argument(&quot--emb_size&quot</a><a id="change">, type=int, default=64,
                            help=&quotSize of embedding vectors.&quot)</a>
        parser.add_argument(&quot--lr_scale&quot, type=float, default=0.1,
                            help=&quotScale the lr for parameters in pretrained KG model.&quot)
        parser.add_argument(&quot--margin&quot, type=float, default=1,
                            help=&quotMargin in hinge loss.&quot)
        <a id="change">parser.add_argument(&quot--time_scalar&quot</a><a id="change">, type=int, default=60 * 60 * 24 * 100,
                            help=&quotTime scalar for time intervals.&quot)</a>
        parser.add_argument(&quot--base_method&quot, type=str, default=&quotBPR&quot,
                            help=&quotBasic method to generate recommendations: BPR, GMF&quot)
        <a id="change">return BaseModel.parse_model_args(</a>parser, model_name<a id="change">)</a>

    def __init__(self, args, corpus):
        self.stage = args.stage
        self.emb_size = args.emb_size</code></pre><h3>After Change</h3><pre><code class='java'>
                            help=&quotMargin in hinge loss.&quot)
        parser.add_argument(&quot--base_method&quot, type=str, default=&quotBPR&quot,
                            help=&quotBasic method to generate recommendations: BPR, GMF&quot)
        <a id="change">return </a><a id="change">SLRC.parse_model_args(</a>parser, model_name<a id="change">)</a>

    def __init__(self, args, corpus):
        self.emb_size = args.emb_size
        self.time_scalar = args.time_scalar</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/25fac75a3939959fb807d2413754135b9b650fec#diff-d384a8e678eb2b3e28e0d6bfae53bb110f3d9300a71edb23328a245769bec203L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33522360</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: 25fac75a3939959fb807d2413754135b9b650fec</div><div id='time'> Time: 2020-05-19</div><div id='author'> Author: wangcy18@mails.tsinghua.edu.cn</div><div id='file'> File Name: src/models/Chorus.py</div><div id='m_class'> M Class Name: Chorus</div><div id='n_method'> N Class Name: Chorus</div><div id='m_method'> M Method Name: parse_model_args(2)</div><div id='n_method'> N Method Name: parse_model_args(2)</div><div id='m_parent_class'> M Parent Class: SLRC</div><div id='n_parent_class'> N Parent Class: BaseModel</div><div id='m_file'> M File Name: src/models/Chorus.py</div><div id='n_file'> N File Name: src/models/Chorus.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def parse_model_args(parser):
        parser.add_argument(&quot--attention_size&quot, type=int, default=50,
                            help=&quotSize of attention hidden space.&quot)
        <a id="change">return GRU4Rec.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        self.attention_size = args.attention_size
        super().__init__(args, corpus)</code></pre><h3>After Change</h3><pre><code class='java'>
class NARM(SequentialModel):
    @staticmethod
    def parse_model_args(parser):
        <a id="change">parser.add_argument(&quot--emb_size&quot</a><a id="change">, type=int, default=64,
                            help=&quotSize of embedding vectors.&quot)</a>
        <a id="change">parser.add_argument(&quot--hidden_size&quot</a><a id="change">, type=int, default=100,
                            help=&quotSize of hidden vectors in GRU.&quot)</a>
        parser.add_argument(&quot--attention_size&quot, type=int, default=50,
                            help=&quotSize of attention hidden space.&quot)
        <a id="change">return </a><a id="change">SequentialModel.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        self.emb_size = args.emb_size
        self.hidden_size = args.hidden_size</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/c4edfa4402cd70f204f41ee5b0793f6e8a0b456d#diff-1dae282333b22da819fd835b0b25e1b87418c1ee2864c5bfac9a36200836e7c7L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33522358</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: c4edfa4402cd70f204f41ee5b0793f6e8a0b456d</div><div id='time'> Time: 2020-11-17</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/sequential/NARM.py</div><div id='m_class'> M Class Name: NARM</div><div id='n_method'> N Class Name: NARM</div><div id='m_method'> M Method Name: parse_model_args(1)</div><div id='n_method'> N Method Name: parse_model_args(1)</div><div id='m_parent_class'> M Parent Class: SequentialModel</div><div id='n_parent_class'> N Parent Class: GRU4Rec</div><div id='m_file'> M File Name: src/models/sequential/NARM.py</div><div id='n_file'> N File Name: src/models/sequential/NARM.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 19</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def parse_model_args(parser):
        parser.add_argument(&quot--time_max&quot, type=int, default=512,
                            help=&quotMax time intervals.&quot)
        <a id="change">return SASRec.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        super().__init__(args, corpus)
        self.max_time = args.time_max</code></pre><h3>After Change</h3><pre><code class='java'>
    def parse_model_args(parser):
        parser.add_argument(&quot--emb_size&quot, type=int, default=64,
                            help=&quotSize of embedding vectors.&quot)
        <a id="change">parser.add_argument(&quot--num_layers&quot</a><a id="change">, type=int, default=1,
                            help=&quotNumber of self-attention layers.&quot)</a>
        <a id="change">parser.add_argument(&quot--num_heads&quot</a><a id="change">, type=int, default=4,
                            help=&quotNumber of attention heads.&quot)</a>
        parser.add_argument(&quot--time_max&quot, type=int, default=512,
                            help=&quotMax time intervals.&quot)
        <a id="change">return </a><a id="change">SequentialModel.parse_model_args(</a>parser<a id="change">)</a>

    def __init__(self, args, corpus):
        super().__init__(args, corpus)
        self.emb_size = args.emb_size</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/82e155ffe9b12a8da63c84b8dc1cc31428ed8466#diff-930067dc57ea4b1ae08c85762066209171b288614330259815bfa5e3f0aae1acL27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33522356</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: 82e155ffe9b12a8da63c84b8dc1cc31428ed8466</div><div id='time'> Time: 2022-08-14</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/sequential/TiSASRec.py</div><div id='m_class'> M Class Name: TiSASRec</div><div id='n_method'> N Class Name: TiSASRec</div><div id='m_method'> M Method Name: parse_model_args(1)</div><div id='n_method'> N Method Name: parse_model_args(1)</div><div id='m_parent_class'> M Parent Class: SequentialModel</div><div id='n_parent_class'> N Parent Class: SASRec</div><div id='m_file'> M File Name: src/models/sequential/TiSASRec.py</div><div id='n_file'> N File Name: src/models/sequential/TiSASRec.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 30</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 36</div><BR>