<html><h3>Pattern ID :30518
</h3><img src='90279040.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        len(data_params), len(df_list)
                    )
                )
            df_list_norm = <a id="change">list()</a>
            for df, df_data_params in zip(df_list, data_params):
                df_list_norm.append(_normalization(df, df_data_params))
            df<a id="change"> = </a>df_list_norm
        else:
            &#47&#47 Global Normalization
            df_joined, episodes = join_dataframes(df_list)</code></pre><h3>After Change</h3><pre><code class='java'>
        df: pd.DataFrame, normalized
    
    for name in df.columns:
        <a id="change">if name not in data_params.keys()</a>:
            raise ValueError("Unexpected column {} in data".format(name))
        new_name<a id="change"> = </a>name
        <a id="change">if name == "ds"</a>:
            new_name<a id="change"> = </a>"t"
        if name == "y":
            new_name = "y_scaled"
        df[new_name] = df[name].sub(data_params[name].shift).div(data_params[name].scale)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/6619741f934957dff2a7fa4ff66620772d41471f#diff-cb8ae2d50e5d5d245ed6fcc8cadf2baf7294fa9ac5c63e819fbfe34f0e4c2552L258' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90279040</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 6619741f934957dff2a7fa4ff66620772d41471f</div><div id='time'> Time: 2022-02-14</div><div id='author'> Author: ourownstory@users.noreply.github.com</div><div id='file'> File Name: neuralprophet/df_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: normalize(2)</div><div id='n_method'> N Method Name: normalize(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: neuralprophet/df_utils.py</div><div id='n_file'> N File Name: neuralprophet/df_utils.py</div><div id='m_start'> M Start Line: 258</div><div id='m_end'> M End Line: 294</div><div id='n_start'> N Start Line: 296</div><div id='n_end'> N End Line: 305</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        &#47&#47&#47&#47 Regressors
        if regressor_config is not None:
            self.regressor_names<a id="change"> = </a>sorted(<a id="change">list(</a>regressor_config.keys()<a id="change">)</a>)
            self.regressor_params = new_param(dims=[len(regressor_config.keys())])
        else:
            self.regressor_names = None</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47&#47&#47 Regressors
        self.regressors_dims = regressors_dims
        <a id="change">if self.regressors_dims is not None</a>:
            self.regressor_params = nn.ParameterDict({})
            n_additive_regressor_params = 0
            n_multiplicative_regressor_params = 0
            for configs in self.regressors_dims.values():
                <a id="change">if configs["mode"] == "additive"</a>:
                    n_additive_regressor_params<a id="change"> += </a>1
                else:
                    n_multiplicative_regressor_params += 1

            self.regressor_params["additive"]<a id="change"> = </a>new_param(dims=[n_additive_regressor_params])
            self.regressor_params["multiplicative"] = new_param(dims=[n_multiplicative_regressor_params])
        else:
            self.regressor_params = None</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/71ff07c9baa8002f2611b7f6d3f8f94825e59b1b#diff-0de8813491ea3b065d703741fb108bf10c1d8d71d7ea683d07204576625d16b8L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90279013</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 71ff07c9baa8002f2611b7f6d3f8f94825e59b1b</div><div id='time'> Time: 2020-09-14</div><div id='author'> Author: hansika.hewamalage@monash.edu</div><div id='file'> File Name: neuralprophet/time_net.py</div><div id='m_class'> M Class Name: TimeNet</div><div id='n_method'> N Class Name: TimeNet</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(12)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: neuralprophet/time_net.py</div><div id='n_file'> N File Name: neuralprophet/time_net.py</div><div id='m_start'> M Start Line: 162</div><div id='m_end'> M End Line: 170</div><div id='n_start'> N Start Line: 162</div><div id='n_end'> N End Line: 179</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        trajectory_history = torch.cat(all_trajectory_history)
        intent_pose = torch.cat(all_intent_pose)
        trajectory_future = torch.cat(all_trajectory_future)
        self.items<a id="change"> = </a><a id="change">list(</a>zip(img_history, trajectory_history, intent_pose, trajectory_future)<a id="change">)</a>


        self.img_transform = img_transform
</code></pre><h3>After Change</h3><pre><code class='java'>
        
        data_sizes = np.load(os.path.join(_CURRENT, &quot../data/&quot, &quotdataset_sizes.npy&quot))

        <a id="change">if dataset_type == "train"</a>:
            self.data_size<a id="change"> = </a>data_sizes[0]
        elif <a id="change">dataset_type == "val"</a>:
            self.data_size<a id="change"> = </a>data_sizes[1]
        else:
            self.data_size = data_sizes[2]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xushenlz/parksim/commit/07084f704d2db178c239bfda3fcafe486da20f74#diff-a3f042884615930a4caa083102a7d1283f95759425b717c8533cfd10449e1806L79' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90278996</div><div id='project'> Project Name: xushenlz/parksim</div><div id='commit'> Commit Name: 07084f704d2db178c239bfda3fcafe486da20f74</div><div id='time'> Time: 2022-04-22</div><div id='author'> Author: lacayomatt@gmail.com</div><div id='file'> File Name: python/parksim/trajectory_predict/intent_transformer/dataset.py</div><div id='m_class'> M Class Name: IntentTransformerDataset</div><div id='n_method'> N Class Name: IntentTransformerDataset</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: BaseTransformerDataset</div><div id='m_file'> M File Name: python/parksim/trajectory_predict/intent_transformer/dataset.py</div><div id='n_file'> N File Name: python/parksim/trajectory_predict/intent_transformer/dataset.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 66</div><BR>