<html><h3>Pattern ID :42109
</h3><img src='117887248.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    )

    best_config = rep_run.get_best_config(metric=metric)
    <a id="change">print(f"Best config is: {best_config}"</a><a id="change">)</a>
    print("Results available at: ")
    print(rep_run._get_trial_paths())

</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 We remove unnecessary keys from the "spec" that we pass to Ray Tune. This
    &#47&#47 ensures that Ray Tune doesn&quott try to tune over things that can&quott affect
    &#47&#47 the outcome.
    <a id="change">if stages_to_run == StagesToRun.ONLY_IL \
       and &quotrepresentation_learning&quot in spec</a>:
        logging.warn(
            "You only asked to tune IL, so I&quotm removing the representation "
            "learning config from the Tune spec."
        )
        <a id="change">del spec[&quotrepresentation_learning&quot]</a>

    if stages_to_run == StagesToRun.ONLY_REPL \
       and &quotil_train&quot in spec:
        logging.warn(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/eff338e14c230a8462ad5a5c29523dedf865a9c5#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L238' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117887248</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: eff338e14c230a8462ad5a5c29523dedf865a9c5</div><div id='time'> Time: 2020-09-04</div><div id='author'> Author: sam@qxcv.net</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(10)</div><div id='n_method'> N Method Name: run(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 238</div><div id='m_end'> M End Line: 239</div><div id='n_start'> N Start Line: 278</div><div id='n_end'> N End Line: 353</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    best_config = rep_run.get_best_config(metric=metric)
    print(f"Best config is: {best_config}")
    <a id="change">print("Results available at: "</a><a id="change">)</a>
    print(rep_run._get_trial_paths())


def main():</code></pre><h3>After Change</h3><pre><code class='java'>
        )
        del spec[&quotrepresentation_learning&quot]

    <a id="change">if stages_to_run == StagesToRun.ONLY_REPL \
       and &quotil_train&quot in spec</a>:
        logging.warn(
            "You only asked to tune RepL, so I&quotm removing the imitation "
            "learning config from the Tune spec."
        )
        <a id="change">del spec[&quotil_train&quot]</a>

    &#47&#47 make Ray run from this directory
    ray_dir = os.path.join(log_dir)
    os.makedirs(ray_dir, exist_ok=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/06a86e0ca2fcf40acd6629d80c26fdf8a6ea92a8#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L202' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117887245</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 06a86e0ca2fcf40acd6629d80c26fdf8a6ea92a8</div><div id='time'> Time: 2020-09-04</div><div id='author'> Author: sam@qxcv.net</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(10)</div><div id='n_method'> N Method Name: run(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 238</div><div id='m_end'> M End Line: 239</div><div id='n_start'> N Start Line: 278</div><div id='n_end'> N End Line: 353</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if f1:
        for key in [&quotf1_1k&quot, &quotf1_10k&quot, &quotf1_1k_f&quot, &quotf1_onnx&quot]:
            if key in entity:
                <a id="change">print(f"Resetting &quot{key}&quot"</a><a id="change">)</a>
                del entity[key]
    if ifs:
        if "mean" in entity:
            del entity["mean"]</code></pre><h3>After Change</h3><pre><code class='java'>
            del entity["total_inference_avg"]
    if macs and "macs" in entity:
        del entity["macs"]
    <a id="change">if macs and "params" in entity</a>:
        <a id="change">del entity["params"]</a>


if __name__ == &quot__main__&quot:
    parser = argparse.ArgumentParser(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/03edcdc0b16392c2a6a9ffcc576498cec98fbb7f#diff-4cf2b5fac527ed6ecfb97540f473086ccd2ec04bb184def59ca5be3ae9c2ca8dL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117887240</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 03edcdc0b16392c2a6a9ffcc576498cec98fbb7f</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: clovett@microsoft.com</div><div id='file'> File Name: devices/azure/reset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: reset_metrics(4)</div><div id='n_method'> N Method Name: reset_metrics(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: devices/azure/reset.py</div><div id='n_file'> N File Name: devices/azure/reset.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 17</div><div id='n_start'> N Start Line: 22</div><div id='n_end'> N End Line: 31</div><BR>