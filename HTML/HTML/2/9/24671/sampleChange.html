<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 todo:
            USER_ID = self.config[&quotUSER_ID_FIELD&quot]
            ITEM_ID = self.config[&quotITEM_ID_FIELD&quot]
            users, items = interaction[USER_ID]<a id="change">, interaction[ITEM_ID]</a>
            scores = self.model.predict(interaction.to(self.device))
            batch_size = users.size()[0]
            scores = scores.detach().cpu().numpy()</code></pre><h3>After Change</h3><pre><code class='java'>
                    break

    def evaluate(self, eval_data, load_best_model=True):
        <a id="change">if load_best_model</a>:
            &#47&#47 todo: more flexible settings
            checkpoint_file = self.checkpoint_dir + &quot/model_best.pth&quot
            <a id="change">checkpoint</a><a id="change"> = </a><a id="change">torch.load(</a>checkpoint_file<a id="change">)</a>
            <a id="change">self.model.load_state_dict(checkpoint[&quotstate_dict&quot]</a><a id="change">)</a>
            message_output = &quotLoading model structure and parameters from {}&quot.format(checkpoint_file)
            print(message_output)
</code></pre>