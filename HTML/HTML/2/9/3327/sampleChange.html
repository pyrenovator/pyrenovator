<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    endpoint_name = utils.unique_name_from_base(&quottest-mxnet-ei&quot)

    <a id="change">with </a><a id="change">timeout_and_delete_endpoint_by_name(endpoint_name=endpoint_name,
                                             sagemaker_session=sagemaker_session,
                                             minutes=20):
        </a>prefix = &quotmxnet-serving/default-handlers&quot
        model_data = sagemaker_session.upload_data(path=MODEL_PATH, key_prefix=prefix)
        model = MXNetModel(model_data=model_data,
                           entry_point=entry_point,
                           role=&quotSageMakerRole&quot,
                           image_uri=ecr_image,
                           framework_version=framework_version,
                           sagemaker_session=sagemaker_session)

        predictor<a id="change"> = </a><a id="change">model.deploy(initial_instance_count=1,
                                 instance_type=instance_type,
                                 accelerator_type=accelerator_type,
                                 endpoint_name=endpoint_name)</a>

        output<a id="change"> = predictor.predict(</a>[<a id="change">[</a>1, 2<a id="change"></a>]]<a id="change">)</a>
        <a id="change">assert </a>[[4.9999918937683105]] == output
</code></pre><h3>After Change</h3><pre><code class='java'>
@pytest.mark.skip_if_non_supported_ei_region()
@pytest.mark.skip_if_no_accelerator()
def test_elastic_inference(ecr_image, sagemaker_regions, instance_type, accelerator_type, framework_version):
    <a id="change">invoke_sm_helper_function(</a>ecr_image, sagemaker_regions, _test_elastic_inference_function,
                                 instance_type, accelerator_type, framework_version<a id="change">)</a>


def _test_elastic_inference_function(ecr_image, sagemaker_session, instance_type, accelerator_type, framework_version):
    entry_point = DEFAULT_SCRIPT_PATH</code></pre>