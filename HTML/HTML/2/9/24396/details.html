<html><h3>Pattern ID :24396
</h3><img src='75718000.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                gpu_output_headers.append(
                    self._gpu_metrics_to_headers[gpu_output_field])
            else:
                <a id="change">raise </a><a id="change">TritonModelAnalyzerException(
                    f&quotGPU output field "{gpu_output_field}", does not exist&quot</a><a id="change">)</a>
        self._gpu_output_fields = gpu_output_fields

        &#47&#47 Model GPU Metrics
        self._add_result_table(table_key=self.model_gpu_table_key,</code></pre><h3>After Change</h3><pre><code class='java'>

    def _create_gpu_table(self):
        gpu_output_headers = []
        gpu_output_fields = <a id="change">[]</a>
        for gpu_output_field in self._config.gpu_output_fields:
            if gpu_output_field in self.headers:
                gpu_output_headers.append(self.headers[gpu_output_field])
            elif gpu_output_field in self._gpu_metrics_to_headers:
                gpu_output_headers.append(
                    self._gpu_metrics_to_headers[gpu_output_field])
            else:
                <a id="change">logging.warning(
                    f&quotGPU output field "{gpu_output_field}", has no data&quot</a><a id="change">)</a>
                <a id="change">continue</a>
            <a id="change">gpu_output_fields.append(gpu_output_field</a><a id="change">)</a>

        self._gpu_output_fields = gpu_output_fields
        &#47&#47 Model GPU Metrics
        self._add_result_table(table_key=self.model_gpu_table_key,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/112b84cf247722c2963bd1675c51fe4ce08385a9#diff-875262876cc7d75df5768fbcc371cbee49fd2fad1dbe10dfece1fdd16b5087b5L133' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75718000</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 112b84cf247722c2963bd1675c51fe4ce08385a9</div><div id='time'> Time: 2021-08-10</div><div id='author'> Author: 18255193+kthui@users.noreply.github.com</div><div id='file'> File Name: model_analyzer/result/result_manager.py</div><div id='m_class'> M Class Name: ResultManager</div><div id='n_method'> N Class Name: ResultManager</div><div id='m_method'> M Method Name: _create_gpu_table(1)</div><div id='n_method'> N Method Name: _create_gpu_table(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/result/result_manager.py</div><div id='n_file'> N File Name: model_analyzer/result/result_manager.py</div><div id='m_start'> M Start Line: 133</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 139</div><div id='n_end'> N End Line: 150</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                inference_output_headers.append(
                    self._non_gpu_metrics_to_headers[inference_output_field])
            else:
                <a id="change">raise </a><a id="change">TritonModelAnalyzerException(
                    f&quotInference output field "{inference_output_field}", does not exist&quot</a><a id="change">
                )</a>
        self._inference_output_fields = inference_output_fields

        self._add_result_table(
            table_key=self.model_inference_table_key,</code></pre><h3>After Change</h3><pre><code class='java'>
    def _create_inference_table(self):
        &#47&#47 Inference only
        inference_output_headers = []
        inference_output_fields = <a id="change">[]</a>
        for <a id="change">inference_output_field</a> in self._config.inference_output_fields:
            if inference_output_field in self.headers:
                inference_output_headers.append(
                    self.headers[inference_output_field])
            elif inference_output_field in self._non_gpu_metrics_to_headers:
                inference_output_headers.append(
                    self._non_gpu_metrics_to_headers[inference_output_field])
            else:
                <a id="change">logging.warning(
                    f&quotInference output field "{inference_output_field}", has no data&quot</a><a id="change">
                )</a>
                <a id="change">continue</a>
            <a id="change">inference_output_fields.append(</a>inference_output_field<a id="change">)</a>

        self._inference_output_fields = inference_output_fields
        self._add_result_table(
            table_key=self.model_inference_table_key,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/112b84cf247722c2963bd1675c51fe4ce08385a9#diff-875262876cc7d75df5768fbcc371cbee49fd2fad1dbe10dfece1fdd16b5087b5L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75717999</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 112b84cf247722c2963bd1675c51fe4ce08385a9</div><div id='time'> Time: 2021-08-10</div><div id='author'> Author: 18255193+kthui@users.noreply.github.com</div><div id='file'> File Name: model_analyzer/result/result_manager.py</div><div id='m_class'> M Class Name: ResultManager</div><div id='n_method'> N Class Name: ResultManager</div><div id='m_method'> M Method Name: _create_inference_table(1)</div><div id='n_method'> N Method Name: _create_inference_table(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/result/result_manager.py</div><div id='n_file'> N File Name: model_analyzer/result/result_manager.py</div><div id='m_start'> M Start Line: 111</div><div id='m_end'> M End Line: 122</div><div id='n_start'> N Start Line: 115</div><div id='n_end'> N End Line: 128</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                server_output_headers.append(
                    self._gpu_metrics_to_headers[server_output_field])
            else:
                <a id="change">raise </a><a id="change">TritonModelAnalyzerException(
                    f&quotServer output field "{server_output_field}", does not exist&quot</a><a id="change">
                )</a>
        self._add_result_table(table_key=self.server_only_table_key,
                               title=&quotServer Only&quot,
                               headers=server_output_headers)
        self._server_output_fields = server_output_fields</code></pre><h3>After Change</h3><pre><code class='java'>
    def _create_server_table(self):
        &#47&#47 Server only
        server_output_headers = []
        server_output_fields = <a id="change">[]</a>
        for <a id="change">server_output_field</a> in self._config.server_output_fields:
            if server_output_field in self.headers:
                server_output_headers.append(self.headers[server_output_field])
            elif server_output_field in self._gpu_metrics_to_headers:
                server_output_headers.append(
                    self._gpu_metrics_to_headers[server_output_field])
            else:
                <a id="change">logging.warning(
                    f&quotServer output field "{server_output_field}", has no data&quot</a><a id="change">)</a>
                <a id="change">continue</a>
            <a id="change">server_output_fields.append(</a>server_output_field<a id="change">)</a>

        self._add_result_table(table_key=self.server_only_table_key,
                               title=&quotServer Only&quot,
                               headers=server_output_headers)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/112b84cf247722c2963bd1675c51fe4ce08385a9#diff-875262876cc7d75df5768fbcc371cbee49fd2fad1dbe10dfece1fdd16b5087b5L89' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75717998</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 112b84cf247722c2963bd1675c51fe4ce08385a9</div><div id='time'> Time: 2021-08-10</div><div id='author'> Author: 18255193+kthui@users.noreply.github.com</div><div id='file'> File Name: model_analyzer/result/result_manager.py</div><div id='m_class'> M Class Name: ResultManager</div><div id='n_method'> N Class Name: ResultManager</div><div id='m_method'> M Method Name: _create_server_table(1)</div><div id='n_method'> N Method Name: _create_server_table(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/result/result_manager.py</div><div id='n_file'> N File Name: model_analyzer/result/result_manager.py</div><div id='m_start'> M Start Line: 92</div><div id='m_end'> M End Line: 102</div><div id='n_start'> N Start Line: 94</div><div id='n_end'> N End Line: 105</div><BR>