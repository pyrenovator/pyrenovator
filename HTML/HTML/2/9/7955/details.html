<html><h3>Pattern ID :7955
</h3><img src='28348976.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        egress_cost = 0.0
        overall_best = None
        best_plan = {}
        <a id="change">while True</a><a id="change">:
            </a>best_costs = dp_best_cost[node]
            h<a id="change">, c</a> = None, np.inf
            for resources in best_costs:
                if best_costs[resources] &lt; c:
                    h<a id="change"> = </a>resources
                    c = best_costs[resources]
            <a id="change">if not isinstance(h, DummyResources)</a>:
                message_data.append((node, h))
                best_plan[node] = (h, c)
                node.best_resources = h
            elif overall_best is None:
                overall_best<a id="change"> = </a>c
            if node not in dp_point_backs:
                break
            egress_cost = dp_point_backs[node][h][2]</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Do not print Source or Sink.
        message_data = [
            t for t in message_data
            if t[0].name not in (&quot__source__&quot<a id="change">, &quot__sink__&quot</a>)
        ]
        message = tabulate.tabulate(reversed(message_data),
                                    headers=[&quotTASK&quot, &quotBEST_RESOURCE&quot],</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/87c6f76b628db89e65db669ed8375eac2714f1c2#diff-29e1580cd3110f2187424743b65ddc99b9765416938cba77e17c26d4f4cad76dL242' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28348976</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: 87c6f76b628db89e65db669ed8375eac2714f1c2</div><div id='time'> Time: 2021-11-03</div><div id='author'> Author: concretevitamin@users.noreply.github.com</div><div id='file'> File Name: prototype/sky/optimizer.py</div><div id='m_class'> M Class Name: Optimizer</div><div id='n_method'> N Class Name: Optimizer</div><div id='m_method'> M Method Name: read_optimized_plan(4)</div><div id='n_method'> N Method Name: read_optimized_plan(4)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: prototype/sky/optimizer.py</div><div id='n_file'> N File Name: prototype/sky/optimizer.py</div><div id='m_start'> M Start Line: 242</div><div id='m_end'> M End Line: 274</div><div id='n_start'> N Start Line: 247</div><div id='n_end'> N End Line: 284</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        bag_vector = bag_data[:, 3]
        bag_ins_list.append([bag_label, bag_vector])
    bag_ins_list = shuffle(bag_ins_list)
    <a id="change">test_pos</a> = 0
    <a id="change">while(test_pos</a><a id="change">):
        </a>bags_list<a id="change">, test_list = </a>cross_validation_set(bag_ins_list, fold=10, index=1)
        pos_c = 0
        for fold in test_list:
            pos_c = pos_c<a id="change"> + </a>fold[0]
        print(pos_c)
        <a id="change">if </a>pos_c &gt;= 0 and pos_c!= len(test_list):
            test_pos<a id="change"> = </a>1
    
    acs = []
    num_feats = 166</code></pre><h3>After Change</h3><pre><code class='java'>
    acs = []
    print(&quotDataset: &quot + args.datasets)
    for k in range(0, args.cv_fold):
        print(&quotStart %d-fold cross validation: fold %d &quot % (args.cv_fold<a id="change">, k</a>))
        bags_list, test_list = cross_validation_set(bag_ins_list, fold=args.cv_fold, index=k)
        i_classifier = mil.FCLayer(args.num_feats, 1)
        b_classifier = mil.BClassifier(input_size=args.num_feats, output_class=1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/binli123/dsmil-wsi/commit/9904a494d25725384a486cb0c262c73de91b327a#diff-c59656c554c88a259e3a66914fa45059c96bb3732715ed0f65e560a2cd27dc13L113' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28348929</div><div id='project'> Project Name: binli123/dsmil-wsi</div><div id='commit'> Commit Name: 9904a494d25725384a486cb0c262c73de91b327a</div><div id='time'> Time: 2020-11-19</div><div id='author'> Author: bli346@wisc.edu</div><div id='file'> File Name: train_mil.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train_mil.py</div><div id='n_file'> N File Name: train_mil.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 177</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 168</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        bag_vector = bag_data[:, 3]
        bag_ins_list.append([bag_label, bag_vector])
    bag_ins_list = shuffle(bag_ins_list)
    <a id="change">test_pos</a> = 0
    <a id="change">while(test_pos</a><a id="change">):
        </a>bags_list<a id="change">, test_list = </a>cross_validation_set(bag_ins_list, fold=10, index=1)
        pos_c = 0
        for fold in test_list:
            pos_c = pos_c<a id="change"> + </a>fold[0]
        print(pos_c)
        <a id="change">if </a>pos_c &gt;= 0 and pos_c!= len(test_list):
            test_pos<a id="change"> = </a>1
    
    acs = []
    num_feats = 166</code></pre><h3>After Change</h3><pre><code class='java'>
    acs = []
    print(&quotDataset: &quot + args.datasets)
    for k in range(0, args.cv_fold):
        print(&quotStart %d-fold cross validation: fold %d &quot % (args.cv_fold<a id="change">, k</a>))
        bags_list, test_list = cross_validation_set(bag_ins_list, fold=args.cv_fold, index=k)
        i_classifier = mil.FCLayer(args.num_feats, 1)
        b_classifier = mil.BClassifier(input_size=args.num_feats, output_class=1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/binli123/dsmil-wsi/commit/9904a494d25725384a486cb0c262c73de91b327a#diff-06dd721570b0f8e8dc75af5ea62b65575288bf526cf657451655460872a10bfeL113' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28349060</div><div id='project'> Project Name: binli123/dsmil-wsi</div><div id='commit'> Commit Name: 9904a494d25725384a486cb0c262c73de91b327a</div><div id='time'> Time: 2020-11-19</div><div id='author'> Author: bli346@wisc.edu</div><div id='file'> File Name: .ipynb_checkpoints/train_mil-checkpoint.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: .ipynb_checkpoints/train_mil-checkpoint.py</div><div id='n_file'> N File Name: .ipynb_checkpoints/train_mil-checkpoint.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 177</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 168</div><BR>