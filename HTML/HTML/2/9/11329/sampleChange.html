<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    try:
        for img in downscaled_images:
            <a id="change">if "_resized" in img</a>:
                result_path = (img.replace("_resized.png","") + 
                                "_"  + AI_model +
                                "_x" + str(upscale_factor) + 
                                ".png")
            else:
                result_path<a id="change"> = </a>(img<a id="change">.replace(".png","") + 
                            "_"  + </a><a id="change">AI_model +
                            </a>"_x" +<a id="change"> str(upscale_factor) + 
                            </a>".png")

            &#47&#47 1.5) calculating best slice number
            img_tmp = cv2.imread(img)</code></pre><h3>After Change</h3><pre><code class='java'>
            tiles = slice_image(img, num_tiles)

            &#47&#47 4) upscale each tiles
            <a id="change">with torch</a><a id="change">.no_grad():
                </a>for tile in tiles:
                    tile_adapted  = adapt_image_for_deeplearning(tile.filename)
                    tile_adapted  = tile_adapted.to(device, non_blocking = True)
                    tile_upscaled = model(tile_adapted)</code></pre>