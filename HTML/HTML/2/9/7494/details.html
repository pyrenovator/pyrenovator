<html><h3>Pattern ID :7494
</h3><img src='24779391.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 define a Handler which writes INFO messages or higher to the sys.stdout
    logger = logging.getLogger(name)
    logger.setLevel(loglevel)
    console<a id="change"> = </a>logging.StreamHandler(sys.stdout)
    <a id="change">console.setLevel(</a>loglevel<a id="change">)</a>
    <a id="change">console.setFormatter(</a>logging.Formatter(&quot[%(asctime)s] %(levelname)s: %(message)s&quot)<a id="change">)</a>
    <a id="change">logger.addHandler(</a>console<a id="change">)</a>
    if filename:
        if not os.path.exists(os.path.dirname(filename)):
            os.makedirs(os.path.dirname(filename))
        logfile = logging.FileHandler(filename)</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 define a Handler which writes INFO messages or higher to the sys.stdout
    logger = logging.getLogger(name)
    logger.setLevel(loglevel)
    <a id="change">if </a>stdout:
        console<a id="change"> = </a>logging.StreamHandler(stdout)
        <a id="change">console.setLevel(</a>loglevel<a id="change">)</a>
        <a id="change">console.setFormatter(</a>logging.Formatter(&quot[%(asctime)s] %(levelname)s: %(message)s&quot)<a id="change">)</a>
        <a id="change">logger.addHandler(</a>console<a id="change">)</a>
    if filename:
        if not os.path.exists(os.path.dirname(filename)):
            os.makedirs(os.path.dirname(filename))
        logfile = logging.FileHandler(filename)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hqucms/weaver/commit/d4ac66d2004b074f00c7dc225d3c994394c74df4#diff-8f2c5dd1964222dc0d9f4a67779c9b3039bb3e09abd84300dad5504dfcc29373L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24779391</div><div id='project'> Project Name: hqucms/weaver</div><div id='commit'> Commit Name: d4ac66d2004b074f00c7dc225d3c994394c74df4</div><div id='time'> Time: 2022-03-17</div><div id='author'> Author: huilin.qu@cern.ch</div><div id='file'> File Name: utils/logger.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _configLogger(4)</div><div id='n_method'> N Method Name: _configLogger(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/logger.py</div><div id='n_file'> N File Name: utils/logger.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 14</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 16</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    console_handler.setFormatter(formatter)

    &#47&#47 create file handler which logs even debug messages
    file_handler<a id="change"> = </a>logging.FileHandler(logfile)
    <a id="change">file_handler.setLevel(</a>logging.DEBUG<a id="change">)</a>
    <a id="change">file_handler.setFormatter(</a>formatter<a id="change">)</a>

    &#47&#47 add ch and fh to logger
    _logger.addHandler(console_handler)
    <a id="change">_logger.addHandler(</a>file_handler<a id="change">)</a>


configure()
</code></pre><h3>After Change</h3><pre><code class='java'>
    console_handler.setFormatter(formatter)
    _logger.addHandler(console_handler)

    <a id="change">if </a>isinstance(FLOWER_LOG_FILE, str):
        &#47&#47 Create file handler and log to disk
        file_handler<a id="change"> = </a>logging.FileHandler(FLOWER_LOG_FILE)
        <a id="change">file_handler.setLevel(</a>logging.DEBUG<a id="change">)</a>
        <a id="change">file_handler.setFormatter(</a>formatter<a id="change">)</a>
        <a id="change">_logger.addHandler(</a>file_handler<a id="change">)</a>

    if isinstance(FLOWER_LOG_HTTP, str):
        &#47&#47 Create http handler which logs even debug messages
        http_handler = logging.handlers.HTTPHandler(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/adap/flower/commit/08294a02d201f8da4a8d7398cb05f5a1aa2d43c8#diff-da534135508b7dfcd3f2781a464a19e5f2eecc14131f9c40841da3afb7a1bbdaL24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24779388</div><div id='project'> Project Name: adap/flower</div><div id='commit'> Commit Name: 08294a02d201f8da4a8d7398cb05f5a1aa2d43c8</div><div id='time'> Time: 2020-04-28</div><div id='author'> Author: taner@adap.com</div><div id='file'> File Name: src/flower/logger.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: configure(0)</div><div id='n_method'> N Method Name: configure(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/flower/logger.py</div><div id='n_file'> N File Name: src/flower/logger.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 59</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def __init__(self, log_file, log_name):
        self.logger = logging.getLogger(log_name)
        handler<a id="change"> = </a>logging.FileHandler(log_file, mode=&quotw&quot)
        <a id="change">handler.setLevel(level=logging.INFO)</a>
        formatter = logging.Formatter(
            &quot%(asctime)s - %(name)s - %(levelname)s - %(message)s&quot)
        <a id="change">handler.setFormatter(</a>formatter<a id="change">)</a>
        <a id="change">self.logger.addHandler(</a>handler<a id="change">)</a>

    def info(self, log_str):
        Print information to logger
        self.logger.info(log_str)</code></pre><h3>After Change</h3><pre><code class='java'>
        
        self.logger = logging.getLogger(log_name)

        <a id="change">if </a>log_file is not None:
            handler<a id="change"> = </a>logging.FileHandler(log_file, mode=&quotw&quot)
            <a id="change">handler.setLevel(level=logging.INFO)</a>
            formatter = logging.Formatter(
            &quot%(asctime)s - %(name)s - %(levelname)s - %(message)s&quot)
            <a id="change">handler.setFormatter(</a>formatter<a id="change">)</a>
            <a id="change">self.logger.addHandler(</a>handler<a id="change">)</a>
        
        

    def info(self, log_str):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/smilelab-fl/fedlab/commit/63dd08464e750653c55eb53996940674d445dd4d#diff-e39aa7c84f9cef9a59f41b16b247ee33084c5475f21d9c0af797f441858c482dL32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24779389</div><div id='project'> Project Name: smilelab-fl/fedlab</div><div id='commit'> Commit Name: 63dd08464e750653c55eb53996940674d445dd4d</div><div id='time'> Time: 2021-08-02</div><div id='author'> Author: 928255708@qq.com</div><div id='file'> File Name: fedlab_utils/logger.py</div><div id='m_class'> M Class Name: logger</div><div id='n_method'> N Class Name: logger</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: fedlab_utils/logger.py</div><div id='n_file'> N File Name: fedlab_utils/logger.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 32</div><div id='n_end'> N End Line: 46</div><BR>