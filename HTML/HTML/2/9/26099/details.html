<html><h3>Pattern ID :26099
</h3><img src='78693296.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    if img.ndim == 2:
        h, w = img.shape
    elif <a id="change">img.ndim == 3</a>:
        h, w, c = img.shape
    else:
        <a id="change">raise </a><a id="change">ValueError(f&quotImage ndim should be 2 or 3, but got {img.ndim}&quot</a><a id="change">)</a>

    h_space = np.arange(0, h - crop_size + 1, step)
    if h - (h_space[-1] + crop_size) &gt; thresh_size:
        h_space = np.append(h_space, h - crop_size)</code></pre><h3>After Change</h3><pre><code class='java'>

    img = cv2.imread(path, cv2.IMREAD_UNCHANGED)

    h, w = <a id="change">img.shape[0:2]</a>
    h_space = np.arange(0, h - crop_size + 1, step)
    if h - (h_space[-1] + crop_size) &gt; thresh_size:
        h_space = np.append(h_space, h - crop_size)
    w_space = np.arange(0, w - crop_size + 1, step)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/xinntao/real-esrgan/commit/8675208bc9524afc694162e8a295fffe81eb5bad#diff-3ab6c0785145ce80de7c87d08c49b8d72a2a7aab2f9bb06110e124d39f197521L107' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78693296</div><div id='project'> Project Name: xinntao/real-esrgan</div><div id='commit'> Commit Name: 8675208bc9524afc694162e8a295fffe81eb5bad</div><div id='time'> Time: 2021-09-07</div><div id='author'> Author: wxt1994@126.com</div><div id='file'> File Name: scripts/extract_subimages.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: worker(2)</div><div id='n_method'> N Method Name: worker(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/extract_subimages.py</div><div id='n_file'> N File Name: scripts/extract_subimages.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 116</div><div id='n_start'> N Start Line: 107</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    n_uniques = hyper_df.nunique()
    sub_dfs = []
    sub_scores = []
    <a id="change">if dimensions &gt; 4</a>:
        <a id="change">raise </a><a id="change">ValueError(&quotplot not implemented for more than 4 hyperparameters&quot</a><a id="change">)</a>
    elif dimensions == 4:
        fig, axs = plt.subplots(n_uniques[-2], n_uniques[-1], subplot_kw={&quotprojection&quot: &quot3d&quot})
        unique_x = hyper_df[hyper_df.columns[-2]].unique()
        unique_y = hyper_df[hyper_df.columns[-1]].unique()</code></pre><h3>After Change</h3><pre><code class='java'>
    if n_params &gt; 4:
        warnings.warn(&quotplot not implemented for more than 4 hyperparameters. Plotting for first 4&quot)
        param_cols = param_cols[:4]
        n_uniques = <a id="change">n_uniques[:4]</a>
    if n_params &gt; 3:
        fig, axs = plt.subplots(n_uniques[-2], n_uniques[-1], subplot_kw={&quotprojection&quot: &quot3d&quot})
        unique_x = cv_results_[param_cols[-2]].unique()
        unique_y = cv_results_[param_cols[-1]].unique()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/4e44f20e5f5632710a52316bf27e6320ac1c3abe#diff-0934352d1d5b36966b93d52514021f9024faaa2fb7410e8bd59bacdea6f567c6L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78693300</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 4e44f20e5f5632710a52316bf27e6320ac1c3abe</div><div id='time'> Time: 2021-09-24</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: cca_zoo/utils/plotting.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: cv_plot(1)</div><div id='n_method'> N Method Name: cv_plot(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cca_zoo/utils/plotting.py</div><div id='n_file'> N File Name: cca_zoo/utils/plotting.py</div><div id='m_start'> M Start Line: 19</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Input validation
        additional_columns = set(kwargs.keys())
        forbidden = additional_columns.intersection(TRIPLES_DF_COLUMNS)
        <a id="change">if len(forbidden) &gt; 0</a>:
            <a id="change">raise </a><a id="change">ValueError(
                f&quotThe key-words for additional arguments must not be in {TRIPLES_DF_COLUMNS}, but {forbidden} were &quot
                f&quotused.&quot</a><a id="change">,
            )</a>

        &#47&#47 convert to numpy
        tensor = tensor.cpu().numpy()
        data = dict(zip([&quothead_id&quot, &quotrelation_id&quot, &quottail_id&quot], tensor.T))</code></pre><h3>After Change</h3><pre><code class='java'>
            )

        &#47&#47 Re-order columns
        columns = list(TRIPLES_DF_COLUMNS) + <a id="change">old_col[3:]</a>
        return data.loc[:, columns]

    def new_with_restriction(
        self,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/a2f9ee81f1899e695483c69983cc8159524cbe01#diff-2dce01c3c0b4127bdab5850a84b545299b150d156c01aad24589fa76762c6c72L645' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78693301</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: a2f9ee81f1899e695483c69983cc8159524cbe01</div><div id='time'> Time: 2021-01-21</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: src/pykeen/triples/triples_factory.py</div><div id='m_class'> M Class Name: TriplesFactory</div><div id='n_method'> N Class Name: TriplesFactory</div><div id='m_method'> M Method Name: tensor_to_df(2)</div><div id='n_method'> N Method Name: tensor_to_df(2)</div><div id='m_parent_class'> M Parent Class: CoreTriplesFactory</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pykeen/triples/triples_factory.py</div><div id='n_file'> N File Name: src/pykeen/triples/triples_factory.py</div><div id='m_start'> M Start Line: 661</div><div id='m_end'> M End Line: 693</div><div id='n_start'> N Start Line: 941</div><div id='n_end'> N End Line: 958</div><BR>