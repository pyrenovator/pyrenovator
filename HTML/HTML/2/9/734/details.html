<html><h3>Pattern ID :734
</h3><img src='3610487.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        lfo_2_1 = voice_1.lfo_2(lfo_2_rate_1)
        lfo_2_2 = voice_2.lfo_2(lfo_2_rate_2)
        <a id="change">assert </a>torch.all(lfo_1_1 == lfo_1_2)
        assert torch.all(lfo_2_1 == lfo_2_2)

        lfo_1_1 = voice_1.control_vca(lfo_1_1, lfo_1_amp_1)</code></pre><h3>After Change</h3><pre><code class='java'>
        voice_2 = Voice(synthconfig)

        &#47&#47 Randomly initialized voices will have different results
        <a id="change">with pytest.raises(AssertionError</a><a id="change">):
            </a>self.run_voice(voice_1, voice_2)

        voice_1.randomize(1)
        <a id="change">with pytest</a><a id="change">.raises(AssertionError):
            </a>self.run_voice(voice_1, voice_2)

        voice_2.randomize(1)
        self.run_voice(voice_1, voice_2)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/torchsynth/torchsynth/commit/c85a25ca9b0712c0c2e0edbcea3ca94ed749b4ab#diff-4de56dbf7fc650b13faa9adf69a43df8f72c2f1d1b2595bf58a764472a3fd97eL11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610487</div><div id='project'> Project Name: torchsynth/torchsynth</div><div id='commit'> Commit Name: c85a25ca9b0712c0c2e0edbcea3ca94ed749b4ab</div><div id='time'> Time: 2021-04-09</div><div id='author'> Author: jordieshier@gmail.com</div><div id='file'> File Name: tests/test_determinism.py</div><div id='m_class'> M Class Name: TestDeterminism</div><div id='n_method'> N Class Name: TestDeterminism</div><div id='m_method'> M Method Name: test_voice_determinism(1)</div><div id='n_method'> N Method Name: test_voice_determinism(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_determinism.py</div><div id='n_file'> N File Name: tests/test_determinism.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 28</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        lfo_1_amp_2 = voice_2.lfo_1_amp_adsr(duration_2)
        lfo_2_amp_2 = voice_2.lfo_2_amp_adsr(duration_2)

        <a id="change">assert </a>torch.all(lfo_1_rate_1 == lfo_1_rate_2)
        assert torch.all(lfo_2_rate_1 == lfo_2_rate_2)
        assert torch.all(lfo_1_amp_1 == lfo_1_amp_2)
        assert torch.all(lfo_2_amp_1 == lfo_2_amp_2)</code></pre><h3>After Change</h3><pre><code class='java'>
        voice_2 = Voice(synthconfig)

        &#47&#47 Randomly initialized voices will have different results
        <a id="change">with pytest.raises(</a><a id="change">AssertionError):
            </a>self.run_voice(voice_1, voice_2)

        voice_1.randomize(1)
        <a id="change">with pytest</a><a id="change">.raises(AssertionError):
            </a>self.run_voice(voice_1, voice_2)

        voice_2.randomize(1)
        self.run_voice(voice_1, voice_2)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/turian/torchsynth/commit/c85a25ca9b0712c0c2e0edbcea3ca94ed749b4ab#diff-4de56dbf7fc650b13faa9adf69a43df8f72c2f1d1b2595bf58a764472a3fd97eL9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610486</div><div id='project'> Project Name: turian/torchsynth</div><div id='commit'> Commit Name: c85a25ca9b0712c0c2e0edbcea3ca94ed749b4ab</div><div id='time'> Time: 2021-04-09</div><div id='author'> Author: jordieshier@gmail.com</div><div id='file'> File Name: tests/test_determinism.py</div><div id='m_class'> M Class Name: TestDeterminism</div><div id='n_method'> N Class Name: TestDeterminism</div><div id='m_method'> M Method Name: test_voice_determinism(1)</div><div id='n_method'> N Method Name: test_voice_determinism(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_determinism.py</div><div id='n_file'> N File Name: tests/test_determinism.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 28</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        found_prop = True

        if prop.serializable:
            <a id="change">assert </a>hasattr(builder, f"set_{attr}")
            assert hasattr(builder, f"get_{attr}")

            setter = getattr(builder, f"set_{attr}")</code></pre><h3>After Change</h3><pre><code class='java'>
            assert getattr(builder, attr) == random_val
        else:
            &#47&#47 check set and get not supported
            <a id="change">with pytest.raises(</a><a id="change">ValueError):
                </a>getattr(builder, attr)
            <a id="change">with pytest</a><a id="change">.raises(ValueError):
                </a>setattr(builder, attr, random.random())

    assert found_prop  &#47&#47 ensure that modifier class is well formed and tests ran
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neuralmagic/sparseml/commit/b4fcf9e05b34d01ffc7a316ad22c773003682db3#diff-94c2be8f15c8452681b64382cd4043a085014091d1ee0d719c715c298e33275cL45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610485</div><div id='project'> Project Name: neuralmagic/sparseml</div><div id='commit'> Commit Name: b4fcf9e05b34d01ffc7a316ad22c773003682db3</div><div id='time'> Time: 2021-11-16</div><div id='author'> Author: bfineran@users.noreply.github.com</div><div id='file'> File Name: tests/sparseml/sparsification/test_recipe_builder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_modifier_builder_setters_getters(1)</div><div id='n_method'> N Method Name: test_modifier_builder_setters_getters(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/sparseml/sparsification/test_recipe_builder.py</div><div id='n_file'> N File Name: tests/sparseml/sparsification/test_recipe_builder.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert taskmodule.label_to_id["O"] == 0

    task_encodings = taskmodule.encode(train_dataset, encode_target=encode_target)
    <a id="change">assert </a>len(task_encodings) == 8

    if encode_target:
        assert isinstance(task_encodings, Sequence)</code></pre><h3>After Change</h3><pre><code class='java'>
    as_iterator = isinstance(train_dataset, (IterableDataset, Iterator))
    if as_task_encoding_sequence:
        if as_iterator:
            <a id="change">with pytest</a><a id="change">.raises(
                ValueError, match="can not return a TaskEncodingSequence as Iterator"
            ):
                </a>taskmodule.encode(
                    train_dataset, encode_target=encode_target, as_dataset=as_dataset
                )
            return
        if as_dataset:
            <a id="change">with pytest.raises(
                </a><a id="change">ValueError, match="can not return a TaskEncodingSequence as a dataset"
            ):
                </a>taskmodule.encode(
                    train_dataset, encode_target=encode_target, as_dataset=as_dataset
                )
            return</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/christophalt/pytorch-ie/commit/179b6a156e8fe5d061f9aaa52cb61da6660494e8#diff-b33f3ef167803916dc74b5d21cfda3e39fdea75034a356c6f213f92b01d04616L104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610515</div><div id='project'> Project Name: christophalt/pytorch-ie</div><div id='commit'> Commit Name: 179b6a156e8fe5d061f9aaa52cb61da6660494e8</div><div id='time'> Time: 2022-09-05</div><div id='author'> Author: ArneBinder@users.noreply.github.com</div><div id='file'> File Name: tests/data/test_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_dataset_with_taskmodule(6)</div><div id='n_method'> N Method Name: test_dataset_with_taskmodule(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/data/test_dataset.py</div><div id='n_file'> N File Name: tests/data/test_dataset.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 122</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert len(embeddings) == 2
    assert len(not_found_words) == 0

    <a id="change">assert </a>list(embeddings.keys()) == [&quotman&quot, &quotwoman&quot]
    assert not_found_words == []

    assert np.array_equal(w2v[&quotman&quot], embeddings[&quotman&quot])</code></pre><h3>After Change</h3><pre><code class='java'>
    model = WordEmbeddingModel(w2v, &quotweat_w2v&quot, &quot&quot)
    WORDS = [&quotman&quot, &quotwoman&quot]

    <a id="change">with pytest.raises(</a><a id="change">TypeError, match="word_set should be a list of strings, got"):
        </a>model.get_embeddings_from_word_set(None, preprocessor_options=1)

    with pytest.raises(
            TypeError,
            match=
            "word_preprocessor_options should be a dict of preprocessor options, got"):
        model.get_embeddings_from_word_set(WORDS, preprocessor_options=1)

    <a id="change">with pytest</a><a id="change">.raises(
            TypeError,
            match=
            "secondary_preprocessor_options should be a dict of preprocessor options or None, got"
    ):
        </a>model.get_embeddings_from_word_set(WORDS, secondary_preprocessor_options=-1)

    &#47&#47 ----------------------------------------------------------------------------------
    &#47&#47 test basic opretaion of _get_embeddings_from_word_set</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dccuchile/wefe/commit/702ae43a1024a79eb8570e43996113f9ac785afa#diff-048290163b9ac69fc6ae6aeb25c56f2d07efd665f5a7fbe37496132c19fbbb9dL170' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610481</div><div id='project'> Project Name: dccuchile/wefe</div><div id='commit'> Commit Name: 702ae43a1024a79eb8570e43996113f9ac785afa</div><div id='time'> Time: 2020-11-16</div><div id='author'> Author: pablo.badilla@ug.uchile.cl</div><div id='file'> File Name: wefe/tests/test_word_embedding_model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_get_embeddings_from_word_set(0)</div><div id='n_method'> N Method Name: test_get_embeddings_from_word_set(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wefe/tests/test_word_embedding_model.py</div><div id='n_file'> N File Name: wefe/tests/test_word_embedding_model.py</div><div id='m_start'> M Start Line: 223</div><div id='m_end'> M End Line: 237</div><div id='n_start'> N Start Line: 170</div><div id='n_end'> N End Line: 191</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    score = ROCAUCScore()
    score.score_set(0.25, 0)
    score.score_set(0.75, 0)
    <a id="change">assert </a>score.score == -float("inf")

    y_true = [1, 1]
    y_score = [0.25, 0.75]</code></pre><h3>After Change</h3><pre><code class='java'>
    score = ROCAUCScore()
    score.score_set(0.25, 0)
    score.score_set(0.75, 0)
    <a id="change">with pytest</a><a id="change">.raises(ValueError):
        </a>s = score.score

    y_true = [1, 1]
    y_score = [0.25, 0.75]
    with pytest.raises(ValueError):
        _roc_auc_score(y_true, y_score)

    score = ROCAUCScore()
    score.score_set(0.25, 1)
    score.score_set(0.75, 1)
    <a id="change">with pytest.raises(</a><a id="change">ValueError):
        </a>s = score.score
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/75a202ce6506177d5de97b47bfd96fd3c7909503#diff-cd4debef6f18d63a44880367d996012ef07e962508e385916d412545e43dea81L280' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610465</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 75a202ce6506177d5de97b47bfd96fd3c7909503</div><div id='time'> Time: 2020-10-18</div><div id='author'> Author: svlandeg@users.noreply.github.com</div><div id='file'> File Name: spacy/tests/test_scorer.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_roc_auc_score(0)</div><div id='n_method'> N Method Name: test_roc_auc_score(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/test_scorer.py</div><div id='n_file'> N File Name: spacy/tests/test_scorer.py</div><div id='m_start'> M Start Line: 337</div><div id='m_end'> M End Line: 347</div><div id='n_start'> N Start Line: 334</div><div id='n_end'> N End Line: 349</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ds.sample_transforms = inplace_transfo
    _, t = ds[0]
    _, t = ds[0]
    <a id="change">assert </a>t["label"] == "AB"
</code></pre><h3>After Change</h3><pre><code class='java'>
    path = Path(mock_image_path)
    ds = datasets.datasets.AbstractDataset(path.parent)
    &#47&#47 Check target format
    <a id="change">with pytest.raises(</a><a id="change">AssertionError):
        </a>ds.data = [(path.name, 0)]
        img, target = ds[0]
    with pytest.raises(AssertionError):
        ds.data = [(path.name, dict(boxes=np.array([[0, 0, 1, 1]])))]
        img, target = ds[0]
    <a id="change">with pytest</a><a id="change">.raises(AssertionError):
        </a>ds.data = [(ds.data[0][0], {"label": "A"})]
        img, target = ds[0]

    &#47&#47 Patch some data</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/f9d3d787842a2267c4738d4c51f3e9a8532d3ba4#diff-2e2e13954e29ff84c58753ce74a0045c43bec51b6712ef01f619298770e09d91L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3610479</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: f9d3d787842a2267c4738d4c51f3e9a8532d3ba4</div><div id='time'> Time: 2022-09-02</div><div id='author'> Author: felixdittrich92@gmail.com</div><div id='file'> File Name: tests/common/test_datasets.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_abstractdataset(1)</div><div id='n_method'> N Method Name: test_abstractdataset(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/common/test_datasets.py</div><div id='n_file'> N File Name: tests/common/test_datasets.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 67</div><BR>