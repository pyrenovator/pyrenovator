<html><h3>Pattern ID :16684
</h3><img src='55901012.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def __init__(self, input_size, hidden_size, bias=True, init_weight=None):
        super(LSTMCell, self).__init__()

        self.linear_i_i<a id="change"> = nn</a><a id="change">.Linear(</a>input_size, <a id="change">hidden_size</a><a id="change">, bias=bias)</a>
        self.linear_i_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.linear_f_i<a id="change"> = nn</a><a id="change">.Linear(</a>input_size, <a id="change">hidden_size</a><a id="change">, bias=bias)</a>
        self.linear_f_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.linear_g_i<a id="change"> = nn</a><a id="change">.Linear(</a>input_size, <a id="change">hidden_size</a><a id="change">, bias=bias)</a>
        self.linear_g_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.linear_o_i = nn.Linear(input_size, hidden_size, bias=bias)
        self.linear_o_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.input_size = input_size</code></pre><h3>After Change</h3><pre><code class='java'>
class LSTMCell(LSTMCellBase):
    LSTMCell implentation using Linear modules.
    def __init__(self, *args, **kwargs):
        <a id="change">super(LSTMCell, self).__init__(</a>*<a id="change">args, **kwargs)</a>
        self.linear_ih = nn.Linear(self.input_size, 4 * self.hidden_size, bias=self.bias)
        self.linear_hh = nn.Linear(self.hidden_size, 4 * self.hidden_size, bias=self.bias)

    def forward(self, input, hidden):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/gpauloski/kfac_pytorch/commit/71096019616b85a4312b1ee4f0fd883e628712a2#diff-a0eff985624669f024f489ade9cd24ba16a11fc5e29be2cc2c30f4337f6a79f0L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55901012</div><div id='project'> Project Name: gpauloski/kfac_pytorch</div><div id='commit'> Commit Name: 71096019616b85a4312b1ee4f0fd883e628712a2</div><div id='time'> Time: 2020-07-29</div><div id='author'> Author: gpauloski@yahoo.com</div><div id='file'> File Name: kfac/modules/lstm.py</div><div id='m_class'> M Class Name: LSTMCell</div><div id='n_method'> N Class Name: LSTMCell</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: LSTMCellBase</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: kfac/modules/lstm.py</div><div id='n_file'> N File Name: kfac/modules/lstm.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.linear_i_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.linear_f_i = nn.Linear(input_size, hidden_size, bias=bias)
        self.linear_f_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.linear_g_i<a id="change"> = </a><a id="change">nn.Linear(</a>input_size, hidden_size<a id="change">, bias=bias)</a>
        self.linear_g_h<a id="change"> = </a><a id="change">nn.Linear(</a>hidden_size, hidden_size<a id="change">, bias=bias)</a>
        self.linear_o_i<a id="change"> = </a><a id="change">nn.Linear(</a>input_size, hidden_size<a id="change">, bias=bias)</a>
        self.linear_o_h = nn.Linear(hidden_size, hidden_size, bias=bias)
        self.input_size = input_size
        self.hidden_size = hidden_size
        self.bias = bias</code></pre><h3>After Change</h3><pre><code class='java'>
class LSTMCell(LSTMCellBase):
    LSTMCell implentation using Linear modules.
    def __init__(self, *args, **kwargs):
        <a id="change">super(LSTMCell, self).__init__(</a>*<a id="change">args, **kwargs)</a>
        self.linear_ih = nn.Linear(self.input_size, 4 * self.hidden_size, bias=self.bias)
        self.linear_hh = nn.Linear(self.hidden_size, 4 * self.hidden_size, bias=self.bias)

    def forward(self, input, hidden):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gpauloski/kfac_pytorch/commit/71096019616b85a4312b1ee4f0fd883e628712a2#diff-a0eff985624669f024f489ade9cd24ba16a11fc5e29be2cc2c30f4337f6a79f0L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55901014</div><div id='project'> Project Name: gpauloski/kfac_pytorch</div><div id='commit'> Commit Name: 71096019616b85a4312b1ee4f0fd883e628712a2</div><div id='time'> Time: 2020-07-29</div><div id='author'> Author: gpauloski@yahoo.com</div><div id='file'> File Name: kfac/modules/lstm.py</div><div id='m_class'> M Class Name: LSTMCell</div><div id='n_method'> N Class Name: LSTMCell</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: LSTMCellBase</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: kfac/modules/lstm.py</div><div id='n_file'> N File Name: kfac/modules/lstm.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class MessageAttentionHead(nn.Module):
    def __init__(self, appearance_size, spatial_size, representation_size, node_type):
        super().__init__()
        self.fc_1<a id="change"> = </a><a id="change">nn.Linear(</a>appearance_size, representation_size<a id="change">)</a>
        self.fc_2<a id="change"> = </a><a id="change">nn.Linear(</a>spatial_size, representation_size<a id="change">)</a>
        self.fc_3<a id="change"> = </a><a id="change">nn.Linear(</a>representation_size, representation_size<a id="change">)</a>
        if node_type == &quothuman&quot:
            self._forward_method = self._forward_human_nodes
        elif node_type == &quotobject&quot:
            self._forward_method = self._forward_object_nodes</code></pre><h3>After Change</h3><pre><code class='java'>

class MessageAttentionHead(AttentionHead):
    def __init__(self, appearance_size, spatial_size, representation_size, node_type, cardinality):
        <a id="change">super().__init__(</a>appearance_size, spatial_size, representation_size, cardinality<a id="change">)</a>

        if node_type == &quothuman&quot:
            self._forward_method = self._forward_human_nodes
        elif node_type == &quotobject&quot:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fredzzhang/spatio-attentive-graphs/commit/8642f89cdf0f68d2d58af441033e190236bd28cf#diff-71f2242fd63193548b64b0486cbde35a5118d04cc57650f393c14e999bf5e3faL267' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55900993</div><div id='project'> Project Name: fredzzhang/spatio-attentive-graphs</div><div id='commit'> Commit Name: 8642f89cdf0f68d2d58af441033e190236bd28cf</div><div id='time'> Time: 2020-11-13</div><div id='author'> Author: frederic.zhang@anu.edu.au</div><div id='file'> File Name: interaction_head.py</div><div id='m_class'> M Class Name: MessageAttentionHead</div><div id='n_method'> N Class Name: MessageAttentionHead</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: AttentionHead</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: interaction_head.py</div><div id='n_file'> N File Name: interaction_head.py</div><div id='m_start'> M Start Line: 268</div><div id='m_end'> M End Line: 271</div><div id='n_start'> N Start Line: 285</div><div id='n_end'> N End Line: 286</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class Critic(nn.Module):
    def __init__(self,state_dim,hidden_dim):
        super(Critic, self).__init__()
        self.fc1<a id="change">   = </a><a id="change">nn.Linear(</a>state_dim,hidden_dim<a id="change">)</a>
        self.fc2<a id="change">   = </a><a id="change">nn.Linear(</a>hidden_dim,hidden_dim<a id="change">)</a>
        
        self.v<a id="change">  = </a><a id="change">nn.Linear(</a>hidden_dim,1<a id="change">)</a>
        
        for layer in self.modules():
            if isinstance(layer, nn.Linear):
                nn.init.orthogonal_(layer.weight)</code></pre><h3>After Change</h3><pre><code class='java'>

class Critic(Network):
    def __init__(self, layer_num, input_dim, output_dim, hidden_dim, activation_function, last_activation = None):
        <a id="change">super(Critic, self).__init__(</a>layer_num, input_dim, output_dim, hidden_dim, activation_function ,last_activation<a id="change">)</a>
        
    def forward(self, *x):
        x = torch.cat(x,-1)
        return self._forward(x)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/seolhokim/mujoco-pytorch/commit/0ce335459ae78887c789686fc20f23c207637d14#diff-6be0aeb295881d4f31754e6416672930e736a6a476d95f6e83655df5bf5ee23eL26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55900994</div><div id='project'> Project Name: seolhokim/mujoco-pytorch</div><div id='commit'> Commit Name: 0ce335459ae78887c789686fc20f23c207637d14</div><div id='time'> Time: 2021-05-12</div><div id='author'> Author: kilmya1@naver.com</div><div id='file'> File Name: networks/network.py</div><div id='m_class'> M Class Name: Critic</div><div id='n_method'> N Class Name: Critic</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Network</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: networks/network.py</div><div id='n_file'> N File Name: networks/network.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 24</div><BR>