<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def check_equal(a, b):
    eps = 1e-1 &#47&#47 icc error almost reaches 1e-1
    relative_error = (abs(a - b) / abs(b + 1)).mean()
    <a id="change">print(f"relative_error: {relative_error}"</a><a id="change">)</a>
    return relative_error &lt; eps

class TestPad(unittest.TestCase):
    def test_pad(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    tnn = None

def check_equal(arr, j_layer, p_layer):
    jittor_arr = <a id="change">jt.array(arr</a><a id="change">)</a>
    pytorch_arr = <a id="change">torch.Tensor(arr</a><a id="change">)</a>
    jittor_result<a id="change"> = j_layer(</a>jittor_arr<a id="change">)</a>
    pytorch_result<a id="change"> = p_layer(</a>pytorch_arr<a id="change">)</a>
    assert np.allclose(pytorch_result.detach().numpy(), jittor_result.numpy())

class TestPad(unittest.TestCase):
    def test_pad(self):</code></pre>