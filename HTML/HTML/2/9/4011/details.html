<html><h3>Pattern ID :4011
</h3><img src='15009173.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        fig, axes = plt.subplots(1, 3, figsize=(base_size * 3, base_size * 1))
        axes[0].imshow(self.pos_emb_h)
        axes[1].imshow(self.pos_emb_w)
        hh_sum<a id="change"> = tf</a><a id="change">.ones([</a>1, self.pos_emb_h.shape[0]<a id="change"></a>]<a id="change">)</a> @ self.pos_emb_h
        ww_sum = <a id="change">tf.ones([</a>1, self.pos_emb_w.shape[0]<a id="change"></a>]<a id="change">)</a> @ self.pos_emb_w
        axes[2].imshow(tf.transpose(hh_sum) + ww_sum)
        titles = ["pos_emb_h", "pos_emb_w", "sum"]
        for ax, title in zip(axes.flatten(), titles):</code></pre><h3>After Change</h3><pre><code class='java'>
        axes[0].imshow(pos_emb_h)
        axes[1].imshow(pos_emb_w)
        hh_sum = np.ones([1, pos_emb_h.shape[0]]) @ pos_emb_h
        ww_sum<a id="change"> = </a>np.ones(<a id="change">[</a>1, pos_emb_w.shape[0]<a id="change"></a>])<a id="change"> @ </a>pos_emb_w
        axes[2].imshow(np.transpose(hh_sum) + ww_sum)
        titles = ["pos_emb_h", "pos_emb_w", "sum"]
        for ax, title in zip(axes.flatten(), titles):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/leondgarse/keras_cv_attention_models/commit/e05e233f369a1d58f912872b1581a80d15cacc3f#diff-4163380308eb60d4185b09d8359be777af3cee4f5ffc9acbf77fc54a76f12e5bL129' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15009173</div><div id='project'> Project Name: leondgarse/keras_cv_attention_models</div><div id='commit'> Commit Name: e05e233f369a1d58f912872b1581a80d15cacc3f</div><div id='time'> Time: 2023-02-07</div><div id='author'> Author: leondgarse@gmail.com</div><div id='file'> File Name: keras_cv_attention_models/botnet/botnet.py</div><div id='m_class'> M Class Name: RelativePositionalEmbedding</div><div id='n_method'> N Class Name: RelativePositionalEmbedding</div><div id='m_method'> M Method Name: show_pos_emb(2)</div><div id='n_method'> N Method Name: show_pos_emb(2)</div><div id='m_parent_class'> M Parent Class: layers.Layer</div><div id='n_parent_class'> N Parent Class: keras.layers.Layer</div><div id='m_file'> M File Name: keras_cv_attention_models/botnet/botnet.py</div><div id='n_file'> N File Name: keras_cv_attention_models/botnet/botnet.py</div><div id='m_start'> M Start Line: 132</div><div id='m_end'> M End Line: 135</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 136</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ivy.linspace(ivy.zeros([b, t]), ivy.ones([b, t]), input_channel),
        dtype=dtype,
    )
    init_h<a id="change"> = </a><a id="change">ivy.ones([</a>b, hidden_channel<a id="change"></a>]<a id="change">)</a>
    init_c = <a id="change">ivy.ones([</a>b, hidden_channel<a id="change"></a>]<a id="change">)</a>
    kernel = ivy.variable(ivy.ones([input_channel, 4 * hidden_channel])) * 0.5
    recurrent_kernel = (
        ivy.variable(ivy.ones([hidden_channel, 4 * hidden_channel])) * 0.5
    )</code></pre><h3>After Change</h3><pre><code class='java'>
        return

    x = np.random.uniform(size=b + [t] + [input_channel]).astype(dtype[0])
    init_h<a id="change"> = </a>np.ones(b<a id="change"> + </a><a id="change">[</a>hidden_channel<a id="change"></a>]).astype(dtype[1])
    init_c = np.ones(b + [hidden_channel]).astype(dtype[2])

    kernel = np.array(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ivy-dl/ivy/commit/23f6249c6c3836ef1e64809c125eb27118b19dc5#diff-c095e30892b77173c50758b5b41a1146ccfd61049e0ba662317b2adddf7e303eL742' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15009175</div><div id='project'> Project Name: ivy-dl/ivy</div><div id='commit'> Commit Name: 23f6249c6c3836ef1e64809c125eb27118b19dc5</div><div id='time'> Time: 2022-07-06</div><div id='author'> Author: sherrytst30@gmail.com</div><div id='file'> File Name: ivy_tests/test_ivy/test_functional/test_nn/test_layers.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_lstm(12)</div><div id='n_method'> N Method Name: test_lstm(12)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ivy_tests/test_ivy/test_functional/test_nn/test_layers.py</div><div id='n_file'> N File Name: ivy_tests/test_ivy/test_functional/test_nn/test_layers.py</div><div id='m_start'> M Start Line: 757</div><div id='m_end'> M End Line: 765</div><div id='n_start'> N Start Line: 756</div><div id='n_end'> N End Line: 781</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        fig, axes = plt.subplots(1, 3, figsize=(base_size * 3, base_size * 1))
        axes[0].imshow(self.pos_emb_h)
        axes[1].imshow(self.pos_emb_w)
        hh_sum = <a id="change">tf.ones([</a>1, self.pos_emb_h.shape[0]<a id="change"></a>]<a id="change">)</a> @ self.pos_emb_h
        ww_sum<a id="change"> = </a><a id="change">tf.ones([</a>1, self.pos_emb_w.shape[0]<a id="change"></a>]<a id="change">)</a> @ self.pos_emb_w
        axes[2].imshow(tf.transpose(hh_sum) + ww_sum)
        titles = ["pos_emb_h", "pos_emb_w", "sum"]
        for ax, title in zip(axes.flatten(), titles):</code></pre><h3>After Change</h3><pre><code class='java'>
        axes[0].imshow(pos_emb_h)
        axes[1].imshow(pos_emb_w)
        hh_sum = np.ones([1, pos_emb_h.shape[0]]) @ pos_emb_h
        ww_sum<a id="change"> = </a>np.ones(<a id="change">[</a>1, pos_emb_w.shape[0]<a id="change"></a>])<a id="change"> @ </a>pos_emb_w
        axes[2].imshow(np.transpose(hh_sum) + ww_sum)
        titles = ["pos_emb_h", "pos_emb_w", "sum"]
        for ax, title in zip(axes.flatten(), titles):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/leondgarse/keras_cv_attention_models/commit/e05e233f369a1d58f912872b1581a80d15cacc3f#diff-4163380308eb60d4185b09d8359be777af3cee4f5ffc9acbf77fc54a76f12e5bL128' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15009168</div><div id='project'> Project Name: leondgarse/keras_cv_attention_models</div><div id='commit'> Commit Name: e05e233f369a1d58f912872b1581a80d15cacc3f</div><div id='time'> Time: 2023-02-07</div><div id='author'> Author: leondgarse@gmail.com</div><div id='file'> File Name: keras_cv_attention_models/botnet/botnet.py</div><div id='m_class'> M Class Name: RelativePositionalEmbedding</div><div id='n_method'> N Class Name: RelativePositionalEmbedding</div><div id='m_method'> M Method Name: show_pos_emb(2)</div><div id='n_method'> N Method Name: show_pos_emb(2)</div><div id='m_parent_class'> M Parent Class: layers.Layer</div><div id='n_parent_class'> N Parent Class: keras.layers.Layer</div><div id='m_file'> M File Name: keras_cv_attention_models/botnet/botnet.py</div><div id='n_file'> N File Name: keras_cv_attention_models/botnet/botnet.py</div><div id='m_start'> M Start Line: 132</div><div id='m_end'> M End Line: 135</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 136</div><BR>