<html><h3>Pattern ID :15112
</h3><img src='51267711.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        Also see: rcts_prod_fps_from_rxn_smi, make_rxn_fp
        
        rcts_fp<a id="change">, prod_fp</a> = rcts_prod_fps_from_rxn_smi(
            rxn_smi, self.fp_type, self.smi_to_fp_dict, self.mol_fps
        )
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.rdm_counter = -1 

    def get_one_sample(self, rxn_smi: str) -&gt; List[str]:
        prod_smi<a id="change"> = rxn_smi.split("&gt;&gt;")[-1]</a>
        rcts_smi = <a id="change">rxn_smi.split(&quot&gt;&gt;&quot</a><a id="change">)</a>[0]
 
        neg_rxn_smis = []
        for i in range(self.num_neg):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/coleygroup/rxn-ebm/commit/ed4405c7e2a4b5d79e6bbfbf4009fc69dc0c9536#diff-d653ce6759afb72ae1e3cb64bbb52d4b18c54b024d5388703bfe1981f96f824dL288' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51267711</div><div id='project'> Project Name: coleygroup/rxn-ebm</div><div id='commit'> Commit Name: ed4405c7e2a4b5d79e6bbfbf4009fc69dc0c9536</div><div id='time'> Time: 2020-11-05</div><div id='author'> Author: linmin001@e.ntu.edu.sg</div><div id='file'> File Name: rxnebm/data/augmentors.py</div><div id='m_class'> M Class Name: Random</div><div id='n_method'> N Class Name: Random</div><div id='m_method'> M Method Name: get_one_sample(2)</div><div id='n_method'> N Method Name: get_one_sample(2)</div><div id='m_parent_class'> M Parent Class: Augmentor</div><div id='n_parent_class'> N Parent Class: Augmentor</div><div id='m_file'> M File Name: rxnebm/data/augmentors.py</div><div id='n_file'> N File Name: rxnebm/data/augmentors.py</div><div id='m_start'> M Start Line: 288</div><div id='m_end'> M End Line: 296</div><div id='n_start'> N Start Line: 330</div><div id='n_end'> N End Line: 337</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        
        Also see: rcts_prod_fps_from_rxn_smi, make_rxn_fp
        
        rcts_fp<a id="change">, prod_fp</a> = rcts_prod_fps_from_rxn_smi(
            rxn_smi, self.fp_type, self.smi_to_fp_dict, self.mol_fps
        )
        </code></pre><h3>After Change</h3><pre><code class='java'>
        self.num_threads = num_threads
    
    def get_one_sample(self, rxn_smi: str) -&gt; List[str]:
        prod_smi<a id="change"> = rxn_smi.split("&gt;&gt;")[-1]</a>
        rcts_smi = <a id="change">rxn_smi.split(&quot&gt;&gt;&quot</a><a id="change">)</a>[0]
 
        nn_prod_idxs = self.get_idx(prod_fp=prod_fp, rxn_smi=rxn_smi)
        nn_prod_smis = [self.fp_to_smi_dict[idx] for idx in nn_prod_idxs[: self.num_neg]]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/coleygroup/rxn-ebm/commit/ed4405c7e2a4b5d79e6bbfbf4009fc69dc0c9536#diff-d653ce6759afb72ae1e3cb64bbb52d4b18c54b024d5388703bfe1981f96f824dL204' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51267716</div><div id='project'> Project Name: coleygroup/rxn-ebm</div><div id='commit'> Commit Name: ed4405c7e2a4b5d79e6bbfbf4009fc69dc0c9536</div><div id='time'> Time: 2020-11-05</div><div id='author'> Author: linmin001@e.ntu.edu.sg</div><div id='file'> File Name: rxnebm/data/augmentors.py</div><div id='m_class'> M Class Name: Cosine</div><div id='n_method'> N Class Name: Cosine</div><div id='m_method'> M Method Name: get_one_sample(2)</div><div id='n_method'> N Method Name: get_one_sample(2)</div><div id='m_parent_class'> M Parent Class: Augmentor</div><div id='n_parent_class'> N Parent Class: Augmentor</div><div id='m_file'> M File Name: rxnebm/data/augmentors.py</div><div id='n_file'> N File Name: rxnebm/data/augmentors.py</div><div id='m_start'> M Start Line: 208</div><div id='m_end'> M End Line: 217</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 242</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for (i, line) in enumerate(lines):
            if i == 0:
                continue
            guid = "%s-%s" % (line[0]<a id="change">, "train"</a>)
            text_a = line[4]
            text_b = line[5]
            if len(text_a) &lt; 5 or len(text_b) &lt; 5:</code></pre><h3>After Change</h3><pre><code class='java'>
        for (i, line) in enumerate(lines):
            if i == 0:
                continue
            <a id="change">input</a> = line[0]
            guid = "%s-%s" % (input, "train")
            text_a = <a id="change">input.split("&lt;sep&gt;"</a><a id="change">)</a>[0]
            text_b<a id="change"> = input.split("&lt;sep&gt;")[1]</a>
            if len(text_a) &lt; 5 or len(text_b) &lt; 5:
                continue
            label = line[1]
            if label not in self.labels:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/persiannlp/parsinlu/commit/9efff3e103f8fd891511223edc2a0639c4d16f7f#diff-b54d2dd7878ddc4516dec262cc48c4242b248dc86cb708916302c2dcf198cb8eL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51267715</div><div id='project'> Project Name: persiannlp/parsinlu</div><div id='commit'> Commit Name: 9efff3e103f8fd891511223edc2a0639c4d16f7f</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: danielk@allenai.org</div><div id='file'> File Name: src/processors/entailment.py</div><div id='m_class'> M Class Name: TEProcessor</div><div id='n_method'> N Class Name: TEProcessor</div><div id='m_method'> M Method Name: get_train_examples(2)</div><div id='n_method'> N Method Name: get_train_examples(2)</div><div id='m_parent_class'> M Parent Class: DataProcessor</div><div id='n_parent_class'> N Parent Class: DataProcessor</div><div id='m_file'> M File Name: src/processors/entailment.py</div><div id='n_file'> N File Name: src/processors/entailment.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 26</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for (i, line) in enumerate(lines):
            if i == 0:
                continue
            guid = "%s-%s" % (line[0]<a id="change">, "test"</a>)
            text_a = line[4]
            text_b = line[5]
            if len(text_a) &lt; 5 or len(text_b) &lt; 5:</code></pre><h3>After Change</h3><pre><code class='java'>
        for (i, line) in enumerate(lines):
            if i == 0:
                continue
            <a id="change">input</a> = line[0]
            guid = "%s-%s" % (input, "train")
            text_a = <a id="change">input.split("&lt;sep&gt;"</a><a id="change">)</a>[0]
            text_b<a id="change"> = input.split("&lt;sep&gt;")[1]</a>
            if len(text_a) &lt; 5 or len(text_b) &lt; 5:
                continue
            label = line[1]
            if label not in self.labels:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/persiannlp/parsinlu/commit/9efff3e103f8fd891511223edc2a0639c4d16f7f#diff-b54d2dd7878ddc4516dec262cc48c4242b248dc86cb708916302c2dcf198cb8eL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 51267713</div><div id='project'> Project Name: persiannlp/parsinlu</div><div id='commit'> Commit Name: 9efff3e103f8fd891511223edc2a0639c4d16f7f</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: danielk@allenai.org</div><div id='file'> File Name: src/processors/entailment.py</div><div id='m_class'> M Class Name: TEProcessor</div><div id='n_method'> N Class Name: TEProcessor</div><div id='m_method'> M Method Name: get_test_examples(2)</div><div id='n_method'> N Method Name: get_test_examples(2)</div><div id='m_parent_class'> M Parent Class: DataProcessor</div><div id='n_parent_class'> N Parent Class: DataProcessor</div><div id='m_file'> M File Name: src/processors/entailment.py</div><div id='n_file'> N File Name: src/processors/entailment.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 52</div><BR>