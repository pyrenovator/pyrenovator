<html><h3>Pattern ID :8151
</h3><img src='28809399.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                  min_len_in_seconds=1,
                                  max_len_in_seconds=10,
                                  device=device)
    valid_set<a id="change"> = </a><a id="change">FastSpeechDataset(</a>path_to_transcript_dict<a id="change">,
                                  train=False,
                                  acoustic_model_name="TransformerTTS_Karlsson/best.pt",
                                  diagonal_attention_head_id=None,
                                  cache_dir=cache_dir,
                                  lang="de",
                                  min_len_in_seconds=1,
                                  max_len_in_seconds=10,
                                  device=device)</a>

    model = FastSpeech2(idim=133, odim=80, spk_embed_dim=None)

    print("Training model")</code></pre><h3>After Change</h3><pre><code class='java'>

    path_to_transcript_dict = build_path_to_transcript_dict_karlsson()

    acoustic_model<a id="change"> = </a><a id="change">Transformer(idim=133, odim=80, spk_embed_dim=None)</a>
    <a id="change">acoustic_model.load_state_dict(torch.load(os.path.join("Models", "TransformerTTS_Karlsson", "best.pt"),
                                              map_location=&quotcpu&quot)["model"]</a><a id="change">)</a>

    train_set = FastSpeechDataset(path_to_transcript_dict,
                                  cache_dir=cache_dir,
                                  acoustic_model=acoustic_model,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/d833c210aa2b0fe884c4ee3942461c42b8fd2791#diff-79db5e3dd2e459ef1c90a9718fa9579ca3b93f013871dfb97c26de42c3dbe499L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28809399</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: d833c210aa2b0fe884c4ee3942461c42b8fd2791</div><div id='time'> Time: 2021-05-04</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: Pipelines/Pipeline_FastSpeech2_Karlsson.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(3)</div><div id='n_method'> N Method Name: run(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: Pipelines/Pipeline_FastSpeech2_Karlsson.py</div><div id='n_file'> N File Name: Pipelines/Pipeline_FastSpeech2_Karlsson.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                  max_len_in_seconds=10,
                                  device=device,
                                  path_blacklist=path_blacklist)
    valid_set<a id="change"> = </a><a id="change">FastSpeechDataset(</a>path_to_transcript_dict<a id="change">,
                                  train=False,
                                  acoustic_model_name="TransformerTTS_Thorsten/best.pt",
                                  diagonal_attention_head_id=12,
                                  cache_dir=cache_dir,
                                  lang="de",
                                  min_len_in_seconds=1,
                                  max_len_in_seconds=10,
                                  device=device,
                                  path_blacklist=path_blacklist)</a>

    model = FastSpeech2(idim=133, odim=80, spk_embed_dim=None)

    print("Training model")</code></pre><h3>After Change</h3><pre><code class='java'>

    path_blacklist = ["/mount/resources/speech/corpora/Thorsten_DE/wavs/" + x + ".wav" for x in failed_alignments]

    acoustic_model<a id="change"> = </a><a id="change">Transformer(idim=133, odim=80, spk_embed_dim=None)</a>
    <a id="change">acoustic_model.load_state_dict(torch.load(os.path.join("Models", "TransformerTTS_Thorsten", "best.pt"),
                                              map_location=&quotcpu&quot)["model"]</a><a id="change">)</a>

    train_set = FastSpeechDataset(path_to_transcript_dict,
                                  cache_dir=cache_dir,
                                  acoustic_model=acoustic_model,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/d833c210aa2b0fe884c4ee3942461c42b8fd2791#diff-1c70e6eacbf13bd5398c0bb300433ab5456582701d1e9289a5d101c4fb895994L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28809397</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: d833c210aa2b0fe884c4ee3942461c42b8fd2791</div><div id='time'> Time: 2021-05-04</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: Pipelines/Pipeline_FastSpeech2_Thorsten.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(3)</div><div id='n_method'> N Method Name: run(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: Pipelines/Pipeline_FastSpeech2_Thorsten.py</div><div id='n_file'> N File Name: Pipelines/Pipeline_FastSpeech2_Thorsten.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 109</div><div id='n_end'> N End Line: 111</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                  min_len_in_seconds=1,
                                  max_len_in_seconds=10,
                                  device=device)
    valid_set<a id="change"> = </a><a id="change">FastSpeechDataset(</a>path_to_transcript_dict<a id="change">,
                                  train=False,
                                  acoustic_model_name="TransformerTTS_Eva/best.pt",
                                  diagonal_attention_head_id=None,
                                  cache_dir=cache_dir,
                                  lang="de",
                                  min_len_in_seconds=1,
                                  max_len_in_seconds=10,
                                  device=device)</a>

    model = FastSpeech2(idim=133, odim=80, spk_embed_dim=None)

    print("Training model")</code></pre><h3>After Change</h3><pre><code class='java'>

    path_to_transcript_dict = build_path_to_transcript_dict_eva()

    acoustic_model<a id="change"> = </a><a id="change">Transformer(idim=133, odim=80, spk_embed_dim=None)</a>
    <a id="change">acoustic_model.load_state_dict(torch.load(os.path.join("Models", "TransformerTTS_Eva", "best.pt"),
                                              map_location=&quotcpu&quot)["model"]</a><a id="change">)</a>

    train_set = FastSpeechDataset(path_to_transcript_dict,
                                  cache_dir=cache_dir,
                                  acoustic_model=acoustic_model,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/d833c210aa2b0fe884c4ee3942461c42b8fd2791#diff-0e91d5c78b8fcee19907b4444e5cec9cfa8f6c579259b4450f5a336d3c18e4abL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28809404</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: d833c210aa2b0fe884c4ee3942461c42b8fd2791</div><div id='time'> Time: 2021-05-04</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: Pipelines/Pipeline_FastSpeech2_Eva.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(3)</div><div id='n_method'> N Method Name: run(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: Pipelines/Pipeline_FastSpeech2_Eva.py</div><div id='n_file'> N File Name: Pipelines/Pipeline_FastSpeech2_Eva.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 38</div><BR>