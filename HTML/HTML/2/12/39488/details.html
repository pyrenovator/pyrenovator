<html><h3>Pattern ID :39488
</h3><img src='112142207.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            edge_type_idx = random.randint(0, len(remaining_edge_types)-1)
            new_edge_type = remaining_edge_types[edge_type_idx]
            new_edge_type_tuple<a id="change"> = </a>EdgeTypeStr2Tuple(new_edge_type)
            <a id="change">if len(set(new_edge_type_tuple) & explored_node_type_set) == 0</a>:
                continue
            chosen_edge_types_list.append(new_edge_type)
            explored_node_type_set |= set(new_edge_type_tuple)</code></pre><h3>After Change</h3><pre><code class='java'>

    for _ in range(edge_type_num):
        &#47&#47 Move edge types from other_edge_types_list to candidate_edge_types_list.
        idx_to_rm<a id="change"> = </a><a id="change">[]</a>
        <a id="change">for </a>idx, et in enumerate(other_edge_types_list)<a id="change">:
            </a>et_tuple = EdgeTypeStr2Tuple(et)
            <a id="change">if len(set(et_tuple) & explored_node_type_set) &gt; 0</a>:
                candidate_edge_types_list.append(et)
                <a id="change">idx_to_rm.append(</a>idx<a id="change">)</a>
        &#47&#47 Since pop() will change the index of following elements,
        &#47&#47 we need to reverse the order of idx_to_rm.
        for idx in reversed(idx_to_rm):
            other_edge_types_list.pop(idx)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pku-dair/sgl/commit/93e7aac75c7a5fe5266c08615e4e5c0de463a86d#diff-a42813c7bb6f36db6c7dc4df3f1fb029e01d435597a169b5c1ae027c2d0ae0e3L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112142207</div><div id='project'> Project Name: pku-dair/sgl</div><div id='commit'> Commit Name: 93e7aac75c7a5fe5266c08615e4e5c0de463a86d</div><div id='time'> Time: 2022-04-21</div><div id='author'> Author: 82886739+ZhenbangYou@users.noreply.github.com</div><div id='file'> File Name: dataset/choose_edge_type.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: ChooseEdgeType(3)</div><div id='n_method'> N Method Name: ChooseEdgeType(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/choose_edge_type.py</div><div id='n_file'> N File Name: dataset/choose_edge_type.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                objects = line.split(&quot, &quot)
                if len(objects) == 2:
                    image = objects[0]
                    objects<a id="change"> = </a>objects[1].split(&quot\"&quot)
                    <a id="change">if 1 &lt; len(objects)</a>:
                        if len(objects) % 2:
                            captions = [objects[2 * i + 1]
                                for i in range(int(len(objects) / 2))]</code></pre><h3>After Change</h3><pre><code class='java'>
                objects = line.split(&quot, &quot)
                if len(objects) == 2:
                    image = objects[0]
                    captions<a id="change"> = </a><a id="change">[]</a>
                    <a id="change">for caption</a> in objects[1:]<a id="change">:
                        if caption[0] != &quot\"&quot</a> or caption[-1] != &quot\"&quot:
                            log.warning("Line %s: unexpected number "
                                "of quotes" % line)
                        else:
                            <a id="change">captions.append(</a>caption.replace(&quot\\&quot, &quot&quot)[1:-1]<a id="change">)</a>
                else:
                    image = objects[0][:-1]
                    captions = []
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/551fa11a820347080aaa92b43cac2fe61f1691a6#diff-8dabf26e19c18cd14fd53c6edd8a4b1d2dda9ebff6029ef2786e570df53ac0daL53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112142221</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 551fa11a820347080aaa92b43cac2fe61f1691a6</div><div id='time'> Time: 2021-07-22</div><div id='author'> Author: kirill.sizov@intel.com</div><div id='file'> File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_class'> M Class Name: _IcdarExtractor</div><div id='n_method'> N Class Name: _IcdarExtractor</div><div id='m_method'> M Method Name: _load_recognition_items(1)</div><div id='n_method'> N Method Name: _load_recognition_items(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/icdar_format/extractor.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 59</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                break

            edge_type_idx = random.randint(0, len(remaining_edge_types)-1)
            new_edge_type<a id="change"> = </a>remaining_edge_types[edge_type_idx]
            new_edge_type_tuple = EdgeTypeStr2Tuple(new_edge_type)
            <a id="change">if len(set(new_edge_type_tuple) & explored_node_type_set) == 0</a>:
                continue
            chosen_edge_types_list.append(new_edge_type)
            explored_node_type_set |= set(new_edge_type_tuple)</code></pre><h3>After Change</h3><pre><code class='java'>

    for _ in range(edge_type_num):
        &#47&#47 Move edge types from other_edge_types_list to candidate_edge_types_list.
        idx_to_rm<a id="change"> = </a><a id="change">[]</a>
        <a id="change">for </a>idx, <a id="change">et</a> in enumerate(other_edge_types_list)<a id="change">:
            </a>et_tuple = EdgeTypeStr2Tuple(et)
            <a id="change">if len(set(et_tuple) & explored_node_type_set) &gt; 0</a>:
                candidate_edge_types_list.append(et)
                <a id="change">idx_to_rm.append(</a>idx<a id="change">)</a>
        &#47&#47 Since pop() will change the index of following elements,
        &#47&#47 we need to reverse the order of idx_to_rm.
        for idx in reversed(idx_to_rm):
            other_edge_types_list.pop(idx)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pku-dair/sgl/commit/93e7aac75c7a5fe5266c08615e4e5c0de463a86d#diff-a42813c7bb6f36db6c7dc4df3f1fb029e01d435597a169b5c1ae027c2d0ae0e3L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112142202</div><div id='project'> Project Name: pku-dair/sgl</div><div id='commit'> Commit Name: 93e7aac75c7a5fe5266c08615e4e5c0de463a86d</div><div id='time'> Time: 2022-04-21</div><div id='author'> Author: 82886739+ZhenbangYou@users.noreply.github.com</div><div id='file'> File Name: dataset/choose_edge_type.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: ChooseEdgeType(3)</div><div id='n_method'> N Method Name: ChooseEdgeType(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/choose_edge_type.py</div><div id='n_file'> N File Name: dataset/choose_edge_type.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self.error.occurred():
            return None
        try:
            parsings<a id="change"> = </a>pyconll.load_from_string(processed)
            <a id="change">if len(parsings) == 0</a>:
                return None
        except:
            return None</code></pre><h3>After Change</h3><pre><code class='java'>
            return None
        try:
            for parsing0 in pyconll.load_from_string(processed):
                parsing<a id="change"> = </a><a id="change">[]</a>
                <a id="change">for token</a> in parsing0<a id="change">:
                    </a>utoken = token.form.lower()
                    <a id="change">if utoken in [&quotчтоб&quot]</a>:
                        &#47&#47 Исправляем ошибки разметки некоторых слов в UDPipe.Syntagrus
                        <a id="change">parsing.append(</a>UDPipeToken(token, upos=&quotSCONJ&quot, tags=[])<a id="change">)</a>
                    elif utoken in [&quotсредь&quot]:
                        parsing.append(UDPipeToken(token, upos=&quotADP&quot, tags=[]))
                    else:
                        parsing.append(UDPipeToken(token))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/koziev/verslibre/commit/ca9ba4038492c4dcbff8898c51821ff9b49db9a5#diff-cf8155ef6a0d32b26107701070cc62b3a230a2c82dbd7a1ab5194e2ef23afc25L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112142200</div><div id='project'> Project Name: koziev/verslibre</div><div id='commit'> Commit Name: ca9ba4038492c4dcbff8898c51821ff9b49db9a5</div><div id='time'> Time: 2021-12-20</div><div id='author'> Author: kelijah@yandex.ru</div><div id='file'> File Name: py/generative_poetry/udpipe_parser.py</div><div id='m_class'> M Class Name: UdpipeParser</div><div id='n_method'> N Class Name: UdpipeParser</div><div id='m_method'> M Method Name: parse_text(2)</div><div id='n_method'> N Method Name: parse_text(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: py/generative_poetry/udpipe_parser.py</div><div id='n_file'> N File Name: py/generative_poetry/udpipe_parser.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 30</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 59</div><BR>