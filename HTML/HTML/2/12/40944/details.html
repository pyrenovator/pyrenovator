<html><h3>Pattern ID :40944
</h3><img src='115463601.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            cols.remove(self.target)
        else:
            cols = list(df_raw.columns)
            <a id="change">cols.remove(</a>self.target<a id="change">)</a>
            cols.remove(&quotdate&quot)
        df_raw = df_raw[[&quotdate&quot] + cols + [self.target]]
        border1 = len(df_raw) - self.seq_len
        border2 = len(df_raw)</code></pre><h3>After Change</h3><pre><code class='java'>
            cols = list(df_raw.columns)
            self.cols = cols.copy()
            cols.remove(&quotdate&quot)
        <a id="change">if self.features == &quotS&quot</a>:
            <a id="change">cols.remove(</a>self.target<a id="change">)</a>
        border1 = len(df_raw) - self.seq_len
        border2 = len(df_raw)

        if self.features == &quotM&quot or self.features == &quotMS&quot:
            df_raw<a id="change"> = df_raw[[&quotdate&quot] + cols]</a>
            cols_data = df_raw.columns[1:]
            df_data = df_raw[cols_data]
        elif self.features == &quotS&quot:
            df_raw = df_raw[[&quotdate&quot] + cols + [self.target]]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/cure-lab/ltsf-linear/commit/27ef39951388d578b3006ab10d4666db14211333#diff-304199ba13001dd0496b0fe74f6fc7095a0f45356eb25f72824392933688ce16L326' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115463601</div><div id='project'> Project Name: cure-lab/ltsf-linear</div><div id='commit'> Commit Name: 27ef39951388d578b3006ab10d4666db14211333</div><div id='time'> Time: 2023-02-13</div><div id='author'> Author: dmitri.lihhatsov@revolut.com</div><div id='file'> File Name: data_provider/data_loader.py</div><div id='m_class'> M Class Name: Dataset_Pred</div><div id='n_method'> N Class Name: Dataset_Pred</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data_provider/data_loader.py</div><div id='n_file'> N File Name: data_provider/data_loader.py</div><div id='m_start'> M Start Line: 329</div><div id='m_end'> M End Line: 335</div><div id='n_start'> N Start Line: 326</div><div id='n_end'> N End Line: 362</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        df_raw.columns: [&quotdate&quot, ...(other features), target feature]
        &quot&quot&quot
        cols = list(df_raw.columns)
        <a id="change">cols.remove(</a>self.target<a id="change">)</a>
        cols.remove(&quotdate&quot)
        df_raw = df_raw[[&quotdate&quot] + cols + [self.target]]
        &#47&#47 print(cols)
        num_train = int(len(df_raw) * 0.7)</code></pre><h3>After Change</h3><pre><code class='java'>

    def __read_data__(self):
        self.scaler = StandardScaler()
        <a id="change">df_raw</a> = pd.read_csv(os.path.join(self.root_path,
                                          self.data_path))

        &quot&quot&quot
        df_raw.columns: [&quotdate&quot, ...(other features), target feature]
        &quot&quot&quot
        <a id="change">cols</a> = list(df_raw.columns)
        <a id="change">if self.features == &quotS&quot</a>:
            <a id="change">cols.remove(</a>self.target<a id="change">)</a>
        cols.remove(&quotdate&quot)
        &#47&#47 print(cols)
        num_train = int(len(df_raw) * (0.7 if not self.train_only else 1))
        num_test = int(len(df_raw) * 0.2)
        num_vali = len(df_raw) - num_train - num_test
        border1s = [0, num_train - self.seq_len, len(df_raw) - num_test - self.seq_len]
        border2s = [num_train, num_train + num_vali, len(df_raw)]
        border1 = border1s[self.set_type]
        border2 = border2s[self.set_type]

        if self.features == &quotM&quot or self.features == &quotMS&quot:
            df_raw<a id="change"> = </a><a id="change">df_raw[[&quotdate&quot] + cols]</a>
            cols_data = df_raw.columns[1:]
            df_data = df_raw[cols_data]
        elif self.features == &quotS&quot:
            df_raw = df_raw[[&quotdate&quot] + cols + [self.target]]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cure-lab/ltsf-linear/commit/27ef39951388d578b3006ab10d4666db14211333#diff-304199ba13001dd0496b0fe74f6fc7095a0f45356eb25f72824392933688ce16L221' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115463600</div><div id='project'> Project Name: cure-lab/ltsf-linear</div><div id='commit'> Commit Name: 27ef39951388d578b3006ab10d4666db14211333</div><div id='time'> Time: 2023-02-13</div><div id='author'> Author: dmitri.lihhatsov@revolut.com</div><div id='file'> File Name: data_provider/data_loader.py</div><div id='m_class'> M Class Name: Dataset_Custom</div><div id='n_method'> N Class Name: Dataset_Custom</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data_provider/data_loader.py</div><div id='n_file'> N File Name: data_provider/data_loader.py</div><div id='m_start'> M Start Line: 230</div><div id='m_end'> M End Line: 234</div><div id='n_start'> N Start Line: 224</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            cols.remove(self.target)
        else:
            cols = list(df_raw.columns)
            <a id="change">cols.remove(</a>self.target<a id="change">)</a>
            cols.remove(&quotdate&quot)
        df_raw = df_raw[[&quotdate&quot] + cols + [self.target]]
        border1 = len(df_raw) - self.seq_len
        border2 = len(df_raw)</code></pre><h3>After Change</h3><pre><code class='java'>

    def __read_data__(self):
        self.scaler = StandardScaler()
        <a id="change">df_raw</a> = pd.read_csv(os.path.join(self.root_path,
                                          self.data_path))
        &quot&quot&quot
        df_raw.columns: [&quotdate&quot, ...(other features), target feature]
        &quot&quot&quot
        if self.cols:
            cols = self.cols.copy()
        else:
            cols = list(df_raw.columns)
            self.cols = cols.copy()
            cols.remove(&quotdate&quot)
        <a id="change">if self.features == &quotS&quot</a>:
            <a id="change">cols.remove(</a>self.target<a id="change">)</a>
        border1 = len(df_raw) - self.seq_len
        border2 = len(df_raw)

        if self.features == &quotM&quot or self.features == &quotMS&quot:
            df_raw<a id="change"> = </a><a id="change">df_raw[[&quotdate&quot] + cols]</a>
            cols_data = df_raw.columns[1:]
            df_data = df_raw[cols_data]
        elif self.features == &quotS&quot:
            df_raw = df_raw[[&quotdate&quot] + cols + [self.target]]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cure-lab/dlinear/commit/27ef39951388d578b3006ab10d4666db14211333#diff-304199ba13001dd0496b0fe74f6fc7095a0f45356eb25f72824392933688ce16L321' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 115463599</div><div id='project'> Project Name: cure-lab/dlinear</div><div id='commit'> Commit Name: 27ef39951388d578b3006ab10d4666db14211333</div><div id='time'> Time: 2023-02-13</div><div id='author'> Author: dmitri.lihhatsov@revolut.com</div><div id='file'> File Name: data_provider/data_loader.py</div><div id='m_class'> M Class Name: Dataset_Pred</div><div id='n_method'> N Class Name: Dataset_Pred</div><div id='m_method'> M Method Name: __read_data__(1)</div><div id='n_method'> N Method Name: __read_data__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: data_provider/data_loader.py</div><div id='n_file'> N File Name: data_provider/data_loader.py</div><div id='m_start'> M Start Line: 329</div><div id='m_end'> M End Line: 335</div><div id='n_start'> N Start Line: 326</div><div id='n_end'> N End Line: 362</div><BR>