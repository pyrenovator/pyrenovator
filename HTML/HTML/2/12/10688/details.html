<html><h3>Pattern ID :10688
</h3><img src='36895722.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                if first_stage:
                    first_stage = False
                    self.memory_context.end_batch(b_ix)
        <a id="change">return </a><a id="change">tuple(x[:len(batch_indices)]</a><a id="change"> for x in args)</a>

    def __next__(self):
        result = self.output_queue.get()
        if result is None:</code></pre><h3>After Change</h3><pre><code class='java'>
                    args[f&quotresult_{node_id}&quot] = result
                pass

            result<a id="change"> = </a><a id="change">tuple(args[f&quotresult_{x}&quot]</a><a id="change"> for x in outputs)</a>
            <a id="change">return </a>result

    def __next__(self):
        result = self.output_queue.get()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/libffcv/ffcv/commit/f8baf227d1243d4207c082d8ea11b89b5a73da32#diff-d1c1d17dd7f942f4223cf450209bcd6a3979e50b67e9c881848b09da0845f7ffL111' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36895722</div><div id='project'> Project Name: libffcv/ffcv</div><div id='commit'> Commit Name: f8baf227d1243d4207c082d8ea11b89b5a73da32</div><div id='time'> Time: 2022-02-08</div><div id='author'> Author: leclerc@mit.edu</div><div id='file'> File Name: ffcv/loader/epoch_iterator.py</div><div id='m_class'> M Class Name: EpochIterator</div><div id='n_method'> N Class Name: EpochIterator</div><div id='m_method'> M Method Name: run_pipeline(5)</div><div id='n_method'> N Method Name: run_pipeline(5)</div><div id='m_parent_class'> M Parent Class: Thread</div><div id='n_parent_class'> N Parent Class: Thread</div><div id='m_file'> M File Name: ffcv/loader/epoch_iterator.py</div><div id='n_file'> N File Name: ffcv/loader/epoch_iterator.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def decimate(b_out, ptr, decimation):
    decimation_idx, decimation_ptr = get_decimation_idx(ptr, decimation)
    b_out_decim = <a id="change">tuple(t</a><a id="change">[decimation_idx] for t in b_out)</a>
    <a id="change">return </a>b_out_decim, decimation_ptr


class FPModule(torch.nn.Module):</code></pre><h3>After Change</h3><pre><code class='java'>
def decimate(tensors, ptr: Tensor, decimation_factor: int):
    Decimate each element of the given tuple of tensors.
    idx_decim, ptr_decim = decimation_indices(ptr, decimation_factor)
    tensors_decim<a id="change"> = </a><a id="change">tuple(tensor[idx_decim]</a><a id="change"> for tensor in tensors)</a>
    <a id="change">return </a>tensors_decim, ptr_decim


class FPModule(torch.nn.Module):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ignf/myria3d/commit/4fbe77c32a422b6494cf6f0bde5539d8250df9c5#diff-c1baa46beae2ca0cf1f472374306c71454f154ea9f0ebcf38052f295721d1d0bL235' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36895723</div><div id='project'> Project Name: ignf/myria3d</div><div id='commit'> Commit Name: 4fbe77c32a422b6494cf6f0bde5539d8250df9c5</div><div id='time'> Time: 2022-11-28</div><div id='author'> Author: 11660435+CharlesGaydon@users.noreply.github.com</div><div id='file'> File Name: myria3d/models/modules/pyg_randla_net.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: decimate(3)</div><div id='n_method'> N Method Name: decimate(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: myria3d/models/modules/pyg_randla_net.py</div><div id='n_file'> N File Name: myria3d/models/modules/pyg_randla_net.py</div><div id='m_start'> M Start Line: 235</div><div id='m_end'> M End Line: 238</div><div id='n_start'> N Start Line: 257</div><div id='n_end'> N End Line: 261</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                if first_stage:
                    first_stage = False
                    self.memory_context.end_batch(b_ix)
        <a id="change">return </a><a id="change">tuple(x</a><a id="change">[:len(batch_indices)] for x in args)</a>

    def __next__(self):
        result = self.output_queue.get()
        if result is None:</code></pre><h3>After Change</h3><pre><code class='java'>
            for stage_code, define_outputs in code:
                results = stage_code(**args)
                for node_id, result in zip(define_outputs, results):
                    <a id="change">args[f&quotresult_{node_id}&quot]</a> = result
                pass

            result<a id="change"> = </a><a id="change">tuple(args</a><a id="change">[f&quotresult_{x}&quot] for x in outputs)</a>
            <a id="change">return </a>result

    def __next__(self):
        result = self.output_queue.get()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/libffcv/ffcv/commit/f8baf227d1243d4207c082d8ea11b89b5a73da32#diff-d1c1d17dd7f942f4223cf450209bcd6a3979e50b67e9c881848b09da0845f7ffL110' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36895721</div><div id='project'> Project Name: libffcv/ffcv</div><div id='commit'> Commit Name: f8baf227d1243d4207c082d8ea11b89b5a73da32</div><div id='time'> Time: 2022-02-08</div><div id='author'> Author: leclerc@mit.edu</div><div id='file'> File Name: ffcv/loader/epoch_iterator.py</div><div id='m_class'> M Class Name: EpochIterator</div><div id='n_method'> N Class Name: EpochIterator</div><div id='m_method'> M Method Name: run_pipeline(5)</div><div id='n_method'> N Method Name: run_pipeline(5)</div><div id='m_parent_class'> M Parent Class: Thread</div><div id='n_parent_class'> N Parent Class: Thread</div><div id='m_file'> M File Name: ffcv/loader/epoch_iterator.py</div><div id='n_file'> N File Name: ffcv/loader/epoch_iterator.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 140</div><BR>