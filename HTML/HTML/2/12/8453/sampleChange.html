<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                self.max_velocities[object_id], max_velocities[object_id]
            )

        z_min<a id="change"> = </a>pp.get_aabb(self.target_object_id)[0][2]

        &#47&#47 primary task
        if z_min &gt;= self.Z_TARGET:
            terminal = True
            reward = 1
        elif self._i == self.episode_length:
            terminal = True
            reward = 0
        else:
            terminal = False
            reward = 0

        &#47&#47 reward shaping
        if not self.eval:
            reward += self._reward_time

            if self._use_reward_translation:
                reward += -sum(translations.values())

            <a id="change">if </a>self._use_reward_dz:
                reward<a id="change"> += </a>(z_min - self._z_min_prev) / (
                    self.Z_TARGET - self._z_min_init
                )
</code></pre><h3>After Change</h3><pre><code class='java'>
            if self._gui:
                time.sleep(pp.get_time_step())

        if <a id="change">terminate</a>:
            <a id="change">for </a><a id="change">_</a> in <a id="change">self.ri.movej(</a>self.ri.homej<a id="change">, speed=self._speed):
                pp</a><a id="change">.step_simulation()</a>
                step_callback()
                if self._gui:
                    <a id="change">time.sleep(pp</a><a id="change">.get_time_step())</a>

        &#47&#47 ---------------------------------------------------------------------

        self._i += 1</code></pre>