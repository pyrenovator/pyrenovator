<html><h3>Pattern ID :12944
</h3><img src='43608697.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if isinstance(group_dim, int):
            group_dim = [group_dim]
        self.group_dim = group_dim
        self.group_sum_dim<a id="change"> = </a><a id="change">list(</a><a id="change">range(1</a>, len(self.group_dim)<a id="change"> + 1</a><a id="change">))</a>
        self.group_shape = []
        self.not_group_shape = []
        for i, s in enumerate(self.shape):
            if i in self.group_dim:</code></pre><h3>After Change</h3><pre><code class='java'>
                self.group_shape += [s]
            else:
                self.not_group_shape += [s]
        self.not_group_sum_dim<a id="change"> = </a><a id="change">list(range(1</a>, len(self.not_group_shape)<a id="change"> + 1</a><a id="change">)</a><a id="change">)</a>
        &#47&#47 Get permutation indizes to form groups
        self.perm = []
        for i in range(self.n_dim):
            if i in self.group_dim:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/vincentstimper/resampled-base-flows/commit/7428032ef0198894b7ef617966ed3725ac46e604#diff-caffeb67c01a8f6e445a303da08f116f007da28e2460f6eab60ffa908432e7e3L136' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 43608697</div><div id='project'> Project Name: vincentstimper/resampled-base-flows</div><div id='commit'> Commit Name: 7428032ef0198894b7ef617966ed3725ac46e604</div><div id='time'> Time: 2020-09-25</div><div id='author'> Author: vincent.stimper@gmail.com</div><div id='file'> File Name: larsflow/distributions.py</div><div id='m_class'> M Class Name: FactorizedResampledGaussian</div><div id='n_method'> N Class Name: FactorizedResampledGaussian</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: nf.distributions.BaseDistribution</div><div id='n_parent_class'> N Parent Class: nf.distributions.BaseDistribution</div><div id='m_file'> M File Name: larsflow/distributions.py</div><div id='n_file'> N File Name: larsflow/distributions.py</div><div id='m_start'> M Start Line: 136</div><div id='m_end'> M End Line: 137</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 144</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.preEpoch()
        loader_len = len(self.loader)
        save_every = loader_len//self.conf.save_num
        save_list<a id="change"> = </a><a id="change">list(</a><a id="change">range(0</a>,loader_len<a id="change"> + 1</a>, save_every<a id="change"> ))</a>
        self.save_list = save_list[1:-1]
        LOG.logI(&quotSAVE LIST: {}&quot.format(self.save_list))
        self.addScalar(&quot{}/LR&quot.format(self.phase), self.optimizer.param_groups[0][&quotlr&quot], self.epoch)
</code></pre><h3>After Change</h3><pre><code class='java'>
        LOG.logI(&quotPhase {} started...&quot.format(self.phase))
        self.loader_len = len(self.loader)
        save_every = self.loader_len//self.conf.save_num
        save_list<a id="change"> = </a><a id="change">list(range(0</a>, self.loader_len<a id="change"> + 1</a>, save_every<a id="change"> )</a><a id="change">)</a>
        self.save_list = save_list[1:-1]
        LOG.logI(&quotModel will be saved on step {} and the epoch end.&quot.format(self.save_list))
        self.addScalar(&quot{}/LR&quot.format(self.phase), self.optimizer.param_groups[0][&quotlr&quot], self.epoch)
        self.preEpoch()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepvac/deepvac/commit/0fb2cef3d105eaf9a0e9e9d8819ebe9a4d147d81#diff-b718a8a0425a5ffea1da7976b1dbd15184f53b9a8aec58ec01dc5b01dfd0db7fL469' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 43608699</div><div id='project'> Project Name: deepvac/deepvac</div><div id='commit'> Commit Name: 0fb2cef3d105eaf9a0e9e9d8819ebe9a4d147d81</div><div id='time'> Time: 2020-09-03</div><div id='author'> Author: gemfield@civilnet.cn</div><div id='file'> File Name: deepvac/syszux_deepvac.py</div><div id='m_class'> M Class Name: DeepvacTrain</div><div id='n_method'> N Class Name: DeepvacTrain</div><div id='m_method'> M Method Name: processTrain(1)</div><div id='n_method'> N Method Name: processTrain(1)</div><div id='m_parent_class'> M Parent Class: Deepvac</div><div id='n_parent_class'> N Parent Class: Deepvac</div><div id='m_file'> M File Name: deepvac/syszux_deepvac.py</div><div id='n_file'> N File Name: deepvac/syszux_deepvac.py</div><div id='m_start'> M Start Line: 473</div><div id='m_end'> M End Line: 494</div><div id='n_start'> N Start Line: 482</div><div id='n_end'> N End Line: 502</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        LOG.logI(&quotPhase {} started...&quot.format(self.config.phase))
        self.config.loader_len = len(self.config.loader)
        save_every = self.config.loader_len//self.config.save_num
        save_list<a id="change"> = </a><a id="change">list(</a><a id="change">range(0</a>, self.config.loader_len<a id="change"> + 1</a>, save_every<a id="change"> ))</a>
        self.config.save_list = save_list[1:-1]
        LOG.logI(&quotModel will be saved on step {} and the epoch end.&quot.format(self.config.save_list))
        self.addScalar(&quot{}/LR&quot.format(self.config.phase), self.config.optimizer.param_groups[0][&quotlr&quot], self.config.epoch)
</code></pre><h3>After Change</h3><pre><code class='java'>
    def initStepAndSaveNumber(self):
        loader_len = len(self.config.loader)
        save_every = loader_len//self.config.save_num
        save_list<a id="change"> = </a><a id="change">list(range(0</a>, loader_len<a id="change"> + 1</a>, save_every<a id="change"> )</a><a id="change">)</a>
        self.config.save_list = save_list[1:-1]
        LOG.logI(&quotModel will be saved on step {} and the epoch end.&quot.format(self.config.save_list))
        self.addScalar(&quot{}/LR&quot.format(self.config.phase), self.config.optimizer.param_groups[0][&quotlr&quot], self.config.epoch)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepvac/deepvac/commit/56a3a36e3947a900a0f2c6e613a18b7a81453ba1#diff-2afe76de17f613d7e160beffc61752bd2cec51981e70f0f5779a9a2a63ba3fe2L464' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 43608701</div><div id='project'> Project Name: deepvac/deepvac</div><div id='commit'> Commit Name: 56a3a36e3947a900a0f2c6e613a18b7a81453ba1</div><div id='time'> Time: 2021-05-13</div><div id='author'> Author: gemfield@civilnet.cn</div><div id='file'> File Name: deepvac/core/deepvac.py</div><div id='m_class'> M Class Name: DeepvacTrain</div><div id='n_method'> N Class Name: DeepvacTrain</div><div id='m_method'> M Method Name: initStepAndSaveNumber(1)</div><div id='n_method'> N Method Name: initStepAndSaveNumber(1)</div><div id='m_parent_class'> M Parent Class: Deepvac</div><div id='n_parent_class'> N Parent Class: Deepvac</div><div id='m_file'> M File Name: deepvac/core/deepvac.py</div><div id='n_file'> N File Name: deepvac/core/deepvac.py</div><div id='m_start'> M Start Line: 465</div><div id='m_end'> M End Line: 468</div><div id='n_start'> N Start Line: 486</div><div id='n_end'> N End Line: 488</div><BR>