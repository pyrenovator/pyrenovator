<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    config(tmpdir)
    index_documents()
    f = get_flow()
    <a id="change">with f</a><a id="change">:
        </a><a id="change">for </a>object_image_path in object_image_paths<a id="change">:
            </a>object_image = read_and_convert2png(object_image_path)
            <a id="change">output = </a><a id="change">get_results(</a>object_image<a id="change">)</a>
            matches<a id="change"> = output[&quotsearch&quot][&quotdocs&quot]</a><a id="change">[0][&quotmatches&quot]</a>
            uri = matches[0][&quoturi&quot] &#47&#47getting uri of first match
            <a id="change">assert </a>object_image == uri &#47&#47first match should be the object image itself
</code></pre><h3>After Change</h3><pre><code class='java'>
        for doc, fn in zip(req.search.docs, test_fn_list):
            assert doc.matches[0].uri == read_and_convert2png(fn)

    <a id="change">with f</a><a id="change">:
        f</a><a id="change">.search_files(</a>test_fn_list<a id="change">, on_done=validate)</a>
</code></pre>