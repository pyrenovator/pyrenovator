<html><h3>Pattern ID :4604
</h3><img src='16587261.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            _kwargs[&quotorder&quot] = <a id="change">tuple(
                o</a><a id="change"> for o in _kwargs.get(&quotorder&quot, (&quotlinear&quot, &quotnorm&quot, &quotact&quot))
                if (o == &quotlinear&quot or (o == &quotnorm&quot and last_norm) or (
                    o == &quotact&quot and last_act)))</a>

        module = LinearModule(dims[i], dims[i + 1], **_kwargs)
        layers.append(module)
</code></pre><h3>After Change</h3><pre><code class='java'>
        :obj:`nn.Sequential` | :obj:`LinearModule`: The constructed module.
    
    _kwargs = kwargs.copy()
    _layers<a id="change"> = </a><a id="change">[last_norm or &quotnorm&quot</a>, <a id="change">last_act or &quotact&quot</a>]
    layers = []

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            <a id="change">order = </a><a id="change">list(</a><a id="change">_kwargs.get(&quotorder&quot</a>, <a id="change">[&quotlinear&quot</a>, <a id="change">&quotnorm&quot</a>, <a id="change">&quotact&quot</a>]<a id="change">))</a>
            <a id="change">while order[-1] in _layers</a><a id="change">:
                order.pop()</a>
            _kwargs[&quotorder&quot] = <a id="change">tuple(order</a><a id="change">)</a>

        module = LinearModule(dims[i], dims[i + 1], **_kwargs)
        layers.append(module)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 25</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/ecf6220f00010fbc8a003c90f7db64fdc17ff3f4#diff-cb0dd55027376f0ca9dbbcafbc558af7f25adc867f85e7310f64404fa7d4b5a8L101' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16587261</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: ecf6220f00010fbc8a003c90f7db64fdc17ff3f4</div><div id='time'> Time: 2021-11-04</div><div id='author'> Author: yeliudev@outlook.com</div><div id='file'> File Name: nncore/nn/modules/linear.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_linear_modules(3)</div><div id='n_method'> N Method Name: build_linear_modules(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nncore/nn/modules/linear.py</div><div id='n_file'> N File Name: nncore/nn/modules/linear.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            _kwargs[&quotorder&quot] = <a id="change">tuple(
                </a><a id="change">o for o in _kwargs.get(&quotorder&quot, (&quotmsg_pass&quot, &quotnorm&quot, &quotact&quot))
                if (o == &quotmsg_pass&quot or (o == &quotnorm&quot and last_norm) or (
                    o == &quotact&quot and last_act)))</a>

            _cfg = _kwargs.get(&quotmsg_pass_cfg&quot)
            if _cfg is not None and _cfg[&quottype&quot] == &quotGAT&quot:
                _kwargs[&quotconcat&quot] = False</code></pre><h3>After Change</h3><pre><code class='java'>
        :obj:`nn.ModuleList`: The constructed module list.
    
    _kwargs = kwargs.copy()
    _layers<a id="change"> = </a><a id="change">[last_norm or &quotnorm&quot</a>, <a id="change">last_act or &quotact&quot</a>]
    cfg, layers = [], []

    for key, value in _kwargs.items():
        if isinstance(value, list):
            assert len(value) == len(dims) - 1
            cfg.append(key)

    cfg = {k: _kwargs.pop(k) for k in cfg}

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            <a id="change">order = </a><a id="change">list(</a><a id="change">_kwargs.get(&quotorder&quot</a>, <a id="change">[&quotmsg_pass&quot</a>, <a id="change">&quotnorm&quot</a>, <a id="change">&quotact&quot</a>]<a id="change">))</a>
            <a id="change">while order[-1] in _layers</a><a id="change">:
                order.pop()</a>
            _kwargs[&quotorder&quot] = <a id="change">tuple(</a>order<a id="change">)</a>

            _cfg = _kwargs.get(&quotmsg_pass_cfg&quot)
            if _cfg is not None and _cfg[&quottype&quot] == &quotGAT&quot:
                _kwargs[&quotconcat&quot] = False</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/ecf6220f00010fbc8a003c90f7db64fdc17ff3f4#diff-efe9d6fcfc34d0969d4d4f8883a5dfd58bc9de208bb893c9d9b2993cddfe14f5L107' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16587260</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: ecf6220f00010fbc8a003c90f7db64fdc17ff3f4</div><div id='time'> Time: 2021-11-04</div><div id='author'> Author: yeliudev@outlook.com</div><div id='file'> File Name: nncore/nn/modules/msg_pass.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_msg_pass_modules(3)</div><div id='n_method'> N Method Name: build_msg_pass_modules(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nncore/nn/modules/msg_pass.py</div><div id='n_file'> N File Name: nncore/nn/modules/msg_pass.py</div><div id='m_start'> M Start Line: 134</div><div id='m_end'> M End Line: 137</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 138</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            _kwargs[&quotorder&quot] = <a id="change">tuple(
                </a><a id="change">o for o in _kwargs.get(&quotorder&quot, (&quotconv&quot, &quotnorm&quot, &quotact&quot))
                if (o == &quotconv&quot or (o == &quotnorm&quot and last_norm) or (
                    o == &quotact&quot and last_act)))</a>

        module = ConvModule(dims[i], dims[i + 1], kernels[i], **_kwargs)
        layers.append(module)
</code></pre><h3>After Change</h3><pre><code class='java'>
        :obj:`nn.Sequential` | :obj:`ConvModule`: The constructed module.
    
    _kwargs = kwargs.copy()
    _layers<a id="change"> = </a><a id="change">[last_norm or &quotnorm&quot</a>, <a id="change">last_act or &quotact&quot</a>]
    layers = []

    if isinstance(kernels, (int, tuple)):
        kernels = [kernels] * (len(dims) - 1)

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            <a id="change">order = </a><a id="change">list(</a><a id="change">_kwargs.get(&quotorder&quot</a>, <a id="change">[&quotconv&quot</a>, <a id="change">&quotnorm&quot</a>, <a id="change">&quotact&quot</a>]<a id="change">))</a>
            <a id="change">while order[-1] in _layers</a><a id="change">:
                order.pop()</a>
            _kwargs[&quotorder&quot] = <a id="change">tuple(</a>order<a id="change">)</a>

        module = ConvModule(dims[i], dims[i + 1], kernels[i], **_kwargs)
        layers.append(module)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/ecf6220f00010fbc8a003c90f7db64fdc17ff3f4#diff-23346beb8cd1156a649018855cf168f1842f77d89de95bc9ea6271c3fae2099fL119' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16587263</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: ecf6220f00010fbc8a003c90f7db64fdc17ff3f4</div><div id='time'> Time: 2021-11-04</div><div id='author'> Author: yeliudev@outlook.com</div><div id='file'> File Name: nncore/nn/modules/conv.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_conv_modules(4)</div><div id='n_method'> N Method Name: build_conv_modules(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nncore/nn/modules/conv.py</div><div id='n_file'> N File Name: nncore/nn/modules/conv.py</div><div id='m_start'> M Start Line: 148</div><div id='m_end'> M End Line: 151</div><div id='n_start'> N Start Line: 141</div><div id='n_end'> N End Line: 152</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            _kwargs[&quotorder&quot] = <a id="change">tuple(
                </a><a id="change">o for o in _kwargs.get(&quotorder&quot, (&quotlinear&quot, &quotnorm&quot, &quotact&quot))
                if (o == &quotlinear&quot or (o == &quotnorm&quot and last_norm) or (
                    o == &quotact&quot and last_act)))</a>

        module = LinearModule(dims[i], dims[i + 1], **_kwargs)
        layers.append(module)
</code></pre><h3>After Change</h3><pre><code class='java'>
        :obj:`nn.Sequential` | :obj:`LinearModule`: The constructed module.
    
    _kwargs = kwargs.copy()
    _layers<a id="change"> = </a><a id="change">[last_norm or &quotnorm&quot</a>, <a id="change">last_act or &quotact&quot</a>]
    layers = []

    for i in range(len(dims) - 1):
        if i == len(dims) - 2:
            <a id="change">order = </a><a id="change">list(</a><a id="change">_kwargs.get(&quotorder&quot</a>, <a id="change">[&quotlinear&quot</a>, <a id="change">&quotnorm&quot</a>, <a id="change">&quotact&quot</a>]<a id="change">))</a>
            <a id="change">while order[-1] in _layers</a><a id="change">:
                order.pop()</a>
            _kwargs[&quotorder&quot] = <a id="change">tuple(</a>order<a id="change">)</a>

        module = LinearModule(dims[i], dims[i + 1], **_kwargs)
        layers.append(module)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/ecf6220f00010fbc8a003c90f7db64fdc17ff3f4#diff-cb0dd55027376f0ca9dbbcafbc558af7f25adc867f85e7310f64404fa7d4b5a8L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16587253</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: ecf6220f00010fbc8a003c90f7db64fdc17ff3f4</div><div id='time'> Time: 2021-11-04</div><div id='author'> Author: yeliudev@outlook.com</div><div id='file'> File Name: nncore/nn/modules/linear.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_linear_modules(3)</div><div id='n_method'> N Method Name: build_linear_modules(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nncore/nn/modules/linear.py</div><div id='n_file'> N File Name: nncore/nn/modules/linear.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 109</div><BR>