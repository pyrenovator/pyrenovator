<html><h3>Pattern ID :41832
</h3><img src='117239580.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    photon_count = np.random.randint(800, 4000, num_emitters)

    emit = <a id="change">[]</a>
    cont = []
    for i in range(num_emitters):
        if np.any(positions[i, :2] &lt; 0) or np.any(positions[i, :2] &gt; img_size[0]):
            cont.append(Emitter(positions[i, :], np.array([photon_count[i]]), np.array([start_frame[i]]), True))
        else:
            emit.append(Emitter(positions[i, :], np.array([photon_count[i]]), np.array([start_frame[i]])))

    <a id="change">return </a>emit, cont


if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
        start_frame = np.random.randint(0, frames, (num_emitters, 1))  &#47&#47 start on state is distributed uniformly
        lifetime_per_emitter = 1

        emit_id<a id="change"> = </a><a id="change">np.expand_dims(</a>np.mgrid[0:num_emitters], 1<a id="change">)</a>
    else:  &#47&#47 prototype
        raise NotImplementedError
        num_emitters = np.round(emitter_per_frame * frames / lifetime)  &#47&#47 roughly</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/d44a397fde84e5b61edf94a145c72930f30171fa#diff-e5ee57c7296123f955b409de0467f44ca4fe23cfa673d46f69db5ce54f437fc4L186' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239580</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: d44a397fde84e5b61edf94a145c72930f30171fa</div><div id='time'> Time: 2018-12-20</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: simulator.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: random_emitters(5)</div><div id='n_method'> N Method Name: random_emitters(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: simulator.py</div><div id='n_file'> N File Name: simulator.py</div><div id='m_start'> M Start Line: 192</div><div id='m_end'> M End Line: 215</div><div id='n_start'> N Start Line: 186</div><div id='n_end'> N End Line: 210</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            time2 = 0
        times = np.array([time1, time2]).reshape(1, 2)
        T_21 = self.get_groundtruth_odometry(time1, self.data_dir + seq + &quot/applanix/radar_poses.csv&quot)
        <a id="change">return </a><a id="change">{</a>&quotdata&quot: data, &quotT_21&quot: T_21, &quottimes&quot: times, &quotmask&quot: mask<a id="change">}</a>

def get_dataloaders_boreas(config):
    Retrieves train, validation, and test data loaders.
    vconfig = dict(config)</code></pre><h3>After Change</h3><pre><code class='java'>
            time2 = 0
        times = np.array([time1, time2]).reshape(1, 2)
        T_21 = self.get_groundtruth_odometry(time1, self.data_dir + seq + &quot/applanix/radar_poses.csv&quot)
        azimuths<a id="change"> = </a><a id="change">np.expand_dims(</a>azimuths<a id="change">, axis=0)</a>
        timestamps = np.expand_dims(timestamps, axis=0)
        return {&quotdata&quot: data, &quotT_21&quot: T_21, &quottimes&quot: times, &quotmask&quot: mask,
                &quotazimuths&quot: azimuths, &quottimestamps&quot: timestamps}
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/utiasasrl/hero_radar_odometry/commit/c67292c5ef38e1b66af9c3ab980330409a8deb5b#diff-054d0a5c6e794a33d04c39865c616541dbbee103005c7ea3d7a14ed2c8fb592aL103' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239581</div><div id='project'> Project Name: utiasasrl/hero_radar_odometry</div><div id='commit'> Commit Name: c67292c5ef38e1b66af9c3ab980330409a8deb5b</div><div id='time'> Time: 2021-04-29</div><div id='author'> Author: keenburn2004@gmail.com</div><div id='file'> File Name: datasets/boreas.py</div><div id='m_class'> M Class Name: BoreasDataset</div><div id='n_method'> N Class Name: BoreasDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: OxfordDataset</div><div id='n_parent_class'> N Parent Class: OxfordDataset</div><div id='m_file'> M File Name: datasets/boreas.py</div><div id='n_file'> N File Name: datasets/boreas.py</div><div id='m_start'> M Start Line: 133</div><div id='m_end'> M End Line: 146</div><div id='n_start'> N Start Line: 133</div><div id='n_end'> N End Line: 149</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            time2 = 0
        times = np.array([time1, time2]).reshape(1, 2)
        T_21 = self.get_groundtruth_odometry(time1, self.data_dir + seq + &quot/gt/radar_odometry.csv&quot)
        <a id="change">return </a><a id="change">{</a>&quotdata&quot: data, &quotT_21&quot: T_21, &quottimes&quot: times, &quotmask&quot: mask<a id="change">}</a>

def get_dataloaders(config):
    Retrieves train, validation, and test data loaders.
    vconfig = dict(config)</code></pre><h3>After Change</h3><pre><code class='java'>
        times = np.array([time1, time2]).reshape(1, 2)
        T_21 = self.get_groundtruth_odometry(time1, self.data_dir + seq + &quot/gt/radar_odometry.csv&quot)
        polar = np.expand_dims(polar, axis=0)
        azimuths<a id="change"> = </a><a id="change">np.expand_dims(</a>azimuths<a id="change">, axis=0)</a>
        return {&quotdata&quot: data, &quotT_21&quot: T_21, &quottimes&quot: times, &quotmask&quot: mask, &quotpolar&quot: polar, &quotazimuths&quot: azimuths}

def get_dataloaders(config):
    Retrieves train, validation, and test data loaders.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/utiasasrl/hero_radar_odometry/commit/69b518ec294c236dc4305129ec07282c5d2e007c#diff-bd84a779048791fa7358a4fc2012fb70040e29e5e59bf88cd2f98b515771b839L107' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239583</div><div id='project'> Project Name: utiasasrl/hero_radar_odometry</div><div id='commit'> Commit Name: 69b518ec294c236dc4305129ec07282c5d2e007c</div><div id='time'> Time: 2021-03-04</div><div id='author'> Author: keenburn2004@gmail.com</div><div id='file'> File Name: datasets/oxford.py</div><div id='m_class'> M Class Name: OxfordDataset</div><div id='n_method'> N Class Name: OxfordDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: datasets/oxford.py</div><div id='n_file'> N File Name: datasets/oxford.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 127</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 129</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        T_21 = self.get_groundtruth_odometry(time1, self.data_dir + seq + &quot/gt/radar_odometry.csv&quot)
        polar = np.expand_dims(polar, axis=0)
        azimuths = np.expand_dims(azimuths, axis=0)
        <a id="change">return </a><a id="change">{</a>&quotdata&quot: data, &quotT_21&quot: T_21, &quottimes&quot: times, &quotmask&quot: mask, &quotpolar&quot: polar, &quotazimuths&quot: azimuths<a id="change">}</a>

def get_dataloaders(config):
    Retrieves train, validation, and test data loaders.
    vconfig = dict(config)</code></pre><h3>After Change</h3><pre><code class='java'>
        T_21 = self.get_groundtruth_odometry(time1, self.data_dir + seq + &quot/gt/radar_odometry.csv&quot)
        polar = np.expand_dims(polar, axis=0)
        azimuths = np.expand_dims(azimuths, axis=0)
        timestamps<a id="change"> = </a><a id="change">np.expand_dims(</a>timestamps<a id="change">, axis=0)</a>
        return {&quotdata&quot: data, &quotT_21&quot: T_21, &quottimes&quot: times, &quotmask&quot: mask, &quotpolar&quot: polar, &quotazimuths&quot: azimuths,
                &quottimestamps&quot: timestamps}

def get_dataloaders(config):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/utiasasrl/hero_radar_odometry/commit/17f07b8ec8a64d077e8162c6846f1b7a233abe62#diff-bd84a779048791fa7358a4fc2012fb70040e29e5e59bf88cd2f98b515771b839L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239584</div><div id='project'> Project Name: utiasasrl/hero_radar_odometry</div><div id='commit'> Commit Name: 17f07b8ec8a64d077e8162c6846f1b7a233abe62</div><div id='time'> Time: 2021-03-13</div><div id='author'> Author: keenburn2004@gmail.com</div><div id='file'> File Name: datasets/oxford.py</div><div id='m_class'> M Class Name: OxfordDataset</div><div id='n_method'> N Class Name: OxfordDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: datasets/oxford.py</div><div id='n_file'> N File Name: datasets/oxford.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 130</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 132</div><BR>