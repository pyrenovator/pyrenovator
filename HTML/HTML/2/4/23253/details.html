<html><h3>Pattern ID :23253
</h3><img src='73426069.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        dropout_images_prob = [0.0, 0.0, 0.0, 0.0, 0.0]

    model_path = os.path.join(checkpoint_dir, "checkpoints/epoch=0-last.ckpt")
    if <a id="change">len(</a>model_path<a id="change">)</a> &gt; 1:
        print(
            f"WARNING!!! We found multiple checkpoints in the directory, we will load the last one: {model_path}"
        )</code></pre><h3>After Change</h3><pre><code class='java'>

    if hparams_path is None:
        &#47&#47 Try to find hparams file
        model_dir<a id="change"> = </a>os.path.dirname(checkpoint_path)
        hparamsp = os.path.join(model_dir, "hparams.yaml")

        <a id="change">if </a><a id="change">os.path.exists(</a>hparamsp<a id="change">)</a>:
            hparams_path = hparamsp

        else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ikergarcia1996/self-driving-car-in-video-games/commit/33147d0d5eae5cba8373ef40caa91557cea28592#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L212' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73426069</div><div id='project'> Project Name: ikergarcia1996/self-driving-car-in-video-games</div><div id='commit'> Commit Name: 33147d0d5eae5cba8373ef40caa91557cea28592</div><div id='time'> Time: 2021-11-12</div><div id='author'> Author: igarciaf896@gmail.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: continue_training(13)</div><div id='n_method'> N Method Name: continue_training(12)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 212</div><div id='m_end'> M End Line: 302</div><div id='n_start'> N Start Line: 216</div><div id='n_end'> N End Line: 320</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    else:
        dataset_train = None
    dataset_val = get_dataset(config, mode=&quotval&quot)
    config.NGPUS = <a id="change">len(</a>paddle.static.cuda_places()<a id="change">)</a> if config.NGPUS == -1 else config.NGPUS
    dist.spawn(main_worker, args=(dataset_train, dataset_val, ), nprocs=config.NGPUS)

</code></pre><h3>After Change</h3><pre><code class='java'>

def main():
    &#47&#47 config is updated in order: (1) default in config.py, (2) yaml file, (3) arguments
    config<a id="change"> = </a>update_config(get_config(), get_arguments())

    &#47&#47 set output folder
    config.SAVE = os.path.join(config.SAVE,
        f"{&quoteval&quot if config.EVAL else &quottrain&quot}-{time.strftime(&quot%Y%m%d-%H-%M&quot)}")
    <a id="change">if </a>not <a id="change">os.path.exists(</a>config.SAVE<a id="change">)</a>:
        os.makedirs(config.SAVE, exist_ok=True)

    &#47&#47 get train dataset if in train mode and val dataset</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/br-idl/paddlevit/commit/182b5b23d95553e9629da116df5ce97ef92ff7a0#diff-33e75b5430b99da31cd5ccc0171c767d02b6d9958b9d4759a32c2818e7696b5eL378' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73426071</div><div id='project'> Project Name: br-idl/paddlevit</div><div id='commit'> Commit Name: 182b5b23d95553e9629da116df5ce97ef92ff7a0</div><div id='time'> Time: 2022-04-11</div><div id='author'> Author: xperzy@gmail.com</div><div id='file'> File Name: image_classification/VOLO/main_multi_gpu.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: image_classification/VOLO/main_multi_gpu.py</div><div id='n_file'> N File Name: image_classification/VOLO/main_multi_gpu.py</div><div id='m_start'> M Start Line: 379</div><div id='m_end'> M End Line: 385</div><div id='n_start'> N Start Line: 537</div><div id='n_end'> N End Line: 550</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def main():
    if <a id="change">len(</a>sys.argv<a id="change">)</a> &lt; 2:
        print(&quotchoose between "index/search/dryrun" mode&quot)
        exit(1)
</code></pre><h3>After Change</h3><pre><code class='java'>
    print(f&quot&#47&#47&#47&#47&#47&#47 task = {task}&quot)
    if task == &quotindex&quot:
        config(task)
        workspace<a id="change"> = </a>os.environ[&quotJINA_WORKDIR&quot]
        <a id="change">if </a><a id="change">os.path.exists(</a>workspace<a id="change">)</a>:
            print(f&quot\n +---------------------------------------------------------------------------------+ \
                    \n |                                   ðŸ¤–ðŸ¤–ðŸ¤–                                        | \
                    \n | The directory {workspace} already exists. Please remove it before indexing again. | \</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/b95c5445da01eb1375f8323ef4211ae040e00ba9#diff-2267e8e53b42b3d2dc2a413309c4f06c2b0754b68241bb673b5075436beb815dL64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73426076</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: b95c5445da01eb1375f8323ef4211ae040e00ba9</div><div id='time'> Time: 2021-04-25</div><div id='author'> Author: rutuja.r.surve@gmail.com</div><div id='file'> File Name: multires-lyrics-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(3)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: multires-lyrics-search/app.py</div><div id='n_file'> N File Name: multires-lyrics-search/app.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 134</div><BR>