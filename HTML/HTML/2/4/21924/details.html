<html><h3>Pattern ID :21924
</h3><img src='69712245.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            config.loss = str(self.custom_loss)
        if self.custom_metrics is not None:
            config.metrics = [str(m) for m in self.custom_metrics]
            config.metrics_params = [<a id="change">vars(</a>m<a id="change">)</a> for m in self.custom_metrics]
        if self.custom_optimizer is not None:
            config.optimizer = str(self.custom_optimizer.__class__.__name__)
        if len(self.custom_optimizer_params) &gt; 0:</code></pre><h3>After Change</h3><pre><code class='java'>
                    config.metrics.append(metric.__name__)
                    config.metrics_params.append(vars(metric))
        else:  &#47&#47 Updating default metrics in config
            <a id="change">if config.task == "classification"</a>:
                &#47&#47 Adding metric_params to config for classification task
                for i, metric_params in enumerate(config.metrics_params):
                    if "task" not in metric_params:
                        &#47&#47 For classification task, output_dim == number of classses
                        config.metrics_params[i]["task"] = "binary" if inferred_config.output_dim == 2 else "multiclass"
                    if "num_classes" not in metric_params:
                        config.metrics_params[i]["num_classes"]<a id="change"> = </a>inferred_config.output_dim

        if self.custom_optimizer is not None:
            config.optimizer = str(self.custom_optimizer.__class__.__name__)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/manujosephv/pytorch_tabular/commit/1f3c14eb18b6f0cd953a90b82661cf682fb6ae05#diff-0afdf69d91dc6819c5c893f82a87e1b46bd22f95dd4a27df22b611a232105c5aL78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69712245</div><div id='project'> Project Name: manujosephv/pytorch_tabular</div><div id='commit'> Commit Name: 1f3c14eb18b6f0cd953a90b82661cf682fb6ae05</div><div id='time'> Time: 2023-01-18</div><div id='author'> Author: manujosephv@gmail.com</div><div id='file'> File Name: src/pytorch_tabular/models/base_model.py</div><div id='m_class'> M Class Name: BaseModel</div><div id='n_method'> N Class Name: BaseModel</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: src/pytorch_tabular/models/base_model.py</div><div id='n_file'> N File Name: src/pytorch_tabular/models/base_model.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 78</div><div id='n_end'> N End Line: 111</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if show_defaults is True:
        return {
            k: v
            for k, v in <a id="change">vars(</a>obj<a id="change">)</a>.items()
            if k in params
        }
    return {</code></pre><h3>After Change</h3><pre><code class='java'>
    signature = extract_signature(obj.__init__)  &#47&#47 pylint: disable=redefined-outer-name
    bind = signature.bind(**state)

    <a id="change">if include_defaults is True</a>:
        bind.apply_defaults()
        arguments<a id="change"> = </a>bind.arguments
    else:
        arguments = {
            k: v</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/1260120278124ddc69f2428d06fe149fe7ce2f75#diff-af2b488a5def3a172d979034e29886556e80205ba0ec5d18ebe69e5db7e56646L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69712258</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 1260120278124ddc69f2428d06fe149fe7ce2f75</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: 71635444+yromanyshyn@users.noreply.github.com</div><div id='file'> File Name: deepchecks/utils/function.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: initvars(3)</div><div id='n_method'> N Method Name: initvars(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/utils/function.py</div><div id='n_file'> N File Name: deepchecks/utils/function.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 32</div><div id='n_end'> N End Line: 64</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        bar0 = part.measure(0)
        ic(list(bar0))
        tempo = next(bar0[m21.tempo.MetronomeMark])
        ic(tempo, <a id="change">vars(</a>tempo<a id="change">)</a>)
        idx = bar0.index(tempo)
        ic(idx)
        ic(bar0.isSorted)</code></pre><h3>After Change</h3><pre><code class='java'>
        if title.endswith(&quot.mxl&quot):
            title = title[:-4]

        <a id="change">if exp == &quotstream&quot</a>:
            fnm<a id="change"> = </a>f&quot{title}, bar with max pitch.mxl&quot
            &#47&#47 ic(os.path.join(PATH_BASE, DIR_DSET, config(f&quot{DIR_DSET}.MXL_EG.dir_nm&quot)))
            scr.write(fmt=&quotmxl&quot, fp=os.path.join(PATH_BASE, DIR_DSET, config(f&quot{DIR_DSET}.MXL_EG.dir_nm&quot), fnm))
        elif exp == &quotsymbol&quot:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stefanheng/symbolic-music-generation/commit/30a8207cd105223f3d0c073913fddd41937f1c22#diff-9bddc1ec410935c3b7e65a0e53b587a68e1dda58d8f63e4abcaf788573ad9f27L310' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69712242</div><div id='project'> Project Name: stefanheng/symbolic-music-generation</div><div id='commit'> Commit Name: 30a8207cd105223f3d0c073913fddd41937f1c22</div><div id='time'> Time: 2021-11-25</div><div id='author'> Author: 43276957+SpongeBobBang@users.noreply.github.com</div><div id='file'> File Name: melody_extractor.py</div><div id='m_class'> M Class Name: MxlMelodyExtractor</div><div id='n_method'> N Class Name: MxlMelodyExtractor</div><div id='m_method'> M Method Name: bar_with_max_pitch(2)</div><div id='n_method'> N Method Name: bar_with_max_pitch(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: melody_extractor.py</div><div id='n_file'> N File Name: melody_extractor.py</div><div id='m_start'> M Start Line: 322</div><div id='m_end'> M End Line: 370</div><div id='n_start'> N Start Line: 309</div><div id='n_end'> N End Line: 361</div><BR>