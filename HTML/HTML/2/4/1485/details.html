<html><h3>Pattern ID :1485
</h3><img src='6788954.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    vad_brain = VADBrain(hparams["modules"], hparams["opt_class"], hparams)
    vad_brain.fit(range(hparams["N_epochs"]), train_set)

    <a id="change">assert </a>vad_brain.train_loss &lt; 0.01


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
        hparams = sb.load_extended_yaml(fin)

    &#47&#47 Data IO creation
    train_data<a id="change">, valid_data</a> = data_io(data_folder, hparams)

    &#47&#47 Trainer initialization
    ctc_brain = VADBrain(hparams["modules"], hparams["opt_class"], hparams)

    &#47&#47 Training/validation loop
    ctc_brain.fit(
        range(hparams["N_epochs"]),
        train_data,
        valid_data,
        **hparams["dataloader_options"],
    )
    &#47&#47 Evaluation is run separately (now just evaluating on valid data)
    <a id="change">ctc_brain.evaluate(valid_data</a><a id="change">)</a>

    &#47&#47 Check if model overfits for integration test
    assert ctc_brain.train_loss &lt; 1.0
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/bca221c50f7776dc2f6b0e3eef86c045b0e3e970#diff-b87553f9f4037604704d55f1ef2d5fd22f610ce2901a07c2a6ef69573b31c479L74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6788954</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: bca221c50f7776dc2f6b0e3eef86c045b0e3e970</div><div id='time'> Time: 2020-12-27</div><div id='author'> Author: cornellsamuele@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/VAD/example_vad.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/VAD/example_vad.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/VAD/example_vad.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 129</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    align_brain.evaluate(hparams["test_data"], batch_size=hparams["batch_size"])

    &#47&#47 Check that model overfits for integration test
    <a id="change">assert </a>align_brain.train_loss &lt; 350.0


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
        hparams = sb.load_extended_yaml(fin)

    &#47&#47 Dataset creation
    train_data<a id="change">, valid_data</a> = data_prep(data_folder, hparams)

    &#47&#47 Trainer initialization
    ali_brain = AlignBrain(hparams["modules"], hparams["opt_class"], hparams)

    &#47&#47 Training/validation loop
    ali_brain.fit(
        range(hparams["N_epochs"]),
        train_data,
        valid_data,
        **hparams["dataloader_options"],
    )
    &#47&#47 Evaluation is run separately (now just evaluating on valid data)
    <a id="change">ali_brain.evaluate(</a>valid_data<a id="change">)</a>

    &#47&#47 Check if model overfits for integration test
    assert ali_brain.train_loss &lt; 350
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/c9b83509f0a07e61ef75f23e359eec163c98ad12#diff-e20298faf3b32decf3c2d27c9372cc7a32c2fd78d98522d95b42bbf3c2db0a15L43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6788953</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: c9b83509f0a07e61ef75f23e359eec163c98ad12</div><div id='time'> Time: 2020-12-26</div><div id='author'> Author: mirco.ravabelli@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/ASR_alignment_forward/example_asr_alignment_forward_experiment.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/ASR_alignment_forward/example_asr_alignment_forward_experiment.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/ASR_alignment_forward/example_asr_alignment_forward_experiment.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 126</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    align_brain.evaluate(hparams["test_data"], batch_size=hparams["batch_size"])

    &#47&#47 Check that model overfits for integration test
    <a id="change">assert </a>align_brain.train_loss &lt; 2.0


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
        hparams = sb.load_extended_yaml(fin)

    &#47&#47 Dataset creation
    train_data<a id="change">, valid_data</a> = data_prep(data_folder, hparams)

    &#47&#47 Trainer initialization
    ali_brain = AlignBrain(hparams["modules"], hparams["opt_class"], hparams)

    &#47&#47 Training/validation loop
    ali_brain.fit(
        range(hparams["N_epochs"]),
        train_data,
        valid_data,
        **hparams["dataloader_options"],
    )
    &#47&#47 Evaluation is run separately (now just evaluating on valid data)
    <a id="change">ali_brain.evaluate(</a>valid_data<a id="change">)</a>

    &#47&#47 Check if model overfits for integration test
    assert ali_brain.train_loss &lt; 2.0
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/c9b83509f0a07e61ef75f23e359eec163c98ad12#diff-622d5df03e625bb4d8694f7dfc1d3452f0520a0433e22aacc87ade0d4f2d80cfL45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6788952</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: c9b83509f0a07e61ef75f23e359eec163c98ad12</div><div id='time'> Time: 2020-12-26</div><div id='author'> Author: mirco.ravabelli@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/ASR_alignment_viterbi/example_asr_alignment_viterbi_experiment.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/ASR_alignment_viterbi/example_asr_alignment_viterbi_experiment.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/ASR_alignment_viterbi/example_asr_alignment_viterbi_experiment.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 132</div><BR>