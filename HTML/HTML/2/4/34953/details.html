<html><h3>Pattern ID :34953
</h3><img src='100047058.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        f&quottask {successor.name}-{successor.id_}&quot)
                    continue

                <a id="change">if </a>successor.id_ in self.done_queue or <a id="change">successor.id_ in self.running_queue</a>:
                    Console.get_instance().log(f&quotTask {successor.name}-{successor.id_} &quot
                                               f&quotis currently running or already finished.&quot)
                    continue

                Console.get_instance().log(f&quotDolphin {self.id_} is now scheduling {successor.name}-{successor.id_}.&quot)
                <a id="change">self.scheduled_queue.put(</a>successor.id_<a id="change">)</a>


class Orca(Whale):
    def __init__(self,</code></pre><h3>After Change</h3><pre><code class='java'>
            task_id = self._fetch_next_task()

            &#47&#47 continue when there is a valid task to run
            <a id="change">if </a>task_id is not None:

                &#47&#47 get current task from task_id
                task = self.tasks[task_id]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fluidml/fluidml/commit/1029baeb2154d11c238a8f568529ab0acbc10fb5#diff-a147bd6336a1708ad0548f8789ea9fb68938a4579346b8fc4378526d7cf99cfaL175' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100047058</div><div id='project'> Project Name: fluidml/fluidml</div><div id='commit'> Commit Name: 1029baeb2154d11c238a8f568529ab0acbc10fb5</div><div id='time'> Time: 2020-11-26</div><div id='author'> Author: raj1514@gmail.com</div><div id='file'> File Name: fluidml/swarm/dolphin.py</div><div id='m_class'> M Class Name: Dolphin</div><div id='n_method'> N Class Name: Dolphin</div><div id='m_method'> M Method Name: _work(1)</div><div id='n_method'> N Method Name: _work(1)</div><div id='m_parent_class'> M Parent Class: Whale</div><div id='n_parent_class'> N Parent Class: Whale</div><div id='m_file'> M File Name: fluidml/swarm/dolphin.py</div><div id='n_file'> N File Name: fluidml/swarm/dolphin.py</div><div id='m_start'> M Start Line: 185</div><div id='m_end'> M End Line: 228</div><div id='n_start'> N Start Line: 175</div><div id='n_end'> N End Line: 197</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        try:
            if request_method.upper() == &quotGET&quot:
                response = requests.get(http_url, headers=request_body)
            elif <a id="change">request_method.upper() == &quotPOST&quot</a>:
                response = requests.post(http_url, json=request_body, headers=header)
            elif request_method.upper() == &quotPUT&quot:
                response = <a id="change">requests.put(</a>http_url<a id="change">, json=request_body, headers=header)</a>
            elif request_method.upper() == &quotDELETE&quot:
                response = requests.delete(http_url, json=request_body, headers=header)
            logger.debug("raw response: " + str(response.text))
</code></pre><h3>After Change</h3><pre><code class='java'>
            header = {&quotAuthorization&quot: auth_token}
        try:
            if request_method.lower() == &quotget&quot:
                <a id="change">if </a>request_body:
                    http_url = http_url + "?" + urlencode(request_body, quote_via=quote_plus)
                response = requests.get(http_url, headers=header)
            elif request_method.lower() in [&quotpost&quot, &quotput&quot, &quotdelete&quot]:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digiteinfotech/kairon/commit/cef6e3df3153254df003f0e6ed0e625d5dd61a24#diff-e85d584b9edd64c76680a6e5f3be7f561b161776d43d68ac77968f2a7f8ce8b0L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100047055</div><div id='project'> Project Name: digiteinfotech/kairon</div><div id='commit'> Commit Name: cef6e3df3153254df003f0e6ed0e625d5dd61a24</div><div id='time'> Time: 2021-05-29</div><div id='author'> Author: shaikhfahad2526@gmail.com</div><div id='file'> File Name: kairon/shared/actions/utils.py</div><div id='m_class'> M Class Name: ActionUtility</div><div id='n_method'> N Class Name: ActionUtility</div><div id='m_method'> M Method Name: execute_http_request(4)</div><div id='n_method'> N Method Name: execute_http_request(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kairon/shared/actions/utils.py</div><div id='n_file'> N File Name: kairon/shared/actions/utils.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 52</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            gdf.scatter_by_map(ind, map_size=self.num_out_files, keep_index=False)
        ):
            self.num_samples[x] += len(group)
            <a id="change">if self.num_threads &gt; 1</a>:
                <a id="change">self.queue.put(</a>(x, group)<a id="change">)</a>
            else:
                self._write_table(x, group)

        &#47&#47 wait for all writes to finish before exiting</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            &#47&#47 Use different mechanism to decompose and write each df
            &#47&#47 partition, depending on the backend (pandas or cudf).
            <a id="change">if </a>self.cpu:
                self._add_data_slice(df)
            else:
                self._add_data_scatter(df)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nvidia/nvtabular/commit/8cb492e153ceb0bb56d95a311e43b9f30f39a7b1#diff-143187178f280fc7a23c846a9a9d6ca9c4b031c6ffed37e728cfbc06b6180691L116' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100047064</div><div id='project'> Project Name: nvidia/nvtabular</div><div id='commit'> Commit Name: 8cb492e153ceb0bb56d95a311e43b9f30f39a7b1</div><div id='time'> Time: 2021-02-08</div><div id='author'> Author: rzamora217@gmail.com</div><div id='file'> File Name: nvtabular/io/writer.py</div><div id='m_class'> M Class Name: ThreadedWriter</div><div id='n_method'> N Class Name: ThreadedWriter</div><div id='m_method'> M Method Name: add_data(2)</div><div id='n_method'> N Method Name: add_data(2)</div><div id='m_parent_class'> M Parent Class: Writer</div><div id='n_parent_class'> N Parent Class: Writer</div><div id='m_file'> M File Name: nvtabular/io/writer.py</div><div id='n_file'> N File Name: nvtabular/io/writer.py</div><div id='m_start'> M Start Line: 134</div><div id='m_end'> M End Line: 152</div><div id='n_start'> N Start Line: 134</div><div id='n_end'> N End Line: 148</div><BR>