<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                &quotarch&quot: args.arch,
                &quotstate_dict&quot: model.state_dict(),
                &quotbest_acc1&quot: best_acc1,
                &quotoptimizer&quot: <a id="change">optimizer.state_dict()</a>,
            }, is_best)

        &#47&#47 stop training once reach desired accuracy</code></pre><h3>After Change</h3><pre><code class='java'>
            if args.desired_acc and best_acc1 &gt;= args.desired_acc:
                mins, secs = divmod(time_elapsed, 60)
                hrs, mins = divmod(mins, 60)
                <a id="change">print(</a><a id="change">"Reached acc of: {:6.2f}\n"
                      "Time elapsed: {:.2f} hrs {:.2f} mins {:.2f} secs | {:.2f} secs\n"
                      "Total &#47&#47 epoches: {:.2f}\n"
                      "&#47&#47 of train steps per epoch: {:.2f}\n"
                      "&#47&#47 of val steps per epoch: {:.2f}\n"
                      "Length of trainset: {:.2f}\n"
                      "Length of valset: {:.2f}\n".format(
                      </a>best_acc1,
                      hrs, mins, secs, time_elapsed,
                      epoch + 1,
                      len(train_loader),
                      len(val_loader),
                      len(train_dataset),
                      len(val_dataset)<a id="change">
                     ))</a>
                break


def train(train_loader, model, criterion, optimizer, epoch, gpu, args):</code></pre>