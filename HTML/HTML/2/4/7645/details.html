<html><h3>Pattern ID :7645
</h3><img src='25368096.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def image_size(cls, datastream):
        datastream = reseekfile.ReseekFile(datastream)
        image = Image.open(datastream)
        <a id="change">return </a>image.size
</code></pre><h3>After Change</h3><pre><code class='java'>
        size = file.headers.get("content-length")
        if size: 
            size = int(size)
        p<a id="change"> = </a>ImageFile.Parser()
        <a id="change">while </a>True<a id="change">:
            </a>data = file.read(1024)
            if not data:
                break
            <a id="change">p.feed(</a>data<a id="change">)</a>
            if p.image:
                return p.image.size
                break
        file.close()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/samuelclay/NewsBlur/commit/eac7e71b81a40867017aacee16c35ef01911eae4#diff-cb03a8a0fadedfdb82c33c82441d323bf2048447d34e44bb73ebeff0fb21288fL75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25368096</div><div id='project'> Project Name: samuelclay/NewsBlur</div><div id='commit'> Commit Name: eac7e71b81a40867017aacee16c35ef01911eae4</div><div id='time'> Time: 2021-03-03</div><div id='author'> Author: samuel@ofbrooklyn.com</div><div id='file'> File Name: utils/image_functions.py</div><div id='m_class'> M Class Name: ImageOps</div><div id='n_method'> N Class Name: ImageOps</div><div id='m_method'> M Method Name: image_size(3)</div><div id='n_method'> N Method Name: image_size(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/image_functions.py</div><div id='n_file'> N File Name: utils/image_functions.py</div><div id='m_start'> M Start Line: 75</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 75</div><div id='n_end'> N End Line: 92</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    finally:
        if stat.count &gt; 0:
            return (stat.average, stat.max)
        <a id="change">return </a>(0, 0)

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre><h3>After Change</h3><pre><code class='java'>
        k.start()
        time.sleep(0.1)  &#47&#47 avoid simulator bugs
    stat = StatCounter()
    dist_stat<a id="change"> = </a>StatCounter()

    for _ in tqdm(range(nr_eval), **get_tqdm_kwargs()):
        r = q.get()
        stat.feed(r)
        dist = q_dist.get()
        dist_stat.feed(dist)

    logger.info("Waiting for all the workers to finish the last run...")
    for k in threads:
        k.stop()
    for k in threads:
        k.join()
    while q.qsize():
        r = q.get()
        stat.feed(r)

    <a id="change">while </a>q_dist.qsize()<a id="change">:
        </a>dist = q_dist.get()
        <a id="change">dist_stat.feed(</a>dist<a id="change">)</a>

    if stat.count &gt; 0:
        return (stat.average, stat.max, dist_stat.average, dist_stat.max)
    return (0, 0, 0, 0)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/249c649721c645c497311bacc239a3d6a448851e#diff-f837bfb74f16363c790f9607a284c91e63c956876ec5199b90a6d9c590ab672aL48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25368091</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: 249c649721c645c497311bacc239a3d6a448851e</div><div id='time'> Time: 2018-01-09</div><div id='author'> Author: aa16914@wensum.doc.ic.ac.uk</div><div id='file'> File Name: examples/plane_detection/ultrasound_fetal_brain_detection/common.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval_with_funcs(4)</div><div id='n_method'> N Method Name: eval_with_funcs(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/plane_detection/ultrasound_fetal_brain_detection/common.py</div><div id='n_file'> N File Name: examples/plane_detection/ultrasound_fetal_brain_detection/common.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 93</div><div id='n_end'> N End Line: 124</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    finally:
        if stat.count &gt; 0:
            return (stat.average, stat.max)
        <a id="change">return </a>(0, 0)

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
</code></pre><h3>After Change</h3><pre><code class='java'>
        k.start()
        time.sleep(0.1)  &#47&#47 avoid simulator bugs
    stat = StatCounter()
    dist_stat<a id="change"> = </a>StatCounter()

    for _ in tqdm(range(nr_eval), **get_tqdm_kwargs()):
        r = q.get()
        stat.feed(r)
        dist = q_dist.get()
        dist_stat.feed(dist)

    logger.info("Waiting for all the workers to finish the last run...")
    for k in threads:
        k.stop()
    for k in threads:
        k.join()
    while q.qsize():
        r = q.get()
        stat.feed(r)

    <a id="change">while </a>q_dist.qsize()<a id="change">:
        </a>dist = q_dist.get()
        <a id="change">dist_stat.feed(</a>dist<a id="change">)</a>

    if stat.count &gt; 0:
        return (stat.average, stat.max, dist_stat.average, dist_stat.max)
    return (0, 0, 0, 0)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/2d903de1af7d2b239a1b5ccee77d05befee8db86#diff-9e75b6ab37db31b4f864bf6757547c800f820c0a4722148fa78e6ff735dc4be3L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25368094</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: 2d903de1af7d2b239a1b5ccee77d05befee8db86</div><div id='time'> Time: 2017-11-01</div><div id='author'> Author: aa16914@wensum.doc.ic.ac.uk</div><div id='file'> File Name: examples/LandmarkDetection3D/DQN/common.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval_with_funcs(4)</div><div id='n_method'> N Method Name: eval_with_funcs(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/LandmarkDetection3D/DQN/common.py</div><div id='n_file'> N File Name: examples/LandmarkDetection3D/DQN/common.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 93</div><div id='n_end'> N End Line: 124</div><BR>