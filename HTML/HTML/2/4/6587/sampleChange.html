<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    model = build_model()
    print("Build SRCNN model successfully.")

    <a id="change">print("Define all loss functions..."</a><a id="change">)</a>
    psnr_criterion, pixel_criterion = define_loss()
    print("Define all loss functions successfully.")

    print("Define all optimizer functions...")</code></pre><h3>After Change</h3><pre><code class='java'>
    for epoch in range(config.start_epoch, config.epochs):
        train(model, train_prefetcher, psnr_criterion, pixel_criterion, optimizer, epoch, scaler, writer)
        _ = validate(model, valid_prefetcher, psnr_criterion, epoch, writer, "Valid")
        psnr<a id="change"> = </a><a id="change">validate(</a>model, test_prefetcher, psnr_criterion, epoch, writer, "Test"<a id="change">)</a>
        print("\n")

        &#47&#47 Automatically save the model with the highest index
        is_best = psnr &gt; best_psnr</code></pre>