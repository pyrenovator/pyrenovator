<html><h3>Pattern ID :7563
</h3><img src='25103327.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 Check "min"
    assert_eq(
        <a id="change">result[["name-string", "name-string_x_min"]]
        .drop_duplicates()
        .sort_values("name-string"</a><a id="change">)</a>["name-string_x_min"],
        df0.groupby("name-string").agg({"x": "min"})["x"],
        check_index=False,
        check_names=False,</code></pre><h3>After Change</h3><pre><code class='java'>
    assert "name-string_x_var" not in result.columns

    &#47&#47 Check results.  Need to sort for direct comparison
    expect = <a id="change">df0.sort_values(</a>["label", "x", "y", "id"]<a id="change">)</a>.reset_index(drop=True).reset_index()
    got = result.sort_values(["label", "x", "y", "id"]).reset_index(drop=True).reset_index()
    gb_e = expect.groupby("name-cat").aggregate({"name-cat": "count", "x": ["sum", "min", "std"]})
    gb_e.columns = ["count", "sum", "min", "std"]
    df_check<a id="change"> = </a>got.merge(gb_e, left_on="name-cat", right_index=True, how="left")
    assert_eq(df_check["name-cat_count"], df_check["count"].astype("int64"), check_names=False)
    assert_eq(df_check["name-cat_x_sum"], df_check["sum"], check_names=False)
    assert_eq(df_check["name-cat_x_min"], df_check["min"], check_names=False)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nvidia/nvtabular/commit/8cb492e153ceb0bb56d95a311e43b9f30f39a7b1#diff-649a1e71ae3d6b6029207d0d05db1e6aa950ecabf40f6fc929ea1f884efaf2c9L130' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25103327</div><div id='project'> Project Name: nvidia/nvtabular</div><div id='commit'> Commit Name: 8cb492e153ceb0bb56d95a311e43b9f30f39a7b1</div><div id='time'> Time: 2021-02-08</div><div id='author'> Author: rzamora217@gmail.com</div><div id='file'> File Name: tests/unit/test_dask_nvt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_dask_groupby_stats(4)</div><div id='n_method'> N Method Name: test_dask_groupby_stats(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/unit/test_dask_nvt.py</div><div id='n_file'> N File Name: tests/unit/test_dask_nvt.py</div><div id='m_start'> M Start Line: 135</div><div id='m_end'> M End Line: 185</div><div id='n_start'> N Start Line: 130</div><div id='n_end'> N End Line: 160</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                &quotsize&quot: dataset[&quotSize&quot]
            })

    datasets = <a id="change">pd.DataFrame(datasets).sort_values(</a>&quotsize&quot<a id="change">)</a>
    if extended:
        details = datasets.dataset.apply(_describe_dataset)
        datasets<a id="change"> = </a>pd.concat([datasets, details], axis=1)

    return datasets
</code></pre><h3>After Change</h3><pre><code class='java'>
def get_datasets_list():
    Get a list with the names and details of all the availale datasets.
    url = urljoin(DATA_URL, &quotdatasets.csv&quot)
    return <a id="change">pd.read_csv(url).sort_values(&quotsize_in_kb&quot</a><a id="change">)</a>


def make_dataset(name, data, table_name=None, entity_columns=None,
                 sequence_index=None, datasets_path=&quot.&quot):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sdv-dev/deepecho/commit/87f2f572abca4e11f65f786b77afae5b05d1e783#diff-03a85b3595a3b2f1794fb8e347d740cd5c7834e24326ac3de043f42f41d73521L224' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25103325</div><div id='project'> Project Name: sdv-dev/deepecho</div><div id='commit'> Commit Name: 87f2f572abca4e11f65f786b77afae5b05d1e783</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: carles@pythiac.com</div><div id='file'> File Name: benchmark/deepecho/benchmark/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_datasets_list(0)</div><div id='n_method'> N Method Name: get_datasets_list(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: benchmark/deepecho/benchmark/dataset.py</div><div id='n_file'> N File Name: benchmark/deepecho/benchmark/dataset.py</div><div id='m_start'> M Start Line: 224</div><div id='m_end'> M End Line: 241</div><div id='n_start'> N Start Line: 213</div><div id='n_end'> N End Line: 214</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if len(last[c].unique()) &gt; 1:
            keep.append(c)

    last = <a id="change">last[keep].sort_values(&quottop_1&quot</a><a id="change">)</a>
    print(logs)
    print(last)
    print(logs)
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47    if len(last[c].unique()) &gt; 1:
    &#47&#47        keep.append(c)

    last<a id="change"> = </a><a id="change">last.sort_values(</a>&quottop_1&quot<a id="change">)</a>
    print(logs)
    print(last)
    print(logs)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/libffcv/ffcv/commit/cd103a7453a52edf02914c5273d8738098369db8#diff-c5fd9f7a238e095b7609738e42e0e7120e2d90d245ec4636541f7589430496e3L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 25103316</div><div id='project'> Project Name: libffcv/ffcv</div><div id='commit'> Commit Name: cd103a7453a52edf02914c5273d8738098369db8</div><div id='time'> Time: 2022-01-13</div><div id='author'> Author: engstrom@csail.mit.edu</div><div id='file'> File Name: examples/imagenet_collect.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/imagenet_collect.py</div><div id='n_file'> N File Name: examples/imagenet_collect.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 96</div><BR>