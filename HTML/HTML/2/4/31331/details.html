<html><h3>Pattern ID :31331
</h3><img src='91917402.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def test_empty_input(self):
        p = pipeline(&quottest_util/simple_pipeline&quot, cache=str(CACHE_PATH))
        <a id="change">with self</a><a id="change">.assertRaises(ValueError):
            </a>print(p())

    def test_simple_pipeline(self):
        p = pipeline(&quottest_util/simple_pipeline&quot, cache=str(CACHE_PATH))</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_empty_input(self):
        p = pipeline(&quottest_util/simple_pipeline&quot, cache=str(CACHE_PATH))
        self.assertEqual(p(), <a id="change">[]</a>)

    def test_simple_pipeline(self):
        p = pipeline(&quottest_util/simple_pipeline&quot, cache=str(CACHE_PATH))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/towhee-io/towhee/commit/cb02a5af4765b2249666d2e9ff6df5290158efd5#diff-a6f55d801108d2924ba5f0bb839fa2a6e62eb90bf9d4550cc3d48cd37b183276L41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917402</div><div id='project'> Project Name: towhee-io/towhee</div><div id='commit'> Commit Name: cb02a5af4765b2249666d2e9ff6df5290158efd5</div><div id='time'> Time: 2021-10-26</div><div id='author'> Author: frank.liu@zilliz.com</div><div id='file'> File Name: towhee/tests/engine/test_pipeline.py</div><div id='m_class'> M Class Name: TestPipeline</div><div id='n_method'> N Class Name: TestPipeline</div><div id='m_method'> M Method Name: test_empty_input(1)</div><div id='n_method'> N Method Name: test_empty_input(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: towhee/tests/engine/test_pipeline.py</div><div id='n_file'> N File Name: towhee/tests/engine/test_pipeline.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 41</div><div id='n_end'> N End Line: 41</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        op_action = OperatorAction.from_callable(f)
        self.assertEqual(op_action._type, &quotcallable&quot)
        self.assertIsInstance(op_action._loaded_fn, Callable)
        <a id="change">with self</a><a id="change">.assertRaises(ValueError):
            </a>op_action.serialize()
</code></pre><h3>After Change</h3><pre><code class='java'>
        def f():
            pass
        op_action = OperatorAction.from_callable(f)
        op_info = <a id="change">{
            </a>&quotoperator&quot: f,
            &quottype&quot: &quotcallable&quot,
            &quotinit_args&quot: None,
            &quotinit_kws&quot: None,
            &quottag&quot: None<a id="change">
        }</a>
        self.assertEqual(op_action.serialize(), op_info)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/towhee-io/towhee/commit/7800c77fc16fb6085f2496817fce5b285f859034#diff-6cf12584523d759b0f685de70eb088b25069cee2aa5c11eb0f401a9600777bccL50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917403</div><div id='project'> Project Name: towhee-io/towhee</div><div id='commit'> Commit Name: 7800c77fc16fb6085f2496817fce5b285f859034</div><div id='time'> Time: 2022-11-01</div><div id='author'> Author: shiyu.chen@zilliz.com</div><div id='file'> File Name: tests/unittests/runtime/test_operator_action.py</div><div id='m_class'> M Class Name: TestOperatorAction</div><div id='n_method'> N Class Name: TestOperatorAction</div><div id='m_method'> M Method Name: test_callable(1)</div><div id='n_method'> N Method Name: test_callable(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/unittests/runtime/test_operator_action.py</div><div id='n_file'> N File Name: tests/unittests/runtime/test_operator_action.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        dset.set_format(type="torch", columns=["col_1", "col_2"])
        for dset_split in dset.values():
            <a id="change">with self</a><a id="change">.assertRaises(TypeError):
                </a>dset_split[0]
        del dset

    @require_tf</code></pre><h3>After Change</h3><pre><code class='java'>
        for dset_split in dset.values():
            self.assertEqual(len(dset_split[0]), 2)
            self.assertIsInstance(dset_split[0]["col_1"], torch.Tensor)
            self.assertListEqual(list(dset_split[0]["col_1"].shape), <a id="change">[]</a>)
            self.assertEqual(dset_split[0]["col_1"].item(), 3)
            self.assertIsInstance(dset_split[0]["col_2"], str)
            self.assertEqual(dset_split[0]["col_2"], "a")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/1b935dab9d2f171a8c6294269421fe967eb55e34#diff-84a92ccbcd371dde1db5eba60d8c2ef74230b2fe80095f36839dc90df3d91d95L92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917401</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 1b935dab9d2f171a8c6294269421fe967eb55e34</div><div id='time'> Time: 2022-10-10</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: tests/test_dataset_dict.py</div><div id='m_class'> M Class Name: DatasetDictTest</div><div id='n_method'> N Class Name: DatasetDictTest</div><div id='m_method'> M Method Name: test_set_format_torch(1)</div><div id='n_method'> N Method Name: test_set_format_torch(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/test_dataset_dict.py</div><div id='n_file'> N File Name: tests/test_dataset_dict.py</div><div id='m_start'> M Start Line: 111</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 116</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
			alpha = 2
			dale_law = DaleLawL2([weights], alpha, weights_reference)

		<a id="change">with self</a><a id="change">.assertRaises(ValueError):
			</a>weights = torch.rand(10, 10)
			weights = torch.nn.Parameter(weights)
			alpha = 0
			dale_law = DaleLawL2([weights], alpha, reference_weights=None)</code></pre><h3>After Change</h3><pre><code class='java'>
			weights = torch.rand(10, 10)
			weights = torch.nn.Parameter(weights)
			alpha = -1
			dale_law = DaleLawL2([weights], alpha, <a id="change">[</a>weights_reference<a id="change"></a>])

		with self.assertRaises(ValueError):
			weights_reference = torch.rand(10, 10)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neurotorch/neurotorch/commit/05c192aaf9ed13634993fb542b6be611cd3a8931#diff-4bc7a397fbb1d4fe3a2cbe8070b9b7d7ef2c4ed43eda8a105416826683337759L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917406</div><div id='project'> Project Name: neurotorch/neurotorch</div><div id='commit'> Commit Name: 05c192aaf9ed13634993fb542b6be611cd3a8931</div><div id='time'> Time: 2022-08-30</div><div id='author'> Author: 50332514+JeremieGince@users.noreply.github.com</div><div id='file'> File Name: tests/regularisation/test_dale_law_l2.py</div><div id='m_class'> M Class Name: TestDaleLawL2</div><div id='n_method'> N Class Name: TestDaleLawL2</div><div id='m_method'> M Method Name: test_raise_error(1)</div><div id='n_method'> N Method Name: test_raise_error(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/regularisation/test_dale_law_l2.py</div><div id='n_file'> N File Name: tests/regularisation/test_dale_law_l2.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        torch.testing.assert_allclose(tagged_loss_values[&quotloss2&quot], torch.tensor([15.]))

    def test_direct_loss_access_when_two_losses_specified(self):
        <a id="change">with self</a><a id="change">.assertRaises(ValueError):
            </a>JointLoss(
                losses=[Loss1(), Loss2()],
                tags=[&quotloss1&quot, &quotloss2&quot],
                mappings=[{</code></pre><h3>After Change</h3><pre><code class='java'>
        total_loss, tagged_loss_values = joint_loss.forward(x=torch.ones(1), y=torch.full((1,), fill_value=5.))

        torch.testing.assert_allclose(total_loss, torch.tensor([8.]))
        torch.testing.assert_allclose(tagged_loss_values[&quotloss1&quot], torch.tensor(<a id="change">[</a>5.<a id="change"></a>]))
        torch.testing.assert_allclose(tagged_loss_values[&quotloss2&quot], torch.tensor([15.]))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/11411d72fab3069c4863322d6efb7316930737ff#diff-87df02798b53d9362e79364a12dead88f2a3bb912f61e9acf4b119ecc9cc3253L67' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917404</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: 11411d72fab3069c4863322d6efb7316930737ff</div><div id='time'> Time: 2022-05-17</div><div id='author'> Author: vladt9@yandex.ru</div><div id='file'> File Name: tests/losses/test_base_losses.py</div><div id='m_class'> M Class Name: TestJointLoss</div><div id='n_method'> N Class Name: TestJointLoss</div><div id='m_method'> M Method Name: test_direct_loss_access_when_two_losses_specified(1)</div><div id='n_method'> N Method Name: test_direct_loss_access_when_two_losses_specified(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/losses/test_base_losses.py</div><div id='n_file'> N File Name: tests/losses/test_base_losses.py</div><div id='m_start'> M Start Line: 68</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        op_action = OperatorAction.from_lambda(lambda x: x+1)
        self.assertEqual(op_action._type, &quotlambda&quot)
        self.assertIsInstance(op_action._loaded_fn, Callable)
        <a id="change">with self</a><a id="change">.assertRaises(ValueError):
            </a>op_action.serialize()

    def test_callable(self):
        op_action = OperatorAction.from_callable(f)</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_lambda(self):
        f = lambda x: x+1
        op_action = OperatorAction.from_lambda(f)
        op_info = <a id="change">{
            </a>&quotoperator&quot: f,
            &quottype&quot: &quotlambda&quot,
            &quotinit_args&quot: None,
            &quotinit_kws&quot: None,
            &quottag&quot: None<a id="change">
        }</a>
        self.assertEqual(op_action.serialize(), op_info)

    def test_callable(self):
        def f():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/towhee-io/towhee/commit/7800c77fc16fb6085f2496817fce5b285f859034#diff-6cf12584523d759b0f685de70eb088b25069cee2aa5c11eb0f401a9600777bccL43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917405</div><div id='project'> Project Name: towhee-io/towhee</div><div id='commit'> Commit Name: 7800c77fc16fb6085f2496817fce5b285f859034</div><div id='time'> Time: 2022-11-01</div><div id='author'> Author: shiyu.chen@zilliz.com</div><div id='file'> File Name: tests/unittests/runtime/test_operator_action.py</div><div id='m_class'> M Class Name: TestOperatorAction</div><div id='n_method'> N Class Name: TestOperatorAction</div><div id='m_method'> M Method Name: test_lambda(1)</div><div id='n_method'> N Method Name: test_lambda(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/unittests/runtime/test_operator_action.py</div><div id='n_file'> N File Name: tests/unittests/runtime/test_operator_action.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.assertEqual(table.headers(), ["Column 0"])

        &#47&#47 malformed create
        <a id="change">with self</a><a id="change">.assertRaises(
                TritonModelAnalyzerException,
                msg=
                "Expected exception on create with unequal sized headers and column_widths."
        ):
            </a>table = OutputTable(headers=["Column 0", "Column 1"],
                                column_widths=[None])

    def test_add_get_methods(self):</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_create_headers(self):
        table = OutputTable(headers=["Column 0"])
        self.assertEqual(table.headers(), ["Column 0"])
        self.assertEqual(table.column_widths(), <a id="change">[</a>9<a id="change"></a>])

    def test_add_get_methods(self):
        table = OutputTable(headers=["Column 0"])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/537d939d8b9a7fd80406ee4800768dbaea65ea4c#diff-ee4d9ddf806a9b8c84d93d5c351b1fa21282a974985c140878a6f51441a2b4eeL68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917408</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 537d939d8b9a7fd80406ee4800768dbaea65ea4c</div><div id='time'> Time: 2020-11-24</div><div id='author'> Author: xprotobeast2@gmail.com</div><div id='file'> File Name: tests/test_output_table.py</div><div id='m_class'> M Class Name: TestOutputTableMethods</div><div id='n_method'> N Class Name: TestOutputTableMethods</div><div id='m_method'> M Method Name: test_create_headers(1)</div><div id='n_method'> N Method Name: test_create_headers(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_output_table.py</div><div id='n_file'> N File Name: tests/test_output_table.py</div><div id='m_start'> M Start Line: 73</div><div id='m_end'> M End Line: 81</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 ... and connect it directly via connect_var(..)
        &#47&#47 The naming conflict should raise an AssertionError
        <a id="change">with self</a><a id="change">.assertRaises(AssertionError):
            </a>rp.connect_var(v)

    @unittest.skip("Currently not supported")
    def test_connect_RefPort_to_many_Vars(self):</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 This has the same effect as connecting a RefPort explicitly via a
        &#47&#47 VarPort to a Var...
        self.assertEqual(rp.get_dst_vars(), <a id="change">[</a>v<a id="change"></a>])
        &#47&#47 ... but still creates a VarPort implicitly
        vp = rp.get_dst_ports()[0]
        self.assertIsInstance(vp, VarPort)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lava-nc/lava/commit/ae45028ae1c04d8ab56988a77d3af67caf9fd488#diff-9aeda5eba5d7818d3eaa34f860d448d8394627b6b84f83b9ea899114375c7e62L291' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91917409</div><div id='project'> Project Name: lava-nc/lava</div><div id='commit'> Commit Name: ae45028ae1c04d8ab56988a77d3af67caf9fd488</div><div id='time'> Time: 2023-05-02</div><div id='author'> Author: alessandro.pierro@intel.com</div><div id='file'> File Name: tests/lava/magma/core/process/ports/test_ports.py</div><div id='m_class'> M Class Name: TestRVPorts</div><div id='n_method'> N Class Name: TestRVPorts</div><div id='m_method'> M Method Name: test_connect_RefPort_to_Var_process_conflict(1)</div><div id='n_method'> N Method Name: test_connect_RefPort_to_Var_process_conflict(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/lava/magma/core/process/ports/test_ports.py</div><div id='n_file'> N File Name: tests/lava/magma/core/process/ports/test_ports.py</div><div id='m_start'> M Start Line: 311</div><div id='m_end'> M End Line: 314</div><div id='n_start'> N Start Line: 302</div><div id='n_end'> N End Line: 325</div><BR>