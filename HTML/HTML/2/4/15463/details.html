<html><h3>Pattern ID :15463
</h3><img src='52540689.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def avg(self):
        for key, row in self._data.iterrows():
            self._data.average[key] = <a id="change">round(</a>row[&quottotal&quot] / row[&quotcounts&quot], <a id="change">5</a><a id="change">)</a>

    def current(self):
        return dict(self._data.current)
</code></pre><h3>After Change</h3><pre><code class='java'>
    def avg(self):
        for key, row in self._data.iterrows():
            self._data.at[key, &quotmean&quot] = row[&quotsum&quot] / row[&quotcounts&quot]
            self._data.at[key, &quotsquare_avg&quot] = row[&quotsquare_sum&quot] / <a id="change">row[&quotcounts&quot]</a>

    def std(self):
        for key, row in self._data.iterrows():
            self._data.at[key, &quotstd&quot] = sqrt(row[&quotsquare_avg&quot]-row[&quotmean&quot]**2 + smooth)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deeperlearner/pytorch-template/commit/662aa3e639fc5ff861fc47d269afc1fcd379973d#diff-be0d98f09e2841925a55182268279416f90c5c666c0a433c11734e9ec0d57b02L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52540689</div><div id='project'> Project Name: deeperlearner/pytorch-template</div><div id='commit'> Commit Name: 662aa3e639fc5ff861fc47d269afc1fcd379973d</div><div id='time'> Time: 2021-01-31</div><div id='author'> Author: b04202035@g.ntu.edu.tw</div><div id='file'> File Name: model/metric.py</div><div id='m_class'> M Class Name: MetricTracker</div><div id='n_method'> N Class Name: MetricTracker</div><div id='m_method'> M Method Name: avg(1)</div><div id='n_method'> N Method Name: avg(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model/metric.py</div><div id='n_file'> N File Name: model/metric.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 36</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                optim.zero_grad()
                batch_idx = 0
            
            Bar.suffix = &quot{:4}/{:4} | loss: {:1.5f}, time: {}.&quot.format(i, num_iter, <a id="change">round(</a>float(loss_count / i), <a id="change">5</a><a id="change">)</a>, round(time.time() - st, 3))
            bar.next()

        bar.finish()</code></pre><h3>After Change</h3><pre><code class='java'>
    
    &#47&#47 Loading model
    config, model, optim, sche, model_loss, saver = load_framework(net_name)
    config[&quotbatch&quot] = <a id="change">config[&quotbatch&quot]</a> // config[&quotave_batch&quot]
    print(sorted(config.items()))
    
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/moothes/salod/commit/fff7e46590aa2dd914c994745a4c52a9e7b243f3#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52540691</div><div id='project'> Project Name: moothes/salod</div><div id='commit'> Commit Name: fff7e46590aa2dd914c994745a4c52a9e7b243f3</div><div id='time'> Time: 2022-05-15</div><div id='author'> Author: zhouhuajun123@126.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 106</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 118</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.true_labels = list([data.label_list[idx] for idx in y_true])

        if mode == &quoteval&quot:
            close_pro = <a id="change">round(</a>(len(y_pred[y_pred != -1]) / len(y_pred))*100, <a id="change">2</a><a id="change">)</a>
            return close_pro

        elif mode == &quottest&quot:
            cm = confusion_matrix(y_true,y_pred)</code></pre><h3>After Change</h3><pre><code class='java'>

        if mode == &quoteval&quot:
            cm = confusion_matrix(y_true, y_pred)
            eval_score = <a id="change">F_measure(cm)[&quotF1-score&quot]</a>
            return eval_score

        elif mode == &quottest&quot:
            </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuiar/adaptive-decision-boundary/commit/b36006cacdee94b917e8703141df68d1ab101ed1#diff-a7b54c63666f4f3c1990745e7c032640a84dae042692878711106f09198ae26cL47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 52540698</div><div id='project'> Project Name: thuiar/adaptive-decision-boundary</div><div id='commit'> Commit Name: b36006cacdee94b917e8703141df68d1ab101ed1</div><div id='time'> Time: 2021-02-20</div><div id='author'> Author: zhang-hl20@mails.tsinghua.edu.cn</div><div id='file'> File Name: ADB.py</div><div id='m_class'> M Class Name: ModelManager</div><div id='n_method'> N Class Name: ModelManager</div><div id='m_method'> M Method Name: evaluation(4)</div><div id='n_method'> N Method Name: evaluation(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ADB.py</div><div id='n_file'> N File Name: ADB.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 75</div><BR>