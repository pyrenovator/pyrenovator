<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ax2.set_ylabel("Attention")
        ax2.plot(
            np.arange(
                -self.hparams.max_encoder_length, <a id="change">interpretation["attention"].size(1</a><a id="change">)</a> - self.hparams.max_encoder_length
            ),
            interpretation["attention"][idx].detach().cpu(),
            alpha=0.2,</code></pre><h3>After Change</h3><pre><code class='java'>
            ax = fig.axes[0]
            ax2 = ax.twinx()
            ax2.set_ylabel("Attention")
            max_encoder_length<a id="change"> = </a><a id="change">out["encoder_lengths"].max()</a>
            encoder_length = x["encoder_lengths"][idx]
            ax2.plot(
                np.arange(-encoder_length, 1),
                interpretation["attention"][idx, list(range(encoder_length)) + [max_encoder_length]].detach().cpu(),</code></pre>