<html><h3>Pattern ID :38796
</h3><img src='110840619.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Identifying information
        self.layer_id = id(module)
        self.module = module
        self.class_name = <a id="change">str(module.__class__).split(".")[-1].split("&quot"</a><a id="change">)</a>[0]
        self.inner_layers: Dict[str, List[int]] = {}
        self.depth = depth
        self.depth_index = depth_index</code></pre><h3>After Change</h3><pre><code class='java'>
        self.layer_id = id(module)
        self.module = module
        self.class_name = (
            <a id="change">str(</a>module.original_name<a id="change">)</a>
            if isinstance(module, ScriptModule)
            else module.__class__.__name__
        )
        self.inner_layers: Dict[str, List[int]] = {}</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tyleryep/torchinfo/commit/737436099552d2f0ef3ef91e57a11531ab88904f#diff-4f687cea116644d24b8af04530522df41211b01575f0793bd5e3e2696e87fc23L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110840619</div><div id='project'> Project Name: tyleryep/torchinfo</div><div id='commit'> Commit Name: 737436099552d2f0ef3ef91e57a11531ab88904f</div><div id='time'> Time: 2021-06-12</div><div id='author'> Author: tyep@cs.stanford.edu</div><div id='file'> File Name: torchinfo/layer_info.py</div><div id='m_class'> M Class Name: LayerInfo</div><div id='n_method'> N Class Name: LayerInfo</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchinfo/layer_info.py</div><div id='n_file'> N File Name: torchinfo/layer_info.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        global_num_max += 1
      return f"&lt;&lt;&lt; {x.global_num} &gt;&gt;&gt;"

    _,sop = <a id="change">str(op).split("."</a><a id="change">)</a>
    top_colors = {LoadOps: "&#47&#47ffffff", UnaryOps: "&#47&#47c0c0c0", ReduceOps: "&#47&#478080ff", BinaryOps: "&#47&#47c0c0c0", MovementOps: "&#47&#4780ff80", ProcessingOps: "&#47&#47ff8080"}

    for x in inp:
      G.add_edge(nm(x), nm(ret), label=sop)</code></pre><h3>After Change</h3><pre><code class='java'>

    for x in inp:
      if not isinstance(op, list): op = [op]
      sop = &quot.&quot.join([<a id="change">str(</a>y<a id="change">)</a>.split(".")[1] for y in op][::-1])
      G.add_edge(nm(x), nm(ret), label=sop, color=&quot&#47&#47808080&quot if dashed else &quot&quot, style=&quotdashed&quot if dashed else &quot&quot)
      if &quotlabel&quot not in G.nodes[nm(x)]: G.nodes[nm(x)][&quotlabel&quot] = str(x.shape)
    if nm(ret) not in G.nodes: G.add_node(nm(ret))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/6b652dafb2925c39c5da028ab24ead75fb28d751#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110840618</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 6b652dafb2925c39c5da028ab24ead75fb28d751</div><div id='time'> Time: 2022-06-19</div><div id='author'> Author: geohot@gmail.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: log_op(5)</div><div id='n_method'> N Method Name: log_op(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 41</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if indent == 0:
        return arg
    _str = &quot&quot
    _str_list = <a id="change">str(arg).split(&quot\n&quot</a><a id="change">)</a>
    for i, item in enumerate(_str_list):
        if len(item) != 0:
            item = &quot &quot*indent+item
        if i != len(_str_list)-1:</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 modified from torch.nn.modules._addindent
    if indent == 0:
        return s_
    s = <a id="change">str(</a>s_<a id="change">)</a>.split(&quot\n&quot)
    s = [(indent * &quot &quot) + line for line in s]
    s = &quot\n&quot.join(s)
    return s</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/8206f64676cf711670878611d805d3edd5322b09#diff-d9ea00eedb5d8919cdbde5940f811f7ba4d6cc4398b5392003ee206aeed9852cL63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110840622</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: 8206f64676cf711670878611d805d3edd5322b09</div><div id='time'> Time: 2020-06-09</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/utils/output.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: indent_str(2)</div><div id='n_method'> N Method Name: indent_str(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: trojanzoo/utils/output.py</div><div id='n_file'> N File Name: trojanzoo/utils/output.py</div><div id='m_start'> M Start Line: 66</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 69</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    for x in inp:
      if not isinstance(op, list): op = [op]
      sop = &quot.&quot.join([<a id="change">str(y).split("."</a><a id="change">)</a>[1] for y in op][::-1])
      G.add_edge(nm(x), nm(ret), label=sop, color=&quot&#47&#47808080&quot if dashed else &quot&quot, style=&quotdashed&quot if dashed else &quot&quot)
      if &quotlabel&quot not in G.nodes[nm(x)]: G.nodes[nm(x)][&quotlabel&quot] = str(x.shape)
    if nm(ret) not in G.nodes: G.add_node(nm(ret))</code></pre><h3>After Change</h3><pre><code class='java'>
    for x in inp:
      if not isinstance(op, list): op = [op]
      &#47&#47sop = &quot.&quot.join([str(y).split(".")[1] for y in op][::-1])
      sop = <a id="change">str(</a>len(op)<a id="change">)</a>
      G.add_edge(nm(x), nm(ret), label=sop)
      if &quotlabel&quot not in G.nodes[nm(x)]: G.nodes[nm(x)][&quotlabel&quot] = str(x.shape)
    if nm(ret) not in G.nodes: G.add_node(nm(ret))
    st = getattr(ret, "st", None)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/3e7416163d50a28e90bfb235e5dc9640390cbc94#diff-5736814df0b2c07a42d5c1bfef6b5aa5635ce18043f4aa030e21768694259ca3L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 110840620</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: 3e7416163d50a28e90bfb235e5dc9640390cbc94</div><div id='time'> Time: 2022-06-20</div><div id='author'> Author: 72895+geohot@users.noreply.github.com</div><div id='file'> File Name: tinygrad/ops.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: log_op(4)</div><div id='n_method'> N Method Name: log_op(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tinygrad/ops.py</div><div id='n_file'> N File Name: tinygrad/ops.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 46</div><BR>