<html><h3>Pattern ID :37133
</h3><img src='107045936.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            edge_type_idx = random.randint(0, len(remaining_edge_types)-1)
            new_edge_type = remaining_edge_types[edge_type_idx]
            new_edge_type_tuple = EdgeTypeStr2Tuple(new_edge_type)
            <a id="change">if len(set(new_edge_type_tuple) & explored_node_type_set) == 0</a>:
                continue
            chosen_edge_types_list.append(new_edge_type)
            explored_node_type_set |= set(new_edge_type_tuple)
            remaining_edge_types.pop(edge_type_idx)
            <a id="change">break</a>
    return tuple(sorted(chosen_edge_types_list))


&#47&#47 Ways of choosing k items from n items.</code></pre><h3>After Change</h3><pre><code class='java'>
        new_edge_type_idx = random.randint(0, len(candidate_edge_types_list)-1)
        new_edge_type = candidate_edge_types_list[new_edge_type_idx]
        chosen_edge_types_list.append(new_edge_type)
        <a id="change">candidate_edge_types_list.pop(</a>new_edge_type_idx<a id="change">)</a>
        explored_node_type_set |= set(EdgeTypeStr2Tuple(new_edge_type))

    return tuple(sorted(chosen_edge_types_list))
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pku-dair/sgl/commit/93e7aac75c7a5fe5266c08615e4e5c0de463a86d#diff-a42813c7bb6f36db6c7dc4df3f1fb029e01d435597a169b5c1ae027c2d0ae0e3L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107045936</div><div id='project'> Project Name: pku-dair/sgl</div><div id='commit'> Commit Name: 93e7aac75c7a5fe5266c08615e4e5c0de463a86d</div><div id='time'> Time: 2022-04-21</div><div id='author'> Author: 82886739+ZhenbangYou@users.noreply.github.com</div><div id='file'> File Name: dataset/choose_edge_type.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: ChooseEdgeType(3)</div><div id='n_method'> N Method Name: ChooseEdgeType(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/choose_edge_type.py</div><div id='n_file'> N File Name: dataset/choose_edge_type.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if nms_style == &quotOR&quot:  &#47&#47 default
                while dc.shape[0]:
                    det_max.append(dc[:1])  &#47&#47 save highest conf detection
                    <a id="change">if len(dc) == 1</a>:  &#47&#47 Stop if we&quotre at the last detection
                        <a id="change">break</a>
                    iou = bbox_iou(det_max[-1], dc[1:])  &#47&#47 iou with other boxes
                    dc = dc[1:][iou &lt; nms_thres]  &#47&#47 remove ious &gt; threshold

                &#47&#47 Image      Total          P          R        mAP</code></pre><h3>After Change</h3><pre><code class='java'>
                    di = dc[ind[0]:ind[0] + 1]
                    det_max.append(di)  &#47&#47 save highest conf detection
                    reject = bbox_iou(di, dc[ind]) &gt; nms_thres
                    [<a id="change">ind.pop(</a>i<a id="change">)</a> for i in reversed(reject.nonzero())]
                &#47&#47 while dc.shape[0]:  &#47&#47 SLOWER
                &#47&#47     det_max.append(dc[:1])  &#47&#47 save highest conf detection
                &#47&#47     if len(dc) == 1:  &#47&#47 Stop if we&quotre at the last detection</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nightsnack/yolobile/commit/2df8d7e9f6fd3a3e0233029bf39d4db66807a229#diff-9653b8c2ce917a6134298b00c8b3f7d4b7c4dc473a752303f37a870392742127L304' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107045939</div><div id='project'> Project Name: nightsnack/yolobile</div><div id='commit'> Commit Name: 2df8d7e9f6fd3a3e0233029bf39d4db66807a229</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: glenn.jocher@ultralytics.com</div><div id='file'> File Name: utils/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: non_max_suppression(3)</div><div id='n_method'> N Method Name: non_max_suppression(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/utils.py</div><div id='n_file'> N File Name: utils/utils.py</div><div id='m_start'> M Start Line: 388</div><div id='m_end'> M End Line: 398</div><div id='n_start'> N Start Line: 389</div><div id='n_end'> N End Line: 399</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if label_text not in label_texts:
                new_labels.append(deepcopy(label))
                counter += 1
                <a id="change">if counter == max_number_of_labels</a>:
                    <a id="change">break</a>
        &#47&#47 new_labels = deepcopy(labels)
        &#47&#47 remove labels from labels
        [l.pop(vector_field) for l in new_labels]
        return new_labels</code></pre><h3>After Change</h3><pre><code class='java'>
                new_labels.append(deepcopy(label))
                counter += 1
                if counter &gt;= max_number_of_labels:
                    [<a id="change">l.pop(</a>vector_field<a id="change">)</a> for l in new_labels]
                    return new_labels
        &#47&#47 new_labels = deepcopy(labels)
        &#47&#47 remove labels from labels</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/relevanceai/relevanceai/commit/d374de50733334fb0ff4cbcf0b89b5854d3cf5c6#diff-5748d5ab9516f3315db253fe0ffa2d11e1b562c18667ad68979034a7291fc2e0L154' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107045938</div><div id='project'> Project Name: relevanceai/relevanceai</div><div id='commit'> Commit Name: d374de50733334fb0ff4cbcf0b89b5854d3cf5c6</div><div id='time'> Time: 2022-08-04</div><div id='author'> Author: jacky.wong@relevance.ai</div><div id='file'> File Name: relevanceai/operations_new/label/transform.py</div><div id='m_class'> M Class Name: LabelTransform</div><div id='n_method'> N Class Name: LabelTransform</div><div id='m_method'> M Method Name: cosine_similarity(8)</div><div id='n_method'> N Method Name: cosine_similarity(8)</div><div id='m_parent_class'> M Parent Class: TransformBase</div><div id='n_parent_class'> N Parent Class: TransformBase</div><div id='m_file'> M File Name: relevanceai/operations_new/label/transform.py</div><div id='n_file'> N File Name: relevanceai/operations_new/label/transform.py</div><div id='m_start'> M Start Line: 198</div><div id='m_end'> M End Line: 210</div><div id='n_start'> N Start Line: 198</div><div id='n_end'> N End Line: 211</div><BR>