<html><h3>Pattern ID :37896
</h3><img src='108652248.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def _prf_scores_over_types(chunks_gold_data: list, chunks_pred_data: list, **kwargs):
    TYPE_POS<a id="change"> = </a><a id="change">len(</a>chunks_gold_data[0][0]<a id="change">) - </a>3
    types_set = {ck[TYPE_POS] for chunks_data in [chunks_gold_data, chunks_pred_data] for chunks in chunks_data for ck in chunks}
    
    scores = {}</code></pre><h3>After Change</h3><pre><code class='java'>
        return {}
        
    chunks_set = {ck for chunks_data in [chunks_gold_data, chunks_pred_data] for chunks in chunks_data for ck in chunks}
    TYPE_POS = len(next(<a id="change">iter(</a>chunks_set<a id="change">)</a>)) - 3
    types_set = {ck[TYPE_POS] for ck in chunks_set}
    
    scores = {}</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/syuoni/eznlp/commit/6b73005cba7b1832973a446f6ec43d27c732e5da#diff-3c2c21d0fb7c5a3c66b5aa7c71bf81022c2c40dab5c1971caa7f0e581cc11427L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108652248</div><div id='project'> Project Name: syuoni/eznlp</div><div id='commit'> Commit Name: 6b73005cba7b1832973a446f6ec43d27c732e5da</div><div id='time'> Time: 2020-10-13</div><div id='author'> Author: enwei.zhu@outlook.com</div><div id='file'> File Name: eznlp/sequence_tagging/metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _prf_scores_over_types(2)</div><div id='n_method'> N Method Name: _prf_scores_over_types(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: eznlp/sequence_tagging/metrics.py</div><div id='n_file'> N File Name: eznlp/sequence_tagging/metrics.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            indices = list(range(len(self.dataset)))

        &#47&#47 add extra samples to make it evenly divisible
        indices<a id="change"> += </a>indices[:(self.total_size<a id="change"> - </a><a id="change">len(</a>indices<a id="change">)</a>)]
        assert len(indices) == self.total_size

        &#47&#47 subsample</code></pre><h3>After Change</h3><pre><code class='java'>

        assert len(local_indices) == self.num_samples

        return <a id="change">iter(</a>local_indices<a id="change">)</a>

    def __len__(self):
        return self.num_samples
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/smilelab-fl/fedlab/commit/4a5dbf1ca21d9f99caf66fcf136fcf784e5867bf#diff-e4237f050325c844446bfd292dbf278c96a01bca8371acace86e3ab981df543aL84' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108652253</div><div id='project'> Project Name: smilelab-fl/fedlab</div><div id='commit'> Commit Name: 4a5dbf1ca21d9f99caf66fcf136fcf784e5867bf</div><div id='time'> Time: 2021-08-03</div><div id='author'> Author: 928255708@qq.com</div><div id='file'> File Name: fedlab_utils/dataset/sampler.py</div><div id='m_class'> M Class Name: FedDistributedSampler</div><div id='n_method'> N Class Name: FedDistributedSampler</div><div id='m_method'> M Method Name: __iter__(1)</div><div id='n_method'> N Method Name: __iter__(1)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Sampler</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Sampler</div><div id='m_file'> M File Name: fedlab_utils/dataset/sampler.py</div><div id='n_file'> N File Name: fedlab_utils/dataset/sampler.py</div><div id='m_start'> M Start Line: 86</div><div id='m_end'> M End Line: 101</div><div id='n_start'> N Start Line: 82</div><div id='n_end'> N End Line: 86</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if instance_labels:
            assert len(instance_labels) == len(instance_masks)
        else:
            instance_labels<a id="change"> = </a>[None]<a id="change"> * </a><a id="change">len(</a>instance_masks<a id="change">)</a>

        instance_masks = sorted(enumerate(instance_masks),
            key=lambda m: m[1].z_order)
        instance_masks = ((m.image, 1 + j,</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 so we can only afford having just few copies in
        &#47&#47 memory simultaneously.

        it = <a id="change">iter(</a>masks<a id="change">)</a>

        instance_map = [0]
        class_map = [0]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/353c916bc8082e7d34033dc2d373a3e6ddcc19e3#diff-5a8e88c771577d88298d91ffe932a6d0430757e6fc9fccf6234b6ff2a776318bL255' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108652254</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 353c916bc8082e7d34033dc2d373a3e6ddcc19e3</div><div id='time'> Time: 2021-10-07</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/components/annotation.py</div><div id='m_class'> M Class Name: CompiledMask</div><div id='n_method'> N Class Name: CompiledMask</div><div id='m_method'> M Method Name: from_instance_masks(3)</div><div id='n_method'> N Method Name: from_instance_masks(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: datumaro/components/annotation.py</div><div id='n_file'> N File Name: datumaro/components/annotation.py</div><div id='m_start'> M Start Line: 255</div><div id='m_end'> M End Line: 303</div><div id='n_start'> N Start Line: 340</div><div id='n_end'> N End Line: 408</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        :return:
        

        strategy_max_index<a id="change"> = </a>max(
            [
                len(strategies)
                for strategies in namespace_strategy_list.ent_class_strategies.values()
            ]<a id="change">
            + </a>[<a id="change">len(</a>namespace_strategy_list.default_strategies<a id="change">)</a>]
        )

        groups = {</code></pre><h3>After Change</h3><pre><code class='java'>

        for i in range(0, strategy_max_index):
            for entity_key, entities_this_group in groups.items():
                reference_entity = next(<a id="change">iter(</a>entities_this_group<a id="change">)</a>)
                for mapping in namespace_strategy_execution(
                    entity=reference_entity,
                    strategy_index=i,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/08cbd53257bc5c3db2769582fcb2fe8d8fcec341#diff-03432c3d3b6f2efced6317dd0b9df63e3d3868df53919f019b1f21b585224ea6L146' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108652256</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 08cbd53257bc5c3db2769582fcb2fe8d8fcec341</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/steps/linking/post_processing/strategy_runner.py</div><div id='m_class'> M Class Name: StrategyRunner</div><div id='n_method'> N Class Name: StrategyRunner</div><div id='m_method'> M Method Name: execute_hit_post_processing_strategies(4)</div><div id='n_method'> N Method Name: execute_hit_post_processing_strategies(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/steps/linking/post_processing/strategy_runner.py</div><div id='n_file'> N File Name: kazu/steps/linking/post_processing/strategy_runner.py</div><div id='m_start'> M Start Line: 161</div><div id='m_end'> M End Line: 230</div><div id='n_start'> N Start Line: 263</div><div id='n_end'> N End Line: 284</div><BR>