<html><h3>Pattern ID :9317
</h3><img src='33440948.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                   &quot object.&quot)

    task_type, observed_classes, model_classes = infer_task_type_and_classes(model, dataset)
    model_classes = model_classes<a id="change"> if model_classes is not None</a><a id="change"> else </a>observed_classes
    fi, _ = _calculate_feature_importance(model=model,
                                          dataset=dataset,
                                          model_classes=model_classes,</code></pre><h3>After Change</h3><pre><code class='java'>

    model_classes = infer_classes_from_model(model)
    labels = get_all_labels(model, dataset)
    observed_classes<a id="change"> = </a><a id="change">sorted(</a>labels.dropna().unique().tolist()<a id="change">)</a>

    if dataset.label_type:
        task_type = dataset.label_type
    elif model_classes:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/f984ff43f5ae9cb4021de5e4c4e8296a8a13bd99#diff-6dcadacdfff9fbb86ff8a154cd9199eb1e91e4fd1bf42aba3dafe2b941643705L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33440948</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: f984ff43f5ae9cb4021de5e4c4e8296a8a13bd99</div><div id='time'> Time: 2023-01-15</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/tabular/feature_importance.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: calculate_feature_importance(7)</div><div id='n_method'> N Method Name: calculate_feature_importance(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/tabular/feature_importance.py</div><div id='n_file'> N File Name: deepchecks/tabular/feature_importance.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 Note that we may need to skip the 0th element in result (null mapping)
            assert_eq(
                cat_expect,
                cat_result.iloc[1:]<a id="change"> if len(cat_result) &gt; len(cat_expect)</a><a id="change"> else </a>cat_result,
                check_index=False,
            )
        else:</code></pre><h3>After Change</h3><pre><code class='java'>
    client, tmpdir, datasets, freq_threshold, part_mem_fraction, engine, cat_cache, on_host, shuffle
):
    paths = glob.glob(str(datasets[engine]) + "/*." + engine.split("-")[0])
    paths<a id="change"> = </a><a id="change">sorted(</a>paths<a id="change">)</a>
    if engine == "parquet":
        df1 = cudf.read_parquet(paths[0])[mycols_pq]
        df2 = cudf.read_parquet(paths[1])[mycols_pq]
    elif engine == "csv":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nvidia/nvtabular/commit/8cb492e153ceb0bb56d95a311e43b9f30f39a7b1#diff-649a1e71ae3d6b6029207d0d05db1e6aa950ecabf40f6fc929ea1f884efaf2c9L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33440949</div><div id='project'> Project Name: nvidia/nvtabular</div><div id='commit'> Commit Name: 8cb492e153ceb0bb56d95a311e43b9f30f39a7b1</div><div id='time'> Time: 2021-02-08</div><div id='author'> Author: rzamora217@gmail.com</div><div id='file'> File Name: tests/unit/test_dask_nvt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_dask_workflow_api_dlrm(9)</div><div id='n_method'> N Method Name: test_dask_workflow_api_dlrm(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/unit/test_dask_nvt.py</div><div id='n_file'> N File Name: tests/unit/test_dask_nvt.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 127</div><div id='n_start'> N Start Line: 55</div><div id='n_end'> N End Line: 122</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    for override_key, override_state_dict in override_name2state_dict.items():
        depth = len(override_key.split(&quot.&quot)) - 1
        sorted_state_dicts[depth].append(override_state_dict)
        max_depth = depth<a id="change"> if depth &gt; max_depth</a><a id="change"> else </a>max_depth

    sorted_state_dicts = sorted_state_dicts[: max_depth + 1]
    return sorted_state_dicts</code></pre><h3>After Change</h3><pre><code class='java'>
            depth2override_state_dicts[depth] = [override_state_dict]
        else:
            depth2override_state_dicts[depth].append(override_state_dict)
    depth2override_state_dicts<a id="change"> = </a>OrderedDict(<a id="change">sorted(</a>depth2override_state_dicts.items()<a id="change">)</a>)
    return depth2override_state_dicts

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/eora-ai/torchok/commit/961bcf5658d68296a207353f876289a489c7a62c#diff-1ad4e7223c13ccce6aade94bf0c56df0fa7e83e39e7891185142032a53f5e4b2L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33440947</div><div id='project'> Project Name: eora-ai/torchok</div><div id='commit'> Commit Name: 961bcf5658d68296a207353f876289a489c7a62c</div><div id='time'> Time: 2022-07-04</div><div id='author'> Author: rashit.bayazitov.1995@gmail.com</div><div id='file'> File Name: src/constructor/load.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: sort_state_dict_by_depth(1)</div><div id='n_method'> N Method Name: sort_state_dict_by_depth(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/constructor/load.py</div><div id='n_file'> N File Name: src/constructor/load.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 47</div><BR>