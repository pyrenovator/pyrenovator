<html><h3>Pattern ID :2660
</h3><img src='10890516.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self._update_current_progress_remaining(self.num_timesteps, total_timesteps)

            if self.num_timesteps &gt; 0 and self.num_timesteps &gt; self.learning_starts:
                gradient_steps = self.gradient_steps<a id="change"> if self.gradient_steps &gt; 0</a><a id="change"> else </a>rollout.episode_timesteps
                self.train(gradient_steps, batch_size=self.batch_size)

        callback.on_training_end()</code></pre><h3>After Change</h3><pre><code class='java'>
              eval_log_path: Optional[str] = None,
              reset_num_timesteps: bool = True) -&gt; OffPolicyAlgorithm:

        return <a id="change">super(</a>SAC, self<a id="change">)</a>.learn(total_timesteps=total_timesteps, callback=callback, log_interval=log_interval,
                                      eval_env=eval_env, eval_freq=eval_freq, n_eval_episodes=n_eval_episodes,
                                      tb_log_name=tb_log_name, eval_log_path=eval_log_path,
                                      reset_num_timesteps=reset_num_timesteps)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dlr-rm/stable-baselines3/commit/96b771f24e9551e1af20012a25353dc5bd253821#diff-0b6939bf1dded293fdd0a087b5cc3500e146cb88d1fe83c64b45d008feb8eae2L257' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10890516</div><div id='project'> Project Name: dlr-rm/stable-baselines3</div><div id='commit'> Commit Name: 96b771f24e9551e1af20012a25353dc5bd253821</div><div id='time'> Time: 2020-06-29</div><div id='author'> Author: n.dormann@gmx.net</div><div id='file'> File Name: stable_baselines3/sac/sac.py</div><div id='m_class'> M Class Name: SAC</div><div id='n_method'> N Class Name: SAC</div><div id='m_method'> M Method Name: learn(10)</div><div id='n_method'> N Method Name: learn(10)</div><div id='m_parent_class'> M Parent Class: OffPolicyAlgorithm</div><div id='n_parent_class'> N Parent Class: OffPolicyAlgorithm</div><div id='m_file'> M File Name: stable_baselines3/sac/sac.py</div><div id='n_file'> N File Name: stable_baselines3/sac/sac.py</div><div id='m_start'> M Start Line: 257</div><div id='m_end'> M End Line: 280</div><div id='n_start'> N Start Line: 260</div><div id='n_end'> N End Line: 263</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self._update_current_progress_remaining(self.num_timesteps, total_timesteps)

            if self.num_timesteps &gt; 0 and self.num_timesteps &gt; self.learning_starts:
                gradient_steps = self.gradient_steps<a id="change"> if self.gradient_steps &gt; 0</a><a id="change"> else </a>rollout.episode_timesteps
                self.train(gradient_steps, batch_size=self.batch_size, policy_delay=self.policy_delay)

        callback.on_training_end()</code></pre><h3>After Change</h3><pre><code class='java'>
              eval_log_path: Optional[str] = None,
              reset_num_timesteps: bool = True) -&gt; OffPolicyAlgorithm:

        return <a id="change">super(</a>TD3, self<a id="change">)</a>.learn(total_timesteps=total_timesteps, callback=callback, log_interval=log_interval,
                                      eval_env=eval_env, eval_freq=eval_freq, n_eval_episodes=n_eval_episodes,
                                      tb_log_name=tb_log_name, eval_log_path=eval_log_path,
                                      reset_num_timesteps=reset_num_timesteps)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dlr-rm/stable-baselines3/commit/96b771f24e9551e1af20012a25353dc5bd253821#diff-09a605651118a3dade11d78fcc89d534b7314e2175b1c076ae5c3bfab50d421fL157' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10890514</div><div id='project'> Project Name: dlr-rm/stable-baselines3</div><div id='commit'> Commit Name: 96b771f24e9551e1af20012a25353dc5bd253821</div><div id='time'> Time: 2020-06-29</div><div id='author'> Author: n.dormann@gmx.net</div><div id='file'> File Name: stable_baselines3/td3/td3.py</div><div id='m_class'> M Class Name: TD3</div><div id='n_method'> N Class Name: TD3</div><div id='m_method'> M Method Name: learn(10)</div><div id='n_method'> N Method Name: learn(10)</div><div id='m_parent_class'> M Parent Class: OffPolicyAlgorithm</div><div id='n_parent_class'> N Parent Class: OffPolicyAlgorithm</div><div id='m_file'> M File Name: stable_baselines3/td3/td3.py</div><div id='n_file'> N File Name: stable_baselines3/td3/td3.py</div><div id='m_start'> M Start Line: 168</div><div id='m_end'> M End Line: 193</div><div id='n_start'> N Start Line: 170</div><div id='n_end'> N End Line: 173</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.linear2  = nn.Linear(dim_feedforward, d_model)
        self.dropout2 = nn.Dropout(dropout)

        self.drop_path = DropPath(drop_path_rate)<a id="change"> if drop_path_rate &gt; 0</a><a id="change"> else </a>nn.Identity()

        self.activation = F.gelu
</code></pre><h3>After Change</h3><pre><code class='java'>
    
    def __init__(self, d_model, nhead, dim_feedforward=2048, dropout=0.1,
                 attention_dropout=0.1, drop_path_rate=0.1):
        <a id="change">super()</a>.__init__()

        self.pre_norm = nn.LayerNorm(d_model)
        self.self_attn = Attention(dim=d_model, num_heads=nhead,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/vit-pytorch/commit/cb6d749821bbf3b0bd17c9e8e64eb343f40b3f69#diff-d9cf888a006662bd788cc31712f154ca4e86227d51998c7d5bca6e17d1197c07L98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10890515</div><div id='project'> Project Name: lucidrains/vit-pytorch</div><div id='commit'> Commit Name: cb6d749821bbf3b0bd17c9e8e64eb343f40b3f69</div><div id='time'> Time: 2022-10-29</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: vit_pytorch/cct.py</div><div id='m_class'> M Class Name: TransformerEncoderLayer</div><div id='n_method'> N Class Name: TransformerEncoderLayer</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: vit_pytorch/cct.py</div><div id='n_file'> N File Name: vit_pytorch/cct.py</div><div id='m_start'> M Start Line: 100</div><div id='m_end'> M End Line: 111</div><div id='n_start'> N Start Line: 121</div><div id='n_end'> N End Line: 133</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 build first step conv 1x1.
        self.conv_list.append(ConvBNReLU(in_channels, out_channels // 2, kernel_size=1, bias=False))
        &#47&#47 avg pool in skip if stride = 2.
        self.skip_step1 = nn.AvgPool2d(kernel_size=3, stride=2, padding=1)<a id="change"> if stride == 2</a><a id="change"> else </a>nn.Identity()

        in_channels = out_channels // 2
        mid_channels = in_channels</code></pre><h3>After Change</h3><pre><code class='java'>
        :param stdc_downsample_mode: downsample mode in stdc block, supported `avg_pool` for average-pooling and
         `dw_conv` for depthwise-convolution.
        
        <a id="change">super()</a>.__init__()
        assert steps in [2, 3, 4], f"only 2, 3, 4 steps number are supported, found: {steps}"
        self.stride = stride
        self.conv_list = nn.ModuleList()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deci-ai/super-gradients/commit/98083d4303f887cb29f39029871612fe5e2e4753#diff-8f12293ee8d59da4f2d8522208a7f27d9b4f90502789d26e213681b949e5a90cL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10890512</div><div id='project'> Project Name: deci-ai/super-gradients</div><div id='commit'> Commit Name: 98083d4303f887cb29f39029871612fe5e2e4753</div><div id='time'> Time: 2022-11-02</div><div id='author'> Author: 88616312+lkdci@users.noreply.github.com</div><div id='file'> File Name: src/super_gradients/training/models/segmentation_models/stdc.py</div><div id='m_class'> M Class Name: STDCBlock</div><div id='n_method'> N Class Name: STDCBlock</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/super_gradients/training/models/segmentation_models/stdc.py</div><div id='n_file'> N File Name: src/super_gradients/training/models/segmentation_models/stdc.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                it = it.to(hook)

        _map = (
            it.map(self.iterate_single_archive)<a id="change">
            if max_workers == 0</a><a id="change">
            else </a>it.async_map(self.iterate_single_archive, prefetch_buffer, max_workers)
        )

        return _map.flatten()</code></pre><h3>After Change</h3><pre><code class='java'>
            **kwargs: Other keyword arguments passed to :py:meth:`MapDriver.get_iter`.
        

        <a id="change">super()</a>.get_iter(flatten=flatten, **kwargs)

    def keys(self, **kwargs) -&gt; Iterable:
        Returns the paths of the files in the root directory relative to root.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/merantix-momentum/squirrel-datasets-core/commit/10905c08740fb6152d5a6e3bddbab927536e861f#diff-42e52fa53c380aa4954093aa2f8e692bb749001a49798d04c1382d4457138da3L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10890513</div><div id='project'> Project Name: merantix-momentum/squirrel-datasets-core</div><div id='commit'> Commit Name: 10905c08740fb6152d5a6e3bddbab927536e861f</div><div id='time'> Time: 2022-02-24</div><div id='author'> Author: winfried.loetzsch@merantix.com</div><div id='file'> File Name: src/squirrel_datasets_core/datasets/monthly_german_tweets/driver.py</div><div id='m_class'> M Class Name: MonthlyGermanTweetsDriver</div><div id='n_method'> N Class Name: MonthlyGermanTweetsDriver</div><div id='m_method'> M Method Name: get_iter(2)</div><div id='n_method'> N Method Name: get_iter(4)</div><div id='m_parent_class'> M Parent Class: MapDriver</div><div id='n_parent_class'> N Parent Class: RecordIteratorDriver</div><div id='m_file'> M File Name: src/squirrel_datasets_core/datasets/monthly_german_tweets/driver.py</div><div id='n_file'> N File Name: src/squirrel_datasets_core/datasets/monthly_german_tweets/driver.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 81</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 63</div><BR>