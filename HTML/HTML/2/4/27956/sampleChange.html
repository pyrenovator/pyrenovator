<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def test_enrich_with_features(log, user_features, item_features, model):
    <a id="change">model.fit(</a>log, user_features, item_features<a id="change">)</a>
    test_pair = log.filter(
        (sf.col("item_id") == "i3") & (sf.col("user_id") == "u2")
    )
    pred_for_test = (</code></pre><h3>After Change</h3><pre><code class='java'>
        (sf.col("item_id") == "i3") & (sf.col("user_id") == "u2")
    )

    <a id="change">for </a>user_f, item_f in [[None, None], [user_features, item_features]]<a id="change">:
        </a>_fit_predict_compare_features(
            model, log, user_f, user_f, item_f, test_pair
        )
        &#47&#47 холодный пользователь
        <a id="change">if </a>item_f is not None:
            _fit_predict_compare_features(
                model,
                log.filter(sf.col("user_id") != "u2"),</code></pre>