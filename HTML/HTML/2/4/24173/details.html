<html><h3>Pattern ID :24173
</h3><img src='74979016.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def load_model(ckpt_dir: pathlib.Path, tags: Optional[List[str]] = None) -&gt; AutoTrackable:
    saved_model_paths = list(ckpt_dir.glob("**/saved_model.pb"))
    if not saved_model_paths:
        <a id="change">raise </a><a id="change">FileNotFoundError(
            f"Checkpoint directory {ckpt_dir} does not contain a nested saved_model.pb"</a><a id="change">
        )</a>
    elif len(saved_model_paths) &gt; 1:
        raise AssertionError(
            f"Checkpoint directory {ckpt_dir} contains multiple \
            nested saved_model.pb files {saved_model_paths}"</code></pre><h3>After Change</h3><pre><code class='java'>
                    ckpt_dir, h5_paths
                )
            )
        <a id="change">return </a>tf.keras.models.load_model(h5_paths[0])
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/f3636ebb5e34502720015b7e82d945bed568ca20#diff-8b3a1d7f4746df2ab08b43e9fc330a0dea025382bbf81c27d80baca3f58a0c70L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74979016</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: f3636ebb5e34502720015b7e82d945bed568ca20</div><div id='time'> Time: 2020-04-27</div><div id='author'> Author: sidney@determined.ai</div><div id='file'> File Name: common/determined_common/experimental/checkpoint/_tf.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_model(2)</div><div id='n_method'> N Method Name: load_model(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: common/determined_common/experimental/checkpoint/_tf.py</div><div id='n_file'> N File Name: common/determined_common/experimental/checkpoint/_tf.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        raise TypeError("unsupported object type for argument &quotfile&quot")

    if isinstance(file, str) and not os.path.isfile(file):
        <a id="change">raise </a><a id="change">FileNotFoundError(f"unable to access {file}"</a><a id="change">)</a>

    &#47&#47 Rasterise pages to PIL images with pypdfium2 and convert to numpy ndarrays
    return [np.asarray(img) for img, _ in pdfium.render_pdf_topil(file, scale=scale, **kwargs)]
</code></pre><h3>After Change</h3><pre><code class='java'>
    pages = [np.asarray(img) for img in pdf.render_topil(scale=scale, **kwargs)]
    pdf.close()

    <a id="change">return </a>pages
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mindee/doctr/commit/4caeee3d724cd5004dd1996ee5750b01582ad9fc#diff-9c43b716810f75802fa2bf21ed8a906cdbdf3f608dea90326e77d1ba1774c352L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74979017</div><div id='project'> Project Name: mindee/doctr</div><div id='commit'> Commit Name: 4caeee3d724cd5004dd1996ee5750b01582ad9fc</div><div id='time'> Time: 2022-06-09</div><div id='author'> Author: geisserml@gmail.com</div><div id='file'> File Name: doctr/io/pdf.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: read_pdf(3)</div><div id='n_method'> N Method Name: read_pdf(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: doctr/io/pdf.py</div><div id='n_file'> N File Name: doctr/io/pdf.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    try:
        latest_wheel = max(wheel_dir.glob(&quotsky-*.whl&quot), key=os.path.getctime)
    except ValueError:
        <a id="change">raise FileNotFoundError(&quotCould not find built Sky wheels.&quot) from </a>None
    cleanup_wheels_dir(wheel_dir, latest_wheel)
    return wheel_dir.absolute()
</code></pre><h3>After Change</h3><pre><code class='java'>
        temp_wheel_dir = pathlib.Path(tempfile.mkdtemp())
        shutil.copy(_get_latest_built_wheel(), temp_wheel_dir)

    <a id="change">return </a>temp_wheel_dir.absolute()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/0a608d00efa0185e4df609396072acb18083db19#diff-45ea312d3249749a748781a6971d9914e88fe7c03e254fbbbcbe3de7661176e3L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74979015</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: 0a608d00efa0185e4df609396072acb18083db19</div><div id='time'> Time: 2022-04-29</div><div id='author'> Author: suquark@gmail.com</div><div id='file'> File Name: sky/backends/wheel_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_sky_wheel(0)</div><div id='n_method'> N Method Name: build_sky_wheel(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sky/backends/wheel_utils.py</div><div id='n_file'> N File Name: sky/backends/wheel_utils.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 73</div><div id='n_start'> N Start Line: 94</div><div id='n_end'> N End Line: 112</div><BR>