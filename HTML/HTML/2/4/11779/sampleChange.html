<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        stock symbols
    
    global _HS_SYMBOLS
    <a id="change">if </a>_HS_SYMBOLS is None:
        _res = set()
        for _k, _v in (("ha", "ss"), ("sa", "sz"), ("gem", "sz")):
            resp = requests.get(SYMBOLS_URL.format(s_type=_k))
            _res |= set(
                map(
                    lambda x: "{}.{}".format(re.findall(r"\d+", x)[0], _v),
                    etree.HTML(resp.text).xpath("//div[@class=&quotresult&quot]/ul//li/a/text()"),
                )
            )
        _HS_SYMBOLS = <a id="change">sorted(</a>list(_res)<a id="change">)</a>
    return _HS_SYMBOLS


def symbol_suffix_to_prefix(symbol: str, capital: bool = True) -&gt; str:</code></pre><h3>After Change</h3><pre><code class='java'>
        return _res

    if _HS_SYMBOLS is None:
        symbols<a id="change"> = </a><a id="change">set()</a>
        _retry = 60
        &#47&#47 It may take multiple times to get the complete
        while len(symbols) &lt; MINIMUM_SYMBOLS_NUM:
            symbols |= _get_symbol()</code></pre>