<html><h3>Pattern ID :11779
</h3><img src='39611918.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        stock symbols
    
    global _HS_SYMBOLS
    <a id="change">if </a>_HS_SYMBOLS is None:
        _res = set()
        for _k, _v in (("ha", "ss"), ("sa", "sz"), ("gem", "sz")):
            resp = requests.get(SYMBOLS_URL.format(s_type=_k))
            _res |= set(
                map(
                    lambda x: "{}.{}".format(re.findall(r"\d+", x)[0], _v),
                    etree.HTML(resp.text).xpath("//div[@class=&quotresult&quot]/ul//li/a/text()"),
                )
            )
        _HS_SYMBOLS = <a id="change">sorted(</a>list(_res)<a id="change">)</a>
    return _HS_SYMBOLS


def symbol_suffix_to_prefix(symbol: str, capital: bool = True) -&gt; str:</code></pre><h3>After Change</h3><pre><code class='java'>
        return _res

    if _HS_SYMBOLS is None:
        symbols<a id="change"> = </a><a id="change">set()</a>
        _retry = 60
        &#47&#47 It may take multiple times to get the complete
        while len(symbols) &lt; MINIMUM_SYMBOLS_NUM:
            symbols |= _get_symbol()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/5bca9d892aad7e59e44e4f4f522675c435b874c5#diff-5028716407720ea33d7e0fa3921ac328c29103dd0822f7102c648ff8edbf0481L57' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39611918</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 5bca9d892aad7e59e44e4f4f522675c435b874c5</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: zhu.pengrong@foxmail.com</div><div id='file'> File Name: scripts/data_collector/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_hs_stock_symbols(0)</div><div id='n_method'> N Method Name: get_hs_stock_symbols(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/data_collector/utils.py</div><div id='n_file'> N File Name: scripts/data_collector/utils.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 80</div><div id='n_end'> N End Line: 99</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 Drop appliances not contained in given list
    if appliances is not None:
        &#47&#47 Ensure main meter is contained in the list
        <a id="change">if </a>"_main" not in appliances:
            appliances += ["_main"]
            appliances = <a id="change">sorted(</a>appliances<a id="change">)</a>
        drop_apps = [app for app in df.columns if app not in appliances]
        df.drop(drop_apps, axis=1, inplace=True)
    else:
        appliances = sorted(df.columns)</code></pre><h3>After Change</h3><pre><code class='java'>
        df.drop(drop_apps, axis=1, inplace=True)
    else:
        meters += df.columns
        meters<a id="change"> = </a>sorted(<a id="change">set(</a>meters<a id="change">)</a>)

    &#47&#47 Ensure every appliance is in the dataframe
    for meter in meters:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/uca-datalab/nilm-thresholding/commit/490bbc1da8d0386b91ace29ac5e21969b1020491#diff-d6307d964f924ca365cd3283e010b2e5a1d88e25e2b161b070012f8bf58ae0a5L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39611913</div><div id='project'> Project Name: uca-datalab/nilm-thresholding</div><div id='commit'> Commit Name: 490bbc1da8d0386b91ace29ac5e21969b1020491</div><div id='time'> Time: 2020-05-04</div><div id='author'> Author: danipg1409@gmail.com</div><div id='file'> File Name: better_nilm/nilmtk/data_loader.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: metergroup_to_array(6)</div><div id='n_method'> N Method Name: metergroup_to_array(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: better_nilm/nilmtk/data_loader.py</div><div id='n_file'> N File Name: better_nilm/nilmtk/data_loader.py</div><div id='m_start'> M Start Line: 160</div><div id='m_end'> M End Line: 202</div><div id='n_start'> N Start Line: 162</div><div id='n_end'> N End Line: 206</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                return True
        return False

    <a id="change">if </a>tags is None:
        datasets = set()
        all_datasets = _get_zoo_datasets()
        for d in all_datasets.values():
            datasets |= d.keys()

        return <a id="change">sorted(</a>datasets<a id="change">)</a>
    else:
        from .base import AVAILABLE_DATASETS as BASE_DATASETS
        from .torch import AVAILABLE_DATASETS as TORCH_DATASETS
        from .tf import AVAILABLE_DATASETS as TF_DATASETS</code></pre><h3>After Change</h3><pre><code class='java'>
        if etau.is_str(tags):
            tags = {tags}
        else:
            tags<a id="change"> = </a><a id="change">set(</a>tags<a id="change">)</a>

        datasets = {
            name: zoo_dataset_cls
            for name, zoo_dataset_cls in datasets.items()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/afd041dc3830ad296337394efc4a5601cf8aaad7#diff-716d4dd573cce55cabd06b850f3e89fd78f52a50695405b8a6597987792e9319L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39611908</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: afd041dc3830ad296337394efc4a5601cf8aaad7</div><div id='time'> Time: 2023-01-13</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/zoo/datasets/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: list_zoo_datasets(2)</div><div id='n_method'> N Method Name: list_zoo_datasets(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/zoo/datasets/__init__.py</div><div id='n_file'> N File Name: fiftyone/zoo/datasets/__init__.py</div><div id='m_start'> M Start Line: 76</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 91</div><BR>