<html><h3>Pattern ID :12586
</h3><img src='42765469.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        }
    elif dataset == &quotcovertype&quot:
        dataset = fetch_covtype()
        param<a id="change"> = </a><a id="change">{
            </a>&quotobjective&quot: &quotmulti:softmax&quot,
            &quotnum_class&quot: 8,
            &quotsingle_precision_histogram&quot: True<a id="change">
        }</a>

    X = dataset.data
    y = dataset.target
</code></pre><h3>After Change</h3><pre><code class='java'>
    results = {}
    gpu_runtime = time.time()
    
    feature_importances_dict<a id="change"> = </a><a id="change">defaultdict(</a>list<a id="change">)</a>
    for i in range(10):
        random_seed(i + 40, param)
        
        model = xgb.train(param, dtrain, epochs, evals=[(dtest, &quottest&quot)], evals_result=results)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mlf-core/machine_learning_determinism_evaluation/commit/828765d146d64622c9e889320aaf983ce207a2b7#diff-1f572ddafeea64cc1d1cec26cd04a8887d7f225d97ba311dedbd9d2868c98fe7L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42765469</div><div id='project'> Project Name: mlf-core/machine_learning_determinism_evaluation</div><div id='commit'> Commit Name: 828765d146d64622c9e889320aaf983ce207a2b7</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: lukas.heumos@posteo.net</div><div id='file'> File Name: bin/train_boston_covtype_xgboost.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(5)</div><div id='n_method'> N Method Name: train(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: bin/train_boston_covtype_xgboost.py</div><div id='n_file'> N File Name: bin/train_boston_covtype_xgboost.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
			**kwargs
		)
		if params is None:
			params<a id="change"> = </a><a id="change">[]</a>
		else:
			params = list(params)
		if layers is not None:
			if isinstance(layers, torch.nn.Module):</code></pre><h3>After Change</h3><pre><code class='java'>
		}
		self.kwargs = kwargs
		self._asserts()
		self._last_layers_buffer<a id="change"> = </a><a id="change">defaultdict(</a>list<a id="change">)</a>
	
	def _asserts(self):
		assert 0.0 &lt; self.Lambda &lt;= 1.0, "Lambda must be between 0 and 1"
		assert self.strategy in self.strategy_to_mth, f"Strategy must be one of {list(self.strategy_to_mth.keys())}"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neurotorch/neurotorch/commit/2c80c355f577cb1984b8c8039b6575e95fa96f7a#diff-c0c5dc1cf5f8eda542334a1a6a2183c8cf1bc583d7ac67928fd5a3104a5795fdL19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42765470</div><div id='project'> Project Name: neurotorch/neurotorch</div><div id='commit'> Commit Name: 2c80c355f577cb1984b8c8039b6575e95fa96f7a</div><div id='time'> Time: 2022-11-06</div><div id='author'> Author: 50332514+JeremieGince@users.noreply.github.com</div><div id='file'> File Name: src/neurotorch/learning_algorithms/rls.py</div><div id='m_class'> M Class Name: RLS</div><div id='n_method'> N Class Name: RLS</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: TBPTT</div><div id='n_parent_class'> N Parent Class: TBPTT</div><div id='m_file'> M File Name: src/neurotorch/learning_algorithms/rls.py</div><div id='n_file'> N File Name: src/neurotorch/learning_algorithms/rls.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 70</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
		precision_result.append(round(precisions / len(y_pred), 4))
		ndcg_result.append(round(ndcgs / len(y_pred), 4))

	results<a id="change"> = </a><a id="change">[]</a>
	for idx in range(len(topKs)):

		output = f&quotNDCG@{topKs[idx]}: {ndcg_result[idx]}&quot
		results.append(output)</code></pre><h3>After Change</h3><pre><code class='java'>
		precision_result.append(round(precisions / len(pred_array), 4))
		ndcg_result.append(round(ndcgs / len(pred_array), 4))

	results<a id="change"> = </a><a id="change">defaultdict(</a>list<a id="change">)</a>
	for idx in range(len(topKs)):

		output = f&quotNDCG@{topKs[idx]}: {ndcg_result[idx]}&quot
		results[&quotNDCG&quot].append(output)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/morningsky/torch-rechub/commit/3f0661d116260c7f0d9ff1ad158aa2772294c20a#diff-df7f8cdbd98df8f90f44c17b096313a9a00a0e91c86cc0fbc298979343aca40eL124' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42765464</div><div id='project'> Project Name: morningsky/torch-rechub</div><div id='commit'> Commit Name: 3f0661d116260c7f0d9ff1ad158aa2772294c20a</div><div id='time'> Time: 2022-05-17</div><div id='author'> Author: dongjidan@126.com</div><div id='file'> File Name: torch_rechub/basic/metric.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: topk_metrics(3)</div><div id='n_method'> N Method Name: topk_metrics(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torch_rechub/basic/metric.py</div><div id='n_file'> N File Name: torch_rechub/basic/metric.py</div><div id='m_start'> M Start Line: 153</div><div id='m_end'> M End Line: 196</div><div id='n_start'> N Start Line: 117</div><div id='n_end'> N End Line: 178</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self._config)

        &#47&#47 List of plots per model
        self._completed_plots<a id="change"> = </a><a id="change">{}</a>

    def _new_plots(self):
        
        Constructs new plots based on config</code></pre><h3>After Change</h3><pre><code class='java'>
            self._config)

        &#47&#47 Dict of list of plots
        self._plots<a id="change"> = </a><a id="change">defaultdict(</a>list<a id="change">)</a>

    def init_plots(self, plots_key):
        
        Constructs new plots based on config</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/98f6a29beb6f8e7a2250935b37d97466bceb6c04#diff-82a54602e0502f586279c4d56d56914e90297c3976ecf6a81e6d7abf8e569222L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42765465</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 98f6a29beb6f8e7a2250935b37d97466bceb6c04</div><div id='time'> Time: 2021-04-08</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: model_analyzer/plots/plot_manager.py</div><div id='m_class'> M Class Name: PlotManager</div><div id='n_method'> N Class Name: PlotManager</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_analyzer/plots/plot_manager.py</div><div id='n_file'> N File Name: model_analyzer/plots/plot_manager.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 results = Parallel(n_jobs=10)(delayed(metric_fuc)(group) for _, group in groups)
        &#47&#47 result = np.mean(results)

        metric_result<a id="change"> = </a>df.groupby(self.USER_FIELD)[<a id="change">[</a>&quotrank&quot, self.LABEL_FIELD<a id="change"></a>]].apply(metric_fuc)
        return metric_result

    def evaluate(self, df):</code></pre><h3>After Change</h3><pre><code class='java'>
                    score = self.get_metric_fuc(metric, k)(data)
                    metric_dict[key].append(score)

        metric_dict<a id="change"> = </a><a id="change">defaultdict(</a>list<a id="change">)</a>

        groups.apply(metrics_fuc)
        for key in metric_dict:
            metric_dict[key] = np.sum(metric_dict[key]) / num_users</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/f59be37ab6e12a17620b805c1ee478446aaf1994#diff-dfbfd298811e2d0b32301e6e8886f7d9e7b498d8537618afad941a09a07e3f2cL68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42765461</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: f59be37ab6e12a17620b805c1ee478446aaf1994</div><div id='time'> Time: 2020-07-27</div><div id='author'> Author: 1337990880@qq.com</div><div id='file'> File Name: evaluator/evaluator.py</div><div id='m_class'> M Class Name: RankEvaluator</div><div id='n_method'> N Class Name: RankEvaluator</div><div id='m_method'> M Method Name: metric_info(3)</div><div id='n_method'> N Method Name: metric_info(4)</div><div id='m_parent_class'> M Parent Class: AbstractEvaluator</div><div id='n_parent_class'> N Parent Class: AbstractEvaluator</div><div id='m_file'> M File Name: evaluator/evaluator.py</div><div id='n_file'> N File Name: evaluator/evaluator.py</div><div id='m_start'> M Start Line: 68</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 110</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.backward_input_arrays: Dict[str, dt.Array] = {}

        &#47&#47 if we have nested sdfgs, arrays must be added to the forward pass
        self.nested_sdfg_forwarded_arrays<a id="change">: Dict[str, dt.Array] = </a><a id="change">{}</a>

        &#47&#47 hooks that are executed after the backward pass is complete
        self._post_grad_hooks = []
        &#47&#47 this is a mapping from forward node -&gt; backward node, and forward map -&gt; backward map</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 mapping from forward name to gradient name for arrays
        self.array_grad_map: Dict[str, str] = {}
        &#47&#47 mapping from forward name to gradient name for connectors of nodes
        self.connector_grad_map<a id="change">: Dict[nd.Node, Dict[str, str]] = </a><a id="change">defaultdict(</a>dict<a id="change">)</a>

        &#47&#47 checks if backward has already been applied
        self._applied = False
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/597c1f28ca38f7a1d9afc5e9811dc74707e99179#diff-6cd9c1fdaa08e9aa7a98c34f21bf00d97acf37ad7e3c772f84578f89ccb1147eL245' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42765472</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 597c1f28ca38f7a1d9afc5e9811dc74707e99179</div><div id='time'> Time: 2021-03-01</div><div id='author'> Author: oliverrausch99@gmail.com</div><div id='file'> File Name: daceml/autodiff/backward_pass_generator.py</div><div id='m_class'> M Class Name: BackwardPassGenerator</div><div id='n_method'> N Class Name: BackwardPassGenerator</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: daceml/autodiff/backward_pass_generator.py</div><div id='n_file'> N File Name: daceml/autodiff/backward_pass_generator.py</div><div id='m_start'> M Start Line: 297</div><div id='m_end'> M End Line: 305</div><div id='n_start'> N Start Line: 315</div><div id='n_end'> N End Line: 319</div><BR>