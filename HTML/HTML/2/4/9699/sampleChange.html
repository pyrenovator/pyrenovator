<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            valid = valids[i].bool()  &#47&#47 [P]
            pred, gt = pred_pcs[i], gt_pcs[i]  &#47&#47 [P, N, 3]
            pred = pred[valid].flatten(0, 1).cpu().numpy()
            gt = <a id="change">gt[valid].flatten(</a>0, 1<a id="change">)</a>.cpu().numpy()  &#47&#47 [n*N, 3]
            pred_pcs_lst.append(pred)
            gt_pcs_lst.append(gt)
        return gt_pcs_lst, pred_pcs_lst</code></pre><h3>After Change</h3><pre><code class='java'>
        gt_trans, gt_quat = data_dict[&quotpart_trans&quot], data_dict[&quotpart_quat&quot]
        gt_pcs = qtransform(gt_trans, gt_quat, part_pcs)  &#47&#47 [B, P, N, 3]

        colors<a id="change"> = </a><a id="change">np.array(</a>self.cfg.data.colors<a id="change">)</a>
        B = part_pcs.shape[0]
        pred_pcs_lst, gt_pcs_lst = [[] for _ in range(B)], []
        for i in range(self.sample_iter):
            pred_pcs = sample_pred_pcs[i]  &#47&#47 [B, P, N, 3]
            for j in range(B):
                valid = valids[j].bool()  &#47&#47 [P]
                pred = pred_pcs[j][valid].cpu().numpy()  &#47&#47 [p, N, 3]
                pred<a id="change"> = </a>colorize_part_pc(pred, colors).reshape(-1, 6)
                pred_pcs_lst[j].append(pred)  &#47&#47 [p*N, 6]
                &#47&#47 only append GT once
                if i == 0:</code></pre>