<html><h3>Pattern ID :5784
</h3><img src='20347958.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if self.use_deterministic:
            return

        data_splits_list = <a id="change">split_sizes_from_probabilities(</a>datalen, <a id="change">0.8</a>, <a id="change">0.1</a><a id="change">)</a>

        self.train_set, self.valid_set, self.test_set = random_split(
            self.fulldataset,
            data_splits_list,</code></pre><h3>After Change</h3><pre><code class='java'>
            return

        &#47&#47 split data based on provided probabilities
        data_splits_list = <a id="change">split_sizes_from_probabilities(
            </a>datalen<a id="change">,
            train_probability=self.train_probability,
            val_probability=self.val_probability,
            test_probability=self.test_probability)</a>

        self.train_set, self.val_set, self.test_set = random_split(
            self.fulldataset,
            data_splits_list,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/2191bf76b94a0fddd5d09573e45479157c4029af#diff-6f831f01faa249f13e47f246244eb15e7d9df80ad83d75fd7c939e411e878ccaL75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20347958</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 2191bf76b94a0fddd5d09573e45479157c4029af</div><div id='time'> Time: 2021-10-18</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: pose_est_nets/datasets/datamodules.py</div><div id='m_class'> M Class Name: BaseDataModule</div><div id='n_method'> N Class Name: BaseDataModule</div><div id='m_method'> M Method Name: setup(2)</div><div id='n_method'> N Method Name: setup(2)</div><div id='m_parent_class'> M Parent Class: pl.LightningDataModule</div><div id='n_parent_class'> N Parent Class: pl.LightningDataModule</div><div id='m_file'> M File Name: pose_est_nets/datasets/datamodules.py</div><div id='n_file'> N File Name: pose_est_nets/datasets/datamodules.py</div><div id='m_start'> M Start Line: 75</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 156</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    make sure we count examples properly
    total_number = 103
    out = random_split(
        range(total_number), <a id="change">split_sizes_from_probabilities(</a>total_number, 0.8, <a id="change">0.1</a>, 0.1<a id="change">)</a>
    )
    assert len(out[0]) == 82 and len(out[1]) == 10 and len(out[2]) == 11
    out = random_split(
        range(total_number), split_sizes_from_probabilities(total_number, 0.8, 0.1)</code></pre><h3>After Change</h3><pre><code class='java'>
    assert out[0] == 70 and out[1] == 15 and out[2] == 15

    &#47&#47 test that extra samples end up in test
    out = <a id="change">split_sizes_from_probabilities(101</a><a id="change">, train_probability=0.7)</a>
    assert out[0] == 70 and out[1] == 15 and out[2] == 16
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/2191bf76b94a0fddd5d09573e45479157c4029af#diff-bf009ecb9558a54eee04398588fa85cd94e218e23871092a41ac95f09639844bL5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20347959</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 2191bf76b94a0fddd5d09573e45479157c4029af</div><div id='time'> Time: 2021-10-18</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: tests/test_datasets_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_split_sizes_from_probabilities(0)</div><div id='n_method'> N Method Name: test_split_sizes_from_probabilities(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_datasets_utils.py</div><div id='n_file'> N File Name: tests/test_datasets_utils.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 35</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    make sure we count examples properly
    total_number = 103
    out = random_split(
        range(total_number), <a id="change">split_sizes_from_probabilities(</a>total_number, <a id="change">0.8</a>, 0.1, <a id="change">0.1</a><a id="change">)</a>
    )
    assert len(out[0]) == 82 and len(out[1]) == 10 and len(out[2]) == 11
    out = random_split(
        range(total_number), split_sizes_from_probabilities(total_number, 0.8, 0.1)</code></pre><h3>After Change</h3><pre><code class='java'>
        train_probability=train_prob)
    assert out[0] == 80 and out[1] == 10 and out[2] == 10

    out = <a id="change">split_sizes_from_probabilities(
        </a>total_number<a id="change">,
        train_probability=train_prob,
        val_probability=val_prob)</a>
    assert out[0] == 80 and out[1] == 10 and out[2] == 10

    out = split_sizes_from_probabilities(
        total_number,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/986cb29acb530718642008a956ea5a8f9aab277c#diff-bf009ecb9558a54eee04398588fa85cd94e218e23871092a41ac95f09639844bL5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20347966</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 986cb29acb530718642008a956ea5a8f9aab277c</div><div id='time'> Time: 2021-10-18</div><div id='author'> Author: themattinthehatt@gmail.com</div><div id='file'> File Name: tests/test_datasets_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_split_sizes_from_probabilities(0)</div><div id='n_method'> N Method Name: test_split_sizes_from_probabilities(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_datasets_utils.py</div><div id='n_file'> N File Name: tests/test_datasets_utils.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 35</div><BR>