<html><h3>Pattern ID :14965
</h3><img src='50013554.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    layers = _make_input_lyrs(num_numeric_features, list(cat_vocabulary.keys()))

    body = <a id="change">{
        </a>"CatEmbeddings": {"config": {&quotvocabulary&quot: cat_vocabulary,
                                     &quotembed_dim&quot: hidden_units},
                          "inputs": list(cat_vocabulary.keys())},

        "LayerNormalization_0": {"config": {}, "inputs": "Input_num"},

        "TransformerBlocks": {"config": dict(
            embed_dim=hidden_units,
             num_heads=num_heads,
             num_blocks=depth,
             num_dense_lyrs=num_dense_lyrs,
             post_norm=post_norm,
             prenorm_mlp=prenorm_mlp,
             dropout=dropout),
                              "inputs": "CatEmbeddings",
                              "outputs": [&quottransformer_output&quot, &quotimp&quot]},

        "Flatten": {"config": {},
                    "inputs": "transformer_output"},

        "Concatenate": {"config": {},
                        "inputs": ["LayerNormalization_0", "Flatten"]}<a id="change">,
    }</a>

    body.update(_make_mlp(final_mlp_units, "Concatenate", seed=seed))

    <a id="change">layers.update(</a>body<a id="change">)</a>

    layers = _make_output_layer(
        layers,
        mode,</code></pre><h3>After Change</h3><pre><code class='java'>
        "outputs": [&quottransformer_output&quot, &quotimp&quot]}}
    )

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        num_outputs,
        output_activation<a id="change">,
        inputs="transformer_output"
    )</a>

    return {"layers": layers}

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 16</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/b0cb440f1c5e28477e2d1ea6f3ece2f68851bd93#diff-143d1a9579ce28cce58067e35676b04fbc1ac7f93ac3b5b601695c8df76b1baeL422' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013554</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: b0cb440f1c5e28477e2d1ea6f3ece2f68851bd93</div><div id='time'> Time: 2023-01-24</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/_tensorflow/_functions.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: TabTransformer(14)</div><div id='n_method'> N Method Name: TabTransformer(14)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/_tensorflow/_functions.py</div><div id='n_file'> N File Name: ai4water/models/_tensorflow/_functions.py</div><div id='m_start'> M Start Line: 423</div><div id='m_end'> M End Line: 478</div><div id='n_start'> N Start Line: 422</div><div id='n_end'> N End Line: 465</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>
    return {&quotlayers&quot: layers}


def TFT(</code></pre><h3>After Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>
    return {&quotlayers&quot: layers}


def TFT(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L538' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013547</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: TCN(8)</div><div id='n_method'> N Method Name: TCN(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 583</div><div id='m_end'> M End Line: 601</div><div id='n_start'> N Start Line: 627</div><div id='n_end'> N End Line: 697</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>
    return {&quotlayers&quot: layers}


def CNN(</code></pre><h3>After Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>

    return {&quotlayers&quot: layers}

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L111' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013546</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: LSTM(8)</div><div id='n_method'> N Method Name: LSTM(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 204</div><div id='m_end'> M End Line: 206</div><div id='n_start'> N Start Line: 135</div><div id='n_end'> N End Line: 237</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>
    return {"layers": layers}


def LSTMAutoEncoder(</code></pre><h3>After Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>

    return {"layers": layers}

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L349' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013553</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: CNNLSTM(11)</div><div id='n_method'> N Method Name: CNNLSTM(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 403</div><div id='m_end'> M End Line: 448</div><div id='n_start'> N Start Line: 408</div><div id='n_end'> N End Line: 513</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>
    return {&quotlayers&quot: layers}


def TCN(</code></pre><h3>After Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>
    return {&quotlayers&quot: layers}


def TCN(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L452' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013552</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: LSTMAutoEncoder(9)</div><div id='n_method'> N Method Name: LSTMAutoEncoder(8)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 510</div><div id='m_end'> M End Line: 534</div><div id='n_start'> N Start Line: 527</div><div id='n_end'> N End Line: 615</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>
    return {&quotlayers&quot: layers}


def CNNLSTM(</code></pre><h3>After Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>

    return {&quotlayers&quot: layers}

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L210' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013558</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: CNN(15)</div><div id='n_method'> N Method Name: CNN(14)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 343</div><div id='m_end'> M End Line: 345</div><div id='n_start'> N Start Line: 257</div><div id='n_end'> N End Line: 392</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        "lambda": {"config": tf.keras.layers.Lambda(lambda _x: _x[Ellipsis, -1, :])},
    }

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>

    return {&quotlayers&quot: layers}

</code></pre><h3>After Change</h3><pre><code class='java'>
        "lambda": {"config": tf.keras.layers.Lambda(lambda _x: _x[Ellipsis, -1, :])},
    }

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>

    return {&quotlayers&quot: layers}

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L605' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013542</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: TFT(8)</div><div id='n_method'> N Method Name: TFT(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 611</div><div id='m_end'> M End Line: 675</div><div id='n_start'> N Start Line: 707</div><div id='n_end'> N End Line: 785</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    <a id="change">layers.update(</a><a id="change">{</a>"Dense_out": {"units": output_features,
                   "activation": None if mode=="regression" else "softmax"
                   }<a id="change">})</a>
    return {&quotlayers&quot: layers}


def LSTM(</code></pre><h3>After Change</h3><pre><code class='java'>

    layers.update({"Flatten": {}})

    layers<a id="change"> = </a><a id="change">_make_output_layer(
        </a>layers,
        mode,
        output_features,
        output_activation<a id="change">
    )</a>

    return {&quotlayers&quot: layers}

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/17204b144b3c2e7710ec668cd9fa7bf31f00c9bb#diff-099521a2da6a33d27b0507c5136afe5b678e45d95bd76d961f8c1cb7d2e51f31L5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 50013557</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 17204b144b3c2e7710ec668cd9fa7bf31f00c9bb</div><div id='time'> Time: 2022-04-28</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/models/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: MLP(8)</div><div id='n_method'> N Method Name: MLP(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ai4water/models/__init__.py</div><div id='n_file'> N File Name: ai4water/models/__init__.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 107</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 122</div><BR>