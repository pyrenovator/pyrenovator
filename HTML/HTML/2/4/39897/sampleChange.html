<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        Angle Phi between planes: (Ca{-1}, N, Ca{0}) and (Ca{0}, N{+1}, C_a{+1})
     
    preds_ = preds.detach()
    ns = <a id="change">torch.transpose(preds_, -1, -2)[:, N_mask][:, 1:]</a>
    cs = torch.transpose(preds_, -1, -2)[:, CA_mask]
    &#47&#47 compute phis and count lower than 0s
    phis_count = []
    for i in range(cs.shape[0]):</code></pre><h3>After Change</h3><pre><code class='java'>
    if C_mask is not None: 
        c_terms = preds_[:, C_mask]
    else:
        c_terms  = preds_[:, (<a id="change">torch.ones(</a>*<a id="change">N_mask.shape)</a>-N_mask-CA_mask).bool() ]
    &#47&#47 compute phis and count lower than 0s
    phis_count = []
    for i in range(preds.shape[0]):</code></pre>