<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    truths = truths.cpu().detach()

    preds_inds = torch.argmax(preds, dim=-1)
    preds = <a id="change">torch.zeros_like(</a>preds<a id="change">)</a>

    for i in range(total):
        preds[i, preds_inds[i]] = 1
</code></pre><h3>After Change</h3><pre><code class='java'>
    print(np.mean(temp2,0))

    &#47&#47 zsl: 0.5 0.5 0.3
    th<a id="change"> = </a><a id="change">[</a>0.5, 0.55, <a id="change">0.55</a>, 0.95<a id="change"></a>]
    for i in range(len(th)):
        pred = preds[:, i]
        pred[pred &gt; th[i]] = 1</code></pre>