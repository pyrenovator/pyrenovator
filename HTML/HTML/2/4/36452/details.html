<html><h3>Pattern ID :36452
</h3><img src='103030628.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        section: Text = None,
        env_prefix: Text = "ZENML_",
    ):
        <a id="change">if </a>not env_prefix:
            raise Exception("env_prefix can not be null.")
        self.env_prefix = env_prefix
        self.config_path<a id="change"> = </a>self.env_prefix + "_PATH"
        self.config_prefix = self.env_prefix + "_PREFIX"
        self.config_root_path = self.env_prefix + "_ROOT"
        self.config = {}  &#47&#47 Main dict to hold all values
        self.prefix = None  &#47&#47 prefix
        self.basepath = os.getenv(
            self.config_path, default=self.default_config_root
        )
        self.config_root = os.getenv(
            self.config_root_path, default=self.default_config_root
        )
        self.section = section
        self.config_file = self._get_filepath(
            filename=config_file, config_dir=config_dir
        )
        <a id="change">self.load()</a>

    def load(self):
        (Re)Load the config file.
        try:</code></pre><h3>After Change</h3><pre><code class='java'>

    def __init__(self, **data: Any):
        We persist the attributes in the config file.
        <a id="change">super().__init__(**data)</a>
        self._dump()

    def __setattr__(self, name, value):
        We hook into this to persist state as attributes are changed</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/242effc6d759ea0530aed8d814b189439ee927c1#diff-1e20418ea8101ac9abd3a5532591139c61c666a552abb0604db39c0bf595ece6L35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 103030628</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: 242effc6d759ea0530aed8d814b189439ee927c1</div><div id='time'> Time: 2021-09-17</div><div id='author'> Author: htahir111@gmail.com</div><div id='file'> File Name: zenml/config/base_config.py</div><div id='m_class'> M Class Name: BaseConfig</div><div id='n_method'> N Class Name: BaseConfig</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: BaseSettings</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: zenml/config/base_config.py</div><div id='n_file'> N File Name: zenml/config/base_config.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 79</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__() &#47&#47 loading self.naimai_dois & other attributes
        self.data = pd.read_csv(papers_path)
        print(&quotLen data : &quot, len(self.data))
        <a id="change">if </a>nlp:
            self.nlp<a id="change"> = </a>nlp
        else:
            print(&quotLoading nlp vocab..&quot)
            self.nlp = <a id="change">spacy.load(</a>nlp_vocab<a id="change">)</a>
            self.nlp.add_pipe(LanguageDetector(), name=&quotlanguage_detector&quot, last=True)

    def add_paper(self,idx_in_data):
            new_paper = paper_biorxiv(df=self.data,</code></pre><h3>After Change</h3><pre><code class='java'>

class papers_biorxiv(papers):
    def __init__(self,papers_path,database,nlp=None):
        <a id="change">super().__init__(</a>papers_path,database,nlp<a id="change">)</a> &#47&#47 loading self.naimai_dois & other attributes

    def add_paper(self,idx_in_data):
            new_paper = paper_biorxiv(df=self.data,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yassinekdi/naimai/commit/c7878d067c8f9f6304c51dcbd96acfa883e85c4a#diff-86d1e2b64069eb850d3f0f00ec65d63df03d5ad10b818267a7da5e8baaf89777L60' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 103030625</div><div id='project'> Project Name: yassinekdi/naimai</div><div id='commit'> Commit Name: c7878d067c8f9f6304c51dcbd96acfa883e85c4a</div><div id='time'> Time: 2022-11-06</div><div id='author'> Author: keptsa@yahoo.fr</div><div id='file'> File Name: papers/only_abstracts/biorxiv.py</div><div id='m_class'> M Class Name: papers_biorxiv</div><div id='n_method'> N Class Name: papers_biorxiv</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: papers</div><div id='n_parent_class'> N Parent Class: papers</div><div id='m_file'> M File Name: papers/only_abstracts/biorxiv.py</div><div id='n_file'> N File Name: papers/only_abstracts/biorxiv.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 16</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__() &#47&#47 loading self.naimai_dois & other attributes
        self.data = pd.read_csv(papers_path)
        print(&quotLen data : &quot, len(self.data))
        <a id="change">if </a>nlp:
            self.nlp<a id="change"> = </a>nlp
        else:
            print(&quotLoading nlp vocab..&quot)
            self.nlp = <a id="change">spacy.load(</a>nlp_vocab<a id="change">)</a>
            Language.factory("language_detector", func=create_lang_detector)
            self.nlp.add_pipe(&quotlanguage_detector&quot, last=True)

    def add_paper(self,idx_in_data):</code></pre><h3>After Change</h3><pre><code class='java'>

class papers_hal(papers):
    def __init__(self, papers_path,database,nlp=None):
        <a id="change">super().__init__(</a>papers_path,database,nlp<a id="change">)</a> &#47&#47 loading self.naimai_dois & other attributes

    def add_paper(self,idx_in_data):
            new_paper = paper_hal(df=self.data,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yassinekdi/naimai/commit/c7878d067c8f9f6304c51dcbd96acfa883e85c4a#diff-af876f9b701bf0875f5561f1e85b383ef22d953be8545f37d4ebd19e7bea4856L74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 103030636</div><div id='project'> Project Name: yassinekdi/naimai</div><div id='commit'> Commit Name: c7878d067c8f9f6304c51dcbd96acfa883e85c4a</div><div id='time'> Time: 2022-11-06</div><div id='author'> Author: keptsa@yahoo.fr</div><div id='file'> File Name: papers/only_abstracts/hal.py</div><div id='m_class'> M Class Name: papers_hal</div><div id='n_method'> N Class Name: papers_hal</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: papers</div><div id='n_parent_class'> N Parent Class: papers</div><div id='m_file'> M File Name: papers/only_abstracts/hal.py</div><div id='n_file'> N File Name: papers/only_abstracts/hal.py</div><div id='m_start'> M Start Line: 75</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 17</div><BR>