<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 objective function
    &#47&#47 f must be a scalar. not 1 by 1 matrix
    &#47&#47 f = (abs(u))[0][0]
    f<a id="change"> = </a>2*abs(u)
    
    &#47&#47 external_grad = torch.tensor([[1.]])
    &#47&#47 f.backward(gradient=external_grad)
    

    f_grad = f_gradStruct()
    f_grad.u<a id="change"> = </a><a id="change">autograd.grad(</a>f,f<a id="change">)</a>
    &#47&#47 &#47&#47  absolute value
    &#47&#47 if u &gt;= 0:
    &#47&#47   f_grad.u    = 1
    &#47&#47 else:</code></pre><h3>After Change</h3><pre><code class='java'>
    ce = None
    ce_grad = None

    return <a id="change">[</a>f,ci,ci_grad,ce,ce_grad<a id="change"></a>]
    &#47&#47 return [f,ci,ce]</code></pre>