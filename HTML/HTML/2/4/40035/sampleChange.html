<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
          if bucket.name.startswith(bucket_name+&quot-&quot):
             version+=1

        <a id="change">for </a>i in <a id="change">range(</a>1,version<a id="change">):
          &#47&#47check if any version of bucket name exists in the user&quots buckets
          </a>if bucket_name+&quot-&quot+str(i) in s3_resource.buckets.all():
            bucket_name = bucket_name+&quot-&quot+str(i)

        if bucket_name == master_name:</code></pre><h3>After Change</h3><pre><code class='java'>
                                         aws_secret_access_key=os.environ.get("AWS_SECRET_ACCESS_KEY"), 
                                         region_name= os.environ.get("AWS_REGION"))    
    
    account_number<a id="change"> = </a>user_session.client(
        &quotsts&quot).get_caller_identity().get(&quotAccount&quot)    
    bucket_name = &quotaimodelshare&quot + os.environ.get("username").lower()+<a id="change">str(</a>account_number<a id="change">)</a>
    master_name = &quotaimodelshare&quot + os.environ.get("username").lower()+str(account_number)
    from botocore.client import ClientError
    try:
        s3[&quotresource&quot].meta.client.head_bucket(Bucket=bucket_name)</code></pre>