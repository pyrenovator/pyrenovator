<html><h3>Pattern ID :21732
</h3><img src='69387506.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        prev_shape = curr_shape
        computed_array = np.percentile(v, percentiles, axis=0)
        columns = [k + "_" + str(p) if p != 50 else k for p in percentiles]
        computed_dict[k] = <a id="change">pd.DataFrame(</a>computed_array.T<a id="change">, columns=columns)</a>

    output_df = pd.concat(computed_dict, axis=1)
    output_df.columns<a id="change"> = </a>output_df.columns.droplevel()
    return output_df
</code></pre><h3>After Change</h3><pre><code class='java'>
    for k, v in arrays_dict.items():
        curr_shape = v.shape
        if len(curr_shape) != 2:
            raise ValueError(<a id="change">"Input arrays_dict requires 2 dimensions: (number of samples, prediction length)."
                             " Please revise input. Your input:{}".format(</a>curr_shape<a id="change">)</a>)
        if run_check:
            if curr_shape[1] != prev_shape[1]:
                raise ValueError("Input arrays has different lengths in second dimension. Please revise input.")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/uber/orbit/commit/2d5728ccb032a28e4f8cef3dd40b85d2f0d90e35#diff-d226de9474b0db5c26fdf1794a4accb567b88a5ea37531d8d8ff256ed7c8e3b5L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69387506</div><div id='project'> Project Name: uber/orbit</div><div id='commit'> Commit Name: 2d5728ccb032a28e4f8cef3dd40b85d2f0d90e35</div><div id='time'> Time: 2021-04-10</div><div id='author'> Author: edwinng@uber.com</div><div id='file'> File Name: orbit/utils/predictions.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: compute_percentiles(2)</div><div id='n_method'> N Method Name: compute_percentiles(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: orbit/utils/predictions.py</div><div id='n_file'> N File Name: orbit/utils/predictions.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        luad_df = pd.DataFrame(luad_list)
        luad_df[&quotlabel&quot] = 0
        luad_df.to_csv(&quotdatasets/wsi-tcga-lung/LUAD.csv&quot, index=False)        
        lusc_df<a id="change"> = </a><a id="change">pd.DataFrame(</a>lusc_list<a id="change">)</a>
        lusc_df[&quotlabel&quot] = 1
        lusc_df.to_csv(&quotdatasets/wsi-tcga-lung/LUSC.csv&quot, index=False)        
        bags_path = luad_df.append(lusc_df, ignore_index=True)
        bags_path = shuffle(bags_path)</code></pre><h3>After Change</h3><pre><code class='java'>
                print(&quotBest model saved at: &quot + save_name + &quot Best thresholds: LUAD %.4f, LUSC %.4f&quot % (thresholds_optimal[0], thresholds_optimal[1]))
            else:
                print(&quotBest model saved at: &quot + save_name)
                print(&quot\n Best thresholds: &quot.join(<a id="change">&quotclass {}: {}&quot.format(</a>*<a id="change">k)</a> for k in enumerate(aucs)))
            

if __name__ == &quot__main__&quot:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/binli123/dsmil-wsi/commit/9679d9909a89006555a4d371274255f65ef695ac#diff-dd26f5261cb299cd13658b3284fdaac27b3055e490d7096f9993f5b88164cc06L110' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69387510</div><div id='project'> Project Name: binli123/dsmil-wsi</div><div id='commit'> Commit Name: 9679d9909a89006555a4d371274255f65ef695ac</div><div id='time'> Time: 2021-05-20</div><div id='author'> Author: bli346@wisc.edu</div><div id='file'> File Name: train_tcga.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train_tcga.py</div><div id='n_file'> N File Name: train_tcga.py</div><div id='m_start'> M Start Line: 129</div><div id='m_end'> M End Line: 165</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 169</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    features = np.array(features)
    try:
        import pandas as pd
        features<a id="change"> = </a><a id="change">pd.DataFrame(</a>features<a id="change">, index=args.fnames, columns=colnames)</a>
        features.to_csv(args.output, sep=&quot\t&quot)
    except ImportError:
        np.savetxt(args.output, features)
</code></pre><h3>After Change</h3><pre><code class='java'>
            args.output.write(fname)
            for f in fs:
                args.output.write("\t")
                args.output.write(<a id="change">&quot{:.8}&quot.format(</a>f<a id="change">)</a>)
            args.output.write(&quot\n&quot)

if __name__ == &quot__main__&quot:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/luispedro/mahotas/commit/64624fb2b46a228fef1141e1ded84e52acccaf6e#diff-ef020b7bd15cfff74c994f512b150fca388fb00f959dd4137f939bce7c3ecf1fL56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69387513</div><div id='project'> Project Name: luispedro/mahotas</div><div id='commit'> Commit Name: 64624fb2b46a228fef1141e1ded84e52acccaf6e</div><div id='time'> Time: 2015-06-09</div><div id='author'> Author: luis@luispedro.org</div><div id='file'> File Name: bin/mahotas-features.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: bin/mahotas-features.py</div><div id='n_file'> N File Name: bin/mahotas-features.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 78</div><div id='n_end'> N End Line: 110</div><BR>