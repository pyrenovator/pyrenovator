<html><h3>Pattern ID :15969
</h3><img src='53817493.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            &#47&#47 pandas DataFrame
            if hasattr(data, "to_dict"):
                data<a id="change"> = </a><a id="change">data.to_dict("records"</a><a id="change">)</a>

            &#47&#47 Process list of dicts
            labels = sorted({row[self.columns[-1]] for row in data})
</code></pre><h3>After Change</h3><pre><code class='java'>
        column = self.columns[-1]

        &#47&#47 Return length of labels if it&quots an array
        length = self.length(<a id="change">data[column]</a>[0] if hasattr(data, "columns") else data[0][column])
        if length:
            return length
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/neuml/txtai/commit/cd089d63645179829017fdfc2b351c8717d592e4#diff-49590eed488769cbe58e5289f5f7c0c8b614178d6806a860f0094e85d9494194L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53817493</div><div id='project'> Project Name: neuml/txtai</div><div id='commit'> Commit Name: cd089d63645179829017fdfc2b351c8717d592e4</div><div id='time'> Time: 2022-11-29</div><div id='author'> Author: 561939+davidmezzetti@users.noreply.github.com</div><div id='file'> File Name: src/python/txtai/data/base.py</div><div id='m_class'> M Class Name: Data</div><div id='n_method'> N Class Name: Data</div><div id='m_method'> M Method Name: labels(2)</div><div id='n_method'> N Method Name: labels(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/python/txtai/data/base.py</div><div id='n_file'> N File Name: src/python/txtai/data/base.py</div><div id='m_start'> M Start Line: 86</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        else:
            &#47&#47 pandas DataFrame
            if hasattr(data, "to_dict"):
                data<a id="change"> = </a><a id="change">data.to_dict("records"</a><a id="change">)</a>

            &#47&#47 Re-orient data into columns for efficient batch tokenization
            columns = {}
            for row in data:</code></pre><h3>After Change</h3><pre><code class='java'>
            if hasattr(data, "columns"):
                &#47&#47 Polars/pandas DataFrame
                for column in data.columns:
                    columns[column] = list(<a id="change">data[column]</a>)
            else:
                &#47&#47 List of dicts
                for row in data:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neuml/txtai/commit/cd089d63645179829017fdfc2b351c8717d592e4#diff-49590eed488769cbe58e5289f5f7c0c8b614178d6806a860f0094e85d9494194L41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53817502</div><div id='project'> Project Name: neuml/txtai</div><div id='commit'> Commit Name: cd089d63645179829017fdfc2b351c8717d592e4</div><div id='time'> Time: 2022-11-29</div><div id='author'> Author: 561939+davidmezzetti@users.noreply.github.com</div><div id='file'> File Name: src/python/txtai/data/base.py</div><div id='m_class'> M Class Name: Data</div><div id='n_method'> N Class Name: Data</div><div id='m_method'> M Method Name: prepare(3)</div><div id='n_method'> N Method Name: prepare(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/python/txtai/data/base.py</div><div id='n_file'> N File Name: src/python/txtai/data/base.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 73</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            from dash import Input, Output, html, dcc, dash_table

        df = self.table
        df_flatten<a id="change"> = </a>pd.DataFrame(map(flatten, <a id="change">self.table.to_dict(&quotrecords&quot</a><a id="change">)</a>))
        df_flatten = pd.DataFrame(map(flatten, df.to_dict(&quotrecords&quot)))

        app = dash.Dash()</code></pre><h3>After Change</h3><pre><code class='java'>

        df = self.table
        df = df.drop(exclude, axis=1)
        df = <a id="change">df[[&quotline&quot, &quotnum&quot] + include]</a>
        df_flatten = pd.DataFrame(map(flatten, df.to_dict(&quotrecords&quot)))

        app = dash.Dash()
        dep_fig = go.Figure()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/oxid15/cascade/commit/b5ba8f12160165c0900afbc81c302f9e8568b5df#diff-f55536a8bbc5aff388159f865ab1e9067cad503babd9fb81eb3920e73693947fL103' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53817498</div><div id='project'> Project Name: oxid15/cascade</div><div id='commit'> Commit Name: b5ba8f12160165c0900afbc81c302f9e8568b5df</div><div id='time'> Time: 2022-07-30</div><div id='author'> Author: villeman.5@yandex.ru</div><div id='file'> File Name: cascade/meta/metric_viewer.py</div><div id='m_class'> M Class Name: MetricViewer</div><div id='n_method'> N Class Name: MetricViewer</div><div id='m_method'> M Method Name: serve(4)</div><div id='n_method'> N Method Name: serve(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cascade/meta/metric_viewer.py</div><div id='n_file'> N File Name: cascade/meta/metric_viewer.py</div><div id='m_start'> M Start Line: 116</div><div id='m_end'> M End Line: 116</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 122</div><BR>