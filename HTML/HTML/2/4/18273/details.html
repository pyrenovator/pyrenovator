<html><h3>Pattern ID :18273
</h3><img src='59920610.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        stream_ext = os.path.splitext(stream.default_filename)[1]
        if ext != stream_ext:
            if not quiet:
                <a id="change">logger.warning(
                    "Unable to find a &quot%s&quot stream for &quot%s&quot; downloading &quot%s&quot "
                    "instead"</a>,
                    ext,
                    url,
                    stream_ext<a id="change">,
                )</a>

            video_path = root + stream_ext

        if not quiet and only_progressive and not stream.is_progressive:</code></pre><h3>After Change</h3><pre><code class='java'>
    ) = task

    error = None
    warnings<a id="change"> = </a><a id="change">[]</a>

    try:
        pytube_video = pytube.YouTube(url)
        _validate_video(pytube_video)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/59d9f8932640d79ae4a0fa969a3c2731ddf96021#diff-144357791c421de984f447c5e17bb4e9f735e0ff91d11cc6f0330f6ea1c7768cL306' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59920610</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 59d9f8932640d79ae4a0fa969a3c2731ddf96021</div><div id='time'> Time: 2022-02-02</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/utils/youtube.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _do_download(1)</div><div id='n_method'> N Method Name: _do_download(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/utils/youtube.py</div><div id='n_file'> N File Name: fiftyone/utils/youtube.py</div><div id='m_start'> M Start Line: 306</div><div id='m_end'> M End Line: 377</div><div id='n_start'> N Start Line: 315</div><div id='n_end'> N End Line: 385</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    try:
        trainer.fit(model, training_dataloader, validation_dataloader)
    except KeyboardInterrupt:
        <a id="change">logger.warning("[ctrl+c] Exiting gracefully."</a><a id="change">)</a>
        pass

    &#47&#47 Saving predictions to file
    results = get_predictions(</code></pre><h3>After Change</h3><pre><code class='java'>
    }

    &#47&#47 Configuration
    config<a id="change"> = </a><a id="change">{
        </a>"db": "/groups/icecube/petersen/GraphNetDatabaseRepository/Leon_MC_data/last_one_lvl3MC.db",
        "pulsemap": "SplitInIcePulses",
        "batch_size": 512,
        "num_workers": 10,
        "accelerator": "cpu",  &#47&#47 gpu
        "devices": 1,  &#47&#47 [0],
        "target": "pid",
        "classification": class_options,
        "n_epochs": 10,
        "patience": 5<a id="change">,
    }</a>
    archive = "/groups/icecube/petersen/GraphNetDatabaseRepository/example_results/train_classification_model"
    run_name = "dynedge_{}_example".format(config["target"])

    &#47&#47 Log configuration to W&B</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/graphnet-team/graphnet/commit/737bcecc71b5c72cc738bbe2c112e59d86e949dc#diff-44689e19604bc1e9d0d7c4ac79f0d66a5285ecf95fa7d43ab9f954cdc752a44eL53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59920615</div><div id='project'> Project Name: graphnet-team/graphnet</div><div id='commit'> Commit Name: 737bcecc71b5c72cc738bbe2c112e59d86e949dc</div><div id='time'> Time: 2022-11-21</div><div id='author'> Author: Volumunox@gmail.com</div><div id='file'> File Name: examples/train_classification_model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/train_classification_model.py</div><div id='n_file'> N File Name: examples/train_classification_model.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 177</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 188</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            elif isinstance(result, float):
                float_list = [result]
            else:
                <a id="change">self._logger.warning(f"Failed when working out score of metric {metric}."</a><a id="change">)</a>
                continue
            if len(float_list) != 0:
                if score is None:
                    score = 0.</code></pre><h3>After Change</h3><pre><code class='java'>

            if len(float_list) != 0:
                score += sum(float_list) / len(float_list)
                float_list<a id="change"> = </a><a id="change">[]</a>

        return score

    def _loss_all_reduce(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/textbox/commit/a823ff8def5622cdd534036d366f1875188610de#diff-5b3f9c4be34034ec39b0dfd25f8b3f9f911b0bbff67729d62ca882be803bc4c8L209' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59920613</div><div id='project'> Project Name: rucaibox/textbox</div><div id='commit'> Commit Name: a823ff8def5622cdd534036d366f1875188610de</div><div id='time'> Time: 2022-07-12</div><div id='author'> Author: 1020030101@qq.com</div><div id='file'> File Name: textbox/utils/dashboard.py</div><div id='m_class'> M Class Name: EpochTracker</div><div id='n_method'> N Class Name: EpochTracker</div><div id='m_method'> M Method Name: calc_score(2)</div><div id='n_method'> N Method Name: calc_score(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: textbox/utils/dashboard.py</div><div id='n_file'> N File Name: textbox/utils/dashboard.py</div><div id='m_start'> M Start Line: 214</div><div id='m_end'> M End Line: 233</div><div id='n_start'> N Start Line: 220</div><div id='n_end'> N End Line: 238</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            )

        if len(index_group.cache_managers) &gt; 1:
            <a id="change">logger.warning(
                f"multiple cache managers detected for {self.namespace()}. This may mean you are loading"
                f"multiple instances of a model, which is memory inefficient. In addition, this instance will"
                f" reuse the model data associated with the first detected cache manager. This may have "
                f"unintended consequences."</a><a id="change">
            )</a>

        self.top_n = top_n
        self.index_group = index_group
        self.index_group.load()</code></pre><h3>After Change</h3><pre><code class='java'>
        self.score_cutoffs = score_cutoffs
        self.top_n = top_n
        self.indices = indices
        self.entity_class_to_indices<a id="change">: Dict[str, Set[EmbeddingIndex]] = </a><a id="change">{}</a>
        self.load_or_build_caches()

        self.lookup_cache = EntityLinkingLookupCache(lookup_cache_size)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/0d7573d82ab330ba148a39628c809c1d20621b3b#diff-5d0b0ded5b343b5692f05ff69dc8f3b4f8d860427b9eb29f6b3cbe52194fa86cL35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59920621</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 0d7573d82ab330ba148a39628c809c1d20621b3b</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/steps/linking/sapbert.py</div><div id='m_class'> M Class Name: SapBertForEntityLinkingStep</div><div id='n_method'> N Class Name: SapBertForEntityLinkingStep</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(8)</div><div id='m_parent_class'> M Parent Class: BaseStep</div><div id='n_parent_class'> N Parent Class: BaseStep</div><div id='m_file'> M File Name: kazu/steps/linking/sapbert.py</div><div id='n_file'> N File Name: kazu/steps/linking/sapbert.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 73</div><BR>