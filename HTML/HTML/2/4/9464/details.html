<html><h3>Pattern ID :9464
</h3><img src='33815147.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        groups_: List[List[str]] = [
            [*e2s(time_sig_mode), *e2s(mean_tempo)],
            *((<a id="change">[</a>self.vocab[&quotstart_of_bar&quot]<a id="change"></a>] + sum([e2s(n) for n in notes], start=[])) for notes in lst_notes),
            [self.vocab[&quotend_of_song&quot]]
        ]  &#47&#47 TODO: adding Chords as 2nd part?
</code></pre><h3>After Change</h3><pre><code class='java'>
        for_gen = n_bar is not None
        if for_gen:
            assert n_bar &gt; 0, f&quotInvalid {logi("n_bar")}: Expects positive integer&quot
            bars = <a id="change">bars[:min(n_bar, len(bars))]</a>
        for bar in bars:
            assert all(not isinstance(e, m21.stream.Voice) for e in bar), f&quotInvalid Bar: Expect no voice - {warn}&quot
            toks.extend([self.vocab(e) for e in self._bar2grouped_bar(bar)])
        &#47&#47 ic(toks)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/stefanheng/symbolic-music-generation/commit/b5a651532993905e278eb0d242cf773e47f86078#diff-e552dfb32db814167cece91cd239e95a2391d9449f1f7a1fe7e8d6d5391af5c5L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33815147</div><div id='project'> Project Name: stefanheng/symbolic-music-generation</div><div id='commit'> Commit Name: b5a651532993905e278eb0d242cf773e47f86078</div><div id='time'> Time: 2022-04-02</div><div id='author'> Author: 43276957+SpongeBobBang@users.noreply.github.com</div><div id='file'> File Name: musicnlp/postprocess/music_converter.py</div><div id='m_class'> M Class Name: MusicConverter</div><div id='n_method'> N Class Name: MusicConverter</div><div id='m_method'> M Method Name: mxl2str(4)</div><div id='n_method'> N Method Name: mxl2str(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: musicnlp/postprocess/music_converter.py</div><div id='n_file'> N File Name: musicnlp/postprocess/music_converter.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 107</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 93</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                      [N, self.dims]),
                    self.names)
            logP = self.log_prior(p)
            new_points = np.concatenate(<a id="change">[</a>new_points, p[np.isfinite(logP)]<a id="change"></a>])
        return new_points

    def in_bounds(self, x):</code></pre><h3>After Change</h3><pre><code class='java'>
                    self.names)
            flag = np.isfinite(self.log_prior(p))
            m = np.sum(flag)
            new_points[n:(n + m)] = <a id="change">p[flag][:min(m, N - n)]</a>
            n += m
        return new_points

    def in_bounds(self, x):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mj-will/nessai/commit/ae5c16514f5ea8d4be1012573ef8867fcdbe8ec2#diff-f965fb1efdfd6c5d3559295ac2158bd5e4f8e4e1f50f95cf9a8be07cc980c799L328' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33815150</div><div id='project'> Project Name: mj-will/nessai</div><div id='commit'> Commit Name: ae5c16514f5ea8d4be1012573ef8867fcdbe8ec2</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: m.williams.4@research.gla.ac.uk</div><div id='file'> File Name: nessai/model.py</div><div id='m_class'> M Class Name: Model</div><div id='n_method'> N Class Name: Model</div><div id='m_method'> M Method Name: _multiple_new_points(2)</div><div id='n_method'> N Method Name: _multiple_new_points(2)</div><div id='m_parent_class'> M Parent Class: ABC</div><div id='n_parent_class'> N Parent Class: ABC</div><div id='m_file'> M File Name: nessai/model.py</div><div id='n_file'> N File Name: nessai/model.py</div><div id='m_start'> M Start Line: 344</div><div id='m_end'> M End Line: 351</div><div id='n_start'> N Start Line: 344</div><div id='n_end'> N End Line: 354</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    &#47&#47 Concatenate the positive and negative examples and 
    &#47&#47 make sure there are only as many negative examples as positive examples
    final_df = pd.concat(<a id="change">[</a>pos_df, neg_df[:len(pos_df)]<a id="change"></a>])
    
    &#47&#47 Shuffle the final data once again
    final_df.sample(frac=1)</code></pre><h3>After Change</h3><pre><code class='java'>
    
    &#47&#47 Concatenate the positive and negative examples and 
    &#47&#47 make sure there are only as many negative examples as positive examples
    final_df = pd.concat([pos_df[:min(len(pos_df), len(neg_df))], <a id="change">neg_df[:min(len(pos_df), len(neg_df))]</a>])
    
    &#47&#47 Shuffle the final data once again
    final_df.sample(frac=1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mascerade/supervised-product-matching/commit/fbed706217107d3874baa2b6d2f38a94f0ca2b2f#diff-42c00837dec26c184a81c16ab500554fb1b098e2d549a85a3659c4575789695cL78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33815149</div><div id='project'> Project Name: mascerade/supervised-product-matching</div><div id='commit'> Commit Name: fbed706217107d3874baa2b6d2f38a94f0ca2b2f</div><div id='time'> Time: 2020-08-24</div><div id='author'> Author: Ultimi450@gmail.com</div><div id='file'> File Name: src/preprocessing.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_train_df(1)</div><div id='n_method'> N Method Name: create_train_df(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/preprocessing.py</div><div id='n_file'> N File Name: src/preprocessing.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 71</div><BR>