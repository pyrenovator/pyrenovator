<html><h3>Pattern ID :10268
</h3><img src='36217576.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

class TestSymNegCosineSimilarityLoss(unittest.TestCase):
    def test_forward_pass(self):
        <a id="change">raise </a>NotImplementedError("TODO: implement unit tests")
</code></pre><h3>After Change</h3><pre><code class='java'>
            z0 = torch.randn((bsz, 32))
            p0 = torch.randn((bsz, 32))
            z1 = torch.randn((bsz, 32))
            p1<a id="change"> = </a><a id="change">torch.randn(</a>(bsz, 32)<a id="change">)</a>

            &#47&#47 symmetry
            l1 = loss((z0, p0), (z1, p1))
            l2<a id="change"> = </a>loss((z1, p1), (z0, p0))
            self.assertAlmostEqual((l1 - l2).pow(2).item(), 0.)
 
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lightly-ai/lightly/commit/b9867bb4d9bfd8d7418ecf36cdfa2a650949cf82#diff-9e6f09ff5269f34caf117c58035980d789bbb306c4ab1816db05b21d06e4fe6cL9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36217576</div><div id='project'> Project Name: lightly-ai/lightly</div><div id='commit'> Commit Name: b9867bb4d9bfd8d7418ecf36cdfa2a650949cf82</div><div id='time'> Time: 2020-12-27</div><div id='author'> Author: daviddobre@gmail.com</div><div id='file'> File Name: tests/loss/test_SymNegCosineSimilarityLoss.py</div><div id='m_class'> M Class Name: TestSymNegCosineSimilarityLoss</div><div id='n_method'> N Class Name: TestSymNegCosineSimilarityLoss</div><div id='m_method'> M Method Name: test_forward_pass(1)</div><div id='n_method'> N Method Name: test_forward_pass(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/loss/test_SymNegCosineSimilarityLoss.py</div><div id='n_file'> N File Name: tests/loss/test_SymNegCosineSimilarityLoss.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 9</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if input_count &lt;= 0:
            raise UserWarning("No input count given")
        if hidden_features % 2:
            <a id="change">raise </a>UserWarning(f"Ignoring uneven hidden feature and proceeding as if equal {hidden_features // 2 * 2}")

        self.return_sequences = return_sequences
        self.delay = delay</code></pre><h3>After Change</h3><pre><code class='java'>
                torch.nn.init.orthogonal_(
                    self.linear_param1[idx][sub_idx * hidden_features:(1 + sub_idx) * hidden_features])

        hidden_state<a id="change"> = </a><a id="change">torch.randn(</a>1, 2 * features_sqrt, features_sqrt<a id="change">)</a>
        hidden_state[0, :features_sqrt]<a id="change"> = </a>hidden_state[0, :features_sqrt].qr().Q
        hidden_state[0, features_sqrt:] = hidden_state[0, features_sqrt:].qr().Q
        self.register_buffer("hidden_state", hidden_state.clone())
        self.depth = depth</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/homebrewnlp/homebrewnlp/commit/e6bfdfa67ff9b5477696711d7d570685448ee141#diff-c98bba8dbdd18eb4e9fa8ae11c28e350c08ee816fce50f9fb86d61cbcd345276L87' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36217544</div><div id='project'> Project Name: homebrewnlp/homebrewnlp</div><div id='commit'> Commit Name: e6bfdfa67ff9b5477696711d7d570685448ee141</div><div id='time'> Time: 2021-06-20</div><div id='author'> Author: 39779310+ClashLuke@users.noreply.github.com</div><div id='file'> File Name: module.py</div><div id='m_class'> M Class Name: FixedRevRNN</div><div id='n_method'> N Class Name: FixedRevRNN</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(8)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: module.py</div><div id='n_file'> N File Name: module.py</div><div id='m_start'> M Start Line: 101</div><div id='m_end'> M End Line: 127</div><div id='n_start'> N Start Line: 109</div><div id='n_end'> N End Line: 132</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        A tensor of the specified shape filled with random uniform values.

    
    <a id="change">raise </a>NotImplementedError


def random_normal(shape, mean=0.0, stddev=1.0, dtype=None, seed=None):</code></pre><h3>After Change</h3><pre><code class='java'>
        torch.random.seed()
    else:
        torch.random.manual_seed(seed)
    w<a id="change"> = </a><a id="change">torch.randn(size=shape, dtype=dtype)</a>
    out<a id="change"> = </a>w.uniform_(minval, maxval)
    return out

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tensorlayer/tensorlayerx/commit/c9c0c404fd88bac2fd9840cfafb2b4d7e03ff34f#diff-78aa7ef4c44753830fddad4bed1dbd149cb97b235c21e98214796e2e7bbe2aaaL112' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36217568</div><div id='project'> Project Name: tensorlayer/tensorlayerx</div><div id='commit'> Commit Name: c9c0c404fd88bac2fd9840cfafb2b4d7e03ff34f</div><div id='time'> Time: 2022-02-24</div><div id='author'> Author: laicheng_vip@163.com</div><div id='file'> File Name: tensorlayerx/backend/ops/torch_backend.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: random_uniform(5)</div><div id='n_method'> N Method Name: random_uniform(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tensorlayerx/backend/ops/torch_backend.py</div><div id='n_file'> N File Name: tensorlayerx/backend/ops/torch_backend.py</div><div id='m_start'> M Start Line: 133</div><div id='m_end'> M End Line: 133</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 144</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        A tensor of the specified shape filled with random normal values.

    
    <a id="change">raise </a>NotImplementedError


def truncated_normal(shape, mean=0.0, stddev=1.0, dtype=None, seed=None):</code></pre><h3>After Change</h3><pre><code class='java'>
        torch.random.seed()
    else:
        torch.random.manual_seed(seed)
    w<a id="change"> = </a><a id="change">torch.randn(size=shape, dtype=dtype)</a>
    out<a id="change"> = </a>w.normal_(mean=mean, std=stddev)
    return out

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tensorlayer/tensorlayerx/commit/c9c0c404fd88bac2fd9840cfafb2b4d7e03ff34f#diff-78aa7ef4c44753830fddad4bed1dbd149cb97b235c21e98214796e2e7bbe2aaaL136' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36217605</div><div id='project'> Project Name: tensorlayer/tensorlayerx</div><div id='commit'> Commit Name: c9c0c404fd88bac2fd9840cfafb2b4d7e03ff34f</div><div id='time'> Time: 2022-02-24</div><div id='author'> Author: laicheng_vip@163.com</div><div id='file'> File Name: tensorlayerx/backend/ops/torch_backend.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: random_normal(5)</div><div id='n_method'> N Method Name: random_normal(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tensorlayerx/backend/ops/torch_backend.py</div><div id='n_file'> N File Name: tensorlayerx/backend/ops/torch_backend.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 158</div><div id='n_start'> N Start Line: 170</div><div id='n_end'> N End Line: 176</div><BR>