<html><h3>Pattern ID :7911
</h3><img src='28152985.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            new_edge_type = remaining_edge_types[edge_type_idx]
            new_edge_type_tuple = EdgeTypeStr2Tuple(new_edge_type)
            if len(set(new_edge_type_tuple) & explored_node_type_set) == 0:
                <a id="change">continue</a>
            chosen_edge_types_list.append(new_edge_type)
            explored_node_type_set |= set(new_edge_type_tuple)
            remaining_edge_types.pop(edge_type_idx)
            break</code></pre><h3>After Change</h3><pre><code class='java'>
                idx_to_rm.append(idx)
        &#47&#47 Since pop() will change the index of following elements,
        &#47&#47 we need to reverse the order of idx_to_rm.
        <a id="change">for </a>idx in reversed(idx_to_rm)<a id="change">:
            </a><a id="change">other_edge_types_list.pop(idx</a><a id="change">)</a>

        if len(candidate_edge_types_list) == 0:
            warnings.warn(
                f"Can&quott find enough ({edge_type_num}) edge types!", UserWarning)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pku-dair/sgl/commit/93e7aac75c7a5fe5266c08615e4e5c0de463a86d#diff-a42813c7bb6f36db6c7dc4df3f1fb029e01d435597a169b5c1ae027c2d0ae0e3L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28152985</div><div id='project'> Project Name: pku-dair/sgl</div><div id='commit'> Commit Name: 93e7aac75c7a5fe5266c08615e4e5c0de463a86d</div><div id='time'> Time: 2022-04-21</div><div id='author'> Author: 82886739+ZhenbangYou@users.noreply.github.com</div><div id='file'> File Name: dataset/choose_edge_type.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: ChooseEdgeType(3)</div><div id='n_method'> N Method Name: ChooseEdgeType(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dataset/choose_edge_type.py</div><div id='n_file'> N File Name: dataset/choose_edge_type.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                if &quotJINA_FULL_CLI&quot in os.environ:
                    r[&quotwith&quot].update(kwargs)
                else:
                    <a id="change">continue</a>
            else:
                last_name = kwargs[&quotname&quot]
                r[&quotexecutors&quot].append(kwargs)
</code></pre><h3>After Change</h3><pre><code class='java'>
            data.gateway_args, gateway_parser
        )
        gateway_kwargs.update(non_default_kw)
        <a id="change">for </a><a id="change">t</a> in _get_taboo(gateway_parser)<a id="change">:
            </a>if t in gateway_kwargs:
                <a id="change">gateway_kwargs.pop(</a>t<a id="change">)</a>
        if &quotJINA_FULL_CLI&quot in os.environ:
            r[&quotwith&quot].update(gateway_kwargs)
        if gateway_kwargs:
            r[GATEWAY_NAME] = gateway_kwargs</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/94da487e305f1828bcd1141c72304e377d206760#diff-3651932819469c65134c2d3c7e8c8e6d0808acfb70263070542a14eca3cdf9b9L85' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28152984</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: 94da487e305f1828bcd1141c72304e377d206760</div><div id='time'> Time: 2022-11-08</div><div id='author'> Author: alaeddine-13@live.fr</div><div id='file'> File Name: jina/jaml/parsers/flow/v1.py</div><div id='m_class'> M Class Name: V1Parser</div><div id='n_method'> N Class Name: V1Parser</div><div id='m_method'> M Method Name: dump(2)</div><div id='n_method'> N Method Name: dump(2)</div><div id='m_parent_class'> M Parent Class: VersionedYAMLParser</div><div id='n_parent_class'> N Parent Class: VersionedYAMLParser</div><div id='m_file'> M File Name: jina/jaml/parsers/flow/v1.py</div><div id='n_file'> N File Name: jina/jaml/parsers/flow/v1.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 98</div><div id='n_end'> N End Line: 142</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        X = {}
        for tensor, names in zip([cats, conts], [self.cat_names, self.cont_names]):
            if len(names) == 0:
                <a id="change">continue</a>
            elif len(names) &gt; 1:
                tensors = tf.split(tensor, len(names), axis=1)
            else:
                tensors = [tensor]</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 break list tuples into two keys, with postfixes
            &#47&#47 TODO: better choices for naming?
            list_columns = [i for i in lists.keys()]
            <a id="change">for </a><a id="change">column</a> in list_columns<a id="change">:
                </a>values, nnzs = <a id="change">lists.pop(</a>column<a id="change">)</a>
                lists[column + "__values"] = values
                lists[column + "__nnzs"] = nnzs

            &#47&#47 now add in any scalar tensors</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nvidia/nvtabular/commit/6b668bbd884073cbaf03837cbce5df0810d18a00#diff-5370fdee81817626cc493a473693f5aab4cf69e6b4b1fdbc6fe743789c28a0d1L293' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28152983</div><div id='project'> Project Name: nvidia/nvtabular</div><div id='commit'> Commit Name: 6b668bbd884073cbaf03837cbce5df0810d18a00</div><div id='time'> Time: 2020-11-03</div><div id='author'> Author: amacgunny@gmail.com</div><div id='file'> File Name: nvtabular/loader/tensorflow.py</div><div id='m_class'> M Class Name: KerasSequenceLoader</div><div id='n_method'> N Class Name: KerasSequenceLoader</div><div id='m_method'> M Method Name: _handle_tensors(4)</div><div id='n_method'> N Method Name: _handle_tensors(4)</div><div id='m_parent_class'> M Parent Class: tf.keras.utils.Sequence,DataLoader</div><div id='n_parent_class'> N Parent Class: tf.keras.utils.Sequence,DataLoader</div><div id='m_file'> M File Name: nvtabular/loader/tensorflow.py</div><div id='n_file'> N File Name: nvtabular/loader/tensorflow.py</div><div id='m_start'> M Start Line: 294</div><div id='m_end'> M End Line: 302</div><div id='n_start'> N Start Line: 315</div><div id='n_end'> N End Line: 336</div><BR>