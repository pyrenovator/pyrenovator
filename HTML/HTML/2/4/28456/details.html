<html><h3>Pattern ID :28456
</h3><img src='84210917.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    &#47&#47 If an initial starting point was not provided, use random vector
    if np.all(opts.x0 == None):
        opts.x0 = <a id="change">np.random.randn(</a>n,<a id="change">1</a><a id="change">)</a>
    
    &#47&#47 If an initial inverse Hessian was not provided, use the identity
    if opts.H0 == None:
        opts.H0 = sparse.eye(n).toarray()</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 If an initial starting point was not provided, use random vector
    if np.all(opts.x0 == None):
        &#47&#47 opts.x0 = np.random.randn(n,1)
        rng<a id="change"> = </a>default_rng()
        opts.x0 = <a id="change">rng.standard_normal(size=(n,1))</a>
    
    &#47&#47 If an initial inverse Hessian was not provided, use the identity
    if opts.H0 == None:
        opts.H0 = sparse.eye(n).toarray()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sun-umn/pygranso/commit/4e1d2e2498e0bdea869641c82d9b643481143875#diff-3235c8950fbb03e4a1aa280533972b7e66b9525f6f19e3ac389e730dc3b63f92L449' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84210917</div><div id='project'> Project Name: sun-umn/pygranso</div><div id='commit'> Commit Name: 4e1d2e2498e0bdea869641c82d9b643481143875</div><div id='time'> Time: 2021-08-02</div><div id='author'> Author: 52502144+Buyun-Liang@users.noreply.github.com</div><div id='file'> File Name: Python_version/pygransoOptions.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: postProcess(2)</div><div id='n_method'> N Method Name: postProcess(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: Python_version/pygransoOptions.py</div><div id='n_file'> N File Name: Python_version/pygransoOptions.py</div><div id='m_start'> M Start Line: 449</div><div id='m_end'> M End Line: 449</div><div id='n_start'> N Start Line: 451</div><div id='n_end'> N End Line: 452</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.X = cartesian(*self.Xs)
        self.N = np.prod([len(X) for X in self.Xs])
        self.y = np.random.randn(self.N) * 0.1
        self.Xnews = (np.random.randn(5, 1), np.random.randn(5, 1), <a id="change">np.random.randn(</a>5, <a id="change">1</a><a id="change">)</a>)
        self.Xnew = np.concatenate(self.Xnews, axis=1)
        self.pnew = np.random.randn(len(self.Xnew))
        ls = 0.2</code></pre><h3>After Change</h3><pre><code class='java'>
    

    def setup_method(self):
        rng<a id="change"> = </a>np.random.default_rng(20221125)
        self.Xs = [
            np.linspace(0, 1, 7)[:, None],
            np.linspace(0, 1, 5)[:, None],
            np.linspace(0, 1, 6)[:, None],
        ]
        self.X = cartesian(*self.Xs)
        self.N = np.prod([len(X) for X in self.Xs])
        self.y = np.random.randn(self.N) * 0.1
        self.Xnews = (
            rng.standard_normal(size=(5, 1)),
            <a id="change">rng.standard_normal(size=(5, 1))</a>,
            rng.standard_normal(size=(5, 1)),
        )
        self.Xnew = np.concatenate(self.Xnews, axis=1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/c4683fbc0b9be5a0776dcc42f8f6e4a7407c4ada#diff-5ee76a5928a3adf0e607836ab16aa7eefe0d45b70891ca013a48f53a69d54dd3L416' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84210918</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: c4683fbc0b9be5a0776dcc42f8f6e4a7407c4ada</div><div id='time'> Time: 2022-11-25</div><div id='author'> Author: michael.osthege@outlook.com</div><div id='file'> File Name: pymc/tests/gp/test_gp.py</div><div id='m_class'> M Class Name: TestLatentKron</div><div id='n_method'> N Class Name: TestLatentKron</div><div id='m_method'> M Method Name: setup_method(1)</div><div id='n_method'> N Method Name: setup_method(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pymc/tests/gp/test_gp.py</div><div id='n_file'> N File Name: pymc/tests/gp/test_gp.py</div><div id='m_start'> M Start Line: 425</div><div id='m_end'> M End Line: 427</div><div id='n_start'> N Start Line: 418</div><div id='n_end'> N End Line: 433</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            elif self.fallback_level == 3:
                p = -g;     &#47&#47 steepest descent
            else:
                p = <a id="change">np.random.randn(</a>n,<a id="change">1</a><a id="change">)</a>
                self.random_attempts = self.random_attempts + 1
                
                
            [p,is_descent,fallback_on_this_direction] = self.checkDirection(p,g)</code></pre><h3>After Change</h3><pre><code class='java'>
            else:
                &#47&#47 p = np.random.randn(n,1)
                &#47&#47 new version of randn
                rng<a id="change"> = </a>default_rng()
                p = <a id="change">rng.standard_normal(size=(n,1))</a>
                self.random_attempts = self.random_attempts + 1
                
                
            [p,is_descent,fallback_on_this_direction] = self.checkDirection(p,g)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sun-umn/pygranso/commit/4e1d2e2498e0bdea869641c82d9b643481143875#diff-9f0fc25ef1824b984a79a3c7739506da22b6b0e514831dabf3a2097f7839a126L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84210919</div><div id='project'> Project Name: sun-umn/pygranso</div><div id='commit'> Commit Name: 4e1d2e2498e0bdea869641c82d9b643481143875</div><div id='time'> Time: 2021-08-02</div><div id='author'> Author: 52502144+Buyun-Liang@users.noreply.github.com</div><div id='file'> File Name: Python_version/private/bfgssqp.py</div><div id='m_class'> M Class Name: AlgBFGSSQP</div><div id='n_method'> N Class Name: AlgBFGSSQP</div><div id='m_method'> M Method Name: bfgssqp(5)</div><div id='n_method'> N Method Name: bfgssqp(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: Python_version/private/bfgssqp.py</div><div id='n_file'> N File Name: Python_version/private/bfgssqp.py</div><div id='m_start'> M Start Line: 35</div><div id='m_end'> M End Line: 230</div><div id='n_start'> N Start Line: 233</div><div id='n_end'> N End Line: 234</div><BR>