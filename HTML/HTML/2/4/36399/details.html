<html><h3>Pattern ID :36399
</h3><img src='102994646.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        self.epochs_done_in_this_run += 1

                        if self.epoch % 1 == 0 and better_val_model:
                            total_losses<a id="change"> = </a><a id="change">dict()</a>
                            test_losses = dict()
                            with tqdm.tqdm(total=self.args.total_iter_per_epoch) as pbar_test:
                                for _, test_sample in enumerate(
                                        self.data.get_test_batches(total_batches=int(self.args.total_iter_per_epoch),
                                                                   augment_images=False)):
                                    test_losses<a id="change">, total_losses</a> = self.evaluation_iteration(val_sample=test_sample,
                                                                                          total_losses=total_losses,
                                                                                          pbar_val=pbar_test, phase=&quottest&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>

                        self.save_models(model=self.model, epoch=self.epoch, state=self.state)

                        self.start_time<a id="change">, self.state</a> = self.pack_and_save_metrics(start_time=self.start_time,
                                                                                 create_summary_csv=self.create_summary_csv,
                                                                                 train_losses=train_losses,
                                                                                 val_losses=val_losses,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/baiksung/l2f/commit/ff26bcc002c2a6c8f930825661c40b4a3b2462d9#diff-421ee30498f134ed2c10d42e25f1a0528ee7a003a9a764b95731a4aa2711583fL224' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102994646</div><div id='project'> Project Name: baiksung/l2f</div><div id='commit'> Commit Name: ff26bcc002c2a6c8f930825661c40b4a3b2462d9</div><div id='time'> Time: 2018-11-25</div><div id='author'> Author: antrikohs@gmail.com</div><div id='file'> File Name: experiment_builder.py</div><div id='m_class'> M Class Name: ExperimentBuilder</div><div id='n_method'> N Class Name: ExperimentBuilder</div><div id='m_method'> M Method Name: run_experiment(1)</div><div id='n_method'> N Method Name: run_experiment(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: experiment_builder.py</div><div id='n_file'> N File Name: experiment_builder.py</div><div id='m_start'> M Start Line: 224</div><div id='m_end'> M End Line: 295</div><div id='n_start'> N Start Line: 314</div><div id='n_end'> N End Line: 375</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with open(filepath, encoding="utf-8") as f:
            reader = csv.DictReader(f, delimiter="\t")
            for row in reader:
                item<a id="change"> = </a><a id="change">dict(</a>row<a id="change">)</a>
                item["answer_text"] = _parse_answer_text(item["answer_text"])
                item["answer_coordinates"] = _parse_answer_coordinates(item["answer_coordinates"])
                header, table_data = _load_table_data(os.path.join(data_dir, item["table_file"]))
                item["table_header"] = header
                item["table_data"] = table_data
                yield item["id"]<a id="change">, item</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
                header, table_data = _load_table_data(os.path.join(data_dir, item["table_file"]))
                item["table_header"] = header
                item["table_data"] = table_data
                yield idx<a id="change">, item</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/3538e4e5ad595225c854e59d10736876da4a6d45#diff-23b3b36a9a46f323a741dc60537393d873f0ee7b5a42c24bc2e7f57386e2ab78L154' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102994645</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 3538e4e5ad595225c854e59d10736876da4a6d45</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: 8515462+albertvillanova@users.noreply.github.com</div><div id='file'> File Name: datasets/msr_sqa/msr_sqa.py</div><div id='m_class'> M Class Name: MsrSQA</div><div id='n_method'> N Class Name: MsrSQA</div><div id='m_method'> M Method Name: _generate_examples(3)</div><div id='n_method'> N Method Name: _generate_examples(3)</div><div id='m_parent_class'> M Parent Class: datasets.GeneratorBasedBuilder</div><div id='n_parent_class'> N Parent Class: datasets.GeneratorBasedBuilder</div><div id='m_file'> M File Name: datasets/msr_sqa/msr_sqa.py</div><div id='n_file'> N File Name: datasets/msr_sqa/msr_sqa.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 166</div><div id='n_start'> N Start Line: 157</div><div id='n_end'> N End Line: 164</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        joints: np.ndarray = self.get_joints(anno)
        mask: np.ndarray = self.get_mask(anno, image_info)
        extras<a id="change"> = </a><a id="change">dict(file_name=image_info["file_name"])</a>

        return orig_image<a id="change">, mask, joints, extras</a>

    def get_joints(self, anno: List[Mapping[str, Any]]) -&gt; np.ndarray:
        
        Decode the keypoints from the COCO annotation and return them as an array of shape [Num Instances, Num Joints, 3].</code></pre><h3>After Change</h3><pre><code class='java'>
        joints: np.ndarray = self.get_joints(anno)
        mask: np.ndarray = self.get_mask(anno, image_info)

        return orig_image<a id="change">, mask, joints, gt_areas, gt_bboxes, gt_iscrowd</a>

    def filter_joints(
        self,
        image_shape,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deci-ai/super-gradients/commit/ca5c56214e3ad7953a6e420a662c199b09dcd8fd#diff-7c0a1715ed4fd95271202b11fa56d077848ae7efbc9d06990e5775662ff520bbL70' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102994651</div><div id='project'> Project Name: deci-ai/super-gradients</div><div id='commit'> Commit Name: ca5c56214e3ad7953a6e420a662c199b09dcd8fd</div><div id='time'> Time: 2023-02-22</div><div id='author'> Author: ekhvedchenya@gmail.com</div><div id='file'> File Name: src/super_gradients/training/datasets/pose_estimation_datasets/coco_keypoints.py</div><div id='m_class'> M Class Name: COCOKeypointsDataset</div><div id='n_method'> N Class Name: COCOKeypointsDataset</div><div id='m_method'> M Method Name: load_sample(2)</div><div id='n_method'> N Method Name: load_sample(2)</div><div id='m_parent_class'> M Parent Class: BaseKeypointsDataset</div><div id='n_parent_class'> N Parent Class: BaseKeypointsDataset</div><div id='m_file'> M File Name: src/super_gradients/training/datasets/pose_estimation_datasets/coco_keypoints.py</div><div id='n_file'> N File Name: src/super_gradients/training/datasets/pose_estimation_datasets/coco_keypoints.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 87</div><div id='n_end'> N End Line: 101</div><BR>