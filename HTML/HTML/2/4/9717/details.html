<html><h3>Pattern ID :9717
</h3><img src='34899697.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
      X_s_robust = [dataset_robust[i][0] for i in range(len(dataset_robust))]
    if timeseries_robust:
      if flatten_time_series:
        X_t_robust<a id="change"> = </a>timeseries_robustness([dataset_robust[i][1].reshape((timestep,series_dim)) for i in <a id="change">range(</a><a id="change">len(</a>dataset_robust<a id="change">))</a>],noise_level=noise_level/10)
      else:
        X_t_robust = timeseries_robustness([dataset_robust[i][1] for i in range(len(dataset_robust))],noise_level=noise_level/10)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>

  datasets_robust = []
  tests_robust = []
  for noise_level in <a id="change">tqdm(</a>range(11)<a id="change">)</a>:
    dataset_robust = copy.deepcopy(datasets[le//10:le//5])
    if tabular_robust:
      X_s_robust = tabular_robustness([dataset_robust[i][0] for i in range(len(dataset_robust))], noise_level=noise_level/10)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pliang279/multibench/commit/e58b758411dc04717f2af6ee841af8f2d20bb61f#diff-f0dd30e04173b0566c0eb6339f2b1b3e82f1506c23dc6c85792b097908cf962dL14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34899697</div><div id='project'> Project Name: pliang279/multibench</div><div id='commit'> Commit Name: e58b758411dc04717f2af6ee841af8f2d20bb61f</div><div id='time'> Time: 2021-06-07</div><div id='author'> Author: yuncheng@andrew.cmu.edu</div><div id='file'> File Name: datasets/mimic/get_data_robust.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_dataloader(8)</div><div id='n_method'> N Method Name: get_dataloader(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: datasets/mimic/get_data_robust.py</div><div id='n_file'> N File Name: datasets/mimic/get_data_robust.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 97</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.max_length = max_length
        self.group_indexs = []
        num_group = 3
        indexs<a id="change"> = </a>list(<a id="change">range(</a><a id="change">len(</a>self.data<a id="change">))</a>)
        for i in range(num_group):
            self.group_indexs.append(indexs[i::num_group])
</code></pre><h3>After Change</h3><pre><code class='java'>

        print(f"Loading data from {data_path}")
        self.data = [json.loads(_.strip())
                     for _ in <a id="change">tqdm(</a>open(data_path).readlines()<a id="change">)</a>]

        self.max_length = max_query_length if is_query_embed else max_length
        print(f"Max sequence length: {self.max_length}")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xwhan/proqa/commit/4246feba06d93a5bf18ddf63937e2c9750c715e3#diff-5f0c52f0f2cb1ab610c9b13f0bf27c6f28b1785dc434b4acd90337def716cb82L259' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34899698</div><div id='project'> Project Name: xwhan/proqa</div><div id='commit'> Commit Name: 4246feba06d93a5bf18ddf63937e2c9750c715e3</div><div id='time'> Time: 2020-06-23</div><div id='author'> Author: xwhan@cs.ucsb.edu</div><div id='file'> File Name: retrieval/datasets.py</div><div id='m_class'> M Class Name: EmDataset</div><div id='n_method'> N Class Name: EmDataset</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: retrieval/datasets.py</div><div id='n_file'> N File Name: retrieval/datasets.py</div><div id='m_start'> M Start Line: 270</div><div id='m_end'> M End Line: 280</div><div id='n_start'> N Start Line: 272</div><div id='n_end'> N End Line: 275</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
      X_s_robust = [dataset_robust[i][0] for i in range(len(dataset_robust))]
    if timeseries_robust:
      if flatten_time_series:
        X_t_robust<a id="change"> = </a>timeseries_robustness([dataset_robust[i][1].reshape((timestep,series_dim)) for i in <a id="change">range(</a><a id="change">len(</a>dataset_robust<a id="change">))</a>],noise_level=noise_level/10)
      else:
        X_t_robust = timeseries_robustness([dataset_robust[i][1] for i in range(len(dataset_robust))],noise_level=noise_level/10)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>

  datasets_robust = []
  tests_robust = []
  for noise_level in <a id="change">tqdm(</a>range(11)<a id="change">)</a>:
    dataset_robust = copy.deepcopy(datasets[le//10:le//5])
    if tabular_robust:
      X_s_robust = tabular_robustness([dataset_robust[i][0] for i in range(len(dataset_robust))], noise_level=noise_level/10)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pliang279/multibench/commit/1e5f07b4808ba33be37100dae4009c04a6590780#diff-f0dd30e04173b0566c0eb6339f2b1b3e82f1506c23dc6c85792b097908cf962dL14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 34899699</div><div id='project'> Project Name: pliang279/multibench</div><div id='commit'> Commit Name: 1e5f07b4808ba33be37100dae4009c04a6590780</div><div id='time'> Time: 2021-06-07</div><div id='author'> Author: yuncheng@andrew.cmu.edu</div><div id='file'> File Name: datasets/mimic/get_data_robust.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_dataloader(8)</div><div id='n_method'> N Method Name: get_dataloader(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: datasets/mimic/get_data_robust.py</div><div id='n_file'> N File Name: datasets/mimic/get_data_robust.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 97</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 91</div><BR>