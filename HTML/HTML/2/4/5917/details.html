<html><h3>Pattern ID :5917
</h3><img src='20818877.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    if shape[::-1] != new_unpad:  &#47&#47 resize
        img = cv2.resize(img, new_unpad, interpolation=cv2.INTER_LINEAR)
    top, bottom = int(<a id="change">round(</a>dh<a id="change"> - </a>0.1<a id="change">)</a>), int(round(dh + 0.1))
    left, right = int(round(dw - 0.1)), int(round(dw + 0.1))
    img = cv2.copyMakeBorder(img,
                             top,</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 add border
    img = cv2.copyMakeBorder(img,
                             int(round(delta_height - 0.1)),
                             <a id="change">int(</a>round(delta_height<a id="change"> + </a>0.1)<a id="change">)</a>,
                             int(round(delta_width - 0.1)),
                             int(round(delta_width + 0.1)),
                             cv2.BORDER_CONSTANT,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bluemirrors/cvu/commit/36775b4effe452d92b1875e8952e16d89719cda1#diff-165698c3d711fcb740de196714552068f2d53328293a258ca90cfbb21831e083L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20818877</div><div id='project'> Project Name: bluemirrors/cvu</div><div id='commit'> Commit Name: 36775b4effe452d92b1875e8952e16d89719cda1</div><div id='time'> Time: 2021-07-16</div><div id='author'> Author: ss8464@nyu.edu</div><div id='file'> File Name: cvu/preprocess/image/letterbox.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: letterbox(7)</div><div id='n_method'> N Method Name: letterbox(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cvu/preprocess/image/letterbox.py</div><div id='n_file'> N File Name: cvu/preprocess/image/letterbox.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 84</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self.conf.resize_max and (self.conf.resize_force
                                     or max(w, h) &gt; self.conf.resize_max):
            scale = self.conf.resize_max / max(h, w)
            h_new, w_new = int(round(h*scale)), int(<a id="change">round(</a>w<a id="change">*</a>scale<a id="change">)</a>)
            image = cv2.resize(
                image, (w_new, h_new), interpolation=cv2.INTER_LINEAR)
</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.conf.resize_max and (self.conf.resize_force
                                     or max(size) &gt; self.conf.resize_max):
            scale = self.conf.resize_max / max(size)
            size_new = tuple(<a id="change">int(</a>round(x<a id="change">*</a>scale)<a id="change">)</a> for x in size)
            image = resize_image(image, size_new, self.conf.interpolation)

        if self.conf.grayscale:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cvg/hierarchical-localization/commit/d3f155d0587376a6fd0395ea36125016160fa448#diff-23a056c8242f7db0eb87a42b37e0039462b8a5b0cd71f83e8605d6644338d045L144' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20818864</div><div id='project'> Project Name: cvg/hierarchical-localization</div><div id='commit'> Commit Name: d3f155d0587376a6fd0395ea36125016160fa448</div><div id='time'> Time: 2021-11-10</div><div id='author'> Author: paul.edouard.sarlin@gmail.com</div><div id='file'> File Name: hloc/extract_features.py</div><div id='m_class'> M Class Name: ImageDataset</div><div id='n_method'> N Class Name: ImageDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Dataset</div><div id='m_file'> M File Name: hloc/extract_features.py</div><div id='n_file'> N File Name: hloc/extract_features.py</div><div id='m_start'> M Start Line: 148</div><div id='m_end'> M End Line: 156</div><div id='n_start'> N Start Line: 168</div><div id='n_end'> N End Line: 174</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super(MV2Block, self).__init__()
        assert stride in [1, 2]

        hidden_dim = <a id="change">round(</a>inp<a id="change"> * </a>expand_ratio<a id="change">)</a>
        self.identity = stride == 1 and inp == oup

        if expand_ratio == 1:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.stride = stride
        assert stride in [1, 2]

        hidden_dim = <a id="change">int(</a>inp<a id="change"> * </a>expansion<a id="change">)</a>
        self.use_res_connect = self.stride == 1 and inp == oup

        if expansion == 1:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/vit-pytorch/commit/f2414b2c1b3772c141f015af03f5d69e31dde5be#diff-180c1535c305da16bf6b05e1db96f9ac1e4ee6fb798bd3da9f10e336cf10ddbaL105' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20818896</div><div id='project'> Project Name: lucidrains/vit-pytorch</div><div id='commit'> Commit Name: f2414b2c1b3772c141f015af03f5d69e31dde5be</div><div id='time'> Time: 2021-12-29</div><div id='author'> Author: justinwu880520@g.ncu.edu.tw</div><div id='file'> File Name: vit_pytorch/mobile_vit.py</div><div id='m_class'> M Class Name: MV2Block</div><div id='n_method'> N Class Name: MV2Block</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: vit_pytorch/mobile_vit.py</div><div id='n_file'> N File Name: vit_pytorch/mobile_vit.py</div><div id='m_start'> M Start Line: 106</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 103</div><div id='n_end'> N End Line: 108</div><BR>