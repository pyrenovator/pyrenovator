<html><h3>Pattern ID :29516
</h3><img src='87521895.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def save_objects(self, name_data_list):
        self.fm.save_objs(name_data_list)
        <a id="change">try:
            </a>self.log_artifacts(self.fm.path)
        except shutil.SameFileError:
            pass
        <a id="change">except </a>Exception as e:
            print(e)

    def load_object(self, name):</code></pre><h3>After Change</h3><pre><code class='java'>
            mlflow.log_artifact(local_path)

    def save_objects(self, data_name_list, local_path=None):
        <a id="change">if </a>local_path is None:
            <a id="change">assert </a>data_name_list is not None, "Please provide data_name_list input."
            self.fm.save_objs(data_name_list)
            mlflow.log_artifacts(self.fm.path)
            for obj, name in data_name_list:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/60d0cfcf64f90c80d958315b9dbf65ffd0437b01#diff-0a8d949b8ae7bcaae22eefa5f8be576582063e07f407ea39db87ba59a97d2485L183' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87521895</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 60d0cfcf64f90c80d958315b9dbf65ffd0437b01</div><div id='time'> Time: 2020-10-28</div><div id='author'> Author: dw1920@nyu.edu</div><div id='file'> File Name: qlib/workflow/record.py</div><div id='m_class'> M Class Name: MLflowRecorder</div><div id='n_method'> N Class Name: MLflowRecorder</div><div id='m_method'> M Method Name: save_objects(3)</div><div id='n_method'> N Method Name: save_objects(2)</div><div id='m_parent_class'> M Parent Class: Recorder</div><div id='n_parent_class'> N Parent Class: Recorder</div><div id='m_file'> M File Name: qlib/workflow/record.py</div><div id='n_file'> N File Name: qlib/workflow/record.py</div><div id='m_start'> M Start Line: 302</div><div id='m_end'> M End Line: 310</div><div id='n_start'> N Start Line: 183</div><div id='n_end'> N End Line: 193</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            raise ValueError
        row = []
        for value, (name, values) in zip(seq, schema.items()):
            <a id="change">try:
                </a>row.append(values.index(value))
            <a id="change">except </a>ValueError:
                raise ValueError(
                    f"Value {repr(value)} not found in schema[{repr(name)}]"
                )</code></pre><h3>After Change</h3><pre><code class='java'>
    design = list(design)
    assert len(design) &gt; 0
    assert isinstance(schema, OrderedDict)
    <a id="change">if </a>__debug__:
        for seq in design:
            <a id="change">assert </a>len(seq) == len(schema)
            for value, (name, values) in zip(seq, schema.values()):
                if value not in values:
                    raise ValueError(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pyro-ppl/pyroed/commit/241f360568ab4a17be00c8e7013cb39dc6f80a25#diff-2422119741caa4871aae04531fc5d4907bbe99968a7f7ca93dc271946b1952daL11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87521891</div><div id='project'> Project Name: pyro-ppl/pyroed</div><div id='commit'> Commit Name: 241f360568ab4a17be00c8e7013cb39dc6f80a25</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: fritz.obermeyer@gmail.com</div><div id='file'> File Name: pyroed/api.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: encode_design(2)</div><div id='n_method'> N Method Name: encode_design(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pyroed/api.py</div><div id='n_file'> N File Name: pyroed/api.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def data(self, n_iterations=None, increment_iteration=True):
        if n_iterations is None:
            <a id="change">try:
                </a>n_iterations = len(self.loader)
            <a id="change">except </a>Exception:
                raise ValueError()
        return Flow._EpochData(self, n_iterations, increment_iteration)
</code></pre><h3>After Change</h3><pre><code class='java'>
        n_iterations: Union[None, int, float] = None,
        increment_iteration: bool = True,
    ) -&gt; Iterator:
        <a id="change">if </a>isinstance(n_iterations, float):
            <a id="change">assert </a>math.isinf(n_iterations)
        if n_iterations is None:
            if not isinstance(self.loader, Sized):
                raise ValueError()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yura52/zero/commit/2dac490cd8761fde7c9d4205dd8c5167a2117528#diff-124f469fceebaf291939dfe10f290bb958738e4fb6a2039047930132e0aea9fcL64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87521890</div><div id='project'> Project Name: yura52/zero</div><div id='commit'> Commit Name: 2dac490cd8761fde7c9d4205dd8c5167a2117528</div><div id='time'> Time: 2020-06-08</div><div id='author'> Author: strausmg@gmail.com</div><div id='file'> File Name: zero/flow.py</div><div id='m_class'> M Class Name: Flow</div><div id='n_method'> N Class Name: Flow</div><div id='m_method'> M Method Name: data(3)</div><div id='n_method'> N Method Name: data(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: zero/flow.py</div><div id='n_file'> N File Name: zero/flow.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.fm.save_obj(data, name)
        import urllib
        print(urllib.parse.urlparse(self.artifact_uri).scheme)
        <a id="change">try:
            </a>self.log_artifact(self.fm.path / name)
        <a id="change">except </a>shutil.SameFileError:
            pass
        except Exception as e:
            print(e)</code></pre><h3>After Change</h3><pre><code class='java'>
        shutil.rmtree(self.temp_dir)

    def save_object(self, data, name, local_path=None):
        <a id="change">if </a>local_path is None:
            <a id="change">assert </a>data is not None and name is not None, "Please provide data and name input."
            self.fm.save_obj(data, name)
            mlflow.log_artifact(self.fm.path / name)
            self.fm.remove(name)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/60d0cfcf64f90c80d958315b9dbf65ffd0437b01#diff-0a8d949b8ae7bcaae22eefa5f8be576582063e07f407ea39db87ba59a97d2485L290' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87521899</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 60d0cfcf64f90c80d958315b9dbf65ffd0437b01</div><div id='time'> Time: 2020-10-28</div><div id='author'> Author: dw1920@nyu.edu</div><div id='file'> File Name: qlib/workflow/record.py</div><div id='m_class'> M Class Name: MLflowRecorder</div><div id='n_method'> N Class Name: MLflowRecorder</div><div id='m_method'> M Method Name: save_object(4)</div><div id='n_method'> N Method Name: save_object(3)</div><div id='m_parent_class'> M Parent Class: Recorder</div><div id='n_parent_class'> N Parent Class: Recorder</div><div id='m_file'> M File Name: qlib/workflow/record.py</div><div id='n_file'> N File Name: qlib/workflow/record.py</div><div id='m_start'> M Start Line: 290</div><div id='m_end'> M End Line: 301</div><div id='n_start'> N Start Line: 174</div><div id='n_end'> N End Line: 183</div><BR>