<html><h3>Pattern ID :41959
</h3><img src='117547632.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 plot the mask and the transformed image according to estimated homography
    axis9.imshow(mask_batch1[nbr, :, :], vmin=0, vmax=1)
    axis9.set_title(<a id="change">&quotmask for backpropagation, sum {}&quot.format(</a>np.sum(mask_batch1[nbr, :, :])<a id="change">)</a>)

    im10 = axis10.imshow(
        cv2.warpPerspective(image1[nbr, :, :], metrics_per_image[&quot{}&quot.format(nbr)]</code></pre><h3>After Change</h3><pre><code class='java'>
        metrics_per_image[&quot{}&quot.format(nbr)][&quotnbr_kp1&quot],
        metrics_per_image[&quot{}&quot.format(nbr)][&quottotal_nbr_kp_reward1&quot]), fontsize=&quotmedium&quot)

    im6 = axis6.imshow(<a id="change">image2[nbr, :, :]</a>, cmap=&quotgray&quot, origin=&quotupper&quot, vmin=0.0, vmax=255.0)
    axis6.scatter(metrics_per_image[&quot{}&quot.format(nbr)][&quotto_plot&quot][&quotkeypoints_map2&quot][1],
                  metrics_per_image[&quot{}&quot.format(nbr)][&quotto_plot&quot][&quotkeypoints_map2&quot][0], s=2,
                  color=&quotgreen&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/prunetruong/glampoints_pytorch/commit/5b860576ff1326eb4cf9d39059299def5766979f#diff-7a1e4df403de9c69fb6f73d49450dd078fe897590c5174b85f1d0a3684cc915eL61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117547632</div><div id='project'> Project Name: prunetruong/glampoints_pytorch</div><div id='commit'> Commit Name: 5b860576ff1326eb4cf9d39059299def5766979f</div><div id='time'> Time: 2020-03-11</div><div id='author'> Author: truongp@ethz.ch</div><div id='file'> File Name: utils_training/utils_CNN.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_training(11)</div><div id='n_method'> N Method Name: plot_training(11)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils_training/utils_CNN.py</div><div id='n_file'> N File Name: utils_training/utils_CNN.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 132</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 122</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 plot the mask and the transformed image according to estimated homography
    axis9.imshow(mask_batch1[nbr, :, :], vmin=0, vmax=1)
    axis9.set_title(<a id="change">&quotmask for backpropagation, sum {}&quot.format(</a>np.sum(mask_batch1[nbr, :, :])<a id="change">)</a>)

    im10 = axis10.imshow(
        cv2.warpPerspective(image1[nbr, :, :], metrics_per_image[&quot{}&quot.format(nbr)]</code></pre><h3>After Change</h3><pre><code class='java'>
        metrics_per_image[&quot{}&quot.format(nbr)][&quotnbr_kp1&quot],
        metrics_per_image[&quot{}&quot.format(nbr)][&quottotal_nbr_kp_reward1&quot]), fontsize=&quotmedium&quot)

    im6 = axis6.imshow(<a id="change">image2[nbr, :, :]</a>, cmap=&quotgray&quot, origin=&quotupper&quot, vmin=0.0, vmax=255.0)
    axis6.scatter(metrics_per_image[&quot{}&quot.format(nbr)][&quotto_plot&quot][&quotkeypoints_map2&quot][1],
                  metrics_per_image[&quot{}&quot.format(nbr)][&quotto_plot&quot][&quotkeypoints_map2&quot][0], s=2,
                  color=&quotgreen&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/prunetruong/glampoints_pytorch/commit/f38355011986da618fd83be6317501d483c3b598#diff-7a1e4df403de9c69fb6f73d49450dd078fe897590c5174b85f1d0a3684cc915eL58' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117547629</div><div id='project'> Project Name: prunetruong/glampoints_pytorch</div><div id='commit'> Commit Name: f38355011986da618fd83be6317501d483c3b598</div><div id='time'> Time: 2020-03-11</div><div id='author'> Author: truongp@ethz.ch</div><div id='file'> File Name: utils_training/utils_CNN.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_training(11)</div><div id='n_method'> N Method Name: plot_training(11)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils_training/utils_CNN.py</div><div id='n_file'> N File Name: utils_training/utils_CNN.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 132</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 122</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Parametrizes the T_B St(n,k) in terms of the lower triangle of ``x``
        
        if x.ndimension() != 2:
            raise ValueError(<a id="change">"Expected a matrix. Got a {}-dimensional tensor."
                             .format(</a>x.ndimension()<a id="change">)</a>)
        if self.inverted:
            x = x.t()
</code></pre><h3>After Change</h3><pre><code class='java'>
    def frame(self, x, base):
        if self.inverted:
            x = x.t()
        low = <a id="change">x[:, :self.n//2]</a>.tril(-1)
        up =  x[:, :self.n//2 + self.n%2].triu(1)
        &#47&#47 Compute the reflection of low
        low = low.flip(-1).flip(-2)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lezcano/geotorch/commit/ada013178cb25a391184cd6ffcd920ccc2109e69#diff-74a151be239c2363c52571841ddab93fb23406d6a404769d72dcf578e9d4e9baL140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117547631</div><div id='project'> Project Name: lezcano/geotorch</div><div id='commit'> Commit Name: ada013178cb25a391184cd6ffcd920ccc2109e69</div><div id='time'> Time: 2020-03-11</div><div id='author'> Author: lezcano-93@hotmail.com</div><div id='file'> File Name: mantorch/orthogonal.py</div><div id='m_class'> M Class Name: Stiefel</div><div id='n_method'> N Class Name: Stiefel</div><div id='m_method'> M Method Name: frame(3)</div><div id='n_method'> N Method Name: frame(3)</div><div id='m_parent_class'> M Parent Class: SO</div><div id='n_parent_class'> N Parent Class: BaseManifold</div><div id='m_file'> M File Name: mantorch/orthogonal.py</div><div id='n_file'> N File Name: mantorch/orthogonal.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 167</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 102</div><BR>