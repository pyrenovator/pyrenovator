<html><h3>Pattern ID :23942
</h3><img src='74486675.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    train_dataset = ConcatDataset(train_split_list)
    val_dataset = ConcatDataset(val_split_list)
    all_dataset<a id="change"> = </a>ConcatDataset(<a id="change">[</a>train_dataset, val_dataset<a id="change"></a>])

    dataset_dict = {
        &quottrain&quot: train_dataset,</code></pre><h3>After Change</h3><pre><code class='java'>
        supported_dataset = [&quotiwildcam&quot, &quotcamelyon17&quot, &quotfmow&quot]
        assert dataset_name in supported_dataset

        dataset<a id="change"> = </a><a id="change">wilds.get_dataset(</a>dataset_name<a id="change">, root_dir=root, download=True)</a>
        num_classes = dataset.n_classes
        return convert_from_wilds_dataset(dataset_name,
                                          dataset.get_subset(split=split, transform=transform)), num_classes
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/babf26f7d7a9ee351c2a7f1bb35ae6f9a4e423be#diff-323d1853961b71b4c8510904156e6ccbe1f19b26fa835ced43abbaccfc437b90L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74486675</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: babf26f7d7a9ee351c2a7f1bb35ae6f9a4e423be</div><div id='time'> Time: 2021-08-24</div><div id='author'> Author: chenbx18@mails.tsinghua.edu.cn</div><div id='file'> File Name: examples/domain_generalization/classification/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_dataset(7)</div><div id='n_method'> N Method Name: get_dataset(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/domain_generalization/classification/utils.py</div><div id='n_file'> N File Name: examples/domain_generalization/classification/utils.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 107</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                               auto_augment=args.auto_augment,
                                               norm_mean=args.norm_mean, norm_std=args.norm_std)
    labeled_train_transform = MultipleApply([weak_augment, strong_augment])
    unlabeled_train_transform<a id="change"> = </a>MultipleApply(<a id="change">[</a>weak_augment, strong_augment<a id="change"></a>])
    val_transform = utils.get_val_transform(args.val_resizing, norm_mean=args.norm_mean, norm_std=args.norm_std)
    print(&quotlabeled_train_transform: &quot, labeled_train_transform)
    print(&quotunlabeled_train_transform: &quot, unlabeled_train_transform)</code></pre><h3>After Change</h3><pre><code class='java'>
                          val_transform,
                          unlabeled_train_transform=weak_augment,
                          seed=args.seed)
    _<a id="change">, strong_augmented_unlabeled_dataset, _ = \
        </a><a id="change">utils.get_dataset(</a>args.data,
                          args.num_samples_per_class,
                          args.root, labeled_train_transform,
                          val_transform<a id="change">,
                          unlabeled_train_transform=strong_augment,
                          seed=args.seed)</a>

    strong_augmented_unlabeled_dataset = utils.convert_dataset(strong_augmented_unlabeled_dataset)
    print("labeled_dataset_size: ", len(labeled_train_dataset))
    print(&quotunlabeled_dataset_size: &quot, len(weak_augmented_unlabeled_dataset))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/b9bd9cd3c186e83e248453883923c9bd869d0923#diff-8711971a196bc99081badaf19eb4d55fa5885c91b8c7318e2fd76464e1c9f8a0L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74486676</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: b9bd9cd3c186e83e248453883923c9bd869d0923</div><div id='time'> Time: 2022-06-30</div><div id='author'> Author: 57670068+tsingcbx99@users.noreply.github.com</div><div id='file'> File Name: examples/semi_supervised_learning/image_classification/noisy_student.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/semi_supervised_learning/image_classification/noisy_student.py</div><div id='n_file'> N File Name: examples/semi_supervised_learning/image_classification/noisy_student.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 145</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 192</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                                        batch_size=self.poison_num, num_workers=0)
        target_imgs, _ = self.model.get_data(next(iter(target_dataloader)))

        dataset_list<a id="change"> = </a><a id="change">[</a>target_class_dataset<a id="change"></a>]
        for source_class in other_classes:
            source_class_dataset = self.dataset.get_dataset(mode=&quottrain&quot, full=True, classes=[source_class])
            poison_source_class_dataset, other_source_class_dataset = self.dataset.split_set(</code></pre><h3>After Change</h3><pre><code class='java'>
                                                        batch_size=self.poison_num, num_workers=0)
        target_imgs, _ = self.model.get_data(next(iter(target_dataloader)))

        full_set<a id="change"> = </a><a id="change">self.dataset.get_dataset(</a>&quottrain&quot<a id="change">, full=True)</a>
        if self.poison_generation_method == &quotpgd&quot:
            poison_imgs, _ = self.pgd.craft_example(_input=target_imgs)
            poison_imgs = self.add_mark(poison_imgs)
            poison_set = MyDataset(poison_imgs, poison_label)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/8983bfb499fcecbf4afd1e1301d4dbe47fa54b45#diff-2703c81ac301c3f9c4206b9498879a8b38485de4b048123eabf0616dbcf33e70L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74486667</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: 8983bfb499fcecbf4afd1e1301d4dbe47fa54b45</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/attack/backdoor/clean_label.py</div><div id='m_class'> M Class Name: Clean_Label</div><div id='n_method'> N Class Name: Clean_Label</div><div id='m_method'> M Method Name: attack(3)</div><div id='n_method'> N Method Name: attack(3)</div><div id='m_parent_class'> M Parent Class: BadNet</div><div id='n_parent_class'> N Parent Class: BadNet</div><div id='m_file'> M File Name: trojanzoo/attack/backdoor/clean_label.py</div><div id='n_file'> N File Name: trojanzoo/attack/backdoor/clean_label.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 117</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 122</div><BR>