<html><h3>Pattern ID :37419
</h3><img src='107884319.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def on_epoch_end(self, epoch, train_stats, valid_stats):
        print("Epoch %d complete" % epoch)
        <a id="change">print("Train loss: %.2f"</a><a id="change"> % </a>summarize_average(train_stats["loss"])<a id="change">)</a>
        print("Valid loss: %.2f" % summarize_average(valid_stats["loss"]))
        print("Valid PER: %.2f" % summarize_error_rate(valid_stats["PER"]))

</code></pre><h3>After Change</h3><pre><code class='java'>

    def on_epoch_end(self, epoch, train_stats, valid_stats):
        print("Epoch %d complete" % epoch)
        <a id="change">global train_loss</a>
        train_loss = summarize_average(train_stats["loss"])
        print("Train loss: %.2f" % train_loss)
        print("Valid loss: %.2f" % summarize_average(valid_stats["loss"]))
        print("Valid PER: %.2f" % summarize_error_rate(valid_stats["PER"]))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/fba15c4a2cc8461ebd2e23979969162c6c529a99#diff-481d8600489efefd8695156645b3c87237be72eddf5343364dc52f77db1c078dL44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107884319</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: fba15c4a2cc8461ebd2e23979969162c6c529a99</div><div id='time'> Time: 2020-05-21</div><div id='author'> Author: plantinga.peter@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/ASR_CTC/example_asr_ctc_experiment.py</div><div id='m_class'> M Class Name: CTCBrain</div><div id='n_method'> N Class Name: CTCBrain</div><div id='m_method'> M Method Name: on_epoch_end(4)</div><div id='n_method'> N Method Name: on_epoch_end(4)</div><div id='m_parent_class'> M Parent Class: sb.core.Brain</div><div id='n_parent_class'> N Parent Class: sb.core.Brain</div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/ASR_CTC/example_asr_ctc_experiment.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/ASR_CTC/example_asr_ctc_experiment.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 52</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if params.use_tensorboard:
            train_logger.log_stats({"Epoch": epoch}, train_stats, valid_stats)
        print("Completed epoch %d" % epoch)
        <a id="change">print("Train loss: %.3f"</a><a id="change"> % </a>summarize_average(train_stats["loss"])<a id="change">)</a>
        print("Valid loss: %.3f" % summarize_average(valid_stats["loss"]))


train_set = params.train_loader()</code></pre><h3>After Change</h3><pre><code class='java'>
        if params.use_tensorboard:
            train_logger.log_stats({"Epoch": epoch}, train_stats, valid_stats)
        print("Completed epoch %d" % epoch)
        <a id="change">global train_loss</a>
        train_loss = summarize_average(train_stats["loss"])
        print("Train loss: %.3f" % train_loss)
        print("Valid loss: %.3f" % summarize_average(valid_stats["loss"]))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/fba15c4a2cc8461ebd2e23979969162c6c529a99#diff-4dabce28acaaa9d131f74c405b8c868006644de66c4bb77bce06f474ad3afaabL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107884330</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: fba15c4a2cc8461ebd2e23979969162c6c529a99</div><div id='time'> Time: 2020-05-21</div><div id='author'> Author: plantinga.peter@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/autoencoder/example_auto_experiment.py</div><div id='m_class'> M Class Name: AutoBrain</div><div id='n_method'> N Class Name: AutoBrain</div><div id='m_method'> M Method Name: on_epoch_end(4)</div><div id='n_method'> N Method Name: on_epoch_end(4)</div><div id='m_parent_class'> M Parent Class: sb.core.Brain</div><div id='n_parent_class'> N Parent Class: sb.core.Brain</div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/autoencoder/example_auto_experiment.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/autoencoder/example_auto_experiment.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                  "building")
            checkpoint_path.mkdir(exist_ok=True, parents=True)
        else:
            <a id="change">print(f"AdaS: Checkpoint path {checkpoint_path} doesn&quott exist "</a><a id="change"> +
                  </a>"building directory to store checkpoints: .adas-checkpoint"<a id="change">)</a>
            checkpoint_path.cwd().mkdir(exist_ok=True, parents=True)

    with config_path.open() as f:
        config = yaml.load(f)</code></pre><h3>After Change</h3><pre><code class='java'>
    for k, v in config.items():
        print(f"    {k:&lt;20} {v:&lt;20}")
    device = &quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot
    <a id="change">global best_acc</a>
    best_acc = 0  &#47&#47 best test accuracy
    start_epoch = 0  &#47&#47 start from epoch 0 or last checkpoint epoch
    if np.less(float(config[&quotearly_stop_threshold&quot]), 0):
        print("AdaS: Notice: early stop will not be used as it was set to " +</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mahdihosseini/rmsgd/commit/8ece8076ab99a313065ccb4221d8934922ed0ca1#diff-6bbc56ffd75f6c9aca21f89fd54bd7b4e7c2abdedf4be0ed06b26fe8bba218b7L143' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107884328</div><div id='project'> Project Name: mahdihosseini/rmsgd</div><div id='commit'> Commit Name: 8ece8076ab99a313065ccb4221d8934922ed0ca1</div><div id='time'> Time: 2020-06-15</div><div id='author'> Author: mahdi.hosseini@mail.utoronto.ca</div><div id='file'> File Name: unpackaged/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: unpackaged/train.py</div><div id='n_file'> N File Name: unpackaged/train.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 265</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 321</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def on_epoch_end(self, epoch, train_stats, valid_stats):
        print("Epoch %d complete" % epoch)
        <a id="change">print("Train loss: %.2f"</a><a id="change"> % </a>summarize_average(train_stats["loss"])<a id="change">)</a>
        print("Valid loss: %.2f" % summarize_average(valid_stats["loss"]))
        print("Valid error: %.2f" % summarize_average(valid_stats["error"]))

</code></pre><h3>After Change</h3><pre><code class='java'>

    def on_epoch_end(self, epoch, train_stats, valid_stats):
        print("Epoch %d complete" % epoch)
        <a id="change">global train_loss</a>
        train_loss = summarize_average(train_stats["loss"])
        print("Train loss: %.2f" % train_loss)
        print("Valid loss: %.2f" % summarize_average(valid_stats["loss"]))
        print("Valid error: %.2f" % summarize_average(valid_stats["error"]))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/fba15c4a2cc8461ebd2e23979969162c6c529a99#diff-7c22a58f96fdc0961b1fd1ff3df2b828f9db3f5f8f830024bc22bdb45e6b0260L39' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107884324</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: fba15c4a2cc8461ebd2e23979969162c6c529a99</div><div id='time'> Time: 2020-05-21</div><div id='author'> Author: plantinga.peter@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/ASR_DNN_HMM/example_asr_dnn_hmm_experiment.py</div><div id='m_class'> M Class Name: ASR_Brain</div><div id='n_method'> N Class Name: ASR_Brain</div><div id='m_method'> M Method Name: on_epoch_end(4)</div><div id='n_method'> N Method Name: on_epoch_end(4)</div><div id='m_parent_class'> M Parent Class: sb.core.Brain</div><div id='n_parent_class'> N Parent Class: sb.core.Brain</div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/ASR_DNN_HMM/example_asr_dnn_hmm_experiment.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/ASR_DNN_HMM/example_asr_dnn_hmm_experiment.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 41</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 48</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def on_epoch_end(self, epoch, train_stats, valid_stats):
        print("Epoch %d complete" % epoch)
        <a id="change">print("Train loss: %.2f"</a><a id="change"> % </a>summarize_average(train_stats["loss"])<a id="change">)</a>
        print("Valid loss: %.2f" % summarize_average(valid_stats["loss"]))
        print("Valid error: %.2f" % summarize_average(valid_stats["error"]))

</code></pre><h3>After Change</h3><pre><code class='java'>

    def on_epoch_end(self, epoch, train_stats, valid_stats):
        print("Epoch %d complete" % epoch)
        <a id="change">global train_loss</a>
        train_loss = summarize_average(train_stats["loss"])
        print("Train loss: %.2f" % train_loss)
        print("Valid loss: %.2f" % summarize_average(valid_stats["loss"]))
        print("Valid error: %.2f" % summarize_average(valid_stats["error"]))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/fba15c4a2cc8461ebd2e23979969162c6c529a99#diff-148cca07ff23cecb21427fac73250298b93fe4e33c6652b454c3365d910bc849L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107884325</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: fba15c4a2cc8461ebd2e23979969162c6c529a99</div><div id='time'> Time: 2020-05-21</div><div id='author'> Author: plantinga.peter@gmail.com</div><div id='file'> File Name: recipes/minimal_examples/neural_networks/speaker_identification/example_spkid_experiment.py</div><div id='m_class'> M Class Name: SpkIdBrain</div><div id='n_method'> N Class Name: SpkIdBrain</div><div id='m_method'> M Method Name: on_epoch_end(4)</div><div id='n_method'> N Method Name: on_epoch_end(4)</div><div id='m_parent_class'> M Parent Class: sb.core.Brain</div><div id='n_parent_class'> N Parent Class: sb.core.Brain</div><div id='m_file'> M File Name: recipes/minimal_examples/neural_networks/speaker_identification/example_spkid_experiment.py</div><div id='n_file'> N File Name: recipes/minimal_examples/neural_networks/speaker_identification/example_spkid_experiment.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 48</div><BR>