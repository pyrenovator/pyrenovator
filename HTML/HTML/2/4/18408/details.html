<html><h3>Pattern ID :18408
</h3><img src='60167830.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        process.run(condition=RunSteps(num_steps=5), run_cfg=run_config)
        assert np.array_equal(process._runtime.get_var(process.u.id),
                              expected_result_u)
        <a id="change">assert </a>np.array_equal(process._runtime.get_var(process.v.id),
                              expected_result_v)
        process.stop()
</code></pre><h3>After Change</h3><pre><code class='java'>
        process._runtime.set_var(process.v.id, expected_result_v)

        &#47&#47 Check if value was modified by retrieving it again
        <a id="change">self.assertTrue(</a>np.array_equal(process._runtime.get_var(process.v.id),
                                       expected_result_v)<a id="change">)</a>

        &#47&#47 Check if values stay modified after another execution
        process.run(condition=RunSteps(num_steps=5), run_cfg=run_config)
        self.assertTrue(np.array_equal(process._runtime.get_var(process.u.id),
                                       expected_result_u))
        <a id="change">self.assertTrue(</a>np.array_equal(process._runtime.get_var(process.v.id),
                                       expected_result_v)<a id="change">)</a>
        process.stop()

    def test_get_set_var_using_var_api(self):
        Checks that get_var() method of Var retrieves expected values,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lava-nc/lava/commit/430f8ec7888f151cca880eb1fc7721b6a550d9f2#diff-f757050498c490c356b83f980d4468beaf390b1e92c115aef925be20971f6028L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60167830</div><div id='project'> Project Name: lava-nc/lava</div><div id='commit'> Commit Name: 430f8ec7888f151cca880eb1fc7721b6a550d9f2</div><div id='time'> Time: 2022-06-14</div><div id='author'> Author: 32519998+PhilippPlank@users.noreply.github.com</div><div id='file'> File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='m_class'> M Class Name: TestGetSetVar</div><div id='n_method'> N Class Name: TestGetSetVar</div><div id='m_method'> M Method Name: test_get_set_var_using_runtime(1)</div><div id='n_method'> N Method Name: test_get_set_var_using_runtime(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='n_file'> N File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 93</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        assert beta is not None
        assert gamma is not None
        <a id="change">assert </a>moving_mean is not None
        assert moving_var is not None

    def test_with_slim_bn_op(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        expected_variance = np.ones_like(moving_var)

        self.assertTrue(np.allclose(expected_beta, beta))
        <a id="change">self.assertTrue(</a>np.allclose(expected_gamma, gamma)<a id="change">)</a>
        self.assertTrue(np.allclose(expected_mean, moving_mean))
        <a id="change">self.assertTrue(</a>np.allclose(expected_variance, moving_var)<a id="change">)</a>
        sess.close()

    def test_with_slim_bn_op(self):
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/3777a691565b271d87eee4c9628851c29078e358#diff-e6c175fce34dd31f257fbe6a2c9e520eae6bfcc7b87767c76e78e9dbf3513415L613' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60167828</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 3777a691565b271d87eee4c9628851c29078e358</div><div id='time'> Time: 2020-05-27</div><div id='author'> Author: quic_ssiddego@quicinc.com</div><div id='file'> File Name: TrainingExtensions/tensorflow/test/python/test_utils.py</div><div id='m_class'> M Class Name: TestTrainingExtensionsTfUtils</div><div id='n_method'> N Class Name: TestTrainingExtensionsTfUtils</div><div id='m_method'> M Method Name: test_with_tf_bn_op(1)</div><div id='n_method'> N Method Name: test_with_tf_bn_op(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: TrainingExtensions/tensorflow/test/python/test_utils.py</div><div id='n_file'> N File Name: TrainingExtensions/tensorflow/test/python/test_utils.py</div><div id='m_start'> M Start Line: 627</div><div id='m_end'> M End Line: 636</div><div id='n_start'> N Start Line: 546</div><div id='n_end'> N End Line: 572</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def test_frame_conditions(self):
        self.stream.run()
        assert self.stream.frames.full() == True
        <a id="change">assert </a>self.stream._shutdown == True


class TestWrite(unittest.TestCase):</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_frame_conditions(self):
        self.stream.run()
        <a id="change">self.assertTrue(</a>self.stream.frames.full()<a id="change">)</a>
        <a id="change">self.assertTrue(</a>self.stream._shutdown<a id="change">)</a>


class TestWrite(unittest.TestCase):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/twentybn/sense/commit/6d12a4b717f5f99d6fcf4fc554da710135ff3105#diff-f3e15e775023b31b6959bd53537e7bd01edf8a3ccff3a85ca7ffb5ba04589b9aL92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60167812</div><div id='project'> Project Name: twentybn/sense</div><div id='commit'> Commit Name: 6d12a4b717f5f99d6fcf4fc554da710135ff3105</div><div id='time'> Time: 2021-02-25</div><div id='author'> Author: yujie.hu@twentybn.com</div><div id='file'> File Name: tests/test_camera.py</div><div id='m_class'> M Class Name: TestRun</div><div id='n_method'> N Class Name: TestRun</div><div id='m_method'> M Method Name: test_frame_conditions(1)</div><div id='n_method'> N Method Name: test_frame_conditions(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/test_camera.py</div><div id='n_file'> N File Name: tests/test_camera.py</div><div id='m_start'> M Start Line: 94</div><div id='m_end'> M End Line: 95</div><div id='n_start'> N Start Line: 94</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        process.u.set(expected_result_u)

        &#47&#47 Check if value was modified by retrieving it again
        <a id="change">assert </a>np.array_equal(process.u.get(), expected_result_u)

        &#47&#47 Modify value of v
        expected_result_v *= 10</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Retrieve value of v
        expected_result_v = np.array([[1., 2.55], [4.2, 5.1]], dtype=np.float64)
        <a id="change">self.assertTrue(</a>np.array_equal(process.v.get(), expected_result_v)<a id="change">)</a>

        &#47&#47 Modify value of u
        expected_result_u *= 10
        process.u.set(expected_result_u)

        &#47&#47 Check if value was modified by retrieving it again
        self.assertTrue(np.array_equal(process.u.get(), expected_result_u))

        &#47&#47 Modify value of v
        expected_result_v *= 10
        process.v.set(expected_result_v)

        &#47&#47 Check if value was modified by retrieving it again
        self.assertTrue(np.array_equal(process.v.get(), expected_result_v))

        &#47&#47 Check if values stay modified after another execution
        process.run(condition=RunSteps(num_steps=5), run_cfg=run_config)
        self.assertTrue(np.array_equal(process.u.get(), expected_result_u))
        <a id="change">self.assertTrue(</a>np.array_equal(process.v.get(), expected_result_v)<a id="change">)</a>
        process.stop()

    def test_get_set_variable_set_before_next_run(self):
        process = SimpleProcess(shape=(2, 2))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lava-nc/lava/commit/430f8ec7888f151cca880eb1fc7721b6a550d9f2#diff-f757050498c490c356b83f980d4468beaf390b1e92c115aef925be20971f6028L96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60167684</div><div id='project'> Project Name: lava-nc/lava</div><div id='commit'> Commit Name: 430f8ec7888f151cca880eb1fc7721b6a550d9f2</div><div id='time'> Time: 2022-06-14</div><div id='author'> Author: 32519998+PhilippPlank@users.noreply.github.com</div><div id='file'> File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='m_class'> M Class Name: TestGetSetVar</div><div id='n_method'> N Class Name: TestGetSetVar</div><div id='m_method'> M Method Name: test_get_set_var_using_var_api(1)</div><div id='n_method'> N Method Name: test_get_set_var_using_var_api(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='n_file'> N File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='m_start'> M Start Line: 106</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 105</div><div id='n_end'> N End Line: 129</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        process._runtime.set_var(process.v.id, expected_result_v)

        &#47&#47 Check if value was modified by retrieving it again
        <a id="change">assert </a>np.array_equal(process._runtime.get_var(process.v.id),
                              expected_result_v)

        &#47&#47 Check if values stay modified after another execution</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Retrieve value of v
        expected_result_v = np.array([[1., 2.55], [4.2, 5.1]], dtype=np.float64)
        <a id="change">self.assertTrue(</a>np.array_equal(process._runtime.get_var(process.v.id),
                                       expected_result_v)<a id="change">)</a>

        &#47&#47 Modify value of u
        expected_result_u *= 10
        process._runtime.set_var(process.u.id, expected_result_u)

        &#47&#47 Check if value was modified by retrieving it again
        <a id="change">self.assertTrue(</a>np.array_equal(process._runtime.get_var(process.u.id),
                                       expected_result_u)<a id="change">)</a>

        &#47&#47 Modify value of v
        expected_result_v *= 10
        process._runtime.set_var(process.v.id, expected_result_v)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lava-nc/lava/commit/430f8ec7888f151cca880eb1fc7721b6a550d9f2#diff-f757050498c490c356b83f980d4468beaf390b1e92c115aef925be20971f6028L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60167747</div><div id='project'> Project Name: lava-nc/lava</div><div id='commit'> Commit Name: 430f8ec7888f151cca880eb1fc7721b6a550d9f2</div><div id='time'> Time: 2022-06-14</div><div id='author'> Author: 32519998+PhilippPlank@users.noreply.github.com</div><div id='file'> File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='m_class'> M Class Name: TestGetSetVar</div><div id='n_method'> N Class Name: TestGetSetVar</div><div id='m_method'> M Method Name: test_get_set_var_using_runtime(1)</div><div id='n_method'> N Method Name: test_get_set_var_using_runtime(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='n_file'> N File Name: tests/lava/magma/runtime/test_get_set_var.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 93</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        beta = BNUtils.get_beta_as_numpy_data(sess, bn_op)
        gamma = BNUtils.get_gamma_as_numpy_data(sess, bn_op)
        assert beta is not None
        <a id="change">assert </a>gamma is not None
        assert moving_mean is not None
        assert moving_var is not None
</code></pre><h3>After Change</h3><pre><code class='java'>
        expected_mean = np.zeros_like(moving_mean)
        expected_variance = np.ones_like(moving_var)

        <a id="change">self.assertTrue(</a>np.allclose(expected_beta, beta)<a id="change">)</a>
        <a id="change">self.assertTrue(</a>np.allclose(expected_gamma, gamma)<a id="change">)</a>
        self.assertTrue(np.allclose(expected_mean, moving_mean))
        self.assertTrue(np.allclose(expected_variance, moving_var))

    def test_get_output_activation_shape(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/3777a691565b271d87eee4c9628851c29078e358#diff-e6c175fce34dd31f257fbe6a2c9e520eae6bfcc7b87767c76e78e9dbf3513415L638' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 60167836</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 3777a691565b271d87eee4c9628851c29078e358</div><div id='time'> Time: 2020-05-27</div><div id='author'> Author: quic_ssiddego@quicinc.com</div><div id='file'> File Name: TrainingExtensions/tensorflow/test/python/test_utils.py</div><div id='m_class'> M Class Name: TestTrainingExtensionsTfUtils</div><div id='n_method'> N Class Name: TestTrainingExtensionsTfUtils</div><div id='m_method'> M Method Name: test_with_slim_bn_op(1)</div><div id='n_method'> N Method Name: test_with_slim_bn_op(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: TrainingExtensions/tensorflow/test/python/test_utils.py</div><div id='n_file'> N File Name: TrainingExtensions/tensorflow/test/python/test_utils.py</div><div id='m_start'> M Start Line: 652</div><div id='m_end'> M End Line: 660</div><div id='n_start'> N Start Line: 580</div><div id='n_end'> N End Line: 604</div><BR>