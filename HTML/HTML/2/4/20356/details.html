<html><h3>Pattern ID :20356
</h3><img src='66024140.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        assert isinstance(hook, Hook)
        name = name or getattr(hook, name, None) or hook.__class__.__name__

        <a id="change">if name in self._hooks</a>:
            <a id="change">raise </a>KeyError("hook &quot{}&quot has been registered before".format(name))

        self._hooks[name] = hook
        if after is not None:</code></pre><h3>After Change</h3><pre><code class='java'>
            raise ValueError("hook &quot{}&quot exists".format(hook.name))

        if before is not None:
            idx = <a id="change">self._hooks.index(</a>before<a id="change">)</a>
            self._hooks.insert(idx, hook)
        else:
            self._hooks.append(hook)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/388797bb64137636c57252b73efa8715ad9e4068#diff-f301e71f1b206fb014cc7b05cf40d35bbf2feac02ca56ff77c6fbc81583978acL37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024140</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: 388797bb64137636c57252b73efa8715ad9e4068</div><div id='time'> Time: 2020-03-12</div><div id='author'> Author: goolhanrry@gmail.com</div><div id='file'> File Name: nncore/engine/engine.py</div><div id='m_class'> M Class Name: Engine</div><div id='n_method'> N Class Name: Engine</div><div id='m_method'> M Method Name: register_hook(3)</div><div id='n_method'> N Method Name: register_hook(4)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: nncore/engine/engine.py</div><div id='n_file'> N File Name: nncore/engine/engine.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if measure_covariance is None:
            measure_covariance = Covariance.for_measures(measures)
        <a id="change">if innovation_matrix is None</a>:
            <a id="change">raise </a>NotImplementedError("TODO")

        super().__init__(
            processes=processes,</code></pre><h3>After Change</h3><pre><code class='java'>
        state_rank = 0
        fixed_idx = []
        for p in processes:
            midx = <a id="change">self.measures.index(</a>p.measure<a id="change">)</a>
            fixed_els = p.fixed_state_elements or []
            for i, se in enumerate(p.state_elements):
                if se in fixed_els:
                    fixed_idx.append((state_rank + i, midx))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/strongio/torchcast/commit/8210da6ee85f13f07cdbd7b237b9abc6ad07be3b#diff-ba378a068ad462f8c615ba96c1d4032f3aa64b0340ad607eb82a52f13394f1eaL57' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024152</div><div id='project'> Project Name: strongio/torchcast</div><div id='commit'> Commit Name: 8210da6ee85f13f07cdbd7b237b9abc6ad07be3b</div><div id='time'> Time: 2021-06-18</div><div id='author'> Author: jacob.dink@strong.io</div><div id='file'> File Name: torchcast/exp_smooth/exp_smooth.py</div><div id='m_class'> M Class Name: ExpSmooth</div><div id='n_method'> N Class Name: ExpSmooth</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: StateSpaceModel</div><div id='n_parent_class'> N Parent Class: StateSpaceModel</div><div id='m_file'> M File Name: torchcast/exp_smooth/exp_smooth.py</div><div id='n_file'> N File Name: torchcast/exp_smooth/exp_smooth.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 73</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 93</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if min_value &gt; prune_epoch_to_now[i] &gt;= 0:
                idx = i
                min_value = prune_epoch_to_now[i]
        <a id="change">if idx &lt; 0</a>:
            <a id="change">raise </a>Exception(&quotEarly stop as there is not any layer to be pruned...&quot)
        return idx
</code></pre><h3>After Change</h3><pre><code class='java'>
        pruning_plan_names = list(map(lambda x: x[&quotname&quot], self.pruning_plan))
        idxes = []
        for soonest_layer_name in soonest_layer_names:
            idxes.append(<a id="change">pruning_plan_names.index(</a>soonest_layer_name<a id="change">)</a>)

        return idxes
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lehduong/knowledge-distillation-by-replacing-cheap-conv/commit/7308659bcb1aa76bf8ee9ab2f42e88efb85d667c#diff-e8e0e0e2ed2cba04fff88771f359d8bd33954ec7141108cef021efb865c84554L203' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024151</div><div id='project'> Project Name: lehduong/knowledge-distillation-by-replacing-cheap-conv</div><div id='commit'> Commit Name: 7308659bcb1aa76bf8ee9ab2f42e88efb85d667c</div><div id='time'> Time: 2020-02-15</div><div id='author'> Author: oopsxilitol@gmail.com</div><div id='file'> File Name: trainer/atakdp.py</div><div id='m_class'> M Class Name: ATAKDPTrainer</div><div id='n_method'> N Class Name: ATAKDPTrainer</div><div id='m_method'> M Method Name: get_index_of_pruned_layer(2)</div><div id='n_method'> N Method Name: get_index_of_pruned_layer(2)</div><div id='m_parent_class'> M Parent Class: TAKDPTrainer</div><div id='n_parent_class'> N Parent Class: TAKDPTrainer</div><div id='m_file'> M File Name: trainer/atakdp.py</div><div id='n_file'> N File Name: trainer/atakdp.py</div><div id='m_start'> M Start Line: 204</div><div id='m_end'> M End Line: 213</div><div id='n_start'> N Start Line: 216</div><div id='n_end'> N End Line: 229</div><BR>