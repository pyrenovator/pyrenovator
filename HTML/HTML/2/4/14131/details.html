<html><h3>Pattern ID :14131
</h3><img src='47185113.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self["provider_uri"] = str(Path(self["provider_uri"]).expanduser().resolve())

    def get_uri_type(self):
        win_rm = <a id="change">re.match("^[a-zA-Z]:.*"</a>, self["provider_uri"]<a id="change">)</a>
        nfs_or_win_rm = re.match("^[^/]+:.+", self["provider_uri"])
        &#47&#47 Windows path is "C:\\"
        if win_rm is None:
            if nfs_or_win_rm is None:</code></pre><h3>After Change</h3><pre><code class='java'>
            self["provider_uri"] = str(Path(self["provider_uri"]).expanduser().resolve())

    def get_uri_type(self):
        is_win = <a id="change">re.match("^[a-zA-Z]:.*"</a>, self["provider_uri"]<a id="change">)</a> is not None  &#47&#47 such as &quotC:\\data&quot, &quotD:&quot
        is_nfs_or_win = re.match("^[^/]+:.+", self["provider_uri"]) is not None  &#47&#47 such as &quothost:/data/&quot   (User may define short hostname by themselves or use localhost)

        if is_nfs_or_win and not is_win:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/16f2b5d8216863c15991c6702f3c313050908810#diff-25dbdacea596f855c7fb06ff767cef8b4bef4dfbee5218bf6437aa20117fa8e4L214' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47185113</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 16f2b5d8216863c15991c6702f3c313050908810</div><div id='time'> Time: 2020-11-11</div><div id='author'> Author: bxd98@126.com</div><div id='file'> File Name: qlib/config.py</div><div id='m_class'> M Class Name: QlibConfig</div><div id='n_method'> N Class Name: QlibConfig</div><div id='m_method'> M Method Name: get_uri_type(1)</div><div id='n_method'> N Method Name: get_uri_type(1)</div><div id='m_parent_class'> M Parent Class: Config</div><div id='n_parent_class'> N Parent Class: Config</div><div id='m_file'> M File Name: qlib/config.py</div><div id='n_file'> N File Name: qlib/config.py</div><div id='m_start'> M Start Line: 214</div><div id='m_end'> M End Line: 222</div><div id='n_start'> N Start Line: 214</div><div id='n_end'> N End Line: 218</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            policy_path = policy_paths[idx]
            policy_name = ntpath.basename(policy_path)
            &#47&#47 Get nupdate info from policy_name, typically "policy_00050000_batches.pt"
            policy_name_match = <a id="change">re.match(r"policy_(?P&lt;n_update&gt;\d+)_batches.pt"</a>,
                                         policy_name<a id="change">)</a>
            n_update = policy_name_match.group(&quotn_update&quot)

            logging.info(f"Start testing policy [{count + 1}/{len(policy_idxes)}] {policy_path}")
            eval_file_name = f&quoteval_{n_update}_batches.json&quot</code></pre><h3>After Change</h3><pre><code class='java'>
            policy_path = policy_paths[idx]
            policy_name = ntpath.basename(policy_path)
            &#47&#47 Get nupdate info from policy_name, typically "policy_00050000_batches.pt"
            n_update = <a id="change">re.match(r"policy_(?P&lt;n_update&gt;\d+)_batches.pt"</a>,
                                policy_name<a id="change">)</a>.group(&quotn_update&quot)

            logging.info(f"Start testing policy [{count + 1}/{len(policy_idxes)}] {policy_path}")
            eval_file_name = f&quoteval_{n_update}_batches.json&quot</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/f0eb764dcfcc42e0945a91962437fc160fe55a1a#diff-dc7527b6cd1e8b2b69d1a8d52c0cd97f56232cceac340e65b9dba2ef1140b1e4L61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47185111</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: f0eb764dcfcc42e0945a91962437fc160fe55a1a</div><div id='time'> Time: 2021-06-29</div><div id='author'> Author: cyn0531@hku.hk</div><div id='file'> File Name: src/il_representations/scripts/il_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(12)</div><div id='n_method'> N Method Name: run(12)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/il_test.py</div><div id='n_file'> N File Name: src/il_representations/scripts/il_test.py</div><div id='m_start'> M Start Line: 79</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 101</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 check the existence of "ClassProbability" in inference
        self.num_classes = 0
        for head in list(inference):
            m = <a id="change">re.match("ClassProbability\d+"</a>, head<a id="change">)</a>
            if m is not None:
                self.num_classes += 1

        if not self.num_classes &gt; 0:</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 check the existence of "ClassProbability" in inference
        self.num_classes = 0
        for head in list(inference):
            if <a id="change">re.match(r"ClassProbability\d+"</a>, head<a id="change">)</a>:
                self.num_classes += 1

        if self.num_classes == 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/e32a4f95d0812b63d8570948d04f9951960ce750#diff-fecc79497646532b82b89ce262ecf93d27e77d50e928e71144340e9ccc98b427L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47185106</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: e32a4f95d0812b63d8570948d04f9951960ce750</div><div id='time'> Time: 2021-03-06</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/sampler/algorithm/entropy.py</div><div id='m_class'> M Class Name: SampleEntropy</div><div id='n_method'> N Class Name: SampleEntropy</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: InferenceResultAnalyzer</div><div id='n_parent_class'> N Parent Class: InferenceResultAnalyzer</div><div id='m_file'> M File Name: datumaro/plugins/sampler/algorithm/entropy.py</div><div id='n_file'> N File Name: datumaro/plugins/sampler/algorithm/entropy.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 45</div><BR>