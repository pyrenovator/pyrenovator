<html><h3>Pattern ID :17535
</h3><img src='58012373.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            inputs = inputs[:, crop[0]:crop[2], crop[1]:crop[3], :]

        &#47&#47 Classify
        caffe_in = np.asarray([<a id="change">self.preprocess(self.inputs[0]</a>, in_<a id="change">)</a>
                    for in_ in inputs])
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))
</code></pre><h3>After Change</h3><pre><code class='java'>
        caffe_in = np.zeros(np.array(input_.shape)[[0,3,1,2]],
                            dtype=np.float32)
        for ix, in_ in enumerate(input_):
            caffe_in[ix] = <a id="change">self.preprocess(self.inputs[0]</a>, in_<a id="change">)</a>
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))

        &#47&#47 For oversampling, average predictions across crops.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/BVLC/caffe/commit/0db94786a7a463fed49825811fac903f1f1fc3c8#diff-e1985c25341ace1ca09898b0e992000443b28df0ab70b23d9eb3b57a86df91aaL63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58012373</div><div id='project'> Project Name: BVLC/caffe</div><div id='commit'> Commit Name: 0db94786a7a463fed49825811fac903f1f1fc3c8</div><div id='time'> Time: 2014-08-05</div><div id='author'> Author: shelhamer@imaginarynumber.net</div><div id='file'> File Name: python/caffe/classifier.py</div><div id='m_class'> M Class Name: Classifier</div><div id='n_method'> N Class Name: Classifier</div><div id='m_method'> M Method Name: predict(3)</div><div id='n_method'> N Method Name: predict(3)</div><div id='m_parent_class'> M Parent Class: caffe.Net</div><div id='n_parent_class'> N Parent Class: caffe.Net</div><div id='m_file'> M File Name: python/caffe/classifier.py</div><div id='n_file'> N File Name: python/caffe/classifier.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 86</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    vals = [vals]
                for val in vals:
                    name, field = val
                    setattr(ex, name, <a id="change">field.preprocess(data[key]</a><a id="change">)</a>)
        return ex

    @classmethod</code></pre><h3>After Change</h3><pre><code class='java'>
                    vals = [vals]
                for val in vals:
                    name, field = val
                    setattr(ex, name, [sys.intern(x) for x in <a id="change">field.preprocess(data[key]</a><a id="change">)</a>])
        return ex

    @classmethod</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/c00de933563b18237b1761ffd6f0b04aeb6eff10#diff-aeee59e1d713cbc8a443760b8131d6bc0a71ccacf9a1a721e51badcc8331ff25L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58012368</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: c00de933563b18237b1761ffd6f0b04aeb6eff10</div><div id='time'> Time: 2018-08-20</div><div id='author'> Author: bryan.mccann.is@gmail.com</div><div id='file'> File Name: text/torchtext/data/example.py</div><div id='m_class'> M Class Name: Example</div><div id='n_method'> N Class Name: Example</div><div id='m_method'> M Method Name: fromdict(3)</div><div id='n_method'> N Method Name: fromdict(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: text/torchtext/data/example.py</div><div id='n_file'> N File Name: text/torchtext/data/example.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 30</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            inputs = inputs[:, crop[0]:crop[2], crop[1]:crop[3], :]

        &#47&#47 Classify
        caffe_in = <a id="change">self.preprocess(self.inputs[0]</a>, inputs<a id="change">)</a>
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))

        &#47&#47 For oversampling, average predictions across crops.</code></pre><h3>After Change</h3><pre><code class='java'>
            inputs = inputs[:, crop[0]:crop[2], crop[1]:crop[3], :]

        &#47&#47 Classify
        caffe_in = np.asarray([<a id="change">self.preprocess(self.inputs[0]</a>, in_<a id="change">)</a>
                    for in_ in inputs])
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/BVLC/caffe/commit/8830dc5b81b4b0f8d8080fb60cc4196b5752891e#diff-e1985c25341ace1ca09898b0e992000443b28df0ab70b23d9eb3b57a86df91aaL46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58012371</div><div id='project'> Project Name: BVLC/caffe</div><div id='commit'> Commit Name: 8830dc5b81b4b0f8d8080fb60cc4196b5752891e</div><div id='time'> Time: 2014-05-20</div><div id='author'> Author: shelhamer@imaginarynumber.net</div><div id='file'> File Name: python/caffe/classifier.py</div><div id='m_class'> M Class Name: Classifier</div><div id='n_method'> N Class Name: Classifier</div><div id='m_method'> M Method Name: predict(3)</div><div id='n_method'> N Method Name: predict(3)</div><div id='m_parent_class'> M Parent Class: caffe.Net</div><div id='n_parent_class'> N Parent Class: caffe.Net</div><div id='m_file'> M File Name: python/caffe/classifier.py</div><div id='n_file'> N File Name: python/caffe/classifier.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                           window[1]:window[3]])

        &#47&#47 Run through the net (warping windows to input dimensions).
        caffe_in = <a id="change">self.preprocess(self.inputs[0]</a>, window_inputs<a id="change">)</a>
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))

        &#47&#47 Package predictions with images and windows.</code></pre><h3>After Change</h3><pre><code class='java'>
                                           window[1]:window[3]])

        &#47&#47 Run through the net (warping windows to input dimensions).
        caffe_in = np.asarray([<a id="change">self.preprocess(self.inputs[0]</a>, window_in<a id="change">)</a>
                    for window_in in window_inputs])
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/BVLC/caffe/commit/8830dc5b81b4b0f8d8080fb60cc4196b5752891e#diff-7173bf5d2af5c5eda92a5c9def6c5f5d718a1267e3c1b0d3e5223c9cd27d04c2L54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58012365</div><div id='project'> Project Name: BVLC/caffe</div><div id='commit'> Commit Name: 8830dc5b81b4b0f8d8080fb60cc4196b5752891e</div><div id='time'> Time: 2014-05-20</div><div id='author'> Author: shelhamer@imaginarynumber.net</div><div id='file'> File Name: python/caffe/detector.py</div><div id='m_class'> M Class Name: Detector</div><div id='n_method'> N Class Name: Detector</div><div id='m_method'> M Method Name: detect_windows(2)</div><div id='n_method'> N Method Name: detect_windows(2)</div><div id='m_parent_class'> M Parent Class: caffe.Net</div><div id='n_parent_class'> N Parent Class: caffe.Net</div><div id='m_file'> M File Name: python/caffe/detector.py</div><div id='n_file'> N File Name: python/caffe/detector.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    vals = [vals]
                for val in vals:
                    name, field = val
                    setattr(ex, name, [sys.intern(x) for x in <a id="change">field.preprocess(data[key]</a><a id="change">)</a>])
        return ex

    @classmethod</code></pre><h3>After Change</h3><pre><code class='java'>
                    vals = [vals]
                for val in vals:
                    name, field = val
                    setattr(ex, name, intern_strings(<a id="change">field.preprocess(data[key]</a><a id="change">)</a>))
        return ex

    @classmethod</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/847a9dd0947a6360ce41cb480a83a3b732ea7894#diff-aeee59e1d713cbc8a443760b8131d6bc0a71ccacf9a1a721e51badcc8331ff25L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58012366</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: 847a9dd0947a6360ce41cb480a83a3b732ea7894</div><div id='time'> Time: 2018-08-28</div><div id='author'> Author: bryan.mccann.is@gmail.com</div><div id='file'> File Name: text/torchtext/data/example.py</div><div id='m_class'> M Class Name: Example</div><div id='n_method'> N Class Name: Example</div><div id='m_method'> M Method Name: fromdict(3)</div><div id='n_method'> N Method Name: fromdict(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: text/torchtext/data/example.py</div><div id='n_file'> N File Name: text/torchtext/data/example.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 30</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 42</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                window_inputs.append(self.crop(image, window))

        &#47&#47 Run through the net (warping windows to input dimensions).
        caffe_in = np.asarray([<a id="change">self.preprocess(self.inputs[0]</a>, window_in<a id="change">)</a>
                    for window_in in window_inputs])
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))
</code></pre><h3>After Change</h3><pre><code class='java'>
                            + self.blobs[self.inputs[0]].data.shape[2:],
                            dtype=np.float32)
        for ix, window_in in enumerate(window_inputs):
            caffe_in[ix] = <a id="change">self.preprocess(self.inputs[0]</a>, window_in<a id="change">)</a>
        out = self.forward_all(**{self.inputs[0]: caffe_in})
        predictions = out[self.outputs[0]].squeeze(axis=(2,3))

        &#47&#47 Package predictions with images and windows.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/BVLC/caffe/commit/0db94786a7a463fed49825811fac903f1f1fc3c8#diff-7173bf5d2af5c5eda92a5c9def6c5f5d718a1267e3c1b0d3e5223c9cd27d04c2L58' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58012362</div><div id='project'> Project Name: BVLC/caffe</div><div id='commit'> Commit Name: 0db94786a7a463fed49825811fac903f1f1fc3c8</div><div id='time'> Time: 2014-08-05</div><div id='author'> Author: shelhamer@imaginarynumber.net</div><div id='file'> File Name: python/caffe/detector.py</div><div id='m_class'> M Class Name: Detector</div><div id='n_method'> N Class Name: Detector</div><div id='m_method'> M Method Name: detect_windows(2)</div><div id='n_method'> N Method Name: detect_windows(2)</div><div id='m_parent_class'> M Parent Class: caffe.Net</div><div id='n_parent_class'> N Parent Class: caffe.Net</div><div id='m_file'> M File Name: python/caffe/detector.py</div><div id='n_file'> N File Name: python/caffe/detector.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 72</div><div id='n_end'> N End Line: 84</div><BR>