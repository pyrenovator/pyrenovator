<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                n_slots_per_beat, n_slots = time_sig2n_slots(time_sig, self.prec)
                for (id_, count) in ids_n_cnt:
                    tok = self.tokenizer.decode(id_)
                    <a id="change">ic(</a>id_, tok, type(tok)<a id="change">)</a>
                    assert isinstance(tok, (int, str, np.integer))
                    dur = count / n_slots_per_beat
                    tok = self.tokenizer.Token(tok, dur)
                    ic(tok)</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 ic(lst_ids_n_cts[0])

            bars = []
            for <a id="change">i</a>, (ids_n_cnt, time_sig) in enumerate(zip(lst_ids_n_cts, time_sigs)):
                bar = m21.stream.Measure(number=i)
                &#47&#47 ic(time_sig, bar)
                n_slots_per_beat, n_slots = time_sig2n_slots(time_sig, self.prec)
                &#47&#47 ic(ids_n_cnt)
                ids<a id="change">, counts = </a>ids_n_cnt

                durs = [count/n_slots_per_beat for count in counts]
                &#47&#47 offsets = np.cumsum(np.array([0] + durs))[:-1]</code></pre>