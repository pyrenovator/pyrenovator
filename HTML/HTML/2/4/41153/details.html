<html><h3>Pattern ID :41153
</h3><img src='116046266.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def print(self, stats):
        Print end-of-epoch stats.
        stats = self._format_stats(self.stats, epoch=self.epoch)
        print(<a id="change">"sweep_log: "</a><a id="change"> + </a><a id="change">json.dumps(</a>stats<a id="change">)</a>, flush=True)

    def _format_stats(self, stats, epoch=None, update=None):
        postfix = OrderedDict()</code></pre><h3>After Change</h3><pre><code class='java'>
    def print(self, stats):
        Print end-of-epoch stats.
        stats = self._format_stats(self.stats, epoch=self.epoch)
        print(<a id="change">json.dumps(</a>stats<a id="change">)</a>, flush=True)

    def _format_stats(self, stats, epoch=None, update=None):
        postfix = OrderedDict()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mohammadkhalifa/fairseq-tagging/commit/0e8414f9ae8d86176221c67dba9925adabfe0dd8#diff-58033190b0727c1246f5f9dd0b8e9faed3a754bcf151a04a0a04e05ae18338ccL120' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116046266</div><div id='project'> Project Name: mohammadkhalifa/fairseq-tagging</div><div id='commit'> Commit Name: 0e8414f9ae8d86176221c67dba9925adabfe0dd8</div><div id='time'> Time: 2018-06-15</div><div id='author'> Author: myleott@fb.com</div><div id='file'> File Name: fairseq/progress_bar.py</div><div id='m_class'> M Class Name: json_progress_bar</div><div id='n_method'> N Class Name: json_progress_bar</div><div id='m_method'> M Method Name: print(2)</div><div id='n_method'> N Method Name: print(2)</div><div id='m_parent_class'> M Parent Class: progress_bar</div><div id='n_parent_class'> N Parent Class: progress_bar</div><div id='m_file'> M File Name: fairseq/progress_bar.py</div><div id='n_file'> N File Name: fairseq/progress_bar.py</div><div id='m_start'> M Start Line: 120</div><div id='m_end'> M End Line: 121</div><div id='n_start'> N Start Line: 120</div><div id='n_end'> N End Line: 121</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            predictions = self.field.reverse(prediction_batch, detokenize=lambda x: &quot &quot.join(x))
        else:
            predictions = self.field.reverse(prediction_batch)
        return <a id="change">json.dumps(</a>dict(id=request[&quotid&quot], answer=predictions[0])<a id="change">) + &quot\n&quot</a>

    async def handle_client(self, client_reader, client_writer):
        try:
            line = await client_reader.readline()</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            predictions = self.field.reverse(prediction_batch)
        
        response = <a id="change">json.dumps(</a>dict(id=request[&quotid&quot], answer=predictions[0])<a id="change">)</a>
        return response + &quot\n&quot

    async def handle_client(self, client_reader, client_writer):
        try:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/dac1e88a8eea1695270154146a134a438f2e4c3f#diff-fd01f94a504ff5f11d84b25eacdc35ef530414dcfd2145fe4c21c1418e8e767dL100' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116046267</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: dac1e88a8eea1695270154146a134a438f2e4c3f</div><div id='time'> Time: 2019-03-02</div><div id='author'> Author: gcampagn@cs.stanford.edu</div><div id='file'> File Name: decanlp/server.py</div><div id='m_class'> M Class Name: Server</div><div id='n_method'> N Class Name: Server</div><div id='m_method'> M Method Name: handle_request(2)</div><div id='n_method'> N Method Name: handle_request(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: decanlp/server.py</div><div id='n_file'> N File Name: decanlp/server.py</div><div id='m_start'> M Start Line: 123</div><div id='m_end'> M End Line: 123</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 125</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    self.log_interval is not None and i % self.log_interval == 0:
                update = self.epoch + float(i / size) if self.epoch is not None else None
                stats = self._format_stats(self.stats, epoch=self.epoch, update=update)
                print(<a id="change">&quotsweep_log: &quot</a><a id="change"> + </a><a id="change">json.dumps(</a>stats<a id="change">)</a>, flush=True)

    def log(self, stats):
        Log intermediate stats according to log_interval.</code></pre><h3>After Change</h3><pre><code class='java'>
                    self.log_interval is not None and i % self.log_interval == 0:
                update = self.epoch - 1 + float(i / size) if self.epoch is not None else None
                stats = self._format_stats(self.stats, epoch=self.epoch, update=update)
                print(<a id="change">json.dumps(</a>stats<a id="change">)</a>, flush=True)

    def log(self, stats):
        Log intermediate stats according to log_interval.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neulab/retomaton/commit/d3795d6cd1c66ac05dc0f4861ce69ab4680bff3d#diff-58033190b0727c1246f5f9dd0b8e9faed3a754bcf151a04a0a04e05ae18338ccL104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116046264</div><div id='project'> Project Name: neulab/retomaton</div><div id='commit'> Commit Name: d3795d6cd1c66ac05dc0f4861ce69ab4680bff3d</div><div id='time'> Time: 2018-04-02</div><div id='author'> Author: myleott@fb.com</div><div id='file'> File Name: fairseq/progress_bar.py</div><div id='m_class'> M Class Name: json_progress_bar</div><div id='n_method'> N Class Name: json_progress_bar</div><div id='m_method'> M Method Name: __iter__(1)</div><div id='n_method'> N Method Name: __iter__(1)</div><div id='m_parent_class'> M Parent Class: progress_bar</div><div id='n_parent_class'> N Parent Class: progress_bar</div><div id='m_file'> M File Name: fairseq/progress_bar.py</div><div id='n_file'> N File Name: fairseq/progress_bar.py</div><div id='m_start'> M Start Line: 110</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 112</div><BR>