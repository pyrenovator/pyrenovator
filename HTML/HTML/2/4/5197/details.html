<html><h3>Pattern ID :5197
</h3><img src='18345411.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 Continue cleaning model registry of test data
    mnist.delete()
    <a id="change">objectdetect.delete()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        assert [m.name for m in models] == ["mnist", "object-detection"]
    finally:
        &#47&#47 Clean model registry of test models
        <a id="change">for </a>model in [mnist, objectdetect, tform]<a id="change">:
            if </a>model is not None:
                model.delete()
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/78748225c5dad0a0c58c92202b2adc2c0d01c816#diff-f7bbb19da8980eff09e85d7e6546e116cb1bb94d534658680904eb6c8d8c266fL17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 18345411</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 78748225c5dad0a0c58c92202b2adc2c0d01c816</div><div id='time'> Time: 2021-11-19</div><div id='author'> Author: ndoiron@mapmeld.com</div><div id='file'> File Name: e2e_tests/tests/cluster/test_model_registry.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_model_registry(0)</div><div id='n_method'> N Method Name: test_model_registry(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: e2e_tests/tests/cluster/test_model_registry.py</div><div id='n_file'> N File Name: e2e_tests/tests/cluster/test_model_registry.py</div><div id='m_start'> M Start Line: 19</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert [m.name for m in models] == ["mnist", "object-detection"]

    &#47&#47 Continue cleaning model registry of test data
    <a id="change">mnist.delete()</a>
    objectdetect.delete()
</code></pre><h3>After Change</h3><pre><code class='java'>
        assert [m.name for m in models] == ["mnist", "object-detection"]
    finally:
        &#47&#47 Clean model registry of test models
        <a id="change">for model</a> in [mnist, objectdetect, tform]<a id="change">:
            if </a>model is not None:
                model.delete()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/78748225c5dad0a0c58c92202b2adc2c0d01c816#diff-f7bbb19da8980eff09e85d7e6546e116cb1bb94d534658680904eb6c8d8c266fL9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 18345410</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 78748225c5dad0a0c58c92202b2adc2c0d01c816</div><div id='time'> Time: 2021-11-19</div><div id='author'> Author: ndoiron@mapmeld.com</div><div id='file'> File Name: e2e_tests/tests/cluster/test_model_registry.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_model_registry(0)</div><div id='n_method'> N Method Name: test_model_registry(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: e2e_tests/tests/cluster/test_model_registry.py</div><div id='n_file'> N File Name: e2e_tests/tests/cluster/test_model_registry.py</div><div id='m_start'> M Start Line: 19</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    print(&quotRemoval finished&quot)

    &#47&#47 clean-up
    <a id="change">cmds.delete(</a>inverted_camera_surface<a id="change">)</a>


if __name__ == "__main__":
    &#47&#47 Sample script that can be run within Maya for testing purposes</code></pre><h3>After Change</h3><pre><code class='java'>

        visible = False
        &#47&#47 Send rays in all directions from the currect vertex
        <a id="change">for _</a> in range(num_rays)<a id="change">:
            &#47&#47 TODO define depth of testing -- length of the vectors
            </a>rayDir = sample_sphere(150)

            &#47&#47 print(&quotRay: {}, {}, {}&quot.format(rayDir.x, rayDir.y, rayDir.z))

            &#47&#47 search setup (for all cases)
            &#47&#47 Case when face is visible from camera surface
            <a id="change">if </a>(test_intersect(camera_surface_mesh, face_mean, rayDir, cam_surface_accelerator)  &#47&#47 intesection with camera surface
                    and not any([test_intersect(mesh, face_mean, rayDir, acc,) for mesh, acc in zip(obstacles_meshes, obstacles_accs)])  &#47&#47 intesects any of the obstacles
                    and not test_intersect(target_mesh, face_mean, rayDir, target_accelerator, hit_tol=1e-5)):  &#47&#47 intersects itself
                visible = True</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maria-korosteleva/garment-pattern-estimation/commit/f78375bdec0ec0b2ed451254d6beabb7f20ef8ef#diff-42ae9e84b27f6a8de0a1a23a1183b95e91969615604330b7ecffadd8aa75357cL44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 18345409</div><div id='project'> Project Name: maria-korosteleva/garment-pattern-estimation</div><div id='commit'> Commit Name: f78375bdec0ec0b2ed451254d6beabb7f20ef8ef</div><div id='time'> Time: 2020-11-26</div><div id='author'> Author: mariako@kaist.ac.kr</div><div id='file'> File Name: packages/mayaqltools/scan_imitation.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: remove_invisible(4)</div><div id='n_method'> N Method Name: remove_invisible(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: packages/mayaqltools/scan_imitation.py</div><div id='n_file'> N File Name: packages/mayaqltools/scan_imitation.py</div><div id='m_start'> M Start Line: 59</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 119</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            &#47&#47 delete all the extra objects
            cmds.delete(obj_copy)
            <a id="change">cmds.delete(</a>cloth_copy<a id="change">)</a>
            cmds.delete(intersect)

            if intersect_size &gt; 0:
                intersecting = True</code></pre><h3>After Change</h3><pre><code class='java'>
        
        if not intersecting:
            &#47&#47 check self-intersection in 3D (NOTE simlified -- panel-to-geometry check)
            <a id="change">for panel_name</a> in self.pattern[&quotpanels&quot]<a id="change">:
                </a>panel_3d = qw.qlCreatePattern(self.MayaObjects[&quotpanels&quot][panel_name][&quotcurve_group&quot])
                panel_geomentry = [obj for obj in panel_3d if &quotOut&quot in obj][0]  &#47&#47 will be corrupted

                intersecting = self._intersect_object(panel_geomentry)
                cmds.delete(panel_3d)
                <a id="change">if </a>intersecting:
                    break
            &#47&#47 reload to create new solver and prevent Maya crashes
            self.load()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maria-korosteleva/garment-pattern-estimation/commit/3d1cc0aa55cef0b39c65356786275596d4a0b2ec#diff-1c7df95ae4b0bce84ef83cf801004b851914c5624bd5052acc0ce6c552ce7e14L268' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 18345407</div><div id='project'> Project Name: maria-korosteleva/garment-pattern-estimation</div><div id='commit'> Commit Name: 3d1cc0aa55cef0b39c65356786275596d4a0b2ec</div><div id='time'> Time: 2020-05-14</div><div id='author'> Author: mariako@kaist.ac.kr</div><div id='file'> File Name: data_generation/mayaqltools/mayascene.py</div><div id='m_class'> M Class Name: MayaGarment</div><div id='n_method'> N Class Name: MayaGarment</div><div id='m_method'> M Method Name: has_3D_intersections(2)</div><div id='n_method'> N Method Name: has_3D_intersections(2)</div><div id='m_parent_class'> M Parent Class: core.ParametrizedPattern</div><div id='n_parent_class'> N Parent Class: core.ParametrizedPattern</div><div id='m_file'> M File Name: data_generation/mayaqltools/mayascene.py</div><div id='n_file'> N File Name: data_generation/mayaqltools/mayascene.py</div><div id='m_start'> M Start Line: 279</div><div id='m_end'> M End Line: 303</div><div id='n_start'> N Start Line: 274</div><div id='n_end'> N End Line: 309</div><BR>