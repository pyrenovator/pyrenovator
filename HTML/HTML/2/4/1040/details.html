<html><h3>Pattern ID :1040
</h3><img src='5105933.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            mask = torch.ones_like(y)

        eps = 1e-10
        lambdas<a id="change"> = </a><a id="change">distr_args[0]</a>
        B, H, K = lambdas.size()

        lambdas = distr_args[0]
        weights = (1 / K) * torch.ones_like(lambdas).to(lambdas.device)</code></pre><h3>After Change</h3><pre><code class='java'>
            mask = torch.ones_like(y)

        eps = 1e-10
        lambdas = <a id="change">self.get_distribution(</a>distr_args, loc, scale<a id="change">)</a>[0]
        B, H, K = lambdas.size()

        weights = (1 / K) * torch.ones_like(lambdas).to(lambdas.device)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nixtla/neuralforecast/commit/1732423f999cf6d2b635e461fcd79b3738f0c1d2#diff-b802b4aae962f9e4c5e03302b63a22d5ed334b8e60bc54cfdb206ee1ac4d25dfL1016' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 5105933</div><div id='project'> Project Name: nixtla/neuralforecast</div><div id='commit'> Commit Name: 1732423f999cf6d2b635e461fcd79b3738f0c1d2</div><div id='time'> Time: 2022-12-12</div><div id='author'> Author: 60141418+dluuo@users.noreply.github.com</div><div id='file'> File Name: neuralforecast/losses/pytorch.py</div><div id='m_class'> M Class Name: PMM</div><div id='n_method'> N Class Name: PMM</div><div id='m_method'> M Method Name: neglog_likelihood(6)</div><div id='n_method'> N Method Name: neglog_likelihood(6)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: neuralforecast/losses/pytorch.py</div><div id='n_file'> N File Name: neuralforecast/losses/pytorch.py</div><div id='m_start'> M Start Line: 1016</div><div id='m_end'> M End Line: 1019</div><div id='n_start'> N Start Line: 1031</div><div id='n_end'> N End Line: 1031</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            num_samples = self.num_samples

        means = distr_args[0]
        stds<a id="change"> = </a><a id="change">distr_args[1]</a>

        B, H, K = means.size()
        Q = len(self.quantiles)
        assert means.shape == stds.shape</code></pre><h3>After Change</h3><pre><code class='java'>
        if num_samples is None:
            num_samples = self.num_samples

        means, stds = <a id="change">self.get_distribution(</a>distr_args, loc, scale<a id="change">)</a>

        B, H, K = means.size()
        Q = len(self.quantiles)
        assert means.shape == stds.shape</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nixtla/neuralforecast/commit/1732423f999cf6d2b635e461fcd79b3738f0c1d2#diff-b802b4aae962f9e4c5e03302b63a22d5ed334b8e60bc54cfdb206ee1ac4d25dfL1115' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 5105932</div><div id='project'> Project Name: nixtla/neuralforecast</div><div id='commit'> Commit Name: 1732423f999cf6d2b635e461fcd79b3738f0c1d2</div><div id='time'> Time: 2022-12-12</div><div id='author'> Author: 60141418+dluuo@users.noreply.github.com</div><div id='file'> File Name: neuralforecast/losses/pytorch.py</div><div id='m_class'> M Class Name: GMM</div><div id='n_method'> N Class Name: GMM</div><div id='m_method'> M Method Name: sample(5)</div><div id='n_method'> N Method Name: sample(5)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: neuralforecast/losses/pytorch.py</div><div id='n_file'> N File Name: neuralforecast/losses/pytorch.py</div><div id='m_start'> M Start Line: 1135</div><div id='m_end'> M End Line: 1136</div><div id='n_start'> N Start Line: 1165</div><div id='n_end'> N End Line: 1165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            mask = torch.ones_like(y)

        means = distr_args[0]
        stds<a id="change"> = </a><a id="change">distr_args[1]</a>

        B, H, K = means.size()

        weights = (1 / K) * torch.ones_like(means).to(means.device)</code></pre><h3>After Change</h3><pre><code class='java'>
        if mask is None:
            mask = torch.ones_like(y)

        means, stds = <a id="change">self.get_distribution(</a>distr_args, loc, scale<a id="change">)</a>

        B, H, K = means.size()

        weights = (1 / K) * torch.ones_like(means).to(means.device)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nixtla/neuralforecast/commit/1732423f999cf6d2b635e461fcd79b3738f0c1d2#diff-b802b4aae962f9e4c5e03302b63a22d5ed334b8e60bc54cfdb206ee1ac4d25dfL1184' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 5105934</div><div id='project'> Project Name: nixtla/neuralforecast</div><div id='commit'> Commit Name: 1732423f999cf6d2b635e461fcd79b3738f0c1d2</div><div id='time'> Time: 2022-12-12</div><div id='author'> Author: 60141418+dluuo@users.noreply.github.com</div><div id='file'> File Name: neuralforecast/losses/pytorch.py</div><div id='m_class'> M Class Name: GMM</div><div id='n_method'> N Class Name: GMM</div><div id='m_method'> M Method Name: neglog_likelihood(6)</div><div id='n_method'> N Method Name: neglog_likelihood(6)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: neuralforecast/losses/pytorch.py</div><div id='n_file'> N File Name: neuralforecast/losses/pytorch.py</div><div id='m_start'> M Start Line: 1196</div><div id='m_end'> M End Line: 1197</div><div id='n_start'> N Start Line: 1225</div><div id='n_end'> N End Line: 1225</div><BR>