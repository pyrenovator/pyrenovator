<html><h3>Pattern ID :2333
</h3><img src='9966577.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def preprocess(text):
    new_text = []
    <a id="change">for </a>t in text.split(" ")<a id="change">:
        </a>t = &quot@user&quot if t.startswith(&quot@&quot) and len(t) &gt; 1 else t
        t = &quothttp&quot if t.startswith(&quothttp&quot) else t
        <a id="change">new_text.append(</a>t<a id="change">)</a>
    return " ".join(new_text)


class SentenceEmbedding:</code></pre><h3>After Change</h3><pre><code class='java'>


def preprocess(text):
    text = <a id="change">re.sub(</a>r"@[A-Z,0-9]+", "@user", text<a id="change">)</a>
    urls = URLEx.find_urls(text)
    for _url in urls:
        try:
            text = text.replace(_url, "http")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/cardiffnlp/tweetnlp/commit/212c96af4178f684070e64408e393b5d08079edb#diff-bf1eb81fc456bc10e0c37ac070c81c250b8d4262629ecd34bf09bd5f55e68383L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9966577</div><div id='project'> Project Name: cardiffnlp/tweetnlp</div><div id='commit'> Commit Name: 212c96af4178f684070e64408e393b5d08079edb</div><div id='time'> Time: 2022-06-27</div><div id='author'> Author: asahi1992ushio@gmail.com</div><div id='file'> File Name: tweetnlp/model_sentence_embedding/model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: preprocess(1)</div><div id='n_method'> N Method Name: preprocess(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tweetnlp/model_sentence_embedding/model.py</div><div id='n_file'> N File Name: tweetnlp/model_sentence_embedding/model.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    )
                )
            df_list_norm = list()
            <a id="change">for </a>df, <a id="change">df_data_params</a> in zip(df_list, data_params)<a id="change">:
                df_list_norm.append(</a>_normalization(df, df_data_params)<a id="change">)</a>
            df = df_list_norm
        else:
            &#47&#47 Global Normalization
            df_joined, episodes = join_dataframes(df_list)</code></pre><h3>After Change</h3><pre><code class='java'>
            new_name = "t"
        if name == "y":
            new_name = "y_scaled"
        df[new_name] = <a id="change">df[name].sub(</a>data_params[name].shift<a id="change">)</a>.div(data_params[name].scale)
    return df

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/6619741f934957dff2a7fa4ff66620772d41471f#diff-cb8ae2d50e5d5d245ed6fcc8cadf2baf7294fa9ac5c63e819fbfe34f0e4c2552L258' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9966579</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 6619741f934957dff2a7fa4ff66620772d41471f</div><div id='time'> Time: 2022-02-14</div><div id='author'> Author: ourownstory@users.noreply.github.com</div><div id='file'> File Name: neuralprophet/df_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: normalize(2)</div><div id='n_method'> N Method Name: normalize(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: neuralprophet/df_utils.py</div><div id='n_file'> N File Name: neuralprophet/df_utils.py</div><div id='m_start'> M Start Line: 258</div><div id='m_end'> M End Line: 294</div><div id='n_start'> N Start Line: 296</div><div id='n_end'> N End Line: 305</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    for word in all_words:
        formatted_word = word[&quottext&quot].replace(&quot,&quot, &quot&quot)
        annotations = json.loads(nlp.annotate(formatted_word))
        <a id="change">for x</a> in annotations[&quotsentences&quot]<a id="change">:
            </a>for y in x[&quotentitymentions&quot]:
                if y[&quotner&quot] == &quotMONEY&quot:
                    <a id="change">amounts.append(</a>{
                        &quottext&quot: word[&quottext&quot],
                        &quotx1&quot: word[&quotleft&quot],
                        &quoty1&quot: word[&quottop&quot],
                        &quotx2&quot: word[&quotleft&quot] + word[&quotwidth&quot],
                        &quoty2&quot: word[&quottop&quot] + word[&quotheight&quot]
                    }<a id="change">)</a>
                elif y[&quotner&quot] == &quotNUMBER&quot:
                    try:
                        _ = float(y[&quottext&quot])
                        if &quot.&quot in word[&quottext&quot]:</code></pre><h3>After Change</h3><pre><code class='java'>
        if not re.search(amount_re, word[&quottext&quot]):
            continue
        try:
            formatted_word = <a id="change">re.sub(</a>r&quot[$,]&quot,&quot&quot, word[&quottext&quot]<a id="change">)</a>
            float(formatted_word)
        
            amounts.append({
                &quottext&quot: word[&quottext&quot],</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/praneet9/representation-learning-for-information-extraction/commit/d88e952060a3f32a13c153e32b132d7bc0dd39f0#diff-e3e2fa7a960cfe3a9de4d774081cb8bad0be9e8784d7a6f2b67f39d9dacd756aL76' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9966581</div><div id='project'> Project Name: praneet9/representation-learning-for-information-extraction</div><div id='commit'> Commit Name: d88e952060a3f32a13c153e32b132d7bc0dd39f0</div><div id='time'> Time: 2021-02-21</div><div id='author'> Author: tanmayvakare@gmail.com</div><div id='file'> File Name: utils/extract_candidates.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_amounts(1)</div><div id='n_method'> N Method Name: get_amounts(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/extract_candidates.py</div><div id='n_file'> N File Name: utils/extract_candidates.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 106</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 86</div><BR>