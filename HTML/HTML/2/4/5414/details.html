<html><h3>Pattern ID :5414
</h3><img src='19209828.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        metric_module.reset()
        state_dict = metric_module.state_dict()
        for k, v in state_dict.items():
            <a id="change">if </a>k.startswith("rec_metrics.") and <a id="change">k.endswith("_fused_states"</a><a id="change">)</a>:
                for i in range(v.size(0)):
                    for j in range(v.size(1)):
                        tc.assertEqual(v[i][j].item(), 0)</code></pre><h3>After Change</h3><pre><code class='java'>
        value = 12345
        state_dict = metric_module.state_dict()
        keys = list(state_dict.keys())
        <a id="change">for </a>k in state_dict.keys()<a id="change">:
            </a>state_dict[k] = torch.tensor(value, dtype=torch.long).detach()
        logging.info(f"Metrics state keys = {keys}")
        metric_module.load_state_dict(state_dict)
        tc = unittest.TestCase()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/torchrec/commit/b6090b08096e6ec2dfeb75ca209aad89a009886c#diff-69ada4ee128aa8f27fd30426480b3230bf4bce4d23ad15bea13ebb286d84b1ceL198' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19209828</div><div id='project'> Project Name: facebookresearch/torchrec</div><div id='commit'> Commit Name: b6090b08096e6ec2dfeb75ca209aad89a009886c</div><div id='time'> Time: 2023-01-24</div><div id='author'> Author: yinbin@meta.com</div><div id='file'> File Name: torchrec/metrics/tests/test_metric_module.py</div><div id='m_class'> M Class Name: MetricModuleTest</div><div id='n_method'> N Class Name: MetricModuleTest</div><div id='m_method'> M Method Name: _run_trainer_checkpointing(0)</div><div id='n_method'> N Method Name: _run_trainer_checkpointing(0)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: torchrec/metrics/tests/test_metric_module.py</div><div id='n_file'> N File Name: torchrec/metrics/tests/test_metric_module.py</div><div id='m_start'> M Start Line: 198</div><div id='m_end'> M End Line: 242</div><div id='n_start'> N Start Line: 198</div><div id='n_end'> N End Line: 236</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        for plugin_name in os.listdir(plugins_dir):
            p = osp.join(plugins_dir, plugin_name)
            <a id="change">if </a>osp.isfile(p) and <a id="change">p.endswith(&quot.py&quot</a><a id="change">)</a>:
                plugins.append((plugins_dir, plugin_name, None))
            elif osp.isdir(p):
                plugins += [(plugins_dir,</code></pre><h3>After Change</h3><pre><code class='java'>
        plugins = []

        for pattern in (&quot*.py&quot, &quot*/*.py&quot):
            <a id="change">for </a>path in glob.glob(
                    osp.join(glob.escape(plugins_dir), pattern))<a id="change">:
                </a>if not osp.isfile(path):
                    continue

                path_rel = osp.relpath(path, plugins_dir)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/7a1a0e1dd7bf603ae02ad96b49516000f4f575fe#diff-40aee9fece53ea246cc894c7ed3d4388aea3e8b2e84fe6a8c2206d481d9aa19eL111' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19209825</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 7a1a0e1dd7bf603ae02ad96b49516000f4f575fe</div><div id='time'> Time: 2021-10-21</div><div id='author'> Author: roman.donchenko@intel.com</div><div id='file'> File Name: datumaro/components/environment.py</div><div id='m_class'> M Class Name: Environment</div><div id='n_method'> N Class Name: Environment</div><div id='m_method'> M Method Name: _find_plugins(1)</div><div id='n_method'> N Method Name: _find_plugins(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: datumaro/components/environment.py</div><div id='n_file'> N File Name: datumaro/components/environment.py</div><div id='m_start'> M Start Line: 112</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 131</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                elif codec == "flac":
                    sample = load_flac(sample)
                outname = f"{args.out_dir}/{key}"
                <a id="change">if </a>not <a id="change">outname.endswith(".wav"</a><a id="change">)</a>:
                    outname += ".wav"
                print(outname)
                if args.n_channels &gt; 0:</code></pre><h3>After Change</h3><pre><code class='java'>
                keys = list(group.keys())
                if args.random:
                    keys = random.sample(keys, n_samples)
            <a id="change">for </a>key in keys<a id="change">:
                </a>save_sample(group, key, codec, args.out_dir, sr, args.n_channels)
                i += 1
                if n_samples &gt; 0 and i &gt;= n_samples:
                    break</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rikorose/deepfilternet/commit/5470d6292b1d1c8a4f349bce635a901fd792b868#diff-9bda7c837a29142dfe9012fc75237431a0b0adbb9bb6500bfcc3d41004f5456aL22' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19209824</div><div id='project'> Project Name: rikorose/deepfilternet</div><div id='commit'> Commit Name: 5470d6292b1d1c8a4f349bce635a901fd792b868</div><div id='time'> Time: 2022-04-27</div><div id='author'> Author: h.schroeter@pm.me</div><div id='file'> File Name: DeepFilterNet/df/scripts/sample_from_hdf5.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: DeepFilterNet/df/scripts/sample_from_hdf5.py</div><div id='n_file'> N File Name: DeepFilterNet/df/scripts/sample_from_hdf5.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )

    ipynb_files = [
        fi for fi in os.listdir(zenml_tutorial_path) if <a id="change">fi.endswith(".ipynb"</a><a id="change">)</a>
    ]
    ipynb_files.sort()
    console.print(zenml_go_notebook_tutorial_message(ipynb_files), width=80)
    input("Press ENTER to continue...")</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 get list of all .ipynb files in zenml_tutorial_path
    ipynb_files = []
    for dirpath, _, filenames in os.walk(zenml_tutorial_path):
        <a id="change">for </a>filename in filenames<a id="change">:
            </a>if filename.endswith(".ipynb"):
                ipynb_files.append(os.path.join(dirpath, filename))

    ipynb_files.sort()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/395d761ef5878a71f13f9ea41a6c3e7697cd2199#diff-e8d3f72f011c10a2ba4aea7c42df0a523b89c59eb7459e1130a1ec34c2651469L181' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19209827</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: 395d761ef5878a71f13f9ea41a6c3e7697cd2199</div><div id='time'> Time: 2022-05-24</div><div id='author'> Author: felix@zenml.io</div><div id='file'> File Name: src/zenml/cli/base.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: go(0)</div><div id='n_method'> N Method Name: go(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/zenml/cli/base.py</div><div id='n_file'> N File Name: src/zenml/cli/base.py</div><div id='m_start'> M Start Line: 204</div><div id='m_end'> M End Line: 235</div><div id='n_start'> N Start Line: 205</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Check if source is a valid local/remote URL
        split_path = urllib.parse.urlsplit(source)
        if split_path.scheme == &quot&quot:
            <a id="change">if </a><a id="change">source.endswith(&quot/&quot</a><a id="change">)</a>:
                with ux_utils.print_exception_no_traceback():
                    raise exceptions.StorageSourceError(
                        &quotStorage source paths cannot end with a slash &quot</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 Check for conflicts in basenames
            _check_basename_conflicts(source)
            &#47&#47 Validate each path
            <a id="change">for </a>local_source in source<a id="change">:
                </a>_validate_local_source(local_source)
            is_local_source = True
        else:
            &#47&#47 Check if str source is a valid local/remote URL</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/30476aada4d2d6cef06fc8bcd6a49eef34934d91#diff-2dd4cdad7588ec418993490ea24de1c54493e3c28835dcc4a1af740f0391bf9eL451' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 19209823</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: 30476aada4d2d6cef06fc8bcd6a49eef34934d91</div><div id='time'> Time: 2022-11-22</div><div id='author'> Author: romil.bhardwaj@gmail.com</div><div id='file'> File Name: sky/data/storage.py</div><div id='m_class'> M Class Name: Storage</div><div id='n_method'> N Class Name: Storage</div><div id='m_method'> M Method Name: _validate_source(3)</div><div id='n_method'> N Method Name: _validate_source(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: sky/data/storage.py</div><div id='n_file'> N File Name: sky/data/storage.py</div><div id='m_start'> M Start Line: 467</div><div id='m_end'> M End Line: 517</div><div id='n_start'> N Start Line: 501</div><div id='n_end'> N End Line: 546</div><BR>