<html><h3>Pattern ID :39303
</h3><img src='111527012.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ])

    dataset = datasets.ImageFolder(data_path, transform=transform)
    dataset_len = <a id="change">len(</a>dataset<a id="change">)</a>
    &#47&#47 dataset_len = 1000
    indices = list(range(dataset_len))

    random.shuffle(indices)</code></pre><h3>After Change</h3><pre><code class='java'>

def get_data_loaders(data_path=ORG_DATASET_PATH_IMAGE64, image_dim=64, train_split=0.8, batch_size=256,
                     data_type=DATA_TYPE_IMAGE):
    <a id="change">if </a>data_type == DATA_TYPE_IMAGE:
        return get_image_data_loaders(data_path=data_path, image_dim=image_dim, train_split=train_split,
                                      batch_size=batch_size)
    if data_type == DATA_TYPE_OPCODE:
        return get_opcode_data_loaders(batch_size=batch_size)

    <a id="change">raise </a><a id="change">Exception(</a>"Unknown Datatype passed for Data Loaders"<a id="change">)</a>
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pratikpv/malware_detect2/commit/9f58c5934b6a914ad0e2b24fff39a05bfbc12604#diff-336ca8a99c8a620f185e998555b09a3ab79fd6bd2e51e3af3172f5147edcfea6L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111527012</div><div id='project'> Project Name: pratikpv/malware_detect2</div><div id='commit'> Commit Name: 9f58c5934b6a914ad0e2b24fff39a05bfbc12604</div><div id='time'> Time: 2020-06-03</div><div id='author'> Author: pratik.prajapati@gmail.com</div><div id='file'> File Name: data_utils/data_loaders.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_data_loaders(5)</div><div id='n_method'> N Method Name: get_data_loaders(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data_utils/data_loaders.py</div><div id='n_file'> N File Name: data_utils/data_loaders.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 105</div><div id='n_end'> N End Line: 112</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        .
        &#47&#47 pylint: disable=no-self-use
        &#47&#47 [...] call DriverAPI
        num_tasks: int = sum([<a id="change">len(</a>ta.client_ids<a id="change">)</a> for ta in req.task_assignments])
        return CreateTasksResponse(task_ids=list(range(num_tasks)))

    def get_results(self, req: GetResultsRequest) -&gt; GetResultsResponse:</code></pre><h3>After Change</h3><pre><code class='java'>

    def create_tasks(self, req: CreateTasksRequest) -&gt; CreateTasksResponse:
        Schedule tasks.
        <a id="change">if </a>self.stub is None:
            log(ERROR, ERROR_MESSAGE_DRIVER_NOT_CONNECTED)
            <a id="change">raise </a><a id="change">Exception(</a>"`Driver` instance not connected"<a id="change">)</a>

        &#47&#47 Serialize, call Driver API, deserialize
        req_proto = serde.create_tasks_request_to_proto(req)
        res_proto: driver_pb2.CreateTasksResponse = self.stub.CreateTasks(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/adap/flower/commit/881de8678a9deeec5a61ac5833f75eda4f4d086b#diff-fc7ba84f6d0fce999ee2347b994a26e101da970ec382f6227de13950a4425fc3L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111527011</div><div id='project'> Project Name: adap/flower</div><div id='commit'> Commit Name: 881de8678a9deeec5a61ac5833f75eda4f4d086b</div><div id='time'> Time: 2022-10-25</div><div id='author'> Author: daniel@adap.com</div><div id='file'> File Name: src/py/flwr/driver/driver.py</div><div id='m_class'> M Class Name: Driver</div><div id='n_method'> N Class Name: Driver</div><div id='m_method'> M Method Name: create_tasks(2)</div><div id='n_method'> N Method Name: create_tasks(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/py/flwr/driver/driver.py</div><div id='n_file'> N File Name: src/py/flwr/driver/driver.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 98</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                if label_name != VggFace2Path.IMAGES_DIR_NO_LABEL:
                    label = \
                        self._categories[AnnotationType.label].find(label_name)[0]
                item_id = item_id[<a id="change">len(</a>label_name<a id="change">)</a> + 1:]
            if item_id not in items:
                image_path = osp.join(self._dataset_dir, self._subset,
                    row[&quotNAME_ID&quot] + VggFace2Path.IMAGE_EXT)</code></pre><h3>After Change</h3><pre><code class='java'>
                    image=image_path)

            annotations = items[item_id].annotations
            <a id="change">if </a>[a for a in annotations if a.type == AnnotationType.points]:
                <a id="change">raise </a><a id="change">Exception(</a>"Item %s: an image can have only one "
                    "set of landmarks" % item_id<a id="change">)</a>

            if len([p for p in row if row[p] == &quot&quot]) == 0 and len(row) == 11:
                annotations.append(Points(
                    [float(row[p]) for p in row if p != &quotNAME_ID&quot], label=label))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/1325eef27b7478b4e474ad56a53a6552f57dcba4#diff-12260c30667ed1cde7f272793ae764503441d55f5a2001eedabccb8dc9b4fd13L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111527010</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 1325eef27b7478b4e474ad56a53a6552f57dcba4</div><div id='time'> Time: 2021-02-16</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/vgg_face2_format.py</div><div id='m_class'> M Class Name: VggFace2Extractor</div><div id='n_method'> N Class Name: VggFace2Extractor</div><div id='m_method'> M Method Name: _load_items(2)</div><div id='n_method'> N Method Name: _load_items(2)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/vgg_face2_format.py</div><div id='n_file'> N File Name: datumaro/plugins/vgg_face2_format.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 99</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 118</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Train
        fit_begin = timeit.default_timer()
        results = self.numpy_client.fit(parameters, ins.config)
        if <a id="change">len(</a>results<a id="change">)</a> == 2:
            print(DEPRECATION_WARNING_FIT)
            results = cast(Tuple[List[np.ndarray], int], results)
            parameters_prime, num_examples = results</code></pre><h3>After Change</h3><pre><code class='java'>
        results: Tuple[List[np.ndarray], int, Metrics] = self.numpy_client.fit(
            parameters, ins.config
        )
        <a id="change">if </a>not (
            len(results) == 3
            and isinstance(results[0], list)
            and isinstance(results[1], int)
            and isinstance(results[2], dict)
        ):
            <a id="change">raise </a><a id="change">Exception(</a>EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT<a id="change">)</a>

        &#47&#47 Return FitRes
        parameters_prime, num_examples, metrics = results
        parameters_prime_proto = weights_to_parameters(parameters_prime)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/adap/flower/commit/78409ffe5947fd670fcc116d962f229b7355e9d1#diff-bb5109918c32c81de9776f88c4b3436c67e6ce38c9e1c75f57a8327d6028264bL220' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111527002</div><div id='project'> Project Name: adap/flower</div><div id='commit'> Commit Name: 78409ffe5947fd670fcc116d962f229b7355e9d1</div><div id='time'> Time: 2022-03-02</div><div id='author'> Author: daniel@adap.com</div><div id='file'> File Name: src/py/flwr/client/numpy_client.py</div><div id='m_class'> M Class Name: NumPyClientWrapper</div><div id='n_method'> N Class Name: NumPyClientWrapper</div><div id='m_method'> M Method Name: fit(2)</div><div id='n_method'> N Method Name: fit(2)</div><div id='m_parent_class'> M Parent Class: Client</div><div id='n_parent_class'> N Parent Class: Client</div><div id='m_file'> M File Name: src/py/flwr/client/numpy_client.py</div><div id='n_file'> N File Name: src/py/flwr/client/numpy_client.py</div><div id='m_start'> M Start Line: 226</div><div id='m_end'> M End Line: 238</div><div id='n_start'> N Start Line: 194</div><div id='n_end'> N End Line: 206</div><BR>