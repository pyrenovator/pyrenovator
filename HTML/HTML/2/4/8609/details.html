<html><h3>Pattern ID :8609
</h3><img src='29969721.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    else:
        if dof == 1 and correction:
            &#47&#47 Adjust `observed` according to Yates&quot correction for continuity.
            observed = observed<a id="change"> + </a>0.5 * <a id="change">np.sign(</a>expected - observed<a id="change">)</a>

        chi2, p = power_divergence(observed, expected,
                                   ddof=observed.size - 1 - dof, axis=None,
                                   lambda_=lambda_)</code></pre><h3>After Change</h3><pre><code class='java'>
        chi2 = 0.0
        p = 1.0
    else:
        <a id="change">if </a>dof == 1 and correction:
            &#47&#47 Adjust `observed` according to Yates&quot correction for continuity.
            &#47&#47 Magnitude of correction no bigger than difference; see gh-13875
            diff = expected - observed
            direction<a id="change"> = </a>np.sign(diff)
            magnitude = np.minimum(0.5, np.abs(diff))
            observed = observed + magnitude * direction
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/769e4b58cbdfab5e41a41b0e0aa76d28cce2dce6#diff-4c62579147bf5e7ba35cc6621e1d6bf5cd29970286e7a699b9f2b96259242a87L264' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29969721</div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: 769e4b58cbdfab5e41a41b0e0aa76d28cce2dce6</div><div id='time'> Time: 2021-04-22</div><div id='author'> Author: mhaberla@calpoly.edu</div><div id='file'> File Name: scipy/stats/contingency.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: chi2_contingency(3)</div><div id='n_method'> N Method Name: chi2_contingency(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scipy/stats/contingency.py</div><div id='n_file'> N File Name: scipy/stats/contingency.py</div><div id='m_start'> M Start Line: 264</div><div id='m_end'> M End Line: 292</div><div id='n_start'> N Start Line: 264</div><div id='n_end'> N End Line: 296</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            X = add_noise(_input, noise, batch=self.universal)
            noise.data = (X - _input).data
            if self.universal:
                noise.data = (<a id="change">noise.sign() * </a>noise.abs().mode(dim=0)).data

            if &quotmiddle&quot in output:
                self.output_info(_input=_input, noise=noise, mode=&quotmiddle&quot,</code></pre><h3>After Change</h3><pre><code class='java'>
            iteration = self.iteration
        if loss_fn is None:
            loss_fn = self.loss_fn
        <a id="change">if </a>add_noise_fn is None:
            add_noise_fn<a id="change"> = </a>add_noise
        output = self.get_output(output)

        &#47&#47 ----------------------------------------------------------------------------------------- &#47&#47</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/9793ccb0297417da9d157d5102d477d603da930f#diff-6329d4702b9ac5d31d2825508b3b5a6c26f879bb018bf95db5b52d825768d67bL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29969717</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: 9793ccb0297417da9d157d5102d477d603da930f</div><div id='time'> Time: 2020-07-23</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/optim/pgd.py</div><div id='m_class'> M Class Name: PGD</div><div id='n_method'> N Class Name: PGD</div><div id='m_method'> M Method Name: optimize(9)</div><div id='n_method'> N Method Name: optimize(8)</div><div id='m_parent_class'> M Parent Class: Optimizer</div><div id='n_parent_class'> N Parent Class: Optimizer</div><div id='m_file'> M File Name: trojanzoo/optim/pgd.py</div><div id='n_file'> N File Name: trojanzoo/optim/pgd.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 101</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 104</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 generate spikes
            if neg_spikes:
                activations = (
                    threshold_subtract(state.abs(), threshold, threshold * window)<a id="change">
                    * </a><a id="change">state.sign()</a>.int()
                )
            else:
                activations = threshold_subtract(state, threshold, threshold * window)</code></pre><h3>After Change</h3><pre><code class='java'>
        for iCurrentTimeStep in range(time_steps):

            &#47&#47 update neuron states (membrane potentials)
            <a id="change">if </a>self.membrane_reset:
                &#47&#47 sum the previous state only where there were no spikes
                state<a id="change"> = </a>syn_out[iCurrentTimeStep] + state * (activations == 0.)
            else:
                &#47&#47 subtract a number of membrane_subtract&quots as there are spikes
                state = syn_out[iCurrentTimeStep] + state - activations * self.membrane_subtract</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/synsense/sinabs/commit/fbb4862d52af98b7c3bd73ee1f6ba14184b01c7d#diff-63b28851f3bca65f50b74d1721940d0bc83b15339678ac1374d29e218416df4bL125' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29969716</div><div id='project'> Project Name: synsense/sinabs</div><div id='commit'> Commit Name: fbb4862d52af98b7c3bd73ee1f6ba14184b01c7d</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: martino.sorbaro@posteo.net</div><div id='file'> File Name: sinabs/layers/iaf_bptt.py</div><div id='m_class'> M Class Name: SpikingLayer</div><div id='n_method'> N Class Name: SpikingLayer</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: sinabs/layers/iaf_bptt.py</div><div id='n_file'> N File Name: sinabs/layers/iaf_bptt.py</div><div id='m_start'> M Start Line: 143</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 109</div><div id='n_end'> N End Line: 145</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.y0 = y0.reshape(-1)

        direction = ts[1] - ts[0]
        sgn = <a id="change">torch.sign(</a>direction<a id="change">)</a>
        self.ts = sgn<a id="change"> * </a>ts
        self.func = lambda t, y: sgn * fcn(sgn * t, y.reshape(self.yshape), *params).reshape(-1)
        self.dtype = y0.dtype
        self.device = y0.device</code></pre><h3>After Change</h3><pre><code class='java'>
        self.y0 = y0.reshape(-1)

        direction = ts[1] - ts[0]
        <a id="change">if </a>direction &lt; 0:
            self.ts = -ts
            self.func = lambda t, y: -fcn(-t, y.reshape(self.yshape), *params).reshape(-1)
        else:
            self.ts = ts
            self.func<a id="change"> = </a>lambda t, y: fcn(t, y.reshape(self.yshape), *params).reshape(-1)
        self.dtype = y0.dtype
        self.device = y0.device
        n = torch.numel(y0)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xitorch/xitorch/commit/1e02e71ab9e3aeaa1fa46453b766a14fb3712773#diff-1483d3ea142df8ec6c0e99905625e2421b3c2854fb87878e7255748ac68ae5a4L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29969718</div><div id='project'> Project Name: xitorch/xitorch</div><div id='commit'> Commit Name: 1e02e71ab9e3aeaa1fa46453b766a14fb3712773</div><div id='time'> Time: 2021-12-30</div><div id='author'> Author: firman.kasim@gmail.com</div><div id='file'> File Name: xitorch/_impls/integrate/ivp/adaptive_rk.py</div><div id='m_class'> M Class Name: RKAdaptiveStepSolver</div><div id='n_method'> N Class Name: RKAdaptiveStepSolver</div><div id='m_method'> M Method Name: setup(5)</div><div id='n_method'> N Method Name: setup(5)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: xitorch/_impls/integrate/ivp/adaptive_rk.py</div><div id='n_file'> N File Name: xitorch/_impls/integrate/ivp/adaptive_rk.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 50</div><BR>