<html><h3>Pattern ID :257
</h3><img src='1957509.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            num_workers=self.num_data_loader_workers)

        final_thetas = []
        <a id="change">for </a>_ in <a id="change">range(</a>n_samples<a id="change">):
            </a>with torch.no_grad():
                collect_theta = []
                for batch_samples in loader:
                    &#47&#47 batch_size x vocab_size</code></pre><h3>After Change</h3><pre><code class='java'>
        :param dataset: a PyTorch Dataset containing the documents
        :param n_samples: the number of sample to collect to estimate the final distribution (the more the better).
        
        <a id="change">warnings.warn("Call to `get_thetas` is deprecated and will be removed in version 2, "
                      "use `get_doc_topic_distribution` instead"</a>,
                      DeprecationWarning<a id="change">)</a>
        return self.get_doc_topic_distribution(dataset, n_samples=n_samples)

    def get_doc_topic_distribution(self, dataset, n_samples=20):
        </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/milanlproc/contextualized-topic-models/commit/9b1adf7ec2f171993316f8f309f32c50c6ce97bb#diff-bf5a606f5beed62eb945ca79ea05771772bc3581839780d352774f12fb8f33c9L251' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1957509</div><div id='project'> Project Name: milanlproc/contextualized-topic-models</div><div id='commit'> Commit Name: 9b1adf7ec2f171993316f8f309f32c50c6ce97bb</div><div id='time'> Time: 2020-12-10</div><div id='author'> Author: s.terragni4@campus.unimib.it</div><div id='file'> File Name: contextualized_topic_models/models/ctm.py</div><div id='m_class'> M Class Name: CTM</div><div id='n_method'> N Class Name: CTM</div><div id='m_method'> M Method Name: get_thetas(3)</div><div id='n_method'> N Method Name: get_thetas(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: contextualized_topic_models/models/ctm.py</div><div id='n_file'> N File Name: contextualized_topic_models/models/ctm.py</div><div id='m_start'> M Start Line: 252</div><div id='m_end'> M End Line: 278</div><div id='n_start'> N Start Line: 251</div><div id='n_end'> N End Line: 254</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        assert env.num_envs == 1, "You must pass only one environment when using this function"

    episode_rewards, episode_lengths = [], []
    <a id="change">for </a>i in <a id="change">range(</a>n_eval_episodes<a id="change">):
        &#47&#47 Avoid double reset, as VecEnv are reset automatically
        </a>if not isinstance(env, VecEnv) or i == 0:
            obs = env.reset()
        done, state = False, None
        episode_reward = 0.0</code></pre><h3>After Change</h3><pre><code class='java'>
        is_monitor_wrapped = is_wrapped(env, Monitor)

    if not is_monitor_wrapped and warn:
        <a id="change">warnings.warn(
            "Evaluation environment is not wrapped with a ``Monitor`` wrapper. "
            "This may result in reporting modified episode lengths and rewards, if other wrappers happen to modify these. "
            "Consider wrapping environment first with ``Monitor`` wrapper."</a>,
            UserWarning<a id="change">,
        )</a>

    episode_rewards, episode_lengths = [], []
    not_reseted = True
    while len(episode_rewards) &lt; n_eval_episodes:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dlr-rm/stable-baselines3/commit/18d10dbf42dd6dff6d457b45b521fdf2a1169a7e#diff-fd554e02b98d03695ac461e34fa86b2bcc5523a9f3106fdb60d0d3d81a72aaa6L10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1957510</div><div id='project'> Project Name: dlr-rm/stable-baselines3</div><div id='commit'> Commit Name: 18d10dbf42dd6dff6d457b45b521fdf2a1169a7e</div><div id='time'> Time: 2020-11-16</div><div id='author'> Author: kaneran21@hotmail.com</div><div id='file'> File Name: stable_baselines3/common/evaluation.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: evaluate_policy(9)</div><div id='n_method'> N Method Name: evaluate_policy(8)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: stable_baselines3/common/evaluation.py</div><div id='n_file'> N File Name: stable_baselines3/common/evaluation.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 108</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            text_column: template.format(label_name),
            label_column: label_vector if multi_label else label_id,
        }
        <a id="change">for </a>_ in <a id="change">range(</a>sample_size<a id="change">):
            </a>dataset = dataset.add_item(example)

    return dataset
</code></pre><h3>After Change</h3><pre><code class='java'>


def add_templated_examples(*args, **kwargs) -&gt; None:
    <a id="change">warnings.warn(
        "`add_templated_examples` has been deprecated and will be removed in v1.0.0 of SetFit. "
        " Please use `get_templated_dataset` instead."</a>,
        DeprecationWarning<a id="change">,
        stacklevel=2,
    )</a>


def get_candidate_labels(dataset_name: str, label_names_column: str = "label_text") -&gt; List[str]:
    dataset = load_dataset(dataset_name, split="train")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/setfit/commit/b90fdc522fe2f3f48d4c93c01693349ad45780e7#diff-ccb475a46404ffc81db65669c025006c150b99c6be024fabf2f150ea2ad6b2cbL157' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1957507</div><div id='project'> Project Name: huggingface/setfit</div><div id='commit'> Commit Name: b90fdc522fe2f3f48d4c93c01693349ad45780e7</div><div id='time'> Time: 2023-02-07</div><div id='author'> Author: daniel.korat@intel.com</div><div id='file'> File Name: src/setfit/data.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_templated_examples(0)</div><div id='n_method'> N Method Name: add_templated_examples(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/setfit/data.py</div><div id='n_file'> N File Name: src/setfit/data.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 217</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 119</div><BR>