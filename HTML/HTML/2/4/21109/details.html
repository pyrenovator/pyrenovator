<html><h3>Pattern ID :21109
</h3><img src='67768991.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    assert len(y) == len(y_bottom) and len(y_bottom) == len(y_top)
    plt.plot(x, y, color=color, label=legend)
    plt.fill_between(x, y_top, y_bottom, color=color, alpha=0.3)
    <a id="change">plt.legend()</a>

def filename_filter(fnames=[], filter={}):
    if filter:
        for key in filter.keys():</code></pre><h3>After Change</h3><pre><code class='java'>

def draw_curve_with_range(x, y, y_bottom, y_top, legend=&quot&quot, color=&quot&quot, ax=None):
    assert len(y) == len(y_bottom) and len(y_bottom) == len(y_top)
    <a id="change">if ax==None</a>: ax<a id="change">=</a>plt
    ax.plot(x, y, color=color, label=legend)
    ax.fill_between(x, y_top, y_bottom, color=color, alpha=0.3)
    ax.legend()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/wwzzz/easyfl/commit/76492d038ba28d59ae72b442e2c9783ca7e33c6f#diff-4b5428233d28b08029656a9e8d97b272640e495d45778d069e15d41ff59aa098L66' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67768991</div><div id='project'> Project Name: wwzzz/easyfl</div><div id='commit'> Commit Name: 76492d038ba28d59ae72b442e2c9783ca7e33c6f</div><div id='time'> Time: 2022-07-27</div><div id='author'> Author: zzz510711928@gmail.com</div><div id='file'> File Name: utils/result_analysis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: draw_curve_with_range(7)</div><div id='n_method'> N Method Name: draw_curve_with_range(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/result_analysis.py</div><div id='n_file'> N File Name: utils/result_analysis.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 71</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        norm_regret = np.sort(1 - (np.array(target) / np.max(target)))
        y = np.arange(len(norm_regret)) / float(len(norm_regret) - 1)
        plt.plot(norm_regret, y)
    <a id="change">plt.legend(</a>data_list<a id="change">, fontsize=23, loc=&quotlower right&quot)</a>
    plt.savefig(f&quot{model}_{sample_client}_cdf.pdf&quot, bbox_inches=&quottight&quot)
    plt.close()

    return target</code></pre><h3>After Change</h3><pre><code class='java'>
        legend = [&quotCoLA&quot, &quotSST2&quot]
    elif data_list[0].endswith(&quotopenml&quot):
        legend = [x.split(&quot@&quot)[0] for x in data_list]
    elif <a id="change">data_list[0].lower == &quotcora&quot</a>:
        legend = [&quotCora&quot, &quotCiteSeer&quot, &quotPubMed&quot]
    else:
        legend<a id="change"> = </a>[x.upper() for x in data_list]
    os.makedirs(&quotfigures&quot, exist_ok=True)
    plt.savefig(f&quotfigures/{model}_{sample_client}_{algo}_cdf.pdf&quot, bbox_inches=&quottight&quot)
    plt.close()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alibaba/federatedscope/commit/fccacfc46144d6306e8e32fefe629bd08ef2a289#diff-2d2f339f30cbba368833b4435d9a44cdfae36db55be4aca5524ba60d0ae6486aL21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67768994</div><div id='project'> Project Name: alibaba/federatedscope</div><div id='commit'> Commit Name: fccacfc46144d6306e8e32fefe629bd08ef2a289</div><div id='time'> Time: 2022-06-17</div><div id='author'> Author: 39145382+rayrayraykk@users.noreply.github.com</div><div id='file'> File Name: benchmark/FedHPOB/fedhpob/utils/draw.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: ecdf(5)</div><div id='n_method'> N Method Name: ecdf(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: benchmark/FedHPOB/fedhpob/utils/draw.py</div><div id='n_file'> N File Name: benchmark/FedHPOB/fedhpob/utils/draw.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 64</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        plt.hlines(threshold, plt_x[0], plt_x[-1], colors=&quotg&quot,
                   linestyles=&quotdashed&quot)

    <a id="change">plt.legend(</a>["Test", "Prediction"]<a id="change">)</a>
    if savefig is not None:
        plt.savefig(savefig)

</code></pre><h3>After Change</h3><pre><code class='java'>
        
    legend = ["Test", "Prediction"]
    
    <a id="change">if y_total is not None</a>:
        plt_total = y_total[:, :, idx].flatten().copy()
        assert len(plt_total) == len(plt_test), "All arrays must have the same length."
        plt.plot(plt_x, plt_total, alpha=.75)
        legend<a id="change"> += </a>["Total load"]
        
    
    plt.ylabel("Load (w)")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/uca-datalab/nilm-thresholding/commit/dcd15feeb938d4b72d0923dc0951d8e0a73261c7#diff-f9822c626254b1a33e84c2d9a3d4e2c5336801789c4842a1f60b5738b0391093L5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67768995</div><div id='project'> Project Name: uca-datalab/nilm-thresholding</div><div id='commit'> Commit Name: dcd15feeb938d4b72d0923dc0951d8e0a73261c7</div><div id='time'> Time: 2020-05-19</div><div id='author'> Author: danipg1409@gmail.com</div><div id='file'> File Name: better_nilm/plot_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_real_vs_prediction(7)</div><div id='n_method'> N Method Name: plot_real_vs_prediction(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: better_nilm/plot_utils.py</div><div id='n_file'> N File Name: better_nilm/plot_utils.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 6</div><div id='n_end'> N End Line: 55</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    plt.title(&quotLoss vs Epoch&quot)
    plt.xlabel(&quotEpoch&quot)
    plt.ylabel(&quotLoss&quot)
    <a id="change">plt.legend()</a>
    plt.show()


if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    model = build_trajectory_predict_from_config(config)
    model = model.to(device)

    <a id="change">if &quotprevious_path&quot in config</a>:
        model_state<a id="change"> = </a>torch.load(config[&quotprevious_path&quot], map_location=device)
        model.load_state_dict(model_state)

    dataset = IntentTransformerDataset(dataset_nums, img_transform=transforms.ToTensor())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xushenlz/parksim/commit/ec66e2d8e096621262c882cb331d5b4387849163#diff-33b540a9344dde6a065c215e5a2a465ce920043ef4845b18f62f8d42536c99c2L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67768992</div><div id='project'> Project Name: xushenlz/parksim</div><div id='commit'> Commit Name: ec66e2d8e096621262c882cb331d5b4387849163</div><div id='time'> Time: 2022-04-05</div><div id='author'> Author: lacayomatt@gmail.com</div><div id='file'> File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_model(8)</div><div id='n_method'> N Method Name: train_model(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='n_file'> N File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 115</div><div id='n_end'> N End Line: 145</div><BR>