<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    if gallery_ids is None:
        gallery_ids = np.arange(n)
    if query_cams is None:
        query_cams<a id="change"> = </a><a id="change">np.zeros(m).astype(</a>np.int32<a id="change">)</a>
    if gallery_cams is None:
        gallery_cams = np.ones(n).astype(np.int32)
    &#47&#47 Ensure numpy array
    query_ids = np.asarray(query_ids)</code></pre><h3>After Change</h3><pre><code class='java'>


def mean_ap(dist_mat, query_ids, gallery_ids, query_cams, gallery_cams):
    dist_mat = <a id="change">dist_mat.cpu().numpy()</a>
    m, n = dist_mat.shape
    &#47&#47 Ensure numpy array
    query_ids = np.asarray(query_ids)
    gallery_ids = np.asarray(gallery_ids)</code></pre>