<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        &#47&#47 TODO: backard compatibility for users without audio dependencies
        array, sampling_rate = (
            self._decode_example_with_torchaudio(value)<a id="change">
            if </a>value.endswith(".mp3")<a id="change">
            else </a>self._decode_example_with_librosa(value)
        )
        return {"path": value, "array": array, "sampling_rate": sampling_rate}
</code></pre><h3>After Change</h3><pre><code class='java'>
            dict
        
        path, file = (value["path"], BytesIO(value["bytes"])) if isinstance(value, dict) else (value, None)
        <a id="change">if </a><a id="change">path.endswith("mp3"</a><a id="change">)</a>:
            array, sampling_rate = self._decode_mp3(file if file else path)
        else:
            if file:</code></pre>