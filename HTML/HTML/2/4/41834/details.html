<html><h3>Pattern ID :41834
</h3><img src='117239887.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    net = DummyModule()

    _, targets, _ = <a id="change">next(iter(</a>net.train_dataloader()<a id="change">)</a><a id="change">)</a>
    preds = torch.ones_like(targets, dtype=torch.float) * 0.1

    pl_map = AveragePrecision()(preds, targets)
</code></pre><h3>After Change</h3><pre><code class='java'>
    targets = torch.tensor(
        [[0, 1], [0, 1], [0, 1], [0, 1], [1, 0], [1, 0], [1, 0], [1, 0]]
    )
    preds = torch.tensor(<a id="change">[[0.1, 0.9] for _ in range(8)]</a>).clone()

    pl_map = AveragePrecision(num_classes=2)(preds, targets)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lukashedegaard/ride/commit/f5999d37b0145bccece1fc62606cf85d9f69cdf9#diff-c013839ae9f8d11da7ba9ed964de9d4b9ef733c1dd3d1a5487f32a5b2062e1cfL39' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239887</div><div id='project'> Project Name: lukashedegaard/ride</div><div id='commit'> Commit Name: f5999d37b0145bccece1fc62606cf85d9f69cdf9</div><div id='time'> Time: 2021-05-17</div><div id='author'> Author: lukasxhedegaard@gmail.com</div><div id='file'> File Name: tests/test_metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_MeanAveragePrecisionMetric(0)</div><div id='n_method'> N Method Name: test_MeanAveragePrecisionMetric(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_metrics.py</div><div id='n_file'> N File Name: tests/test_metrics.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            pin_memory=True
        )
        self.device = device
        self.support_images, self.support_labels = <a id="change">next(iter(</a>self.val_loader<a id="change">)</a><a id="change">)</a>

    def get_images(self):
        
            Returns the support set images on the selected device</code></pre><h3>After Change</h3><pre><code class='java'>
        super().__init__(**kwargs)

        self.device = device
        self.images = torch.stack(<a id="change">[instance[0] for instance in self]</a>).to(self.device)

    def get_images(self) -&gt; Tensor:
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sicara/easy-few-shot-learning/commit/985ed0366e526c9fc1323d77fafa7b99539b70ab#diff-3d9401fbf15e82b19d727dc8197560f7d63abef0bed5cfe86e4a22c730f83ca5L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239888</div><div id='project'> Project Name: sicara/easy-few-shot-learning</div><div id='commit'> Commit Name: 985ed0366e526c9fc1323d77fafa7b99539b70ab</div><div id='time'> Time: 2022-06-23</div><div id='author'> Author: etienne.bennequin@gmail.com</div><div id='file'> File Name: easyfsl/methods/support_set_folder.py</div><div id='m_class'> M Class Name: SupportSetFolder</div><div id='n_method'> N Class Name: SupportSetFolder</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: easyfsl/methods/support_set_folder.py</div><div id='n_file'> N File Name: easyfsl/methods/support_set_folder.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for bar in bars:
                ts_ = bar[m21.meter.TimeSignature]
                if ts_:
                    ts = <a id="change">next(iter(</a>ts_<a id="change">)</a><a id="change">)</a>
                lst_bar_n_ts.append((bar, ts))

            encs = []
            for i, (bar, ts) in enumerate(lst_bar_n_ts):</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 Get signature for each bar
            bars = iter(list(part[m21.stream.Measure]))
            lst_bar_n_ts = bars2lst_bar_n_ts(bars)
            encs = <a id="change">[MxlMelodyExtractor.BarEnc(bar, ts, self.prec) for (bar, ts) in lst_bar_n_ts]</a>
            ic(encs)
            exit(1)
        else:
            return scr</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stefanheng/symbolic-music-generation/commit/8d126cbf838b183b5e5d3de6015f90ece225b964#diff-9bddc1ec410935c3b7e65a0e53b587a68e1dda58d8f63e4abcaf788573ad9f27L453' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239889</div><div id='project'> Project Name: stefanheng/symbolic-music-generation</div><div id='commit'> Commit Name: 8d126cbf838b183b5e5d3de6015f90ece225b964</div><div id='time'> Time: 2021-12-19</div><div id='author'> Author: 43276957+SpongeBobBang@users.noreply.github.com</div><div id='file'> File Name: melody_extractor.py</div><div id='m_class'> M Class Name: MxlMelodyExtractor</div><div id='n_method'> N Class Name: MxlMelodyExtractor</div><div id='m_method'> M Method Name: bar_with_max_pitch(2)</div><div id='n_method'> N Method Name: bar_with_max_pitch(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: melody_extractor.py</div><div id='n_file'> N File Name: melody_extractor.py</div><div id='m_start'> M Start Line: 508</div><div id='m_end'> M End Line: 525</div><div id='n_start'> N Start Line: 504</div><div id='n_end'> N End Line: 506</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            range(math.ceil(len(iterables) / chunksize)),
            show_progress_bar=show_progress_bar,
        )
        progress_iterator = <a id="change">iter(</a>progress_tracker<a id="change">)</a>

        futures = [executor.submit(func, it) for it in chunk(iterables, chunksize)]
        results = []
        for future in as_completed(futures):
            results.append(future.result())
            if progress_tracker is not None:
                <a id="change">next(</a>progress_iterator<a id="change">)</a>
            if show_progress_bar is True:
                progress_tracker.update(1)
        return results
</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            wait(futures)

        return <a id="change">[future.result() for future in futures]</a>


def multiprocess(
    func,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/relevanceai/relevanceai/commit/3b6dd0a23a66ed66c8be5b62ebb695777f6658e7#diff-28a3e5672155b2774ae2da10267af6d75cca456030f216bf1c41e5d8dd383b05L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117239890</div><div id='project'> Project Name: relevanceai/relevanceai</div><div id='commit'> Commit Name: 3b6dd0a23a66ed66c8be5b62ebb695777f6658e7</div><div id='time'> Time: 2022-03-28</div><div id='author'> Author: eugene.ofriel@relevance.ai</div><div id='file'> File Name: relevanceai/utils/concurrency.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: multithread(5)</div><div id='n_method'> N Method Name: multithread(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: relevanceai/utils/concurrency.py</div><div id='n_file'> N File Name: relevanceai/utils/concurrency.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 34</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 37</div><BR>