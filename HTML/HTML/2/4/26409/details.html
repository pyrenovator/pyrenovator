<html><h3>Pattern ID :26409
</h3><img src='79239627.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                else:
                    raise KeyError(f&quotcan not find task meta data from {cfg.load_from}.&quot)
            elif train_data_cfg.get(&quotnew_classes&quot):
                if <a id="change">model_meta.get(&quotCLASSES&quot</a>, False<a id="change">)</a>:
                    dst_classes, _ = refine_cls(train_data_cfg, model_meta, adapt_type)
                    cfg.model.head.num_classes = len(dst_classes)
                else:</code></pre><h3>After Change</h3><pre><code class='java'>
                    sampler_type = &quotbalanced&quot

                    if len(set(model_classes) & set(dst_classes)) == 0 or set(model_classes) == set(dst_classes):
                        cfg.model.head.loss<a id="change"> = </a><a id="change">dict(type=&quotCrossEntropyLoss&quot, loss_weight=1.0)</a>
                    else:
                        cfg.model.head.loss = ConfigDict(
                            type=&quotSoftmaxFocalLoss&quot,
                            loss_weight=1.0,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/model_preparation_algorithm/commit/791c40fccdb87fd5bd6fbd1d66ffe74db243f0b2#diff-69531f489bec684a37e43b8b114a3d15e824e5266392aa07d36a5ceb497fa38aL146' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79239627</div><div id='project'> Project Name: openvinotoolkit/model_preparation_algorithm</div><div id='commit'> Commit Name: 791c40fccdb87fd5bd6fbd1d66ffe74db243f0b2</div><div id='time'> Time: 2022-07-11</div><div id='author'> Author: harim.kang@intel.com</div><div id='file'> File Name: mpa/cls/stage.py</div><div id='m_class'> M Class Name: ClsStage</div><div id='n_method'> N Class Name: ClsStage</div><div id='m_method'> M Method Name: configure_task(3)</div><div id='n_method'> N Method Name: configure_task(3)</div><div id='m_parent_class'> M Parent Class: Stage</div><div id='n_parent_class'> N Parent Class: Stage</div><div id='m_file'> M File Name: mpa/cls/stage.py</div><div id='n_file'> N File Name: mpa/cls/stage.py</div><div id='m_start'> M Start Line: 146</div><div id='m_end'> M End Line: 250</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 243</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        for label in model.cfg.get("labels", []):
                            self.textcat_per_cat[label] = ROCAUCScore()
                    else:
                        for label in <a id="change">model.cfg.get("labels"</a>, []<a id="change">)</a>:
                            self.textcat_per_cat[label] = PRFScore()

    @property</code></pre><h3>After Change</h3><pre><code class='java'>
        self.eval_punct = eval_punct
        self.textcat = PRFScore()
        self.textcat_f_per_cat = dict()
        self.textcat_auc_per_cat<a id="change"> = </a><a id="change">dict()</a>
        self.textcat_positive_label = None
        self.textcat_multilabel = False

        if pipeline:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/c0f4a1e43b5210ea631809ea590b486bca066d25#diff-abd839b42c933d1c787f466b78195f04d5bec0cf3c8af9895c2ba65c9e23d4d3L69' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79239629</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: c0f4a1e43b5210ea631809ea590b486bca066d25</div><div id='time'> Time: 2020-06-11</div><div id='author'> Author: svlandeg@users.noreply.github.com</div><div id='file'> File Name: spacy/scorer.py</div><div id='m_class'> M Class Name: Scorer</div><div id='n_method'> N Class Name: Scorer</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: spacy/scorer.py</div><div id='n_file'> N File Name: spacy/scorer.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 91</div><div id='n_end'> N End Line: 106</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for name, encoder in dataset.categorical_encoders.items()
            if name in dataset.categoricals
        }
        embedding_sizes.update(<a id="change">kwargs.get("embedding_sizes"</a>, {}<a id="change">)</a>)
        kwargs.setdefault("embedding_sizes", embedding_sizes)

        new_kwargs = dict(</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            TemporalFusionTransformer
        
        new_kwargs<a id="change"> = </a><a id="change">dict(
            max_encoder_length=dataset.max_encoder_length,
        )</a>
        new_kwargs.update(kwargs)

        &#47&#47 create class and return
        return super().from_dataset(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jdb78/pytorch-forecasting/commit/f8dcb364bda18a7651aea218661de68d3432c17b#diff-76ca71ffaeab9ec5eca22b512d1ed2460e8173ce9feb6e881188098900f5f8d4L331' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79239628</div><div id='project'> Project Name: jdb78/pytorch-forecasting</div><div id='commit'> Commit Name: f8dcb364bda18a7651aea218661de68d3432c17b</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: beitner.jan@bcg.com</div><div id='file'> File Name: pytorch_forecasting/models/temporal_fusion_transformer/__init__.py</div><div id='m_class'> M Class Name: TemporalFusionTransformer</div><div id='n_method'> N Class Name: TemporalFusionTransformer</div><div id='m_method'> M Method Name: from_dataset(3)</div><div id='n_method'> N Method Name: from_dataset(3)</div><div id='m_parent_class'> M Parent Class: BaseModelWithCovariates</div><div id='n_parent_class'> N Parent Class: CovariatesMixin,BaseModel</div><div id='m_file'> M File Name: pytorch_forecasting/models/temporal_fusion_transformer/__init__.py</div><div id='n_file'> N File Name: pytorch_forecasting/models/temporal_fusion_transformer/__init__.py</div><div id='m_start'> M Start Line: 348</div><div id='m_end'> M End Line: 388</div><div id='n_start'> N Start Line: 336</div><div id='n_end'> N End Line: 338</div><BR>