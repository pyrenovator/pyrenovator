<html><h3>Pattern ID :36168
</h3><img src='102539677.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 astred and cross
    print(&quotADDING CROSS AND ASTRED&quot)
    partial_func<a id="change"> = </a><a id="change">partial(</a>process_astred_cross, method<a id="change">)</a>

    &#47&#47 dirty looking way of fast processing
    &#47&#47 as taken from https://stackoverflow.com/a/60056244/1150683
    row_list = df.progress_apply(partial_func, axis=1)</code></pre><h3>After Change</h3><pre><code class='java'>

    if args.j &gt; 1:
        splits = np.array_split(df, args.splits)
        partial_func<a id="change"> = </a><a id="change">partial(</a>mapable_df_process, gpu_partial_process<a id="change">)</a>
        with Pool(processes=cargs.j) as pool:
            row_list = pd.concat(tqdm(pool.imap(partial_func, splits),
                                      total=args.splits,
                                      unit=&quotsplit&quot))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bramvanroy/astred/commit/8893b5c8514d739d55727a28ec1c1cb2ddcf033a#diff-ec1db5bc7ea2d927b69fb88bc7cf8f6c93e6a73308cdf48ec33987d97c122c1aL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539677</div><div id='project'> Project Name: bramvanroy/astred</div><div id='commit'> Commit Name: 8893b5c8514d739d55727a28ec1c1cb2ddcf033a</div><div id='time'> Time: 2020-03-02</div><div id='author'> Author: Bram.Vanroy@UGent.be</div><div id='file'> File Name: add_info_to_df.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: add_info_to_df.py</div><div id='n_file'> N File Name: add_info_to_df.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 JIT layers
        space_to_depth = SpaceToDepthModule()
        anti_alias_layer<a id="change"> = </a><a id="change">partial(</a>AntiAliasDownsampleLayer<a id="change">, remove_aa_jit=remove_aa_jit)</a>
        global_pool_layer = FastGlobalAvgPool2d(flatten=True)

        &#47&#47 TResnet stages
        self.inplanes = int(64 * width_factor)</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 JIT layers
        space_to_depth = SpaceToDepthModule()
        anti_alias_layer<a id="change"> = </a><a id="change">partial(</a>AntiAliasDownsampleLayer<a id="change">, no_jit=no_aa_jit)</a>

        &#47&#47 TResnet stages
        self.inplanes = int(64 * width_factor)
        self.planes = int(64 * width_factor)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/feng-lab/pytorch-image-models/commit/0004f37d25d59622ae82b3b9cc3583ddacff97c9#diff-15da048fc3e62ae4c12366d1079db584065a18bb773dd84712938885caa09cbcL179' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539688</div><div id='project'> Project Name: feng-lab/pytorch-image-models</div><div id='commit'> Commit Name: 0004f37d25d59622ae82b3b9cc3583ddacff97c9</div><div id='time'> Time: 2020-04-27</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: timm/models/tresnet.py</div><div id='m_class'> M Class Name: TResNet</div><div id='n_method'> N Class Name: TResNet</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: timm/models/tresnet.py</div><div id='n_file'> N File Name: timm/models/tresnet.py</div><div id='m_start'> M Start Line: 181</div><div id='m_end'> M End Line: 217</div><div id='n_start'> N Start Line: 195</div><div id='n_end'> N End Line: 234</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.ups = nn.ModuleList([])

        num_resolutions = len(in_out)
        conv_next<a id="change"> = </a><a id="change">partial(</a>ConvNextBlock<a id="change">, time_emb_dim = time_dim)</a>

        for ind, (dim_in, dim_out) in enumerate(in_out):
            is_last = ind &gt;= (num_resolutions - 1)
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.ups = nn.ModuleList([])

        num_resolutions = len(in_out)
        conv_next<a id="change"> = </a><a id="change">partial(</a>ConvNextBlock<a id="change">, time_emb_dim = cond_dim)</a>

        for ind, (dim_in, dim_out) in enumerate(in_out):
            is_last = ind &gt;= (num_resolutions - 1)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/video-diffusion-pytorch/commit/4303661251b10ebd99a44d7f1fe6f2177678b248#diff-4ff1a95f5e6b9add82d0e523fd2d858ca38e67b393ea87c2ae88a8b14a0fbb1cL216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539689</div><div id='project'> Project Name: lucidrains/video-diffusion-pytorch</div><div id='commit'> Commit Name: 4303661251b10ebd99a44d7f1fe6f2177678b248</div><div id='time'> Time: 2022-04-13</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: video_diffusion_pytorch/video_diffusion_pytorch.py</div><div id='m_class'> M Class Name: Unet3D</div><div id='n_method'> N Class Name: Unet3D</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: video_diffusion_pytorch/video_diffusion_pytorch.py</div><div id='n_file'> N File Name: video_diffusion_pytorch/video_diffusion_pytorch.py</div><div id='m_start'> M Start Line: 241</div><div id='m_end'> M End Line: 241</div><div id='n_start'> N Start Line: 227</div><div id='n_end'> N End Line: 255</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        rotate = partial(rotate_point, -map_raster_rotation, map_raster_size)
        fov_in_pix = np.apply_along_axis(rotate, 2, fov_in_pix)

    convert<a id="change"> = </a><a id="change">partial(</a>convert_pix_to_wgs84, map_raster_size, map_raster_bbox<a id="change">)</a>
    if logger is not None:
        logger.debug(&quotFoV in pix:\n{}.\n&quot.format(fog_in_pix))
    fov_in_wgs84 = np.apply_along_axis(convert, 2, fov_in_pix)
</code></pre><h3>After Change</h3><pre><code class='java'>
    
    rotate = partial(rotate_point, -map_raster_rotation, map_raster_dim)
    fov_in_pix = np.apply_along_axis(rotate, 2, fov_in_pix)
    convert<a id="change"> = </a><a id="change">partial(</a>convert_pix_to_wgs84, map_raster_dim, map_raster_bbox<a id="change">)</a>
    if logger is not None:
        logger.debug(&quotFoV in pix:\n{}.\n&quot.format(fov_in_pix))
    fov_in_wgs84 = np.apply_along_axis(convert, 2, fov_in_pix)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hmakelin/gisnav/commit/ded646b6c495f3ffabee4138273eefbcdfa2c2d8#diff-ed2d848d4c939e8139b5f64803732c50c8aca3c2d58f9ad11b84cf31377f68bcL151' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539684</div><div id='project'> Project Name: hmakelin/gisnav</div><div id='commit'> Commit Name: ded646b6c495f3ffabee4138273eefbcdfa2c2d8</div><div id='time'> Time: 2021-11-02</div><div id='author'> Author: hmakelin@protonmail.com</div><div id='file'> File Name: wms_map_matching/util.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: convert_fov_from_pix_to_wgs84(5)</div><div id='n_method'> N Method Name: convert_fov_from_pix_to_wgs84(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wms_map_matching/util.py</div><div id='n_file'> N File Name: wms_map_matching/util.py</div><div id='m_start'> M Start Line: 161</div><div id='m_end'> M End Line: 169</div><div id='n_start'> N Start Line: 161</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    data.path = [f&quot/mnt/vepfs/hb/protein_small/{i}&quot for i in range(7)]
    data.preprocess = []
    if not &quotgcn&quot in spec:
        data.preprocess<a id="change"> = </a>[<a id="change">partial(</a>computeEdgeIndex<a id="change">, r_max=9999)</a>]
    if &quotsidechain_agnostic&quot in spec:
        data.preprocess.append(maskSpecies)
        </code></pre><h3>After Change</h3><pre><code class='java'>
            },
        )
    )
    layer_configs.layers<a id="change"> = </a>[(&quotedge_index&quot, <a id="change">partial(</a>computeEdgeIndex<a id="change">, r_max=8.0/data.std, criteria=criteria)</a>)] + layer_configs.layers
    model.update(layer_configs)

    return config</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/20171130/equivariant-nn-zoo/commit/fff27788768bfc6a33f5535a6d9629a4870b3f1f#diff-6fef5c9ae809a39b4460c9b883094194d19807ec6807f5cbfe0dd785afa4f918L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539685</div><div id='project'> Project Name: 20171130/equivariant-nn-zoo</div><div id='commit'> Commit Name: fff27788768bfc6a33f5535a6d9629a4870b3f1f</div><div id='time'> Time: 2022-07-19</div><div id='author'> Author: hangruibi@outlook.com</div><div id='file'> File Name: e3_layers/configs/config_diffusion_protein.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_config(1)</div><div id='n_method'> N Method Name: get_config(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: e3_layers/configs/config_diffusion_protein.py</div><div id='n_file'> N File Name: e3_layers/configs/config_diffusion_protein.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 72</div><div id='n_end'> N End Line: 134</div><BR>