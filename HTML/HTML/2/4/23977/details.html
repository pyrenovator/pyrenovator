<html><h3>Pattern ID :23977
</h3><img src='74546419.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    @overrides
    def copy_search_to_eval(self)-&gt;None:
        &#47&#47 get folder of model gallery that search has produced
        conf_search = <a id="change">self.get_conf_search()</a>
        search_desc_foldername = conf_search[&quotfinal_desc_foldername&quot]
        search_desc_folderpath = utils.full_path(search_desc_foldername)
        assert search_desc_foldername and os.path.exists(search_desc_folderpath)

        &#47&#47 get folder path that eval would need
        conf_eval = <a id="change">self.get_conf_eval()</a>
        eval_desc_foldername = conf_eval[&quotfinal_desc_foldername&quot]
        eval_desc_folderpath = utils.full_path(eval_desc_foldername)
        assert eval_desc_folderpath</code></pre><h3>After Change</h3><pre><code class='java'>
        assert search_desc_foldername and os.path.exists(search_desc_folderpath)

        &#47&#47 get folder path that eval would need
        conf_eval = <a id="change">self.get_conf(</a>False<a id="change">)</a>[&quotnas&quot][&quoteval&quot]
        eval_desc_foldername = conf_eval[&quotfinal_desc_foldername&quot]
        eval_desc_folderpath = utils.full_path(eval_desc_foldername)
        assert eval_desc_folderpath</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9#diff-50b348495fbf788f94f506bc262f4f1ad7cb5b873ce2480fa1c35536a4e6bdb9L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74546419</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: archai/algos/petridish/petridish_exp_runner.py</div><div id='m_class'> M Class Name: PetridishExperimentRunner</div><div id='n_method'> N Class Name: PetridishExperimentRunner</div><div id='m_method'> M Method Name: copy_search_to_eval(1)</div><div id='n_method'> N Method Name: copy_search_to_eval(1)</div><div id='m_parent_class'> M Parent Class: ExperimentRunner</div><div id='n_parent_class'> N Parent Class: ExperimentRunner</div><div id='m_file'> M File Name: archai/algos/petridish/petridish_exp_runner.py</div><div id='n_file'> N File Name: archai/algos/petridish/petridish_exp_runner.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        search_result, eval_result = None, None

        if search: &#47&#47 run search
            search_result = self.run_search(<a id="change">self.get_conf_search(clean_expdir=self.clean_expdir)</a>)

        if eval:
            if search:
                &#47&#47 below is only done to remove existing expdir
                _ = self.get_conf_eval(clean_expdir=self.clean_expdir)
                self.copy_search_to_eval()

            eval_result = self.run_eval(<a id="change">self.get_conf_eval()</a>)

        return search_result, eval_result
</code></pre><h3>After Change</h3><pre><code class='java'>

        if eval:
            if self.clean_expdir:
                conf = <a id="change">self.get_conf(</a>False<a id="change">)</a>
                common.clean_ensure_expdir(conf, ensure_dir=True)
            if search:
                &#47&#47 first copy search result to eval, otherwise we expect eval config to point to results</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9#diff-75bd0b4e7bede160eb0920362b8bd4a05a4e3511204ed6fc09bc0ec32eccf4dfL43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74546418</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: archai/nas/exp_runner.py</div><div id='m_class'> M Class Name: ExperimentRunner</div><div id='n_method'> N Class Name: ExperimentRunner</div><div id='m_method'> M Method Name: run(3)</div><div id='n_method'> N Method Name: run(3)</div><div id='m_parent_class'> M Parent Class: ABC,EnforceOverrides</div><div id='n_parent_class'> N Parent Class: ABC,EnforceOverrides</div><div id='m_file'> M File Name: archai/nas/exp_runner.py</div><div id='n_file'> N File Name: archai/nas/exp_runner.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    @overrides
    def copy_search_to_eval(self)-&gt;None:
        &#47&#47 get folder of model gallery that search has produced
        conf_search = <a id="change">self.get_conf_search()</a>
        search_desc_foldername = conf_search[&quotfinal_desc_foldername&quot]
        search_desc_folderpath = utils.full_path(search_desc_foldername)
        assert search_desc_foldername and os.path.exists(search_desc_folderpath)

        &#47&#47 get folder path that eval would need
        conf_eval = <a id="change">self.get_conf_eval()</a>
        eval_desc_foldername = conf_eval[&quotfinal_desc_foldername&quot]
        eval_desc_folderpath = utils.full_path(eval_desc_foldername)
        assert eval_desc_folderpath</code></pre><h3>After Change</h3><pre><code class='java'>
    @overrides
    def copy_search_to_eval(self)-&gt;None:
        &#47&#47 get folder of model gallery that search has produced
        conf_search = <a id="change">self.get_conf(</a>True<a id="change">)</a>[&quotnas&quot][&quotsearch&quot]
        search_desc_foldername = conf_search[&quotfinal_desc_foldername&quot]
        search_desc_folderpath = utils.full_path(search_desc_foldername)
        assert search_desc_foldername and os.path.exists(search_desc_folderpath)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9#diff-50b348495fbf788f94f506bc262f4f1ad7cb5b873ce2480fa1c35536a4e6bdb9L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74546421</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: archai/algos/petridish/petridish_exp_runner.py</div><div id='m_class'> M Class Name: PetridishExperimentRunner</div><div id='n_method'> N Class Name: PetridishExperimentRunner</div><div id='m_method'> M Method Name: copy_search_to_eval(1)</div><div id='n_method'> N Method Name: copy_search_to_eval(1)</div><div id='m_parent_class'> M Parent Class: ExperimentRunner</div><div id='n_parent_class'> N Parent Class: ExperimentRunner</div><div id='m_file'> M File Name: archai/algos/petridish/petridish_exp_runner.py</div><div id='n_file'> N File Name: archai/algos/petridish/petridish_exp_runner.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 needs env var expansion.

        &#47&#47 get desc file path that search has produced
        conf_search = <a id="change">self.get_conf_search()</a>
        search_desc_filename = conf_search[&quotfinal_desc_filename&quot]
        search_desc_filepath = utils.full_path(search_desc_filename)
        assert search_desc_filepath and os.path.exists(search_desc_filepath)

        &#47&#47 get file path that eval would need
        conf_eval = <a id="change">self.get_conf_eval()</a>
        eval_desc_filename = conf_eval[&quotfinal_desc_filename&quot]
        eval_desc_filepath = utils.full_path(eval_desc_filename)
        assert eval_desc_filepath</code></pre><h3>After Change</h3><pre><code class='java'>
        assert search_desc_filepath and os.path.exists(search_desc_filepath)

        &#47&#47 get file path that eval would need
        conf_eval = <a id="change">self.get_conf(</a>False<a id="change">)</a>[&quotnas&quot][&quoteval&quot]
        eval_desc_filename = conf_eval[&quotfinal_desc_filename&quot]
        eval_desc_filepath = utils.full_path(eval_desc_filename)
        assert eval_desc_filepath</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9#diff-75bd0b4e7bede160eb0920362b8bd4a05a4e3511204ed6fc09bc0ec32eccf4dfL61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 74546420</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 8961b5424ba6ab98cfd7ec6f9fe669f2b9747aa9</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: archai/nas/exp_runner.py</div><div id='m_class'> M Class Name: ExperimentRunner</div><div id='n_method'> N Class Name: ExperimentRunner</div><div id='m_method'> M Method Name: copy_search_to_eval(1)</div><div id='n_method'> N Method Name: copy_search_to_eval(1)</div><div id='m_parent_class'> M Parent Class: ABC,EnforceOverrides</div><div id='n_parent_class'> N Parent Class: ABC,EnforceOverrides</div><div id='m_file'> M File Name: archai/nas/exp_runner.py</div><div id='n_file'> N File Name: archai/nas/exp_runner.py</div><div id='m_start'> M Start Line: 66</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 75</div><BR>