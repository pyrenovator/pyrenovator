<html><h3>Pattern ID :34848
</h3><img src='99908406.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ax.set_xticks([0, 4, 8, 12, 16, 20, 24])
    ax.set_xlabel(&quotLayer&quot)
    ax.set_ylabel(&quotNormalized MSE&quot)
    <a id="change">ax.legend(</a>[&quotFNO&quot, &quotTF-FNO&quot, &quotM-FNO&quot, &quotF-FNO&quot]<a id="change">, frameon=False)</a>


def plot_ablation(ax):
    layers_2 = [4, 8, 12, 16, 20, 24]</code></pre><h3>After Change</h3><pre><code class='java'>

    groups = [f&quotablation/zongyi_markov/{i}_layers&quot for i in layers_1]
    losses = get_test_losses(dataset, groups)
    container<a id="change"> = </a>plot_line(xs, losses, ax, color=pal[2], linestyle=&quot:&quot)
    lines.append(<a id="change">container.lines[0]</a>)

    groups = [f&quotablation/no_factorization/{i}_layers&quot for i in layers_2]
    losses = get_test_losses(dataset, groups)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/alasdairtran/fourierflow/commit/c2268f90cc720dda0e2298528b14a79d198d194c#diff-77aba53b85d87ebe007d6ceb5f319e361fa3ad05403e30893741c1b6a353b3dfL58' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99908406</div><div id='project'> Project Name: alasdairtran/fourierflow</div><div id='commit'> Commit Name: c2268f90cc720dda0e2298528b14a79d198d194c</div><div id='time'> Time: 2021-09-24</div><div id='author'> Author: alasdair.tran@gmail.com</div><div id='file'> File Name: fourierflow/commands/plot.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_performance_vs_layer(1)</div><div id='n_method'> N Method Name: plot_performance_vs_layer(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fourierflow/commands/plot.py</div><div id='n_file'> N File Name: fourierflow/commands/plot.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 102</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            plt.plot(x, results[i, x], marker=&quot.&quot, label=f.replace(&quot.txt&quot, &quot&quot))
            plt.title(s[i])
            if i == 0:
                <a id="change">plt.legend()</a>
    fig.tight_layout()
    fig.savefig(&quotresults.png&quot, dpi=300)
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 import os; os.system(&quotwget https://storage.googleapis.com/ultralytics/yolov3/results_v3.txt&quot)

    fig, ax = plt.subplots(2, 5, figsize=(14, 7))
    ax<a id="change"> = </a>ax.ravel()
    s = [&quotX + Y&quot, &quotWidth + Height&quot, &quotConfidence&quot, &quotClassification&quot, &quotTrain Loss&quot, &quotPrecision&quot, &quotRecall&quot, &quotmAP&quot, &quotF1&quot,
         &quotTest Loss&quot]
    for f in sorted(glob.glob(&quotresults*.txt&quot) + glob.glob(&quot../../Downloads/results*.txt&quot)):
        results = np.loadtxt(f, usecols=[2, 3, 4, 5, 6, 9, 10, 11, 12, 13]).T
        n = results.shape[1]  &#47&#47 number of rows
        x = range(start, min(stop, n) if stop else n)
        for i in range(10):
            ax[i].plot(x, results[i, x], marker=&quot.&quot, label=f.replace(&quot.txt&quot, &quot&quot))
            ax[i].set_title(s[i])
    <a id="change">ax[0]</a>.legend()
    fig.tight_layout()
    fig.savefig(&quotresults.png&quot, dpi=300)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nightsnack/yolobile/commit/cc50757d95b0e720fa6a47b05b8655955046bb89#diff-9653b8c2ce917a6134298b00c8b3f7d4b7c4dc473a752303f37a870392742127L519' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99908418</div><div id='project'> Project Name: nightsnack/yolobile</div><div id='commit'> Commit Name: cc50757d95b0e720fa6a47b05b8655955046bb89</div><div id='time'> Time: 2019-04-18</div><div id='author'> Author: glenn.jocher@ultralytics.com</div><div id='file'> File Name: utils/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_results(2)</div><div id='n_method'> N Method Name: plot_results(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/utils.py</div><div id='n_file'> N File Name: utils/utils.py</div><div id='m_start'> M Start Line: 523</div><div id='m_end'> M End Line: 536</div><div id='n_start'> N Start Line: 523</div><div id='n_end'> N End Line: 534</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ax.set_xticks([0, 4, 8, 12, 16, 20, 24])
    ax.set_xlabel(&quotLayer&quot)
    ax.set_ylabel(&quotNormalized MSE&quot)
    <a id="change">ax.legend(</a>[&quotno factorize&quot, &quotno sharing&quot, &quotF-FNO&quot]<a id="change">, frameon=False)</a>


def get_step_losses(dataset, group):
    api = wandb.Api()</code></pre><h3>After Change</h3><pre><code class='java'>

    groups = [f&quotmarkov/{i}_layers&quot for i in layers_2]
    losses = get_test_losses(dataset, groups)
    container<a id="change"> = </a>plot_line(xs, losses, ax, color=pal[3])
    lines.append(<a id="change">container.lines[0]</a>)

    ax.set_xticks([0, 4, 8, 12, 16, 20, 24])
    ax.set_xlabel(&quotNumber of Layers&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alasdairtran/fourierflow/commit/c2268f90cc720dda0e2298528b14a79d198d194c#diff-77aba53b85d87ebe007d6ceb5f319e361fa3ad05403e30893741c1b6a353b3dfL83' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99908412</div><div id='project'> Project Name: alasdairtran/fourierflow</div><div id='commit'> Commit Name: c2268f90cc720dda0e2298528b14a79d198d194c</div><div id='time'> Time: 2021-09-24</div><div id='author'> Author: alasdair.tran@gmail.com</div><div id='file'> File Name: fourierflow/commands/plot.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_ablation(1)</div><div id='n_method'> N Method Name: plot_ablation(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fourierflow/commands/plot.py</div><div id='n_file'> N File Name: fourierflow/commands/plot.py</div><div id='m_start'> M Start Line: 85</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 107</div><div id='n_end'> N End Line: 129</div><BR>