<html><h3>Pattern ID :9932
</h3><img src='35543630.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                speed=input.size(0) / batch_time.val,
                data_time=data_time, loss_hkd=loss_2d_log, loss_hoe=loss_hoe_log, loss=losses,
                Degree_error=degree_error, acc=acc)
            <a id="change">logger.info(</a>msg<a id="change">)</a>

            writer = writer_dict[&quotwriter&quot]
            global_steps = writer_dict[&quottrain_global_steps&quot]
            writer.add_scalar(&quottrain_loss&quot, losses.val, global_steps)</code></pre><h3>After Change</h3><pre><code class='java'>
            has_hkd=False 
            acc_label = &quotmid15&quot
        else:
            avg_degree_error<a id="change">, _, _, _ , _, _, _, _, _= </a>comp_deg_error(<a id="change">hoe_output.detach().cpu().numpy()</a>,
                                                   degree.detach().cpu().numpy())
            _, avg_acc, cnt, pred = accuracy(plane_output.detach().cpu().numpy(),
                                             target.detach().cpu().numpy())</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/chenyanwu/mebow/commit/b2d73baa29c1866475383226fcd4e716ada904e0#diff-5790d698a066156c3e3a326e3e003650b1cb3240f643051b235801c412f61c5aL40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35543630</div><div id='project'> Project Name: chenyanwu/mebow</div><div id='commit'> Commit Name: b2d73baa29c1866475383226fcd4e716ada904e0</div><div id='time'> Time: 2021-07-13</div><div id='author'> Author: piercus@gmail.com</div><div id='file'> File Name: lib/core/function.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(10)</div><div id='n_method'> N Method Name: train(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lib/core/function.py</div><div id='n_file'> N File Name: lib/core/function.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 102</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 124</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                      &quotAccuracy {acc.val:.3f} ({acc.avg:.3f})&quot.format(
                          i, len(val_loader), batch_time=batch_time,
                          loss_hkd=loss_hkd_log, loss_hoe=loss_hoe_log, loss=losses, Degree_error = degree_error, acc=acc)
                <a id="change">logger.info(</a>msg<a id="change">)</a>

        if save_pickle:
            save_obj(ori_list, &quotori_list&quot)
        excel_rate = Excellent / Total</code></pre><h3>After Change</h3><pre><code class='java'>
                acc_label = &quotmid15&quot
                has_hkd = False
            else:
                avg_degree_error<a id="change">, excellent, mid, poor_225, poor, poor_45,gt_ori, pred_ori, _  = </a>comp_deg_error(hoe_output.detach().cpu().numpy(),
                                                           <a id="change">degree.detach().cpu().numpy()</a>)
                _, avg_acc, cnt, pred = accuracy(plane_output.cpu().numpy(),
                                                 target.cpu().numpy())
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/chenyanwu/mebow/commit/b2d73baa29c1866475383226fcd4e716ada904e0#diff-5790d698a066156c3e3a326e3e003650b1cb3240f643051b235801c412f61c5aL115' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35543631</div><div id='project'> Project Name: chenyanwu/mebow</div><div id='commit'> Commit Name: b2d73baa29c1866475383226fcd4e716ada904e0</div><div id='time'> Time: 2021-07-13</div><div id='author'> Author: piercus@gmail.com</div><div id='file'> File Name: lib/core/function.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: validate(10)</div><div id='n_method'> N Method Name: validate(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lib/core/function.py</div><div id='n_file'> N File Name: lib/core/function.py</div><div id='m_start'> M Start Line: 138</div><div id='m_end'> M End Line: 211</div><div id='n_start'> N Start Line: 144</div><div id='n_end'> N End Line: 235</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    results = []
    for index in indices:
        <a id="change">logger.info(
            </a>f"solved_pred={solved_pred[index]:.1%}, "
            f"angle={np.rad2deg(angles[index]):.1f} [deg]"<a id="change">
        )</a>
        ee_to_obj = grasp_poses[index, :3], grasp_poses[index, 3:]
        ee_to_world = pp.multiply(obj_to_world, ee_to_obj)
        obj_af_to_world = reorient_poses[index, :3], reorient_poses[index, 3:]
</code></pre><h3>After Change</h3><pre><code class='java'>
        )
    solved_pred = solved_pred.cpu().numpy()
    solved_pred = solved_pred.sum(axis=1) / solved_pred.shape[1]
    length_pred = <a id="change">length_pred.cpu().numpy()</a> * Dataset.LENGTH_MAX

    keep = solved_pred &gt;= 0.90

    grasp_poses = grasp_poses[keep]
    reorient_poses = reorient_poses[keep]
    angles = angles[keep]
    solved_pred = solved_pred[keep]
    length_pred<a id="change"> = </a>length_pred[keep]

    bins = np.linspace(angles.min(), angles.max(), num=9)
    binned = np.digitize(angles, bins)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wkentaro/reorientbot/commit/99e714efa337d5c39a48a90e0f70e3197bc593a2#diff-3755888d9f65827df523334c3436d07328a743cc66a21fe8ff8d7085b51b25fdL26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35543640</div><div id='project'> Project Name: wkentaro/reorientbot</div><div id='commit'> Commit Name: 99e714efa337d5c39a48a90e0f70e3197bc593a2</div><div id='time'> Time: 2021-07-02</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/reorient/learned.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plan_and_execute_reorient(4)</div><div id='n_method'> N Method Name: plan_and_execute_reorient(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/reorient/learned.py</div><div id='n_file'> N File Name: examples/reorient/learned.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 149</div><BR>