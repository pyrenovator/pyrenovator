<html><h3>Pattern ID :24605
</h3><img src='76362301.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if not delta == 0:
            raise ValueError("Delta must be zero")

        <a id="change">return </a><a id="change">super()</a>._check_epsilon_delta(epsilon, delta)

    @classmethod
    def special_check_for_params(cls, utility, candidates, measure):</code></pre><h3>After Change</h3><pre><code class='java'>
        if epsilon + delta == 0:
            raise ValueError("Epsilon and Delta cannot both be zero")

        <a id="change">return </a>float(epsilon)<a id="change">, float(delta)</a>

    @classmethod
    def _check_sensitivity(cls, sensitivity):
        if not isinstance(sensitivity, Real):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/e055caa079acd7aab92d913246b222161130ae40#diff-9ce2c5c97983f6e8a5cd9956f36cb14fa879591d5eb9d2bd7873f3f8843ca095L65' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362301</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: e055caa079acd7aab92d913246b222161130ae40</div><div id='time'> Time: 2022-08-25</div><div id='author'> Author: sshan0731@hotmail.com</div><div id='file'> File Name: python/fedml/core/dp/mechanisms/exponential.py</div><div id='m_class'> M Class Name: Exponential</div><div id='n_method'> N Class Name: Exponential</div><div id='m_method'> M Method Name: _check_epsilon_delta(3)</div><div id='n_method'> N Method Name: _check_epsilon_delta(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/core/dp/mechanisms/exponential.py</div><div id='n_file'> N File Name: python/fedml/core/dp/mechanisms/exponential.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 161</div><div id='n_end'> N End Line: 173</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        
        lb, ub = model.compute_bounds(x=(my_input,), method="backward")
        import pdb; pdb.set_trace()
        <a id="change">return </a><a id="change">super()</a>.get_one_step_reachable_set(input_constraint, output_constraint)
    

    def create_model(self, num_steps):</code></pre><h3>After Change</h3><pre><code class='java'>
        
        lb, ub = model.compute_bounds(x=(my_input,), method="backward")
        output_constraint.range = np.vstack((lb.detach().numpy(), ub.detach().numpy())).T
        <a id="change">return </a>output_constraint<a id="change">, {}</a>
    


</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/0da01fc517d436fe7bdf533c50f58149ec5b3e29#diff-0f371a9074beabe68a8154b86113659c35baa5a3db15d420854a2a5e22364a07L64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362300</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: 0da01fc517d436fe7bdf533c50f58149ec5b3e29</div><div id='time'> Time: 2023-03-07</div><div id='author'> Author: nrober1122@gmail.com</div><div id='file'> File Name: nn_closed_loop/nn_closed_loop/propagators/ClosedLoopAUTOLIRPAPropagator.py</div><div id='m_class'> M Class Name: ClosedLoopAUTOLIRPAPropagator</div><div id='n_method'> N Class Name: ClosedLoopAUTOLIRPAPropagator</div><div id='m_method'> M Method Name: get_one_step_reachable_set(4)</div><div id='n_method'> N Method Name: get_one_step_reachable_set(4)</div><div id='m_parent_class'> M Parent Class: ClosedLoopPropagator</div><div id='n_parent_class'> N Parent Class: ClosedLoopPropagator</div><div id='m_file'> M File Name: nn_closed_loop/nn_closed_loop/propagators/ClosedLoopAUTOLIRPAPropagator.py</div><div id='n_file'> N File Name: nn_closed_loop/nn_closed_loop/propagators/ClosedLoopAUTOLIRPAPropagator.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 87</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    @classmethod
    def from_pretrained(cls, pretrained_model_name_or_path, *model_args, **kwargs):
        model = <a id="change">super()</a>.from_pretrained()
        model.numericalizer = BartNumericalizer(pretrained_model_name_or_path)
        <a id="change">return </a>model, 0 &#47&#47TODO return best_decascore

    def __init__(self, config=None, *inputs, **kwargs):
        self.args = kwargs.pop("args", None)</code></pre><h3>After Change</h3><pre><code class='java'>
        save_dict = torch.load(full_checkpoint_path, map_location=device)
        model.load_state_dict(save_dict[&quotmodel_state_dict&quot])

        <a id="change">return </a>model<a id="change">, save_dict.get(&quotbest_decascore&quot)</a>


    def __init__(self, config=None, *inputs, **kwargs):
        self.args = kwargs.pop("args", None)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stanford-oval/genienlp/commit/446c42622083e0413e9437c8fdd4be61e7bb6b13#diff-bceffcc02e288dc2e7c5e76149fbb8822d24f0692d947a87423f72f40c70236bL285' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362303</div><div id='project'> Project Name: stanford-oval/genienlp</div><div id='commit'> Commit Name: 446c42622083e0413e9437c8fdd4be61e7bb6b13</div><div id='time'> Time: 2020-11-07</div><div id='author'> Author: s.j.semnani@gmail.com</div><div id='file'> File Name: genienlp/models/general_seq2seq.py</div><div id='m_class'> M Class Name: Bart</div><div id='n_method'> N Class Name: Bart</div><div id='m_method'> M Method Name: from_pretrained(2)</div><div id='n_method'> N Method Name: from_pretrained(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: BartForConditionalGeneration</div><div id='m_file'> M File Name: genienlp/models/general_seq2seq.py</div><div id='n_file'> N File Name: genienlp/models/general_seq2seq.py</div><div id='m_start'> M Start Line: 286</div><div id='m_end'> M End Line: 288</div><div id='n_start'> N Start Line: 286</div><div id='n_end'> N End Line: 298</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return valid ? (idx4 == 0 ? dat.x : (idx4 == 1 ? dat.y : (idx4 == 2 ? dat.z : dat.w))) : 0.0;
      }}, f"read_only image2d_t {name}_g", f"get_{name}(smp, {name}_g, gid);"
    &#47&#47ewtypes.append(f"read_only image2d_t {name}_g")
    <a id="change">return </a><a id="change">super()</a>.contiguous_view_constant_fold(name, reduce)

  def _processing_op(ret, bufs: List[Tuple[str, OpenCLBuffer]]=[], code:str="acc", C=None, op=ReduceOps.SUM, reduce_shape=None, earlybufs:Set[str]=set(), earlycode:str="acc", op_estimate=0):
    if C is None or earlycode != "acc":</code></pre><h3>After Change</h3><pre><code class='java'>
      idx_getter = f"int valid = 1; {&quotlong&quot if prod(x.shape) &gt;= 2**31 else &quotint&quot} idx = gid; {&quotidx *= &quot+str(reduce)+&quot; idx += subidx;&quot if reduce is not None else &quot&quot} {x.st.expr().replace(&quot//&quot, &quot/&quot)};"
      constant = x._backing[0] if x._base_shape == (1,) and x._backing is not None else None
      args = (["__global const float *x"] if constant is None else []) + ["int gid"] + (["int subidx"] if reduce is not None else []) 
      <a id="change">return </a>f"inline float get_{name}({&quot,&quot.join(args)}) {{ {idx_getter} return valid ? {constant if constant is not None else &quotx[idx]&quot} : 0.0;}}"<a id="change">, \
        f"__global const float *{name}_g" if constant is None else None, \
        f"get_{name}({name+&quot_g, &quot if constant is None else &quot&quot}gid{&quot, subidx&quot if reduce is not None else &quot&quot});"</a>

  @classmethod
  def exec_ast(cls, ast:LazyOp):
    &#47&#47 copied from llvm</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/geohot/tinygrad/commit/fff1f046b0158f817c0dbb02602680c3ba4cb394#diff-d381887ea5d4caa7edefac8be856356c4d76b449152c7e3009da6a1e6c9b0e59L216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362302</div><div id='project'> Project Name: geohot/tinygrad</div><div id='commit'> Commit Name: fff1f046b0158f817c0dbb02602680c3ba4cb394</div><div id='time'> Time: 2023-01-10</div><div id='author'> Author: 72895+geohot@users.noreply.github.com</div><div id='file'> File Name: accel/opencl/ops_opencl.py</div><div id='m_class'> M Class Name: OpenCLBuffer</div><div id='n_method'> N Class Name: OpenCLBuffer</div><div id='m_method'> M Method Name: contiguous_view_constant_fold(3)</div><div id='n_method'> N Method Name: contiguous_view_constant_fold(3)</div><div id='m_parent_class'> M Parent Class: GPUBuffer</div><div id='n_parent_class'> N Parent Class: GPUBuffer</div><div id='m_file'> M File Name: accel/opencl/ops_opencl.py</div><div id='n_file'> N File Name: accel/opencl/ops_opencl.py</div><div id='m_start'> M Start Line: 232</div><div id='m_end'> M End Line: 232</div><div id='n_start'> N Start Line: 232</div><div id='n_end'> N End Line: 237</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            _input, _label = super().get_data(data, **kwargs)
            adv_x, _ = self.pgd.optimize(_input=_input, target=_label)
            return adv_x, _label
        <a id="change">return </a><a id="change">super()</a>.get_data(data, **kwargs)

    def _validate(self, adv_train: bool = None, **kwargs) -&gt; tuple[float, float]:
        adv_train = adv_train if adv_train is not None else self.adv_train</code></pre><h3>After Change</h3><pre><code class='java'>
            assert self.pgd is not None
            adv_x, _ = self.pgd.optimize(_input=_input, target=_label)
            return adv_x, _label
        <a id="change">return </a>_input<a id="change">, _label</a>

    def _validate(self, adv_train: bool = None, **kwargs) -&gt; tuple[float, float]:
        adv_train = adv_train if adv_train is not None else bool(self.adv_train)
        if not adv_train:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/329e44e3e00f87313aeac584a0b70d02269b2214#diff-e4201db069ef045059539923de84285f4ad73c36598f618679811e6a3551953cL210' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362299</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: 329e44e3e00f87313aeac584a0b70d02269b2214</div><div id='time'> Time: 2021-09-16</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanvision/models/imagemodel.py</div><div id='m_class'> M Class Name: ImageModel</div><div id='n_method'> N Class Name: ImageModel</div><div id='m_method'> M Method Name: get_data(3)</div><div id='n_method'> N Method Name: get_data(3)</div><div id='m_parent_class'> M Parent Class: Model</div><div id='n_parent_class'> N Parent Class: Model</div><div id='m_file'> M File Name: trojanvision/models/imagemodel.py</div><div id='n_file'> N File Name: trojanvision/models/imagemodel.py</div><div id='m_start'> M Start Line: 214</div><div id='m_end'> M End Line: 217</div><div id='n_start'> N Start Line: 221</div><div id='n_end'> N End Line: 226</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__(**kwargs)
    
    def find_segment(self, *args, **kwargs):
        <a id="change">return </a><a id="change">super()</a>.find_segment.__wrapped__(*args, **kwargs)

    def segment(self, word: str) -&gt; str:
        return super().segment.__wrapped__(word)</code></pre><h3>After Change</h3><pre><code class='java'>
    
    def find_segment(self, text, prev=&quot&lt;S&gt;&quot):
        if not text:
            <a id="change">return </a>0.0<a id="change">, []</a>
        candidates = [self.combine((log10(self.condProbWord(first, prev)), first), self.find_segment(rem, first))
                      for first, rem in self.splits(text)]
        return max(candidates)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ruanchaves/hashformers/commit/40f329f1ba89475839c1ac22fcc3f876b81b954c#diff-ee9fdeb737f1bd0b8d722c65e2c31c3e8ccecae8a377b43b81c74fc351bbfa87L71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362298</div><div id='project'> Project Name: ruanchaves/hashformers</div><div id='commit'> Commit Name: 40f329f1ba89475839c1ac22fcc3f876b81b954c</div><div id='time'> Time: 2022-02-06</div><div id='author'> Author: ruanchaves93@gmail.com</div><div id='file'> File Name: src/hashformers/segmenter.py</div><div id='m_class'> M Class Name: EkphrasisWordSegmenter</div><div id='n_method'> N Class Name: EkphrasisWordSegmenter</div><div id='m_method'> M Method Name: find_segment(3)</div><div id='n_method'> N Method Name: find_segment(1)</div><div id='m_parent_class'> M Parent Class: BaseSegmenter,EkphrasisSegmenter</div><div id='n_parent_class'> N Parent Class: BaseSegmenter,EkphrasisSegmenter</div><div id='m_file'> M File Name: src/hashformers/segmenter.py</div><div id='n_file'> N File Name: src/hashformers/segmenter.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    @staticmethod
    def backward(ctx, *grad_outputs):
        <a id="change">return </a><a id="change">super()</a>.backward(ctx, *grad_outputs)
</code></pre><h3>After Change</h3><pre><code class='java'>
            x2.requires_grad = True
            y1, y2 = ctx.function(x1, x2, mask)
        grad = torch.autograd.grad(outputs=(y1, y2), inputs=(x1, x2), grad_outputs=grad_outputs)
        <a id="change">return </a>(None<a id="change">, *grad, None</a>)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rick-mccoy/reformer-pytorch/commit/4da6d0fcb3ce7e616d2e8cc9195b5b21dfd431cb#diff-e3774f35f62b92bb1d53bca86868831d64cd22450484b63085497e63bb739c16L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76362305</div><div id='project'> Project Name: rick-mccoy/reformer-pytorch</div><div id='commit'> Commit Name: 4da6d0fcb3ce7e616d2e8cc9195b5b21dfd431cb</div><div id='time'> Time: 2020-01-10</div><div id='author'> Author: rickmccoy3141@gmail.com</div><div id='file'> File Name: model/reversible.py</div><div id='m_class'> M Class Name: Reversible</div><div id='n_method'> N Class Name: Reversible</div><div id='m_method'> M Method Name: backward(1)</div><div id='n_method'> N Method Name: backward(1)</div><div id='m_parent_class'> M Parent Class: Function</div><div id='n_parent_class'> N Parent Class: Function</div><div id='m_file'> M File Name: model/reversible.py</div><div id='n_file'> N File Name: model/reversible.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 34</div><BR>