<html><h3>Pattern ID :30659
</h3><img src='90485798.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    positive = pd.read_csv(
        bingliu_pos_bytes, sep="\n", header=None, names=["word"], encoding="latin-1"
    )
    positive_cleaned = <a id="change">positive.loc[29:]</a>.values.flatten().tolist()

    bingliu_lexicon = {
        "positive_words": positive_cleaned,</code></pre><h3>After Change</h3><pre><code class='java'>
        word.decode("latin-1").strip() for word in bingliu_neg_bytes.readlines()
    ][31:]
    positive_words = [
        <a id="change">word.decode(</a>"latin-1"<a id="change">)</a>.strip() for word in bingliu_pos_bytes.readlines()
    ][30:]

    bingliu_lexicon = {</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dccuchile/wefe/commit/6afca8ef990a5173c0d48994a61eae624671d81d#diff-7aff8f898b25e134577dfd2d8dcb09b8a157bc6f6766496d19d7bb0db5296b1fL234' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90485798</div><div id='project'> Project Name: dccuchile/wefe</div><div id='commit'> Commit Name: 6afca8ef990a5173c0d48994a61eae624671d81d</div><div id='time'> Time: 2022-05-29</div><div id='author'> Author: pbadilla.torrealba@gmail.com</div><div id='file'> File Name: wefe/datasets/datasets.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_bingliu(0)</div><div id='n_method'> N Method Name: load_bingliu(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wefe/datasets/datasets.py</div><div id='n_file'> N File Name: wefe/datasets/datasets.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 255</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 253</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    positive = pd.read_csv(
        bingliu_pos_bytes, sep="\n", header=None, names=["word"], encoding="latin-1"
    )
    positive_cleaned = <a id="change">positive.loc[29:]</a>.values.flatten().tolist()

    bingliu_lexicon = {
        "positive_words": positive_cleaned,</code></pre><h3>After Change</h3><pre><code class='java'>
    )

    negative_words = [
        <a id="change">word.decode(</a>"latin-1"<a id="change">)</a>.strip() for word in bingliu_neg_bytes.readlines()
    ][31:]
    positive_words = [
        word.decode("latin-1").strip() for word in bingliu_pos_bytes.readlines()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dccuchile/wefe/commit/ec75b4f3c362732f7a01b582ca2eeb419c99aab8#diff-7aff8f898b25e134577dfd2d8dcb09b8a157bc6f6766496d19d7bb0db5296b1fL216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90485799</div><div id='project'> Project Name: dccuchile/wefe</div><div id='commit'> Commit Name: ec75b4f3c362732f7a01b582ca2eeb419c99aab8</div><div id='time'> Time: 2022-08-24</div><div id='author'> Author: pbadilla.torrealba@gmail.com</div><div id='file'> File Name: wefe/datasets/datasets.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_bingliu(0)</div><div id='n_method'> N Method Name: load_bingliu(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wefe/datasets/datasets.py</div><div id='n_file'> N File Name: wefe/datasets/datasets.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 255</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 253</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            decoded_text = self.tokenizer.decode(token_list)       
            x, _ = batch
            x = x[:1]
            x_rec = <a id="change">outputs[&quotxrec&quot][:1]</a>
            &quot&quot&quot
            text = text.to(pl_module.device)
            x = x.to(pl_module.device)       
            with torch.no_grad():</code></pre><h3>After Change</h3><pre><code class='java'>
                img_logits = logits[:, -pl_module.image_seq_len:].long()
                img_seq = torch.argmax(img_logits, dim = -1)
                img_seq -= pl_module.num_text_tokens              
                x_rec = <a id="change">pl_module.vae.decode(</a>img_seq<a id="change">, feed_seq=True)</a>     
            

            x_grid = torchvision.utils.make_grid(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/a81d86252b4da80515bc8e1e847475324370f035#diff-a83484d4c7b7ebe0b0e0ade59c8557937a9e940ae331d28b6debb50cefd16ffcL430' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90485804</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: a81d86252b4da80515bc8e1e847475324370f035</div><div id='time'> Time: 2021-07-29</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: pl_dalle/callbacks.py</div><div id='m_class'> M Class Name: DalleSimpleImageSampler</div><div id='n_method'> N Class Name: DalleSimpleImageSampler</div><div id='m_method'> M Method Name: on_validation_batch_end(7)</div><div id='n_method'> N Method Name: on_validation_batch_end(7)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: pl_dalle/callbacks.py</div><div id='n_file'> N File Name: pl_dalle/callbacks.py</div><div id='m_start'> M Start Line: 446</div><div id='m_end'> M End Line: 447</div><div id='n_start'> N Start Line: 441</div><div id='n_end'> N End Line: 452</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            token_list = sample_text.masked_select(sample_text != 0).tolist()
            decoded_text = self.tokenizer.decode(token_list)   
            x, _ = batch
            x = <a id="change">x[:1]</a>
            x_rec = outputs[&quotxrec&quot][:1]
            &quot&quot&quot
            text = text.to(pl_module.device)
            x = x.to(pl_module.device)       </code></pre><h3>After Change</h3><pre><code class='java'>
                img_logits = logits[:, -pl_module.image_seq_len:].long()
                img_seq = torch.argmax(img_logits, dim = -1)
                img_seq -= pl_module.num_text_tokens           
                x_rec = <a id="change">pl_module.vae.decode(</a>img_seq<a id="change">, feed_seq=True)</a>                

                pl_module.train()  
            </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/a81d86252b4da80515bc8e1e847475324370f035#diff-a83484d4c7b7ebe0b0e0ade59c8557937a9e940ae331d28b6debb50cefd16ffcL370' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 90485801</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: a81d86252b4da80515bc8e1e847475324370f035</div><div id='time'> Time: 2021-07-29</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: pl_dalle/callbacks.py</div><div id='m_class'> M Class Name: DalleSimpleImageSampler</div><div id='n_method'> N Class Name: DalleSimpleImageSampler</div><div id='m_method'> M Method Name: on_train_batch_end(7)</div><div id='n_method'> N Method Name: on_train_batch_end(7)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: pl_dalle/callbacks.py</div><div id='n_file'> N File Name: pl_dalle/callbacks.py</div><div id='m_start'> M Start Line: 386</div><div id='m_end'> M End Line: 387</div><div id='n_start'> N Start Line: 383</div><div id='n_end'> N End Line: 396</div><BR>