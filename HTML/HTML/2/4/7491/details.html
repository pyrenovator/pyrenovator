<html><h3>Pattern ID :7491
</h3><img src='24778458.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if len(image.shape) &lt; 2:
            print(&quotThere are not enough edge maps in the channels to choose from&quot)
            return  np.dstack((image, image, image))
        if (<a id="change">np.array_equal(</a>image[:, :, 0], image[:, :, 1]<a id="change">)</a>
                and np.array_equal(image[:, :, 0], image[:, :, 2])):
            image = image[:, :, 0]
        else:
            if self.edge_mode in [&quotnormal&quot, &quotall&quot, &quotn&quot, &quota&quot]:
                self.edge_mode<a id="change"> = </a>random.choice([&quotdollar&quot, &quothed&quot, &quotbdcn&quot])

            if self.edge_mode in [&quothed&quot, &quoth&quot]:
                image = image[:, :, 1]</code></pre><h3>After Change</h3><pre><code class='java'>
        image = max_one(image)
        if isinstance(self.edge_mode, list):
            edge_mode = [x.lower() for x in self.edge_mode]
            <a id="change">if </a>&quotall&quot in edge_mode or &quotnormal&quot in edge_mode or &quota&quot in edge_mode or &quotn&quot in edge_mode:
                edge_mode<a id="change"> = </a>random.choice([&quotdollar&quot, &quothed&quot, &quotbdcn&quot])
            else:
                edge_mode = edge_mode[random.randint(0, len(edge_mode)-1)]
        else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nikosefth/im2rbte/commit/55c58d93ea0e568299123a57be6648f99f7d0167#diff-07b8c32d2b33446d84b5ecfc23c28652cf7dd281d31605caee58ee499d766c0bL231' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24778458</div><div id='project'> Project Name: nikosefth/im2rbte</div><div id='commit'> Commit Name: 55c58d93ea0e568299123a57be6648f99f7d0167</div><div id='time'> Time: 2022-01-09</div><div id='author'> Author: nikos.efth@hotmail.com</div><div id='file'> File Name: augmentations.py</div><div id='m_class'> M Class Name: EdgeDetector</div><div id='n_method'> N Class Name: EdgeDetector</div><div id='m_method'> M Method Name: __call__(2)</div><div id='n_method'> N Method Name: __call__(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: augmentations.py</div><div id='n_file'> N File Name: augmentations.py</div><div id='m_start'> M Start Line: 231</div><div id='m_end'> M End Line: 253</div><div id='n_start'> N Start Line: 231</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def _handle_get_set(self, phase):
        if np.array_equal(phase, LoihiPyRuntimeService.Phase.PRE_MGMT) or \
                <a id="change">np.array_equal(</a>phase, LoihiPyRuntimeService.Phase.POST_MGMT<a id="change">)</a>:
            while self.runtime_to_service_req.probe():
                request<a id="change"> = </a>self.runtime_to_service_req.recv()
                if np.array_equal(request, REQ_TYPE.GET):
                    requests: ty.List[np.ndarray] = [request]
                    &#47&#47 recv model_id</code></pre><h3>After Change</h3><pre><code class='java'>
    def _handle_get_set(self, phase):
        if np.array_equal(phase, LoihiPyRuntimeService.Phase.HOST):
            while True:
                <a id="change">if </a>self.runtime_to_service_req.probe():
                    request<a id="change"> = </a>self.runtime_to_service_req.recv()
                    if np.array_equal(request, REQ_TYPE.GET):
                        requests: ty.List[np.ndarray] = [request]
                        &#47&#47 recv model_id</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lava-nc/lava/commit/7afe3352652a592d2a906f2cf7236ecb43cca0c2#diff-92a2d9166185e8fd9185c65d0c6ed303a14113cdb72e19495a3a2f4fe32d2978L207' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24778456</div><div id='project'> Project Name: lava-nc/lava</div><div id='commit'> Commit Name: 7afe3352652a592d2a906f2cf7236ecb43cca0c2</div><div id='time'> Time: 2021-11-17</div><div id='author'> Author: 32519998+PhilippPlank@users.noreply.github.com</div><div id='file'> File Name: src/lava/magma/runtime/runtime_service.py</div><div id='m_class'> M Class Name: LoihiPyRuntimeService</div><div id='n_method'> N Class Name: LoihiPyRuntimeService</div><div id='m_method'> M Method Name: _handle_get_set(2)</div><div id='n_method'> N Method Name: _handle_get_set(2)</div><div id='m_parent_class'> M Parent Class: PyRuntimeService</div><div id='n_parent_class'> N Parent Class: PyRuntimeService</div><div id='m_file'> M File Name: src/lava/magma/runtime/runtime_service.py</div><div id='n_file'> N File Name: src/lava/magma/runtime/runtime_service.py</div><div id='m_start'> M Start Line: 208</div><div id='m_end'> M End Line: 244</div><div id='n_start'> N Start Line: 244</div><div id='n_end'> N End Line: 283</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                else:
                    curr_time_step = 0
                    phase = LoihiPyRuntimeService.Phase.SPK
                    while not <a id="change">np.array_equal(</a>enum_to_np(curr_time_step),
                                             command<a id="change">)</a>:
                        if np.array_equal(phase,
                                          LoihiPyRuntimeService.Phase.SPK):
                            curr_time_step += 1
                        self._send_pm_cmd(phase)
                        rsps<a id="change"> = </a>self._get_pm_resp(phase)
                        for rsp in rsps:
                            if not np.array_equal(rsp, MGMT_RESPONSE.DONE):
                                raise ValueError(</code></pre><h3>After Change</h3><pre><code class='java'>
                        &#47&#47 Inform ProcessModels about current phase
                        self._send_pm_cmd(phase)
                        &#47&#47 ProcessModels respond with DONE if not HOST phase
                        <a id="change">if </a>not np.array_equal(
                                phase, LoihiPyRuntimeService.Phase.HOST):
                            rsps<a id="change"> = </a>self._get_pm_resp()
                            for rsp in rsps:
                                if not np.array_equal(rsp, MGMT_RESPONSE.DONE):
                                    raise ValueError(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lava-nc/lava/commit/7afe3352652a592d2a906f2cf7236ecb43cca0c2#diff-92a2d9166185e8fd9185c65d0c6ed303a14113cdb72e19495a3a2f4fe32d2978L160' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24778454</div><div id='project'> Project Name: lava-nc/lava</div><div id='commit'> Commit Name: 7afe3352652a592d2a906f2cf7236ecb43cca0c2</div><div id='time'> Time: 2021-11-17</div><div id='author'> Author: 32519998+PhilippPlank@users.noreply.github.com</div><div id='file'> File Name: src/lava/magma/runtime/runtime_service.py</div><div id='m_class'> M Class Name: LoihiPyRuntimeService</div><div id='n_method'> N Class Name: LoihiPyRuntimeService</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: PyRuntimeService</div><div id='n_parent_class'> N Parent Class: PyRuntimeService</div><div id='m_file'> M File Name: src/lava/magma/runtime/runtime_service.py</div><div id='n_file'> N File Name: src/lava/magma/runtime/runtime_service.py</div><div id='m_start'> M Start Line: 161</div><div id='m_end'> M End Line: 203</div><div id='n_start'> N Start Line: 210</div><div id='n_end'> N End Line: 238</div><BR>