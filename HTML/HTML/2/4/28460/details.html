<html><h3>Pattern ID :28460
</h3><img src='84211239.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    f = Flow().load_config(&quotflow-index.yml&quot)

    with f:
        data_path = os.path.join(os.path.dirname(__file__), <a id="change">os.environ.get(&quotJINA_DATA_FILE&quot</a>, None<a id="change">)</a>)
        print(f&quotIndexing {data_path}&quot)
        url = f&quothttp://0.0.0.0:{f.port_expose}/index&quot
</code></pre><h3>After Change</h3><pre><code class='java'>
    data_dir = os.path.join(dataset_name, os.environ[&quotJINA_TMP_DATA_DIR&quot])

    with f:
        data_path = <a id="change">os.path.join(</a>data_dir, <a id="change">f&quot{dataset_name}_base.fvecs&quot</a><a id="change">)</a>

        print(f&quotIndexing {data_path}&quot)
        url = f&quothttp://0.0.0.0:{f.port_expose}/index&quot
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/bb48f1c44f1700d78478aca848303625015dcc1b#diff-edc25b9f18008a1de13781ff6ea9e37c5ec4967e7a627b78ef45bc621ef1cbdbL73' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84211239</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: bb48f1c44f1700d78478aca848303625015dcc1b</div><div id='time'> Time: 2021-04-26</div><div id='author'> Author: rutuja.r.surve@gmail.com</div><div id='file'> File Name: advanced-vector-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: index_restful(1)</div><div id='n_method'> N Method Name: index_restful(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: advanced-vector-search/app.py</div><div id='n_file'> N File Name: advanced-vector-search/app.py</div><div id='m_start'> M Start Line: 73</div><div id='m_end'> M End Line: 73</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __init__(self, **kwargs):
        encoder_kwargs = kwargs.get(&quotencoder_kwargs&quot) or {}
        encoder_cls_key = encoder_kwargs.get(&quotobs_encoder_cls&quot, None)
        data_root = <a id="change">kwargs.get(&quotdata_root&quot</a><a id="change">)</a>
        permutation_file = &quotdata/jigsaw_permutations_1000.npy&quot

        algo_hardcoded_kwargs = dict(encoder=JigsawEncoder,
                                     decoder=JigsawProjectionHead,</code></pre><h3>After Change</h3><pre><code class='java'>
        encoder_kwargs = kwargs.get(&quotencoder_kwargs&quot) or {}
        encoder_cls_key = encoder_kwargs.get(&quotobs_encoder_cls&quot, None)
        _this_file_dir = os.path.dirname(os.path.abspath(__file__))
        data_root = os.path.abspath(<a id="change">os.path.join(</a>_this_file_dir, <a id="change">&quot../../../&quot</a><a id="change">)</a>)

        permutation_file = &quotdata/jigsaw_permutations_1000.npy&quot
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/d6e78d28a701468e4370830fbd4990d2a98654ce#diff-efadd35ce4513d51287096a3ac669c1634f060618ab2c0fed16d2d2b37a98655L281' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84211246</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: d6e78d28a701468e4370830fbd4990d2a98654ce</div><div id='time'> Time: 2021-05-17</div><div id='author'> Author: cyn0531@hku.hk</div><div id='file'> File Name: src/il_representations/algos/__init__.py</div><div id='m_class'> M Class Name: Jigsaw</div><div id='n_method'> N Class Name: Jigsaw</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: RepresentationLearner</div><div id='n_parent_class'> N Parent Class: RepresentationLearner</div><div id='m_file'> M File Name: src/il_representations/algos/__init__.py</div><div id='n_file'> N File Name: src/il_representations/algos/__init__.py</div><div id='m_start'> M Start Line: 284</div><div id='m_end'> M End Line: 284</div><div id='n_start'> N Start Line: 284</div><div id='n_end'> N End Line: 285</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def config():
    os.environ[&quotJINA_PARALLEL&quot] = <a id="change">os.environ.get(&quotJINA_PARALLEL&quot</a>, &quot1&quot<a id="change">)</a>
    os.environ[&quotJINA_SHARDS&quot] = os.environ.get(&quotJINA_SHARDS&quot, &quot1&quot)
    os.environ["JINA_WORKSPACE"] = os.environ.get("JINA_WORKSPACE", "workspace")
    os.environ[&quotJINA_PORT&quot] = &quot45678&quot
</code></pre><h3>After Change</h3><pre><code class='java'>


def config():
    os.environ.setdefault(&quotJINA_WORKSPACE&quot, <a id="change">os.path.join(</a>cur_dir, <a id="change">&quotworkspace&quot</a><a id="change">)</a>)
    os.environ.setdefault(
        &quotJINA_WORKSPACE_MOUNT&quot,
        f&quot{os.environ.get("JINA_WORKSPACE")}:/workspace/workspace&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/4de569187f138fc79cc6c08852f13315c1e545bc#diff-65875dec66851abea420703f90a17205ba13845961aa9059e9fff70a4f2b910cL18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84211240</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: 4de569187f138fc79cc6c08852f13315c1e545bc</div><div id='time'> Time: 2021-08-17</div><div id='author'> Author: jakob.kruse@jina.ai</div><div id='file'> File Name: cross-modal-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: config(0)</div><div id='n_method'> N Method Name: config(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cross-modal-search/app.py</div><div id='n_file'> N File Name: cross-modal-search/app.py</div><div id='m_start'> M Start Line: 19</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 23</div><BR>