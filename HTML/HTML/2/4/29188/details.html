<html><h3>Pattern ID :29188
</h3><img src='85899422.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    A1 = (torch.rand((1,na,na))*0.1).to(dtype).to(device).requires_grad_(True)
    diag = (torch.arange(na, dtype=dtype)+1.0).to(device).unsqueeze(0).requires_grad_(True)
    Acls = get_diagonally_dominant_class(na)
    xtrue = <a id="change">torch.rand(1</a>,na,<a id="change">1</a><a id="change">)</a>.to(dtype).to(device)
    A = Acls()
    b = A(xtrue, A1, diag).detach().requires_grad_()
</code></pre><h3>After Change</h3><pre><code class='java'>
    A1 = (torch.rand((1,na,na))*0.1).to(dtype).to(device).requires_grad_(True)
    diag = (torch.arange(na, dtype=dtype)+1.0).to(device).unsqueeze(0).requires_grad_(True)
    Acls = get_diagonally_dominant_class(na)
    M1 = (torch.rand((1<a id="change">,na,na</a>))*0.1).to(dtype).to(device).requires_grad_(True)
    mdiag = (torch.arange(na, dtype=dtype)+1.0).to(device).unsqueeze(0).requires_grad_(True)
    Mcls = get_diagonally_dominant_class(na)
    xtrue = torch.rand(1,na,ncols).to(dtype).to(device)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/xitorch/xitorch/commit/b81a02162bdaf6277ca239f4307f7f69c70a3efe#diff-2fee4bdf978debbe8e2a12e86170638d653acebf25c0991f87951f6cfdfb2613L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85899422</div><div id='project'> Project Name: xitorch/xitorch</div><div id='commit'> Commit Name: b81a02162bdaf6277ca239f4307f7f69c70a3efe</div><div id='time'> Time: 2020-02-08</div><div id='author'> Author: firman.kasim@gmail.com</div><div id='file'> File Name: lintorch/tests/test_grads.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_grad_solve(2)</div><div id='n_method'> N Method Name: test_grad_solve(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lintorch/tests/test_grads.py</div><div id='n_file'> N File Name: lintorch/tests/test_grads.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            torch.multinomial(weights, 2),
            torch.normal(2.0, 3.0, size),
            torch.poisson(a),
            <a id="change">torch.rand(2</a>, <a id="change">3</a><a id="change">)</a>,
            torch.rand_like(a),
            torch.randint(10, size),
            torch.randint_like(a, 4),</code></pre><h3>After Change</h3><pre><code class='java'>
        return (
            &#47&#47 torch.seed(),
            &#47&#47 torch.manual_seed(0),
            torch.bernoulli(a)<a id="change">,
            &#47&#47 torch.initial_seed(),
            torch.multinomial(weights, 2),
            torch.normal(2.0, 3.0, size),
            torch.poisson(a),
            torch.rand(2, 3),
            torch.rand_like(a),
            torch.randint(10, size),
            torch.randint_like(a, 4),
            torch.rand(4),
            torch.randn_like(a),
            torch.randperm(4),
            a.bernoulli_(),
            a.cauchy_(),
            a.exponential_(),
            a.geometric_(0.5),
            a.log_normal_(),
            a.normal_(),
            a.random_(),
            a.uniform_()</a>,
        )
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorch/pytorch/commit/33b9726e6b3b11902f62b85f1e34fe0599ae17f5#diff-e5a6b64148807167d8a5b62909546e25a0bd8da0fa3dc57ac2daafdc64ba2cd1L10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85899406</div><div id='project'> Project Name: pytorch/pytorch</div><div id='commit'> Commit Name: 33b9726e6b3b11902f62b85f1e34fe0599ae17f5</div><div id='time'> Time: 2022-03-29</div><div id='author'> Author: pytorchmergebot@users.noreply.github.com</div><div id='file'> File Name: test/mobile/model_test/sampling_ops.py</div><div id='m_class'> M Class Name: SamplingOpsModule</div><div id='n_method'> N Class Name: SamplingOpsModule</div><div id='m_method'> M Method Name: forward(1)</div><div id='n_method'> N Method Name: forward(1)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: test/mobile/model_test/sampling_ops.py</div><div id='n_file'> N File Name: test/mobile/model_test/sampling_ops.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 37</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

@pytest.fixture
def lgb_model():
    x = <a id="change">np.random.rand(5</a>, <a id="change">5</a><a id="change">)</a>
    y = np.random.randint(0, 2, size=(5))
    while len(np.unique(y)) == 1:
        &#47&#47 Addressing randomly generating a label set
        &#47&#47 that just has 1 value</code></pre><h3>After Change</h3><pre><code class='java'>

@pytest.fixture
def lgb_model(classification_data):
    X_train<a id="change">, y_train</a> = classification_data
    train_data = lgb.Dataset(X_train, label=y_train)
    param = {"num_leaves": 31, "objective": "binary"}
    return lgb.train(param, train_data, 3)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/operatorai/modelstore/commit/c6c8e225f90502563e198fa617eb043de6c00577#diff-9426c59228921fb26372f7bac437b0bc4bbf4485fbb58fbd60b70f44afa40cb2L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85899420</div><div id='project'> Project Name: operatorai/modelstore</div><div id='commit'> Commit Name: c6c8e225f90502563e198fa617eb043de6c00577</div><div id='time'> Time: 2020-12-27</div><div id='author'> Author: neal.lathia@gmail.com</div><div id='file'> File Name: tests/models/test_lightgbm.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: lgb_model(1)</div><div id='n_method'> N Method Name: lgb_model(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/models/test_lightgbm.py</div><div id='n_file'> N File Name: tests/models/test_lightgbm.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        model = MyModel()
        &#47&#47 Call API
        model = model.eval()
        random_input = <a id="change">torch.rand(2</a>, 10, <a id="change">24</a>, 24<a id="change">)</a>
        &#47&#47 model.features[0].bias.data = torch.rand(64)
        baseline_output = model(random_input).detach().numpy()

        CrossLayerScaling.scale_cls_set_with_conv_layers((model.conv1, model.conv2))</code></pre><h3>After Change</h3><pre><code class='java'>
        model = MyModel()
        &#47&#47 Call API
        model = model.eval()
        random_input = torch.rand((2<a id="change">, 10, 24, 24</a>))
        &#47&#47 model.features[0].bias.data = torch.rand(64)
        baseline_output = model(random_input).detach().numpy()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/c745c0e12f14c745cbed861581a814eb298e9c98#diff-b26b37296edeb0b6f60e67cc9d16db2904b8a887d61b836eda57480efc588d2bL156' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85899405</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: c745c0e12f14c745cbed861581a814eb298e9c98</div><div id='time'> Time: 2022-09-29</div><div id='author'> Author: quic_haijunz@quicinc.com</div><div id='file'> File Name: TrainingExtensions/torch/test/python/test_cross_layer_scaling.py</div><div id='m_class'> M Class Name: TestTrainingExtensionsCrossLayerScaling</div><div id='n_method'> N Class Name: TestTrainingExtensionsCrossLayerScaling</div><div id='m_method'> M Method Name: test_verify_cross_layer_scaling(1)</div><div id='n_method'> N Method Name: test_verify_cross_layer_scaling(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: TrainingExtensions/torch/test/python/test_cross_layer_scaling.py</div><div id='n_file'> N File Name: TrainingExtensions/torch/test/python/test_cross_layer_scaling.py</div><div id='m_start'> M Start Line: 163</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 188</div><div id='n_end'> N End Line: 188</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Compute features, embeddings and output
        &#47&#47 feats, lens = self.prepare_features(batch.sig, stage)
        feats = <a id="change">torch.rand(</a>8, <a id="change">200</a>, <a id="change">80</a><a id="change">)</a>
        embeddings = self.modules.embedding_model(feats)
        outputs = self.modules.classifier(embeddings)

        return outputs, 0</code></pre><h3>After Change</h3><pre><code class='java'>
        batch = batch.to(self.device)

        &#47&#47 Compute features, embeddings and output
        feats<a id="change">, lens</a> = self.prepare_features(batch.sig, stage)
        embeddings = self.modules.embedding_model(feats)
        outputs = self.modules.classifier(embeddings)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/c756227b8807512b09f28ea812b124dc908143d0#diff-4e8aa6cfabd47508736fc08e600d4281db74d6a59244e976c9edeba0ad17eefaL55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85899366</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: c756227b8807512b09f28ea812b124dc908143d0</div><div id='time'> Time: 2021-11-07</div><div id='author'> Author: parcollet.titouan@gmail.com</div><div id='file'> File Name: recipes/CommonLanguage/lang_id/train.py</div><div id='m_class'> M Class Name: LID</div><div id='n_method'> N Class Name: LID</div><div id='m_method'> M Method Name: compute_forward(3)</div><div id='n_method'> N Method Name: compute_forward(3)</div><div id='m_parent_class'> M Parent Class: sb.Brain</div><div id='n_parent_class'> N Parent Class: sb.Brain</div><div id='m_file'> M File Name: recipes/CommonLanguage/lang_id/train.py</div><div id='n_file'> N File Name: recipes/CommonLanguage/lang_id/train.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 81</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 80</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
@pytest.fixture
def xgb_model():
    model = xgb.XGBClassifier(use_label_encoder=False)
    x = <a id="change">np.random.rand(5</a>, <a id="change">5</a><a id="change">)</a>
    y = np.random.randint(0, 2, size=(5))
    while len(np.unique(y)) == 1:
        &#47&#47 Addressing randomly generating a label set
        &#47&#47 that just has 1 value</code></pre><h3>After Change</h3><pre><code class='java'>

@pytest.fixture
def xgb_model(classification_data):
    X_train<a id="change">, y_train</a> = classification_data
    model = xgb.XGBClassifier(use_label_encoder=False)
    model.fit(X_train, y_train)
    return model</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/operatorai/modelstore/commit/c6c8e225f90502563e198fa617eb043de6c00577#diff-ae533716bb52c076c27587c6e13a3f8072bfe1d87ce6b952d7855de8e91f26e4L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85899412</div><div id='project'> Project Name: operatorai/modelstore</div><div id='commit'> Commit Name: c6c8e225f90502563e198fa617eb043de6c00577</div><div id='time'> Time: 2020-12-27</div><div id='author'> Author: neal.lathia@gmail.com</div><div id='file'> File Name: tests/models/test_xgboost.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: xgb_model(1)</div><div id='n_method'> N Method Name: xgb_model(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/models/test_xgboost.py</div><div id='n_file'> N File Name: tests/models/test_xgboost.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 28</div><BR>