<html><h3>Pattern ID :34948
</h3><img src='100046534.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        validation_dataset["materialize"] = True
        return validation_dataset
    elif setting == "prediction":
        prediction_dataset<a id="change"> = </a><a id="change">copy.deepcopy(</a>training_dataset<a id="change">)</a>
        prediction_dataset["_target_"] = re.sub(
            ".from_file$", ".from_samples", prediction_dataset["_target_"]
        )
        prediction_dataset["min_length"] = -1</code></pre><h3>After Change</h3><pre><code class='java'>

def adapt_dataset_from(training_dataset: DictConfig, setting: str):
    train_dataset_class = training_dataset["_target_"]
    if not <a id="change">train_dataset_class.split(".")[-1]</a>[
        0
    ].isupper():  &#47&#47 if it is not upper then it is a class method
        train_dataset_class = ".".join(train_dataset_class.split(".")[:-1])</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sunglasses-ai/classy/commit/35ad6262cae17da108092f0cf5f42706ceac3ccc#diff-0b927250acb5115e1924aa7d5340f4ad5eb06924366f98fa828535389a5b6d65L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100046534</div><div id='project'> Project Name: sunglasses-ai/classy</div><div id='commit'> Commit Name: 35ad6262cae17da108092f0cf5f42706ceac3ccc</div><div id='time'> Time: 2022-04-04</div><div id='author'> Author: luigi.p.procopio@gmail.com</div><div id='file'> File Name: classy/utils/omegaconf.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: adapt_dataset_from(2)</div><div id='n_method'> N Method Name: adapt_dataset_from(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: classy/utils/omegaconf.py</div><div id='n_file'> N File Name: classy/utils/omegaconf.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 9</div><div id='n_end'> N End Line: 20</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self._x_window.append(list(x.values()))
            x = self._x_window
        else:
            x<a id="change"> = </a><a id="change">copy.deepcopy(</a>self._x_window<a id="change">)</a>
            x.append(list(x.values()))

        if len(self._x_window) == self.window_size:
            x = list2tensor(x, device=self.device)</code></pre><h3>After Change</h3><pre><code class='java'>
        if x is not None:
            self.net.eval()
            y_pred = self.net(x)
            proba = <a id="change">output2proba(y_pred, self.observed_classes)[0]</a>
        else:
            proba = self._get_default_proba()
        return proba
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/online-ml/river-torch/commit/27a2d4f404ea02dffc23bec1c6ca48c9cd3352e9#diff-e35a88f8852289dc2538ffbe927ea5def077bb5e01acf6f1c181456161f38930L150' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100046535</div><div id='project'> Project Name: online-ml/river-torch</div><div id='commit'> Commit Name: 27a2d4f404ea02dffc23bec1c6ca48c9cd3352e9</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: cazzonelli@fzi.de</div><div id='file'> File Name: river_torch/classification/rolling_classifier.py</div><div id='m_class'> M Class Name: RollingClassifier</div><div id='n_method'> N Class Name: RollingClassifier</div><div id='m_method'> M Method Name: predict_proba_one(2)</div><div id='n_method'> N Method Name: predict_proba_one(2)</div><div id='m_parent_class'> M Parent Class: RollingDeepEstimator,base.Classifier</div><div id='n_parent_class'> N Parent Class: RollingDeepEstimator,base.Classifier</div><div id='m_file'> M File Name: river_torch/classification/rolling_classifier.py</div><div id='n_file'> N File Name: river_torch/classification/rolling_classifier.py</div><div id='m_start'> M Start Line: 167</div><div id='m_end'> M End Line: 189</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 178</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            bn_dict[conv_bn[0].name] = conv_bn[1]
            convs.append(conv_bn[0])

        bias1<a id="change"> = </a><a id="change">copy.deepcopy(</a>numpy_helper.to_array(ParamUtils.get_param(model.model, convs[1], BIAS_INDEX))<a id="change">)</a>
        cls = CrossLayerScaling(model)
        cls_set_info = cls.scale_model()
        hbf = HighBiasFold(model)
        hbf.bias_fold(cls_set_info, bn_dict)</code></pre><h3>After Change</h3><pre><code class='java'>
            bn_dict[conv_bn[0].name] = conv_bn[1]

        for bn_conv in bn_conv_pairs:
            bn_dict[bn_conv[1].name] = <a id="change">bn_conv[0]</a>

        cls = CrossLayerScaling(model_onnx)
        cls_set_info = cls.scale_model()
        hbf = HighBiasFold(model_onnx)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/561eb0f70f1b9a8b5f8efbe82ff66c5da5dbe4cb#diff-e4f45301af3ca455a0c0247bab1f110651005f2bafd3c043b22658a18a9ce10eL182' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100046544</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 561eb0f70f1b9a8b5f8efbe82ff66c5da5dbe4cb</div><div id='time'> Time: 2023-04-26</div><div id='author'> Author: 63610745+quic-mangal@users.noreply.github.com</div><div id='file'> File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='m_class'> M Class Name: TestHighBiasFold</div><div id='n_method'> N Class Name: TestHighBiasFold</div><div id='m_method'> M Method Name: test_find_high_bias_fold(1)</div><div id='n_method'> N Method Name: test_find_high_bias_fold(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='n_file'> N File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='m_start'> M Start Line: 183</div><div id='m_end'> M End Line: 199</div><div id='n_start'> N Start Line: 194</div><div id='n_end'> N End Line: 220</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        neg_dict1[wrong_et][0].append(src)
                        neg_dict1[wrong_et][1].append(dst)

        neg_dict2<a id="change"> = </a><a id="change">copy.deepcopy(</a>pos_dict<a id="change">)</a>

        pos_hg = dgl.heterograph(pos_dict, {nt: self.hg.number_of_nodes(nt) for nt in self.hg.ntypes})
        pos_hg1 = dgl.heterograph(neg_dict1, {nt: self.hg.number_of_nodes(nt) for nt in self.hg.ntypes})
        pos_hg2 = dgl.heterograph(neg_dict2, {nt: self.hg.number_of_nodes(nt) for nt in self.hg.ntypes})</code></pre><h3>After Change</h3><pre><code class='java'>
                    wrong_et = random.choice(self.ets)
                    while wrong_et == et:
                        wrong_et = random.choice(self.ets)
                    wrong_et = (et[0], <a id="change">wrong_et[1]</a>, et[2])

                    if wrong_et not in neg_dict1:
                        neg_dict1[wrong_et] = ([src], [dst])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bupt-gamma/openhgnn/commit/66ed299958dce14e36a1ce145d35735cd4c4c954#diff-b4fc0a9e67953e6a78eca7999f2902ab88972db9cf5ad25a54056d2425c74918L109' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100046543</div><div id='project'> Project Name: bupt-gamma/openhgnn</div><div id='commit'> Commit Name: 66ed299958dce14e36a1ce145d35735cd4c4c954</div><div id='time'> Time: 2022-04-22</div><div id='author'> Author: 193691140@qq.com</div><div id='file'> File Name: openhgnn/trainerflow/HeGAN_trainer.py</div><div id='m_class'> M Class Name: GraphSampler</div><div id='n_method'> N Class Name: GraphSampler</div><div id='m_method'> M Method Name: sample_graph_for_dis(1)</div><div id='n_method'> N Method Name: sample_graph_for_dis(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: openhgnn/trainerflow/HeGAN_trainer.py</div><div id='n_file'> N File Name: openhgnn/trainerflow/HeGAN_trainer.py</div><div id='m_start'> M Start Line: 110</div><div id='m_end'> M End Line: 138</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if ctx.is_initializing:
        src = step(ctx)(0, src)
    else:
        name_cache<a id="change"> = </a><a id="change">copy.deepcopy(</a>ctx.name_cache<a id="change">)</a>
        for i in range(ctx.dims.sizes.depth):
            src = step(ctx)(i, src)
            ctx.name_cache = name_cache
    return output_embed(ctx, revnet_out(src))</code></pre><h3>After Change</h3><pre><code class='java'>
        src = step(ctx)(src, None)
    else:
        src = lax.scan(step(ctx), src, None, ctx.dims.sizes.depth, unroll=ctx.model.scan_unroll)
    return output_embed(ctx, revnet_out(<a id="change">src[0][1]</a>))


def compute(params: typing.Dict[str, jnp.ndarray], inp: jnp.ndarray) -&gt; typing.Tuple[jnp.ndarray, jnp.ndarray]:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/homebrewnlp/homebrewnlp-jax/commit/247d60be4be494ee9e6f76e59a597a20ebee0dd3#diff-6159e4e86b1b15ffd250a78dbdf29a41b004b4963154e49f8b96609b8ea977ceL278' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100046541</div><div id='project'> Project Name: homebrewnlp/homebrewnlp-jax</div><div id='commit'> Commit Name: 247d60be4be494ee9e6f76e59a597a20ebee0dd3</div><div id='time'> Time: 2021-09-18</div><div id='author'> Author: 39779310+ClashLuke@users.noreply.github.com</div><div id='file'> File Name: src/model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: body_ctx(2)</div><div id='n_method'> N Method Name: body_ctx(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/model.py</div><div id='n_file'> N File Name: src/model.py</div><div id='m_start'> M Start Line: 279</div><div id='m_end'> M End Line: 289</div><div id='n_start'> N Start Line: 283</div><div id='n_end'> N End Line: 290</div><BR>