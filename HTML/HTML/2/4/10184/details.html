<html><h3>Pattern ID :10184
</h3><img src='35995509.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.cache_statistics(m1,s1)

        fid = calculate_frechet_distance(m1, s1, m2, s2)
        <a id="change">print(f"fid is {fid}"</a><a id="change">)</a>
        pl_module.to(current_device)
        &#47&#47 log FID
        pl_module.log(self.fid_name, fid)
</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 log FID
        pl_module.log(self.fid_name, fid)
        &#47&#47 log KID
        <a id="change">pl_module.log("kid"</a>, kid_mean<a id="change">)</a>



        pl_module.to(current_device)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ebartrum/lightning_gan_zoo/commit/859ef87378af68c3e6777dd9ef470583add93c70#diff-ae7a11666ca83421ddb0f361654213ff896a3d51a124c1809262f654606ffbdaL99' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35995509</div><div id='project'> Project Name: ebartrum/lightning_gan_zoo</div><div id='commit'> Commit Name: 859ef87378af68c3e6777dd9ef470583add93c70</div><div id='time'> Time: 2021-04-06</div><div id='author'> Author: edward.bartrum@gmail.com</div><div id='file'> File Name: core/callback_fid.py</div><div id='m_class'> M Class Name: FIDCallback</div><div id='n_method'> N Class Name: FIDCallback</div><div id='m_method'> M Method Name: on_validation_epoch_start(3)</div><div id='n_method'> N Method Name: on_validation_epoch_start(3)</div><div id='m_parent_class'> M Parent Class: pl.callbacks.base.Callback</div><div id='n_parent_class'> N Parent Class: pl.callbacks.base.Callback</div><div id='m_file'> M File Name: core/callback_fid.py</div><div id='n_file'> N File Name: core/callback_fid.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 254</div><div id='n_end'> N End Line: 300</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        model = repvgg_det_model_convert(model, deploy_model)
    dummy_input = torch.autograd.Variable(torch.randn(1, 3, input_shape[0], input_shape[1]))
    torch.onnx.export(model, dummy_input, output_path, verbose=True, keep_initializers_as_inputs=True, opset_version=11)
    <a id="change">print(&quotfinished exporting onnx &quot</a><a id="change">)</a>


def parse_args():
    parser = argparse.ArgumentParser(</code></pre><h3>After Change</h3><pre><code class='java'>
                      keep_initializers_as_inputs=True,
                      opset_version=11,
                      output_names=output_names)
    <a id="change">logger.log(&quotfinished exporting onnx &quot</a><a id="change">)</a>


def parse_args():
    parser = argparse.ArgumentParser(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rangilyu/nanodet/commit/16ad36fdb859894fc9ede144f941a5f4803d7c9a#diff-3f9b967bc45ee62476e5dde29b35cc51ec88e4fd6f4de94609b335e9184fe140L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35995508</div><div id='project'> Project Name: rangilyu/nanodet</div><div id='commit'> Commit Name: 16ad36fdb859894fc9ede144f941a5f4803d7c9a</div><div id='time'> Time: 2021-04-17</div><div id='author'> Author: lyuchq@gmail.com</div><div id='file'> File Name: tools/export_onnx.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(4)</div><div id='n_method'> N Method Name: main(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tools/export_onnx.py</div><div id='n_file'> N File Name: tools/export_onnx.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 21</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if self.task == &quottrain&quot:
            for i in range(self.agents):
                if self.cur_dist[i]&lt;=1:
                    <a id="change">print("distance of agent"</a>, i ," is less than one"<a id="change">)</a>
                    self.terminal[i]=True
                    self.num_success[i].feed(1)

        &#47&#47 terminate if maximum number of steps is reached</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.task == &quottrain&quot:
            for i in range(self.agents):
                if self.cur_dist[i]&lt;=1:
                    <a id="change">self.logger.log(f"distance of agent {i} is &lt;= 1"</a><a id="change">)</a>
                    self.terminal[i]=True
                    self.num_success[i].feed(1)

        &#47&#47 terminate if maximum number of steps is reached</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/cd820656a28e1becfffcc491cad79fab064abfea#diff-1aa66ede6f6a6b202ed72d65ced3e7c3cd3d90215410e38cd8e846eb019c9e58L292' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35995511</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: cd820656a28e1becfffcc491cad79fab064abfea</div><div id='time'> Time: 2020-03-12</div><div id='author'> Author: g.m.leroy@outlook.com</div><div id='file'> File Name: examples/LandmarkDetection/DQN/medical.py</div><div id='m_class'> M Class Name: MedicalPlayer</div><div id='n_method'> N Class Name: MedicalPlayer</div><div id='m_method'> M Method Name: step(4)</div><div id='n_method'> N Method Name: step(4)</div><div id='m_parent_class'> M Parent Class: gym.Env</div><div id='n_parent_class'> N Parent Class: gym.Env</div><div id='m_file'> M File Name: examples/LandmarkDetection/DQN/medical.py</div><div id='n_file'> N File Name: examples/LandmarkDetection/DQN/medical.py</div><div id='m_start'> M Start Line: 415</div><div id='m_end'> M End Line: 425</div><div id='n_start'> N Start Line: 419</div><div id='n_end'> N End Line: 427</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        episode = 1
        acc_steps = 0
        while episode &lt;= self.max_episodes:
            <a id="change">print(</a>"episode", episode, <a id="change">"- eps"</a>, self.eps<a id="change">)</a>

            &#47&#47 Reset the environment for the start of the episode.
            obs = self.env.reset()
            &#47&#47 Observations stacks is a numpy array with shape (agents, frame_history, *image_size)</code></pre><h3>After Change</h3><pre><code class='java'>
        episode = 1
        acc_steps = 0
        while episode &lt;= self.max_episodes:
            <a id="change">self.logger.log(f"episode {episode} - eps {self.eps:.5f}"</a><a id="change">)</a>

            &#47&#47 Reset the environment for the start of the episode.
            obs = self.env.reset()
            &#47&#47 Observations stacks is a numpy array with shape (agents, frame_history, *image_size)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gml16/rl-medical/commit/d47c57c2a721ff40b9c474c79d29e6e482492602#diff-402b78bb8e8827975332d99145a6f82f10ac57348c81efa921275c6efa3f378cL49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35995506</div><div id='project'> Project Name: gml16/rl-medical</div><div id='commit'> Commit Name: d47c57c2a721ff40b9c474c79d29e6e482492602</div><div id='time'> Time: 2020-03-11</div><div id='author'> Author: g.m.leroy@outlook.com</div><div id='file'> File Name: examples/LandmarkDetection/DQN/trainer.py</div><div id='m_class'> M Class Name: Trainer</div><div id='n_method'> N Class Name: Trainer</div><div id='m_method'> M Method Name: train(1)</div><div id='n_method'> N Method Name: train(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: examples/LandmarkDetection/DQN/trainer.py</div><div id='n_file'> N File Name: examples/LandmarkDetection/DQN/trainer.py</div><div id='m_start'> M Start Line: 54</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 89</div><BR>