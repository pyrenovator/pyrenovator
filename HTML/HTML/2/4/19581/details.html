<html><h3>Pattern ID :19581
</h3><img src='63942270.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        fig, axs = plt.subplots(ncols=5, figsize=(20, 4))
        for i in range(5):
            <a id="change">axs[i].imshow(</a>images[i]<a id="change">)</a>
            axs[i].axis("off")
            if show_titles:
                axs[i].set_title(f"t={i+1}")
</code></pre><h3>After Change</h3><pre><code class='java'>
                raise ValueError("Dataset doesn&quott contain some of the RGB bands")

        fig, axes = plt.subplots(ncols=self.seasons, figsize=(20, 4))
        <a id="change">if </a>self.seasons == 1:
            axes<a id="change"> = [</a>axes<a id="change"></a>]

        indices = torch.tensor(rgb_indices)
        for i in range(self.seasons):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/torchgeo/commit/c1a6fb1a9a63300dfc1102f69079993d0d45e495#diff-1e470f81b5d4de8aea039d00b5f985084d71dd131b5488933f45c024fffb5191L255' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63942270</div><div id='project'> Project Name: microsoft/torchgeo</div><div id='commit'> Commit Name: c1a6fb1a9a63300dfc1102f69079993d0d45e495</div><div id='time'> Time: 2023-03-17</div><div id='author'> Author: ajstewart426@gmail.com</div><div id='file'> File Name: torchgeo/datasets/seco.py</div><div id='m_class'> M Class Name: SeasonalContrastS2</div><div id='n_method'> N Class Name: SeasonalContrastS2</div><div id='m_method'> M Method Name: plot(4)</div><div id='n_method'> N Method Name: plot(4)</div><div id='m_parent_class'> M Parent Class: NonGeoDataset</div><div id='n_parent_class'> N Parent Class: NonGeoDataset</div><div id='m_file'> M File Name: torchgeo/datasets/seco.py</div><div id='n_file'> N File Name: torchgeo/datasets/seco.py</div><div id='m_start'> M Start Line: 261</div><div id='m_end'> M End Line: 281</div><div id='n_start'> N Start Line: 255</div><div id='n_end'> N End Line: 273</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    np_img = minmax_scaler_img(tmp_img[0].to(device).numpy().transpose(
        (1, 2, 0)))  &#47&#47 noqa
    plt.imshow(np_img)
    <a id="change">plt.imshow(</a>pred_prob<a id="change">, cmap=&quotjet&quot, alpha=0.5)</a>
    plt.savefig(&quot./assets/{}&quot.format(img_fn), bbox_inches=&quottight&quot)
    gc.collect()

</code></pre><h3>After Change</h3><pre><code class='java'>
        preds = net(tmp_img)
    print("&gt;&gt;&gt; Inference took {}&quots".format(time.time() - start))

    <a id="change">if </a>args.heatmap:
        visualize_heatmap(args, img_fn, tmp_img, preds.to(&quotcpu&quot)[0].numpy())
    else:
        batch<a id="change"> = {</a>&quotshape&quot: [(h_origin, w_origin)]<a id="change">}</a>
        visualize_polygon(args, img_fn, (img_origin, h_origin, w_origin),
                          batch, preds)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huyhoang17/db_text_minimal/commit/77875739c22683bd946c0b692916ce1731fe19b4#diff-e5dcc7e9ea231b852d8e5d57623ff2834ac9ea3e96408e44b8857b4d379530aaL73' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63942280</div><div id='project'> Project Name: huyhoang17/db_text_minimal</div><div id='commit'> Commit Name: 77875739c22683bd946c0b692916ce1731fe19b4</div><div id='time'> Time: 2020-06-04</div><div id='author'> Author: hoangphan0710@gmail.com</div><div id='file'> File Name: src/test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(2)</div><div id='n_method'> N Method Name: main(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/test.py</div><div id='n_file'> N File Name: src/test.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Plot the result
        result = overlay_mask(pil_img, heatmap)

        <a id="change">axes[idx // num_cols][idx % num_cols].imshow(</a>result<a id="change">)</a>
        axes[idx // num_cols][idx % num_cols].set_title(extractor.__class__.__name__, size=8)

    &#47&#47 Clear axes
    for row in axes:</code></pre><h3>After Change</h3><pre><code class='java'>
    img_tensor = normalize(to_tensor(resize(pil_img, (224, 224))),
                           [0.485, 0.456, 0.406], [0.229, 0.224, 0.225]).to(device=device)

    <a id="change">if </a>isinstance(args.method, str):
        methods = [args.method]
    else:
        methods<a id="change"> = [
            </a>&quotCAM&quot,
            &quotGradCAM&quot, &quotGradCAMpp&quot, &quotSmoothGradCAMpp&quot,
            &quotScoreCAM&quot, &quotSSCAM&quot, &quotISCAM&quot,
            &quotXGradCAM&quot<a id="change"></a>,
        ]
    &#47&#47 Hook the corresponding layer in the model
    cam_extractors = [cams.__dict__[name](model) for name in methods]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/frgfm/torch-cam/commit/6fdacfa5602caa788cba4ec2a06203a02c826a01#diff-ea1b3d9500961cf31c5d6c50780af3d19683b388eab036d0976fc8a9423c30faL22' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63942276</div><div id='project'> Project Name: frgfm/torch-cam</div><div id='commit'> Commit Name: 6fdacfa5602caa788cba4ec2a06203a02c826a01</div><div id='time'> Time: 2021-03-14</div><div id='author'> Author: fgfm03@hotmail.fr</div><div id='file'> File Name: scripts/cam_example.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/cam_example.py</div><div id='n_file'> N File Name: scripts/cam_example.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 89</div><BR>