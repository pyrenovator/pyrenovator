<html><h3>Pattern ID :2440
</h3><img src='10289132.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                f"z_global_local and z_local_local must have batch size &gt; 1 but found {z_global_local_features.shape[0]} and  {z_local_local_features.shape[0]}"
            )

        global_loss = <a id="change">self.vicregloss.forward(z_a=z_global, z_b=z_local)</a>

        local_loss = self.local_loss(
            z_global=z_global_local_features,
            z_local=z_local_local_features,</code></pre><h3>After Change</h3><pre><code class='java'>
                f"global_view_features and global_view_grids must have same length "
                f"but found {len(global_view_features)} and {len(global_view_grids)}."
            )
        <a id="change">if local_view_features is not None</a> and local_view_grids is not None:
            if len(local_view_features) != len(local_view_grids):
                raise ValueError(
                    f"local_view_features and local_view_grids must have same length "
                    f"but found {len(local_view_features)} and {len(local_view_grids)}."
                )
        elif local_view_features is not None or local_view_grids is not None:
            <a id="change">raise </a>ValueError(
                f"local_view_features and local_view_grids must either both be set or "
                f"None but found {type(local_view_features)} and {type(local_view_grids)}."
            )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lightly-ai/lightly/commit/d9289cdee9de1d8fb56b07719ea6485b966079d3#diff-24d97d1420b60c5df91b6bbdbfb88a179a3a657f6cca3e24172a7b4d7d3929aaL98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10289132</div><div id='project'> Project Name: lightly-ai/lightly</div><div id='commit'> Commit Name: d9289cdee9de1d8fb56b07719ea6485b966079d3</div><div id='time'> Time: 2023-04-03</div><div id='author'> Author: 43336610+guarin@users.noreply.github.com</div><div id='file'> File Name: lightly/loss/vicregl_loss.py</div><div id='m_class'> M Class Name: VICRegLLoss</div><div id='n_method'> N Class Name: VICRegLLoss</div><div id='m_method'> M Method Name: forward(5)</div><div id='n_method'> N Method Name: forward(7)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: lightly/loss/vicregl_loss.py</div><div id='n_file'> N File Name: lightly/loss/vicregl_loss.py</div><div id='m_start'> M Start Line: 185</div><div id='m_end'> M End Line: 223</div><div id='n_start'> N Start Line: 98</div><div id='n_end'> N End Line: 161</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        audio_path = self._audios[rand_indexer]

        img = np.asarray(ImageProcessor(image_path=img_path, colorspace=self._colorspace).forward()).astype(&quotfloat64&quot)
        sound_stct = <a id="change">AudioProcessor(audio_path).forward()</a>

        return (img, sound_stct)

def loader(set=&quottrain&quot, rgb=True):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self._transform == &quotcosine&quot:
            sound_stct = self._AUDIO_PROCESSOR.forward(audio_path)
            return (img, sound_stct)
        elif <a id="change">self._transform == &quotfourier&quot</a>:
            magnitude_stft, phase_stft = self._AUDIO_PROCESSOR.forward(audio_path)
            return (img, magnitude_stft, phase_stft)
        else: <a id="change">raise </a>Exception(f&quotTransform not implemented&quot)

def loader(set=&quottrain&quot, rgb=True, transform=&quotcosine&quot):
    </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/margaritageleta/pixinwav/commit/e22e4a34d04924c7b5c32f1185e11fdcdbe45311#diff-044d10501c2c890418a6cde469e29cc842a17f248aa43c845b43e27a5e66701bL152' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10289134</div><div id='project'> Project Name: margaritageleta/pixinwav</div><div id='commit'> Commit Name: e22e4a34d04924c7b5c32f1185e11fdcdbe45311</div><div id='time'> Time: 2021-03-13</div><div id='author'> Author: noticiasmundiales99@gmail.com</div><div id='file'> File Name: src/loader.py</div><div id='m_class'> M Class Name: StegoDataset</div><div id='n_method'> N Class Name: StegoDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.Dataset</div><div id='n_parent_class'> N Parent Class: torch.utils.data.Dataset</div><div id='m_file'> M File Name: src/loader.py</div><div id='n_file'> N File Name: src/loader.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 184</div><div id='n_end'> N End Line: 195</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &quot&quot&quot

        if out is None:
            out = <a id="change">self.forward(</a>pos<a id="change">)</a>

        &#47&#47 compute the jacobian            
        z = Variable(torch.ones(out.shape))
        jacob = grad(out,pos,grad_outputs=z,create_graph=True)[0]</code></pre><h3>After Change</h3><pre><code class='java'>

        if self.kinetic == &quotauto&quot:
            return self.kinetic_energy_autograd(pos,out)
        elif <a id="change">self.kinetic == &quotfd&quot</a>:
            return self.kinetic_energy_finite_difference(pos)
        else:
            <a id="change">raise </a>ValueError(&quotkinetif %s not recognized&quot %self.kinetic)

    def kinetic_energy_autograd(self,pos,out=None):
        &quot&quot&quotCompute the second derivative of the network</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/367e2652236e20fd44c930c0364147f2315f419c#diff-9b6d50b2c508dc6b4237dfac1cbd518af0fd3839acc700bee1451a9898a75749L62' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10289146</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: 367e2652236e20fd44c930c0364147f2315f419c</div><div id='time'> Time: 2019-06-26</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: pyCHAMP/wavefunction/neural_wf_base.py</div><div id='m_class'> M Class Name: NEURAL_WF_BASE</div><div id='n_method'> N Class Name: NEURAL_WF_BASE</div><div id='m_method'> M Method Name: kinetic_energy(3)</div><div id='n_method'> N Method Name: kinetic_energy(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: pyCHAMP/wavefunction/neural_wf_base.py</div><div id='n_file'> N File Name: pyCHAMP/wavefunction/neural_wf_base.py</div><div id='m_start'> M Start Line: 76</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 71</div><BR>