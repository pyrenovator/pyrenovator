<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        qk, v = self.to_qk(x), self.to_v(v_input)

        sim<a id="change"> = </a><a id="change">einsum(&quotb i d, b j d -&gt; b i j&quot</a>, qk, qk<a id="change">)</a>

        sim = sim * self.scale
        sim = sim + self.rel_pos_bias(sim)
</code></pre><h3>After Change</h3><pre><code class='java'>
        )

    def forward(self, x, v_input = None):
        seq_len, dim = <a id="change">x.shape[-2:]</a>

        is_softmax_attn = not self.laplacian_attn_fn

        v_input = default(v_input, x)</code></pre>