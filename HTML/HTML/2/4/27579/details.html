<html><h3>Pattern ID :27579
</h3><img src='81929938.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Once there is data in the queue, then we start the
        &#47&#47 transform threads
        while self.tq.empty():
            <a id="change">time.sleep(1</a><a id="change">)</a>
        for thread in self.transform_threads:
            thread.start()
        while self.pq.empty():
            time.sleep(1)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Once there is data in the queue, then we start the
        &#47&#47 transform threads
        while True:
            <a id="change">if </a>not self.tq.empty():
                <a id="change">break</a>
        for thread in self.transform_threads:
            thread.start()

        while self.pq.empty():</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/relevanceai/relevanceai/commit/b794b1d85c1acf8eb856fc49f610b6d4c821b11b#diff-6381bc42fc96d5408fc21bc0c5e13e7e988d68b4ad1b822e38153923b3d9ccf4L551' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81929938</div><div id='project'> Project Name: relevanceai/relevanceai</div><div id='commit'> Commit Name: b794b1d85c1acf8eb856fc49f610b6d4c821b11b</div><div id='time'> Time: 2022-09-19</div><div id='author'> Author: joseph.twin@relevance.ai</div><div id='file'> File Name: relevanceai/operations_new/ops_run.py</div><div id='m_class'> M Class Name: PullTransformPush</div><div id='n_method'> N Class Name: PullTransformPush</div><div id='m_method'> M Method Name: _start_worker_threads(1)</div><div id='n_method'> N Method Name: _start_worker_threads(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: relevanceai/operations_new/ops_run.py</div><div id='n_file'> N File Name: relevanceai/operations_new/ops_run.py</div><div id='m_start'> M Start Line: 551</div><div id='m_end'> M End Line: 555</div><div id='n_start'> N Start Line: 554</div><div id='n_end'> N End Line: 563</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        try:
            while True:
                &#47&#47 Poll for new logs at most every 100 ms.
                <a id="change">time.sleep(0.1</a><a id="change">)</a>

                &#47&#47 The `tail` parameter only makes sense the first time we fetch logs.
                resp = logs_query(greater_than_id=latest_log_id).send()
                latest_log_id, changes = process_response(resp.trial_logs, latest_log_id)</code></pre><h3>After Change</h3><pre><code class='java'>
            offset, state = log["id"], log["state"]

    print_logs(args.tail)
    <a id="change">if </a>not args.follow:
        return

    try:
        while True:
            print_logs()
            if state in constants.TERMINAL_STATES:
                <a id="change">break</a>
            time.sleep(0.2)
    except KeyboardInterrupt:
        pass
    finally:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/3da2ccbfa9a48a61c87488858d89fe84f1997978#diff-b549d9d2981432c1a4e328824134439d732b4d601165d2eb7c26da1d582bda4aL99' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81929943</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 3da2ccbfa9a48a61c87488858d89fe84f1997978</div><div id='time'> Time: 2020-04-30</div><div id='author'> Author: yoni@determined.ai</div><div id='file'> File Name: cli/determined_cli/trial.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: logs(1)</div><div id='n_method'> N Method Name: logs(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cli/determined_cli/trial.py</div><div id='n_file'> N File Name: cli/determined_cli/trial.py</div><div id='m_start'> M Start Line: 128</div><div id='m_end'> M End Line: 168</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 131</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._network.init_network_connection()
        self._LOGGER.info("Connect to clients successfully")

        <a id="change">time.sleep(3</a><a id="change">)</a>
        
        for round_idx in range(self.global_round):
            self._LOGGER.info("Global FL round {}/{}".format(
                round_idx + 1, self.global_round))</code></pre><h3>After Change</h3><pre><code class='java'>
            self.activate_clients()
            while True:
                sender, message_code, payload = PackageProcessor.recv_package()
                <a id="change">if </a>self.on_receive(sender, message_code, payload):
                    <a id="change">break</a>

        self.shutdown_clients()
        self._network.close_network_connection()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/smilelab-fl/fedlab/commit/c84b5b646a4dfc6d38abfd9af5d52e93d849780d#diff-c0bb72ca4a4b3dbfec452ab8c4a2ccb4efc7c2d7bf9966385d0be76ce8bd9cfbL55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 81929944</div><div id='project'> Project Name: smilelab-fl/fedlab</div><div id='commit'> Commit Name: c84b5b646a4dfc6d38abfd9af5d52e93d849780d</div><div id='time'> Time: 2021-08-05</div><div id='author'> Author: 928255708@qq.com</div><div id='file'> File Name: fedlab/core/server/manager.py</div><div id='m_class'> M Class Name: ServerSynchronousManager</div><div id='n_method'> N Class Name: ServerSynchronousManager</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: NetworkManager</div><div id='n_parent_class'> N Parent Class: NetworkManager</div><div id='m_file'> M File Name: fedlab/core/server/manager.py</div><div id='n_file'> N File Name: fedlab/core/server/manager.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 69</div><BR>