<html><h3>Pattern ID :17874
</h3><img src='58586783.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def _read_physician_report(file_path):
    physician_report = np.nan
    &#47&#47 check if there is a report to add to the description
    report_path = "_".join(file_path.split("_")[<a id="change">:-1</a>]) + ".txt"
    if os.path.exists(report_path):
        with open(report_path, "r", encoding="latin-1") as f:
            physician_report = f.read()</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 somewhere in the corpus, encoding apparently changed
        &#47&#47 first try to read as utf-8, if it does not work use latin-1
        try:
            with <a id="change">open(</a>txt_file, <a id="change">&quotr&quot</a><a id="change">, encoding=&quotutf-8&quot)</a> as f:
                report = f.read()
        except UnicodeDecodeError:
            with open(txt_file, &quotr&quot, encoding=&quotlatin-1&quot) as f:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/braindecode/braindecode/commit/11abf35c2fc4dd71f4fecc47c5486e67ca1355cf#diff-6394a166e6aaf25cf4943fde8461ad97bd5d2bb495426eb0e0057691c7c50321L132' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58586783</div><div id='project'> Project Name: braindecode/braindecode</div><div id='commit'> Commit Name: 11abf35c2fc4dd71f4fecc47c5486e67ca1355cf</div><div id='time'> Time: 2021-04-28</div><div id='author'> Author: l.gemein@googlemail.com</div><div id='file'> File Name: braindecode/datasets/tuh.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _read_physician_report(1)</div><div id='n_method'> N Method Name: _read_physician_report(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: braindecode/datasets/tuh.py</div><div id='n_file'> N File Name: braindecode/datasets/tuh.py</div><div id='m_start'> M Start Line: 132</div><div id='m_end'> M End Line: 138</div><div id='n_start'> N Start Line: 132</div><div id='n_end'> N End Line: 147</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    import matplotlib.pyplot as plt

    for i in range(100):
        plt.plot(xs[i, <a id="change">1</a>:, 0], xs[i, 1:, 1])
    plt.show()

    return xs, us</code></pre><h3>After Change</h3><pre><code class='java'>

        with open(path+"xs.pkl", &quotrb&quot) as f:
            xs = pickle.load(f)            
        with <a id="change">open(</a>path+"us.pkl", <a id="change">&quotrb&quot</a><a id="change">)</a> as f:
            us = pickle.load(f)

    elif system == "quadrotor":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/c9b51e13d331027e4154999bc43026a9daf05ae0#diff-570c55fb5be1f1488b9a0f7536d9897c0f385f0a7bea79cf5f94761ef8e9da80L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58586782</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: c9b51e13d331027e4154999bc43026a9daf05ae0</div><div id='time'> Time: 2021-11-09</div><div id='author'> Author: mfe@mit.edu</div><div id='file'> File Name: nn_closed_loop/nn_closed_loop/utils/nn.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_data(1)</div><div id='n_method'> N Method Name: load_data(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nn_closed_loop/nn_closed_loop/utils/nn.py</div><div id='n_file'> N File Name: nn_closed_loop/nn_closed_loop/utils/nn.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 126</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    start = time.time()
    batch_size = len(batch)
    feat_list = []
    for idx, egs in enumerate(batch[<a id="change">1:</a>]):
        try:
            p = subprocess.Popen(&quot &quot.join(egs.wav), stdout=subprocess.PIPE, shell=True)
            &#47&#47samples, _ = librosa.load(io.BytesIO(p.communicate()[0]))</code></pre><h3>After Change</h3><pre><code class='java'>
        return None, None
    batch_size = len(batch)
    feat_list = []
    devnull = <a id="change">open(</a>os.devnull, <a id="change">&quotw&quot</a><a id="change">)</a>
    for egs in batch:
        try:
            p = subprocess.Popen(&quot &quot.join(egs.wav), stdout=subprocess.PIPE, shell=True, stderr=devnull)
            samples, _ = soundfile.read(io.BytesIO(p.communicate()[0]))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/idiap/pkwrap/commit/560ef7caf6df3bde36a614c164d0b83a4db5b9ee#diff-ba4c5e9534cccf31b3ec7186d7eeee8b6379c31b2c5cd350e4584853a44ac751L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 58586787</div><div id='project'> Project Name: idiap/pkwrap</div><div id='commit'> Commit Name: 560ef7caf6df3bde36a614c164d0b83a4db5b9ee</div><div id='time'> Time: 2021-03-12</div><div id='author'> Author: srikanth.madikeri@idiap.ch</div><div id='file'> File Name: pkwrap/chain/egs_wav2vec2.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: prepare_e2e_minibatch(1)</div><div id='n_method'> N Method Name: prepare_e2e_minibatch(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pkwrap/chain/egs_wav2vec2.py</div><div id='n_file'> N File Name: pkwrap/chain/egs_wav2vec2.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 41</div><BR>