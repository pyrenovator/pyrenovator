<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 run adaptation episodes
    for curri_iter in range(len(config[&quotdata&quot][&quottarget&quot][&quotname&quot])):
        <a id="change">print(</a>&quotStarting the adaptation...&quot<a id="change">)</a>
        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47 Step 1: train one adaptation episod on combined target domains &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
        target_train_datasets = preprocess.ConcatDataset(dsets[&quottarget_train&quot].values())
        dset_loaders[&quottarget_train&quot] = DataLoader(dataset=target_train_datasets,
                                                  batch_size=config[&quotdata&quot][&quottarget&quot][&quotbatch_size&quot],</code></pre><h3>After Change</h3><pre><code class='java'>
        base_network, classifier_gnn = trainer.adapt_target_cgct(config, base_network, classifier_gnn,
                                                                 dset_loaders, random_layer, adv_net)

        log_str<a id="change"> = </a>&quot==&gt; Finishing {} adaptation episode!\n&quot.format(curri_iter)
        <a id="change">utils.write_logs(</a>config, log_str<a id="change">)</a>

        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47 Step 2: obtain the target pseudo labels and upgrade target domains &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
        trainer.upgrade_target_domains(config, dsets, dset_loaders, base_network, classifier_gnn, curri_iter)
</code></pre>