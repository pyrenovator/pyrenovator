<html><h3>Pattern ID :9323
</h3><img src='33472150.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            for receiver_id in range(1, self.size):
                self.send_message_sync_model_to_client(
                    receiver_id, global_model_params, <a id="change">client_indexes[receiver_id - 1]</a>
                )

    def send_message_init_config(self, receive_id, global_model_params, client_index):
        message = Message(</code></pre><h3>After Change</h3><pre><code class='java'>
        model_params = msg_params.get(MyMessage.MSG_ARG_KEY_MODEL_PARAMS)
        &#47&#47 local_sample_number = msg_params.get(MyMessage.MSG_ARG_KEY_NUM_SAMPLES)
        client_runtime_info = msg_params.get(MyMessage.MSG_ARG_KEY_CLIENT_RUNTIME_INFO)
        <a id="change">self.aggregator.record_client_runtime(</a>sender_id<a id="change"> - 1</a>, client_runtime_info<a id="change">)</a>

        self.aggregator.add_local_trained_result(
            sender_id - 1, model_params,
        )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/ba79c4fa9a99c47e23d7b1ad1d7d907d5d567ba8#diff-e9eb391b74cfd552934128091766f9a847cd439fccd636b3a89ff6ae6172de8bL54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33472150</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: ba79c4fa9a99c47e23d7b1ad1d7d907d5d567ba8</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: 956234606@qq.com</div><div id='file'> File Name: python/fedml/simulation/mpi/fedopt_seq/FedOptServerManager.py</div><div id='m_class'> M Class Name: FedOptServerManager</div><div id='n_method'> N Class Name: FedOptServerManager</div><div id='m_method'> M Method Name: handle_message_receive_model_from_client(2)</div><div id='n_method'> N Method Name: handle_message_receive_model_from_client(2)</div><div id='m_parent_class'> M Parent Class: FedMLCommManager</div><div id='n_parent_class'> N Parent Class: FedMLCommManager</div><div id='m_file'> M File Name: python/fedml/simulation/mpi/fedopt_seq/FedOptServerManager.py</div><div id='n_file'> N File Name: python/fedml/simulation/mpi/fedopt_seq/FedOptServerManager.py</div><div id='m_start'> M Start Line: 54</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                self.send_message_sync_model_to_client(
                    receiver_id,
                    global_model_params,
                    <a id="change">self.data_silo_index_list[client_idx_in_this_round]</a>,
                )
                client_idx_in_this_round += 1
</code></pre><h3>After Change</h3><pre><code class='java'>
        model_params = msg_params.get(MyMessage.MSG_ARG_KEY_MODEL_PARAMS)
        local_sample_number = msg_params.get(MyMessage.MSG_ARG_KEY_NUM_SAMPLES)
        client_runtime_info = msg_params.get(MyMessage.MSG_ARG_KEY_CLIENT_RUNTIME_INFO)
        <a id="change">self.aggregator.record_client_runtime(</a>sender_id<a id="change"> - 1</a>, client_runtime_info<a id="change">)</a>

        self.aggregator.add_local_trained_result(
            self.client_real_ids.index(sender_id), model_params, local_sample_number
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/ae5b2fc9ec367311a39f71458bf0508640d04a37#diff-9dfa790414ef3414ff34f313a7f9dd69dbb30f27870d3f8c5853d582ec03e133L122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33472151</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: ae5b2fc9ec367311a39f71458bf0508640d04a37</div><div id='time'> Time: 2022-07-29</div><div id='author'> Author: 956234606@qq.com</div><div id='file'> File Name: python/fedml/cross_silo/server/fedml_server_manager.py</div><div id='m_class'> M Class Name: FedMLServerManager</div><div id='n_method'> N Class Name: FedMLServerManager</div><div id='m_method'> M Method Name: handle_message_receive_model_from_client(2)</div><div id='n_method'> N Method Name: handle_message_receive_model_from_client(2)</div><div id='m_parent_class'> M Parent Class: FedMLCommManager</div><div id='n_parent_class'> N Parent Class: FedMLCommManager</div><div id='m_file'> M File Name: python/fedml/cross_silo/server/fedml_server_manager.py</div><div id='n_file'> N File Name: python/fedml/cross_silo/server/fedml_server_manager.py</div><div id='m_start'> M Start Line: 156</div><div id='m_end'> M End Line: 189</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 195</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                self.send_message_sync_model_to_client(
                    receiver_id,
                    global_model_params,
                    <a id="change">self.data_silo_index_list[client_idx_in_this_round]</a>,
                )
                client_idx_in_this_round += 1
</code></pre><h3>After Change</h3><pre><code class='java'>
        model_params = msg_params.get(MyMessage.MSG_ARG_KEY_MODEL_PARAMS)
        local_sample_number = msg_params.get(MyMessage.MSG_ARG_KEY_NUM_SAMPLES)
        client_runtime_info = msg_params.get(MyMessage.MSG_ARG_KEY_CLIENT_RUNTIME_INFO)
        <a id="change">self.aggregator.record_client_runtime(</a>sender_id<a id="change"> - 1</a>, client_runtime_info<a id="change">)</a>

        self.aggregator.add_local_trained_result(
            self.client_real_ids.index(sender_id), model_params, local_sample_number
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/1b56111e5b8017a512355b2021cc8769abf910ab#diff-9dfa790414ef3414ff34f313a7f9dd69dbb30f27870d3f8c5853d582ec03e133L122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33472148</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 1b56111e5b8017a512355b2021cc8769abf910ab</div><div id='time'> Time: 2022-07-29</div><div id='author'> Author: 956234606@qq.com</div><div id='file'> File Name: python/fedml/cross_silo/server/fedml_server_manager.py</div><div id='m_class'> M Class Name: FedMLServerManager</div><div id='n_method'> N Class Name: FedMLServerManager</div><div id='m_method'> M Method Name: handle_message_receive_model_from_client(2)</div><div id='n_method'> N Method Name: handle_message_receive_model_from_client(2)</div><div id='m_parent_class'> M Parent Class: FedMLCommManager</div><div id='n_parent_class'> N Parent Class: FedMLCommManager</div><div id='m_file'> M File Name: python/fedml/cross_silo/server/fedml_server_manager.py</div><div id='n_file'> N File Name: python/fedml/cross_silo/server/fedml_server_manager.py</div><div id='m_start'> M Start Line: 156</div><div id='m_end'> M End Line: 189</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 195</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            for receiver_id in range(1, self.size):
                self.send_message_sync_model_to_client(
                    receiver_id, global_model_params, <a id="change">client_indexes[receiver_id - 1]</a>
                )

    def send_message_init_config(self, receive_id, global_model_params, client_index):
        message = Message(</code></pre><h3>After Change</h3><pre><code class='java'>
        model_params = msg_params.get(MyMessage.MSG_ARG_KEY_MODEL_PARAMS)
        &#47&#47 local_sample_number = msg_params.get(MyMessage.MSG_ARG_KEY_NUM_SAMPLES)
        client_runtime_info = msg_params.get(MyMessage.MSG_ARG_KEY_CLIENT_RUNTIME_INFO)
        <a id="change">self.aggregator.record_client_runtime(</a>sender_id<a id="change"> - 1</a>, client_runtime_info<a id="change">)</a>

        self.aggregator.add_local_trained_result(
            sender_id - 1, model_params,
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/b5b62443e3442c798793c92fa5ebbaf394ac16e6#diff-e9eb391b74cfd552934128091766f9a847cd439fccd636b3a89ff6ae6172de8bL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33472149</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: b5b62443e3442c798793c92fa5ebbaf394ac16e6</div><div id='time'> Time: 2022-08-16</div><div id='author'> Author: 956234606@qq.com</div><div id='file'> File Name: python/fedml/simulation/mpi/fedopt_seq/FedOptServerManager.py</div><div id='m_class'> M Class Name: FedOptServerManager</div><div id='n_method'> N Class Name: FedOptServerManager</div><div id='m_method'> M Method Name: handle_message_receive_model_from_client(2)</div><div id='n_method'> N Method Name: handle_message_receive_model_from_client(2)</div><div id='m_parent_class'> M Parent Class: FedMLCommManager</div><div id='n_parent_class'> N Parent Class: FedMLCommManager</div><div id='m_file'> M File Name: python/fedml/simulation/mpi/fedopt_seq/FedOptServerManager.py</div><div id='n_file'> N File Name: python/fedml/simulation/mpi/fedopt_seq/FedOptServerManager.py</div><div id='m_start'> M Start Line: 54</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 107</div><BR>