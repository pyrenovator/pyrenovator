<html><h3>Pattern ID :14243
</h3><img src='47277073.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        o = self._prepare(self.o[row_idxs, col_idxs]).view(self.batch_size, self.num_bptt, self.o_dim)
        a = self._prepare(self.a[row_idxs, col_idxs]).view(self.batch_size, self.num_bptt, self.a_dim)
        r<a id="change"> = </a><a id="change">self._prepare(self.r[row_idxs, col_idxs]).view(</a>self.batch_size, self.num_bptt, <a id="change">1</a><a id="change">)</a>
        no = self._prepare(self.no[row_idxs, col_idxs]).view(self.batch_size, self.num_bptt, self.o_dim)
        d = self._prepare(self.d[row_idxs, col_idxs]).view(self.batch_size, self.num_bptt, 1)
        m = self._prepare(self.m[row_idxs, col_idxs]).view(self.batch_size, self.num_bptt, 1)
</code></pre><h3>After Change</h3><pre><code class='java'>
            col_idxs_for_others.append(np.arange(start_index, end_index + 1, 1))

        col_idxs_for_o = np.array(col_idxs_for_o)
        col_idxs_for_others = <a id="change">np.array(</a>col_idxs_for_others<a id="change">)</a>

        assert row_idxs_for_o.shape == col_idxs_for_o.shape == (self.batch_size, self.num_bptt + 1)
        assert row_idxs_for_others.shape == col_idxs_for_others.shape == (self.batch_size, self.num_bptt)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zhihanyang2022/off-policy-continuous-control/commit/ff05c5d10e3338ae6468407f3fdf47eed1a22559#diff-1507009ab57c9d4a09b2f6569e1a96597dc18c8ec7bf05b1135e5e636786df85L120' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47277073</div><div id='project'> Project Name: zhihanyang2022/off-policy-continuous-control</div><div id='commit'> Commit Name: ff05c5d10e3338ae6468407f3fdf47eed1a22559</div><div id='time'> Time: 2021-05-23</div><div id='author'> Author: yangz2@carleton.edu</div><div id='file'> File Name: offpcc/basics/replay_buffer_recurrent.py</div><div id='m_class'> M Class Name: RecurrentReplayBuffer</div><div id='n_method'> N Class Name: RecurrentReplayBuffer</div><div id='m_method'> M Method Name: sample(1)</div><div id='n_method'> N Method Name: sample(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: offpcc/basics/replay_buffer_recurrent.py</div><div id='n_file'> N File Name: offpcc/basics/replay_buffer_recurrent.py</div><div id='m_start'> M Start Line: 132</div><div id='m_end'> M End Line: 171</div><div id='n_start'> N Start Line: 120</div><div id='n_end'> N End Line: 173</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        while tmp &lt; NFAKE:
            z = torch.randn(batch_size, GAN_Latent_Length, dtype=torch.float).to(device)
            y = np.random.randint(MIN_LABEL, MAX_LABEL, n_row**2)
            y = <a id="change">torch.from_numpy(y).type(torch.float).view(-1</a>,1<a id="change">)</a>.to(device)
            y += shift_label
            y /= max_label
            batch_fake_images<a id="change"> = </a>netG(z, y)
            raw_fake_images[tmp:(tmp+batch_size)] = batch_fake_images.cpu().detach().numpy()
            raw_fake_counts[tmp:(tmp+batch_size)] = y.cpu().view(-1).detach().numpy()
            tmp += batch_size</code></pre><h3>After Change</h3><pre><code class='java'>
    raw_fake_labels = raw_fake_labels.astype(np.float)

    &#47&#47convert class labels to raw labels
    raw_fake_labels = <a id="change">np.array(</a>[class2label[raw_fake_labels[i]] for i in range(NFAKE)]<a id="change">)</a>

    return fake_images, raw_fake_labels

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ubcdingxin/improved_ccgan/commit/8a85572c67f2b5e51be8e71eb77edbead26b2c0a#diff-df3c440c73c50b64aefbe69083440a66533d0d3b3c5f056547c895503b9d9f9aL134' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47277074</div><div id='project'> Project Name: ubcdingxin/improved_ccgan</div><div id='commit'> Commit Name: 8a85572c67f2b5e51be8e71eb77edbead26b2c0a</div><div id='time'> Time: 2020-03-11</div><div id='author'> Author: dingx92@gmail.com</div><div id='file'> File Name: CellCounting/Train_cDCGAN.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: SampcDCGAN(7)</div><div id='n_method'> N Method Name: SampcDCGAN(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: CellCounting/Train_cDCGAN.py</div><div id='n_file'> N File Name: CellCounting/Train_cDCGAN.py</div><div id='m_start'> M Start Line: 134</div><div id='m_end'> M End Line: 159</div><div id='n_start'> N Start Line: 136</div><div id='n_end'> N End Line: 165</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        pytorch_model = hummingbird.ml.convert(model, "torchscript", np.array([[[97], [114], [120]]], dtype=np.int64))
        self.assertTrue(pytorch_model is not None)

        pytorch_input<a id="change"> = </a><a id="change">torch.from_numpy(np.array(data, dtype="|S" + str(max_word_length)).view(np.int32)).view(
            -1</a>, num_columns, max_word_length // 4<a id="change">
        )</a>
        np.testing.assert_allclose(
            model.transform(data).todense(), pytorch_model.transform(pytorch_input), rtol=1e-06, atol=1e-06
        )
</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_model_one_hot_encoder_ts_string(self):
        model = OneHotEncoder()
        data = <a id="change">np.array(</a>[["a", "r", "x"], ["a", "r", "x"], ["aaaa", "r", "x"], ["a", "r", "xx"]]<a id="change">)</a>
        model.fit(data)

        pytorch_model = hummingbird.ml.convert(model, "torchscript", data)
        self.assertTrue(pytorch_model is not None)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/hummingbird/commit/bec5a9868a12c9deb993a373db3876a57a278ecb#diff-09654c0b5c5ab0e38569d12011d5633ca1031590049a8b8befbca367f92f1381L92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47277060</div><div id='project'> Project Name: microsoft/hummingbird</div><div id='commit'> Commit Name: bec5a9868a12c9deb993a373db3876a57a278ecb</div><div id='time'> Time: 2020-12-21</div><div id='author'> Author: m.interlandi@gmail.com</div><div id='file'> File Name: tests/test_sklearn_one_hot_encoder_converter.py</div><div id='m_class'> M Class Name: TestSklearnOneHotEncoderConverter</div><div id='n_method'> N Class Name: TestSklearnOneHotEncoderConverter</div><div id='m_method'> M Method Name: test_model_one_hot_encoder_ts_string(1)</div><div id='n_method'> N Method Name: test_model_one_hot_encoder_ts_string(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/test_sklearn_one_hot_encoder_converter.py</div><div id='n_file'> N File Name: tests/test_sklearn_one_hot_encoder_converter.py</div><div id='m_start'> M Start Line: 94</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 82</div><BR>