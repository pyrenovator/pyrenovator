<html><h3>Pattern ID :7377
</h3><img src='24575430.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.loc = loc / loc.norm(dim=-1, keepdim=True)

    def log_prob(self, value):
        value = <a id="change">value</a><a id="change"> / value</a><a id="change">.norm(dim=-1, keepdim=True)</a>
        return -F.softplus(-(self.loc * value).sum(-1))


class Categorical(Module):</code></pre><h3>After Change</h3><pre><code class='java'>
        self.loc = F.normalize(loc, dim=-1)

    def log_prob(self, value):
        value = <a id="change">F.normalize(</a>value<a id="change">, dim=-1)</a>
        return F.softplus((self.loc * value).sum(-1))


class Categorical(Module):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jgraving/selfsne/commit/26d1a76f83c557f06c8400d91c64d141f59801e1#diff-f067ea572d2a724c22fdaf81c9955e3337f17151f31afd4a0aa865b838c491d1L77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24575430</div><div id='project'> Project Name: jgraving/selfsne</div><div id='commit'> Commit Name: 26d1a76f83c557f06c8400d91c64d141f59801e1</div><div id='time'> Time: 2022-05-03</div><div id='author'> Author: jgraving@gmail.com</div><div id='file'> File Name: selfsne/kernels.py</div><div id='m_class'> M Class Name: SphericalT</div><div id='n_method'> N Class Name: SphericalT</div><div id='m_method'> M Method Name: log_prob(2)</div><div id='n_method'> N Method Name: log_prob(2)</div><div id='m_parent_class'> M Parent Class: Module</div><div id='n_parent_class'> N Parent Class: Module</div><div id='m_file'> M File Name: selfsne/kernels.py</div><div id='n_file'> N File Name: selfsne/kernels.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 78</div><div id='n_start'> N Start Line: 80</div><div id='n_end'> N End Line: 81</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.loc = loc / loc.norm(dim=-1, keepdim=True)

    def log_prob(self, value):
        value = value<a id="change"> / </a><a id="change">value.norm(dim=-1, keepdim=True)</a>
        return (self.loc * value).sum(-1)


class SphericalT(Module):</code></pre><h3>After Change</h3><pre><code class='java'>
        self.loc = F.normalize(loc, dim=-1)

    def log_prob(self, value):
        value = <a id="change">F.normalize(</a>value<a id="change">, dim=-1)</a>
        return (self.loc * value).sum(-1)


class SphericalT(Module):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jgraving/selfsne/commit/26d1a76f83c557f06c8400d91c64d141f59801e1#diff-f067ea572d2a724c22fdaf81c9955e3337f17151f31afd4a0aa865b838c491d1L66' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24575431</div><div id='project'> Project Name: jgraving/selfsne</div><div id='commit'> Commit Name: 26d1a76f83c557f06c8400d91c64d141f59801e1</div><div id='time'> Time: 2022-05-03</div><div id='author'> Author: jgraving@gmail.com</div><div id='file'> File Name: selfsne/kernels.py</div><div id='m_class'> M Class Name: VonMises</div><div id='n_method'> N Class Name: VonMises</div><div id='m_method'> M Method Name: log_prob(2)</div><div id='n_method'> N Method Name: log_prob(2)</div><div id='m_parent_class'> M Parent Class: Module</div><div id='n_parent_class'> N Parent Class: Module</div><div id='m_file'> M File Name: selfsne/kernels.py</div><div id='n_file'> N File Name: selfsne/kernels.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 70</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class SphericalT(Module):
    def __init__(self, loc):
        super().__init__()
        self.loc = loc<a id="change"> / </a><a id="change">loc.norm(dim=-1, keepdim=True)</a>

    def log_prob(self, value):
        value = value / value.norm(dim=-1, keepdim=True)
        return -F.softplus(-(self.loc * value).sum(-1))</code></pre><h3>After Change</h3><pre><code class='java'>
class SphericalT(Module):
    def __init__(self, loc):
        super().__init__()
        self.loc = <a id="change">F.normalize(</a>loc<a id="change">, dim=-1)</a>

    def log_prob(self, value):
        value = F.normalize(value, dim=-1)
        return F.softplus((self.loc * value).sum(-1))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jgraving/selfsne/commit/26d1a76f83c557f06c8400d91c64d141f59801e1#diff-f067ea572d2a724c22fdaf81c9955e3337f17151f31afd4a0aa865b838c491d1L72' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24575428</div><div id='project'> Project Name: jgraving/selfsne</div><div id='commit'> Commit Name: 26d1a76f83c557f06c8400d91c64d141f59801e1</div><div id='time'> Time: 2022-05-03</div><div id='author'> Author: jgraving@gmail.com</div><div id='file'> File Name: selfsne/kernels.py</div><div id='m_class'> M Class Name: SphericalT</div><div id='n_method'> N Class Name: SphericalT</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: Module</div><div id='n_parent_class'> N Parent Class: Module</div><div id='m_file'> M File Name: selfsne/kernels.py</div><div id='n_file'> N File Name: selfsne/kernels.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 77</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.loc = loc / loc.norm(dim=-1, keepdim=True)

    def log_prob(self, value):
        value = value<a id="change"> / </a><a id="change">value.norm(dim=-1, keepdim=True)</a>
        return -F.softplus(-(self.loc * value).sum(-1))


class Categorical(Module):</code></pre><h3>After Change</h3><pre><code class='java'>
        self.loc = F.normalize(loc, dim=-1)

    def log_prob(self, value):
        value = <a id="change">F.normalize(</a>value<a id="change">, dim=-1)</a>
        return F.softplus((self.loc * value).sum(-1))


class Categorical(Module):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jgraving/cne/commit/26d1a76f83c557f06c8400d91c64d141f59801e1#diff-f067ea572d2a724c22fdaf81c9955e3337f17151f31afd4a0aa865b838c491d1L76' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24575426</div><div id='project'> Project Name: jgraving/cne</div><div id='commit'> Commit Name: 26d1a76f83c557f06c8400d91c64d141f59801e1</div><div id='time'> Time: 2022-05-03</div><div id='author'> Author: jgraving@gmail.com</div><div id='file'> File Name: selfsne/kernels.py</div><div id='m_class'> M Class Name: SphericalT</div><div id='n_method'> N Class Name: SphericalT</div><div id='m_method'> M Method Name: log_prob(2)</div><div id='n_method'> N Method Name: log_prob(2)</div><div id='m_parent_class'> M Parent Class: Module</div><div id='n_parent_class'> N Parent Class: Module</div><div id='m_file'> M File Name: selfsne/kernels.py</div><div id='n_file'> N File Name: selfsne/kernels.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 78</div><div id='n_start'> N Start Line: 80</div><div id='n_end'> N End Line: 81</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class VonMises(Module):
    def __init__(self, loc):
        super().__init__()
        self.loc = loc<a id="change"> / </a><a id="change">loc.norm(dim=-1, keepdim=True)</a>

    def log_prob(self, value):
        value = value / value.norm(dim=-1, keepdim=True)
        return (self.loc * value).sum(-1)</code></pre><h3>After Change</h3><pre><code class='java'>
class VonMises(Module):
    def __init__(self, loc):
        super().__init__()
        self.loc = <a id="change">F.normalize(</a>loc<a id="change">, dim=-1)</a>

    def log_prob(self, value):
        value = F.normalize(value, dim=-1)
        return (self.loc * value).sum(-1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jgraving/cne/commit/26d1a76f83c557f06c8400d91c64d141f59801e1#diff-f067ea572d2a724c22fdaf81c9955e3337f17151f31afd4a0aa865b838c491d1L62' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24575427</div><div id='project'> Project Name: jgraving/cne</div><div id='commit'> Commit Name: 26d1a76f83c557f06c8400d91c64d141f59801e1</div><div id='time'> Time: 2022-05-03</div><div id='author'> Author: jgraving@gmail.com</div><div id='file'> File Name: selfsne/kernels.py</div><div id='m_class'> M Class Name: VonMises</div><div id='n_method'> N Class Name: VonMises</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: Module</div><div id='n_parent_class'> N Parent Class: Module</div><div id='m_file'> M File Name: selfsne/kernels.py</div><div id='n_file'> N File Name: selfsne/kernels.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 67</div><BR>