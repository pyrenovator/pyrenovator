<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def get_gaussian_kernel2d(kernel_size, sigma: float, normalize: bool = True):
    kernel1d = get_gaussian_kernel1d(kernel_size, sigma, normalize)
    <a id="change">return </a>torch.mm(kernel1d[:, None], kernel1d[None, :])
</code></pre><h3>After Change</h3><pre><code class='java'>
def get_gaussian_kernel2d(kernel_size, sigma: float, normalize: bool = True):
    ksize_half = (kernel_size - 1) * 0.5

    xs = <a id="change">torch.linspace(-ksize_half</a>, ksize_half<a id="change">, steps=kernel_size)</a>
    ys = torch.linspace(-ksize_half, ksize_half, steps=kernel_size)

    x<a id="change">, y = </a>torch.meshgrid(xs, ys, indexing=&quotxy&quot)

    pdf = torch.exp(-0.5 * ((x * x + y * y) / (sigma * sigma)))
</code></pre>