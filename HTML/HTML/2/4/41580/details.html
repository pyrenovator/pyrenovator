<html><h3>Pattern ID :41580
</h3><img src='116900013.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        for label, images in data.items():
            for image_name in images:
                image = image_dir_path / f"{image_name}.jpg"
                features = {"image": <a id="change">str(</a>image<a id="change">)</a>, "label": label}
                yield image_name, features
</code></pre><h3>After Change</h3><pre><code class='java'>

    def _generate_examples(self, images, metadata_path):
        Generate images and labels for splits.
        <a id="change">with open</a><a id="change">(metadata_path, encoding="utf-8") as f:
            </a>files_to_keep = set(f.read().split("\n"))
        for file_path, file_obj in images:
            if file_path.startswith(_IMAGES_DIR):
                if file_path[len(_IMAGES_DIR) : -len(".jpg")] in files_to_keep:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/0ef629cdda4aaab151a792ff29c879f4fcf7f4f4#diff-5f0975f680605157628df73e0b02b45e718d263938b833d040e2fd034456dcdeL186' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116900013</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 0ef629cdda4aaab151a792ff29c879f4fcf7f4f4</div><div id='time'> Time: 2021-10-18</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: datasets/food101/food101.py</div><div id='m_class'> M Class Name: Food101</div><div id='n_method'> N Class Name: Food101</div><div id='m_method'> M Method Name: _generate_examples(3)</div><div id='n_method'> N Method Name: _generate_examples(3)</div><div id='m_parent_class'> M Parent Class: datasets.GeneratorBasedBuilder</div><div id='n_parent_class'> N Parent Class: datasets.GeneratorBasedBuilder</div><div id='m_file'> M File Name: datasets/food101/food101.py</div><div id='n_file'> N File Name: datasets/food101/food101.py</div><div id='m_start'> M Start Line: 186</div><div id='m_end'> M End Line: 191</div><div id='n_start'> N Start Line: 206</div><div id='n_end'> N End Line: 215</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    text: Optional[bool] = False,
    refresh: Optional[int] = 0,
):
    return send_logs(os.path.join(settings.MONAI_LABEL_APP_DIR, "logs", <a id="change">str(</a>logfile<a id="change">)</a>), lines, html, text, refresh)


@router.get("/gpu", summary="Get GPU Info (nvidia-smi)")</code></pre><h3>After Change</h3><pre><code class='java'>

    refresh = max(refresh, 3) if refresh else 0
    if lines &gt; 0:
        <a id="change">with open</a><a id="change">(logger_file) as fin:
            </a>response_lines = list(deque(fin, lines))
            if html and not text:
                response = HTML_TEMPLATE.replace("LINES_T", str(lines))
                response = response.replace(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/project-monai/monailabel/commit/43205ec573b89ac09b512ba88bc2c2211ba3099b#diff-48610330565572c29aeef604cab77357a8184e8c23f575f26948e6b57fbdf727L91' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116900012</div><div id='project'> Project Name: project-monai/monailabel</div><div id='commit'> Commit Name: 43205ec573b89ac09b512ba88bc2c2211ba3099b</div><div id='time'> Time: 2021-11-04</div><div id='author'> Author: sachidanand.alle@gmail.com</div><div id='file'> File Name: monailabel/endpoints/logs.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_logs(5)</div><div id='n_method'> N Method Name: get_logs(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: monailabel/endpoints/logs.py</div><div id='n_file'> N File Name: monailabel/endpoints/logs.py</div><div id='m_start'> M Start Line: 92</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 87</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                )

                (hparams["output_mask_path"] / folder_name).mkdir(exist_ok=True, parents=True)
                cv2.imwrite(<a id="change">str(</a>hparams["output_mask_path"] / folder_name / f"{file_id}.png"<a id="change">)</a>, mask)


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>

                prob = predictions[batch_id][0].cpu().numpy().astype(np.float16)

                <a id="change">with open</a><a id="change">(str(hparams["output_path"] / folder_name / f"{file_id}.txt")) as f:
                    </a>f.write(prob)


if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ternaus/check_orientation/commit/a75e3361032928b0a9d2215da376432ed9119128#diff-088a6b4cc7e4b8e8313060a6863c3897dc0f891b4b7450f49f791c225f97abd3L114' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116900011</div><div id='project'> Project Name: ternaus/check_orientation</div><div id='commit'> Commit Name: a75e3361032928b0a9d2215da376432ed9119128</div><div id='time'> Time: 2020-11-12</div><div id='author'> Author: iglovikov@gmail.com</div><div id='file'> File Name: check_orientation/inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(4)</div><div id='n_method'> N Method Name: predict(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: check_orientation/inference.py</div><div id='n_file'> N File Name: check_orientation/inference.py</div><div id='m_start'> M Start Line: 123</div><div id='m_end'> M End Line: 149</div><div id='n_start'> N Start Line: 142</div><div id='n_end'> N End Line: 149</div><BR>