<html><h3>Pattern ID :33060
</h3><img src='95571991.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if self.background is not None:
            self.frames = self.background.forward(frames).type(torch.int64)
        else:
            self.frames<a id="change"> = </a><a id="change">frames.type(</a>torch.int64<a id="change">)</a>

        <a id="change">return </a>self.frames

    def write_to_binary(self, outfile):
            </code></pre><h3>After Change</h3><pre><code class='java'>
        if self.out_bg:
            return frames, bg_frames
        else:
            <a id="change">return </a>frames

    def write_to_binary(self, outfile):
            </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/turagalab/decode/commit/5806dbeaf7cca38402360f9392be727b3da2d3c3#diff-ba64703cb157bfa2feaff662a2b044f46eea1a0297b50ef001c4dd05b5926ac1L107' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95571991</div><div id='project'> Project Name: turagalab/decode</div><div id='commit'> Commit Name: 5806dbeaf7cca38402360f9392be727b3da2d3c3</div><div id='time'> Time: 2019-09-11</div><div id='author'> Author: gitdev@LRM.photo</div><div id='file'> File Name: deepsmlm/simulation/simulator.py</div><div id='m_class'> M Class Name: Simulation</div><div id='n_method'> N Class Name: Simulation</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepsmlm/simulation/simulator.py</div><div id='n_file'> N File Name: deepsmlm/simulation/simulator.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 119</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def forward(self,
                x_input: torch.FloatTensor) -&gt; torch.Tensor:

        x_input<a id="change"> = </a><a id="change">x_input.type(</a>torch.FloatTensor<a id="change">)</a>.to(self.__device)

        sigmoid_tensor = self.__sigmoid_layer(self.__linear(x_input))

        <a id="change">return </a>sigmoid_tensor
</code></pre><h3>After Change</h3><pre><code class='java'>
    def forward(self,
                x_input: torch.tensor) -&gt; torch.tensor:

        <a id="change">return </a>self.__sigmoid_layer(self.__linear(x_input))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/govindansriram/cobraml/commit/123be61985aad5f5c45b6f3fb04b10a04a53dd48#diff-ac45577b8bdce3a2477478ca7c209d58ef6127a6c82f84b0678aa615d7f23ee9L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95571992</div><div id='project'> Project Name: govindansriram/cobraml</div><div id='commit'> Commit Name: 123be61985aad5f5c45b6f3fb04b10a04a53dd48</div><div id='time'> Time: 2021-08-31</div><div id='author'> Author: sriramgovindanwork@gmail.com</div><div id='file'> File Name: Classification/LogisticModel.py</div><div id='m_class'> M Class Name: LogisticRegression</div><div id='n_method'> N Class Name: LogisticRegression</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: Classification/LogisticModel.py</div><div id='n_file'> N File Name: Classification/LogisticModel.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 17</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        dl_pack = gdf.to_dlpack()
        &#47&#47 keep next two lines separated, hurts perf, casts incorrectly
        tens = from_dlpack(dl_pack)
        tens<a id="change"> = </a><a id="change">tens.type(</a>dtype<a id="change">)</a>
        <a id="change">return </a>tens

    &#47&#47 TODO: do we need casting or can we replace this with
    &#47&#47 parent class version?</code></pre><h3>After Change</h3><pre><code class='java'>
    def _to_tensor(self, gdf, dtype=None):
        dl_pack = gdf.to_dlpack()
        tensor = from_dlpack(dl_pack)
        <a id="change">return </a>tensor.type(dtype)

    def _split_fn(self, tensor, idx, axis=0):
        return torch.split(tensor, idx, dim=axis)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nvidia/nvtabular/commit/6b668bbd884073cbaf03837cbce5df0810d18a00#diff-38e88b01db56fe53c95e2240db2d4809dea9f4f218ac4cd1070d1c1e76f11b40L96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95571996</div><div id='project'> Project Name: nvidia/nvtabular</div><div id='commit'> Commit Name: 6b668bbd884073cbaf03837cbce5df0810d18a00</div><div id='time'> Time: 2020-11-03</div><div id='author'> Author: amacgunny@gmail.com</div><div id='file'> File Name: nvtabular/loader/torch.py</div><div id='m_class'> M Class Name: TorchAsyncItr</div><div id='n_method'> N Class Name: TorchAsyncItr</div><div id='m_method'> M Method Name: _to_tensor(3)</div><div id='n_method'> N Method Name: _to_tensor(3)</div><div id='m_parent_class'> M Parent Class: torch.utils.data.IterableDataset,DataLoader</div><div id='n_parent_class'> N Parent Class: torch.utils.data.IterableDataset,DataLoader</div><div id='m_file'> M File Name: nvtabular/loader/torch.py</div><div id='n_file'> N File Name: nvtabular/loader/torch.py</div><div id='m_start'> M Start Line: 97</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 97</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return grad.view(shape)
        else:
            if self.fp16_values and vdtype.is_floating_point:
                tensor<a id="change"> = </a><a id="change">tensor.type(</a>vdtype<a id="change">)</a>
            <a id="change">return </a>self.memory.compensate(tensor, name, accumulate=False)</code></pre><h3>After Change</h3><pre><code class='java'>
            de_tensor = torch.zeros(size=shape).index_put_([indices],
                                                           values,
                                                           accumulate=True)
            <a id="change">return </a>de_tensor
        else:
            raise ValueError("invalid value")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/smilelab-fl/fedlab/commit/868b197c287b1aaa20a330c4cd0dff8237ea005b#diff-c5307dfb7bb1d7fd9b841e26a1eb5b000c5d2fd2e083214fe20c802b80b75e36L159' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95571997</div><div id='project'> Project Name: smilelab-fl/fedlab</div><div id='commit'> Commit Name: 868b197c287b1aaa20a330c4cd0dff8237ea005b</div><div id='time'> Time: 2021-06-15</div><div id='author'> Author: 928255708@qq.com</div><div id='file'> File Name: fedlab_core/communicator/compressor.py</div><div id='m_class'> M Class Name: TopkCompressor</div><div id='n_method'> N Class Name: TopkCompressor</div><div id='m_method'> M Method Name: decompress(3)</div><div id='n_method'> N Method Name: decompress(3)</div><div id='m_parent_class'> M Parent Class: Compressor</div><div id='n_parent_class'> N Parent Class: Compressor</div><div id='m_file'> M File Name: fedlab_core/communicator/compressor.py</div><div id='n_file'> N File Name: fedlab_core/communicator/compressor.py</div><div id='m_start'> M Start Line: 160</div><div id='m_end'> M End Line: 176</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 76</div><BR>