<html><h3>Pattern ID :36866
</h3><img src='105003776.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self._step(action, selected_player)

    def _step(self, action, player):
        <a id="change">self.step(</a>action, player<a id="change">)</a>
        self.record[-1] = [self.BLACK, self.WHITE][player], action

    def diff_info(self, _):
        if len(self.record) == 0:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.board[x, y] = selected_color

        &#47&#47 check winning condition
        <a id="change">if </a>self.board[x, :].sum() == 3 * selected_color \
          or self.board[:, y].sum() == 3 * selected_color \
          or <a id="change">(x == y and np.diag(self.board, k=0).sum() == 3 * selected_color)</a> \
          or (x == 2 - y and np.diag(self.board[::-1, :], k=0).sum() == 3 * selected_color):
            self.win_color = selected_color
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dena/handyrl/commit/1dce83a00bbd21ff0a67fcb64ce25e5e59256b97#diff-ca61ed1cd9bbdf14bf2aff92d191b9dd69cc67a712d5078575b34120de1c00b6L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105003776</div><div id='project'> Project Name: dena/handyrl</div><div id='commit'> Commit Name: 1dce83a00bbd21ff0a67fcb64ce25e5e59256b97</div><div id='time'> Time: 2021-03-04</div><div id='author'> Author: a.a.b.a.b.c.a.b.c.d.abcd1234@gmail.com</div><div id='file'> File Name: handyrl/envs/parallel_tictactoe.py</div><div id='m_class'> M Class Name: Environment</div><div id='n_method'> N Class Name: Environment</div><div id='m_method'> M Method Name: _step(3)</div><div id='n_method'> N Method Name: _step(3)</div><div id='m_parent_class'> M Parent Class: TicTacToe</div><div id='n_parent_class'> N Parent Class: TicTacToe</div><div id='m_file'> M File Name: handyrl/envs/parallel_tictactoe.py</div><div id='n_file'> N File Name: handyrl/envs/parallel_tictactoe.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            grad_scaler.update()

            if step_counter &gt; postnet_start_steps:
                <a id="change">grad_scaler_postflow.step(</a>optimizer_postflow<a id="change">)</a>
                grad_scaler_postflow.update()

            scheduler.step()
            if step_counter &gt; postnet_start_steps:</code></pre><h3>After Change</h3><pre><code class='java'>
            optimizer.zero_grad()
            optimizer_postflow.zero_grad()

            <a id="change">if </a><a id="change">step_counter &gt; postnet_start_steps and not torch.isnan(glow_loss)</a>:
                train_loss = train_loss + glow_loss

            grad_scaler.scale(train_loss).backward()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/f602045d362a5da3119066ffc47b09771ed11b7e#diff-241ea0a4da614fa4b0dbd748ea10aae1c34265d57f46001c62ec2994245ee0f7L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105003782</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: f602045d362a5da3119066ffc47b09771ed11b7e</div><div id='time'> Time: 2023-02-05</div><div id='author'> Author: lux.florian@gmail.com</div><div id='file'> File Name: TrainingInterfaces/Text_to_Spectrogram/PortaSpeech/portaspeech_train_loop.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_loop(16)</div><div id='n_method'> N Method Name: train_loop(16)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingInterfaces/Text_to_Spectrogram/PortaSpeech/portaspeech_train_loop.py</div><div id='n_file'> N File Name: TrainingInterfaces/Text_to_Spectrogram/PortaSpeech/portaspeech_train_loop.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 232</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 219</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    actor_critic.actor.optimizer.zero_grad()
    actor_loss.backward()
    <a id="change">actor_critic.actor.optimizer.step()</a>

    actor_output_after = actor_critic.actor(input)
    critic_output_after = actor_critic.critic(input)
</code></pre><h3>After Change</h3><pre><code class='java'>
        actor=actor, critic=critic, share_encoder=share_encoder, share_torso=share_torso
    )

    <a id="change">if </a><a id="change">not share_encoder and not share_torso</a>:
        assert actor_critic.actor and actor_critic.critic

    else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/londonnode/pearl/commit/154b68d1925a7b73086da8bc3e861d06bf841027#diff-0adb667cd397bd56edce10eec11e1b10821740a10d72bd148b09645fc9108968L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105003784</div><div id='project'> Project Name: londonnode/pearl</div><div id='commit'> Commit Name: 154b68d1925a7b73086da8bc3e861d06bf841027</div><div id='time'> Time: 2021-09-13</div><div id='author'> Author: rohan.tangri@gmail.com</div><div id='file'> File Name: tests/test_models.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_actor_critic_shared_arch(3)</div><div id='n_method'> N Method Name: test_actor_critic_shared_arch(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_models.py</div><div id='n_file'> N File Name: tests/test_models.py</div><div id='m_start'> M Start Line: 109</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 127</div><BR>