<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        print(&quot{} model, anchors, and classes loaded.&quot.format(self.model_path))

        if self.num_classes &lt;= 21:
            self.colors<a id="change"> = </a><a id="change">[</a>(0, 0, 0), (128, 0, 0), (0, 128, 0), (128, 128, 0), (0, 0, 128), (128, 0, 128), (0, 128, 128), 
                    (128, 128, 128), (64, 0, 0), (192, 0, 0), (64, 128, 0), (192, 128, 0), (64, 0, 128), (192, 0, 128), 
                    (64, 128, 128), (192, 128, 128), (0, 64, 0), (128, 64, 0), (0, 192, 0), (128, 192, 0), (0, 64, 128), (128, 64, 12)<a id="change"></a>]
        else:
            &#47&#47 画框设置不同的颜色
            hsv_tuples = [(x / self.num_classes, 1., 1.)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47-------------------------------&#47&#47
        self.net    = pspnet(num_classes=self.num_classes, downsample_factor=self.downsample_factor, pretrained=False, backbone=self.backbone, aux_branch=False)
        
        device      = torch.device(&quotcuda&quot<a id="change"> if </a><a id="change">torch.cuda.is_available() else </a>&quotcpu&quot)
        self.net.load_state_dict(torch.load(self.model_path, map_location=device), strict=False)
        self.net    = self.net.eval()
        print(&quot{} model, and classes loaded.&quot.format(self.model_path))</code></pre>