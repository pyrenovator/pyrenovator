<html><h3>Pattern ID :3423
</h3><img src='13188745.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        exponentials = torch.sum(exponentials, dim=2)

        &#47&#47 sum all values for each dim
        <a id="change">return </a>torch.sum(exponentials, dim=1)


class Exponential(IntegrationTestFunction):</code></pre><h3>After Change</h3><pre><code class='java'>
                exponentials = anp.cast(exponentials, self.coeffs.dtype)

        &#47&#47 multiply by coefficients
        exponentials<a id="change"> = </a><a id="change">anp.multiply(</a>exponentials, self.coeffs<a id="change">)</a>

        &#47&#47 Collapse dimensions
        exponentials = anp.sum(exponentials, axis=2)

        &#47&#47 sum all values for each dim
        <a id="change">return </a>anp.sum(exponentials, axis=1)


class Exponential(IntegrationTestFunction):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/a3a1438960cc83afb6844c8279415e131be2ca42#diff-fe1b22e294ae47b16639a2139938eeec68d387dfa25d702da595cb2e75ef1bafL78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13188745</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: a3a1438960cc83afb6844c8279415e131be2ca42</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: ga84muv@mytum.de</div><div id='file'> File Name: torchquad/tests/integration_test_functions.py</div><div id='m_class'> M Class Name: Polynomial</div><div id='n_method'> N Class Name: Polynomial</div><div id='m_method'> M Method Name: _poly(2)</div><div id='n_method'> N Method Name: _poly(2)</div><div id='m_parent_class'> M Parent Class: IntegrationTestFunction</div><div id='n_parent_class'> N Parent Class: IntegrationTestFunction</div><div id='m_file'> M File Name: torchquad/tests/integration_test_functions.py</div><div id='n_file'> N File Name: torchquad/tests/integration_test_functions.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 89</div><div id='n_start'> N Start Line: 123</div><div id='n_end'> N End Line: 147</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.confusion_matrix[self.confusion_matrix &lt; self.threshold] = 0
        indices = np.nonzero(self.confusion_matrix)
        correlation = self.confusion_matrix[indices]
        <a id="change">return </a>indices, correlation


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
        i = list(range(self.cls_num))
        self.confusion_matrix[i, i] = 0
        &#47&#47 self.confusion_matrix /= cls_total_num
        self.confusion_matrix<a id="change"> = </a><a id="change">self.confusion_matrix.multiply(</a>cls_total_num<a id="change">)</a>
        &#47&#47 self.confusion_matrix[self.confusion_matrix &lt; self.threshold] = 0
        &#47&#47 indices = np.nonzero(self.confusion_matrix)
        indices = np.nonzero(self.confusion_matrix &gt; self.threshold)
        correlation = self.confusion_matrix.tolil()[indices]
        <a id="change">return </a>indices, correlation.toarray().flatten()


if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepvac/deepvac/commit/3a845ef148da1143552b41ba292bd2ed96ec16c2#diff-9bb2de334e53b104be7fd4be089b49fd586c1351907d276b0ef27b8218cb70a9L250' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13188744</div><div id='project'> Project Name: deepvac/deepvac</div><div id='commit'> Commit Name: 3a845ef148da1143552b41ba292bd2ed96ec16c2</div><div id='time'> Time: 2020-08-12</div><div id='author'> Author: liyang@deepait.com</div><div id='file'> File Name: lib/syszux_report.py</div><div id='m_class'> M Class Name: ClassifierReport</div><div id='n_method'> N Class Name: ClassifierReport</div><div id='m_method'> M Method Name: calcCorrelation(1)</div><div id='n_method'> N Method Name: calcCorrelation(1)</div><div id='m_parent_class'> M Parent Class: Report</div><div id='n_parent_class'> N Parent Class: Report</div><div id='m_file'> M File Name: lib/syszux_report.py</div><div id='n_file'> N File Name: lib/syszux_report.py</div><div id='m_start'> M Start Line: 251</div><div id='m_end'> M End Line: 258</div><div id='n_start'> N Start Line: 262</div><div id='n_end'> N End Line: 271</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if nh &lt; 2:
            return 2
        else:
            <a id="change">return </a>int(nh)

    def _get_indices(self, idx):
        Maps point to stratified point.</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            torch.tensor: Stratified sample counts per cube.
        
        nh = <a id="change">torch.multiply(</a>self.dh, nevals_exp<a id="change">)</a>
        nh = torch.floor(nh)
        nh<a id="change"> = </a>torch.clip(nh, 2, None).int()
        <a id="change">return </a>nh

    def _get_indices(self, idx):
        Maps point to stratified point.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/154aa7220377ddcbd28c4c617162a2c64d33cb8a#diff-043ebca7e1b0e1177dca8d0ce7bca0efc00f0a68c90edeea6b272ff39505e0e2L68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13188747</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: 154aa7220377ddcbd28c4c617162a2c64d33cb8a</div><div id='time'> Time: 2021-05-21</div><div id='author'> Author: contact@pablo-gomez.net</div><div id='file'> File Name: torchquad/integration/vegas_stratification.py</div><div id='m_class'> M Class Name: VEGASStratification</div><div id='n_method'> N Class Name: VEGASStratification</div><div id='m_method'> M Method Name: get_NH(2)</div><div id='n_method'> N Method Name: get_NH(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchquad/integration/vegas_stratification.py</div><div id='n_file'> N File Name: torchquad/integration/vegas_stratification.py</div><div id='m_start'> M Start Line: 68</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 87</div><div id='n_end'> N End Line: 90</div><BR>