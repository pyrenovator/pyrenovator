<html><h3>Pattern ID :36935
</h3><img src='105157148.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    verbosity=0,
):

    <a id="change">assert </a>isinstance(buffer, replay.PrioritizedReplayBuffer)

    if save_to_disk or log_to_disk:
        save_dir = make_process_dirs(name)</code></pre><h3>After Change</h3><pre><code class='java'>
            )
            if log_to_disk:
                writer.add_scalar("return", mean_return, step)
        <a id="change">if step % save_interval == 0</a> and save_to_disk:
            <a id="change">agent.save(</a>save_dir<a id="change">)</a>

    qprint("\tRegular Training Begins...")
    done = True
    for step in progress_bar(total_steps):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jakegrigsby/super_sac/commit/a5ea3b4bf452c09c0e37160347fbe28703940ce4#diff-4e100307cd7781c30c169103123939d52add38629dab2a1f0e4dd8f1270c52d5L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105157148</div><div id='project'> Project Name: jakegrigsby/super_sac</div><div id='commit'> Commit Name: a5ea3b4bf452c09c0e37160347fbe28703940ce4</div><div id='time'> Time: 2021-09-27</div><div id='author'> Author: jcg6dn@virginia.edu</div><div id='file'> File Name: uafbc/main.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: uafbc(50)</div><div id='n_method'> N Method Name: uafbc(49)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: uafbc/main.py</div><div id='n_file'> N File Name: uafbc/main.py</div><div id='m_start'> M Start Line: 79</div><div id='m_end'> M End Line: 302</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 319</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if out_file.endswith(&quot.pth&quot):
        out_file = out_file[:-4]
    final_file = out_file + f&quot-{sha[:8]}.pth&quot
    <a id="change">assert </a>final_file != in_file, \
        "The output filename is the same as the input file."
    print("Output file: {}".format(final_file))
    subprocess.Popen([&quotmv&quot, tmp_file, final_file])</code></pre><h3>After Change</h3><pre><code class='java'>
        del checkpoint[&quotoptimizer&quot]
    &#47&#47 if it is necessary to remove some sensitive data in checkpoint[&quotmeta&quot],
    &#47&#47 add the code here.
    <a id="change">if torch.__version__ &gt;= &quot1.6&quot</a>:
        torch.save(checkpoint, out_file, _use_new_zipfile_serialization=False)
    else:
        <a id="change">torch.save(</a>checkpoint, out_file<a id="change">)</a>

    if decode:
        sha = subprocess.check_output([&quotsha256sum&quot, out_file]).decode()
        if out_file.endswith(&quot.pth&quot):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/westlake-ai/openbioseq/commit/f678533fb9c8c5320abdd86ba57bd50d6357835f#diff-df2bdd976500f5594a90d51275819e5dbbc8baf1a1834b8e6327bf5707d879d8L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105157149</div><div id='project'> Project Name: westlake-ai/openbioseq</div><div id='commit'> Commit Name: f678533fb9c8c5320abdd86ba57bd50d6357835f</div><div id='time'> Time: 2023-03-05</div><div id='author'> Author: 1070535169@qq.com</div><div id='file'> File Name: tools/model_converters/publish_model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: process_checkpoint(3)</div><div id='n_method'> N Method Name: process_checkpoint(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tools/model_converters/publish_model.py</div><div id='n_file'> N File Name: tools/model_converters/publish_model.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if out_file.endswith(&quot.pth&quot):
        out_file = out_file[:-4]
    final_file = out_file + f&quot-{sha[:8]}.pth&quot
    <a id="change">assert </a>final_file != in_file, \
        "The output filename is the same as the input file."
    print("Output file: {}".format(final_file))
    subprocess.Popen([&quotmv&quot, tmp_file, final_file])</code></pre><h3>After Change</h3><pre><code class='java'>
        del checkpoint[&quotoptimizer&quot]
    &#47&#47 if it is necessary to remove some sensitive data in checkpoint[&quotmeta&quot],
    &#47&#47 add the code here.
    <a id="change">if torch.__version__ &gt;= &quot1.6&quot</a>:
        <a id="change">torch.save(</a>checkpoint, out_file<a id="change">, _use_new_zipfile_serialization=False)</a>
    else:
        torch.save(checkpoint, out_file)

    if decode:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/westlake-ai/openmixup/commit/cb7ae3bae6ffe76f12f0c307e16325e7952f4274#diff-df2bdd976500f5594a90d51275819e5dbbc8baf1a1834b8e6327bf5707d879d8L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105157145</div><div id='project'> Project Name: westlake-ai/openmixup</div><div id='commit'> Commit Name: cb7ae3bae6ffe76f12f0c307e16325e7952f4274</div><div id='time'> Time: 2023-02-26</div><div id='author'> Author: 1070535169@qq.com</div><div id='file'> File Name: tools/model_converters/publish_model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: process_checkpoint(3)</div><div id='n_method'> N Method Name: process_checkpoint(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tools/model_converters/publish_model.py</div><div id='n_file'> N File Name: tools/model_converters/publish_model.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 45</div><BR>