<html><h3>Pattern ID :24858
</h3><img src='76694115.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    if dataset is not None:
        if testing_triples_factory is not None and training_triples_factory is not None:
            raise ValueError(&quotCan not specify both dataset and training_triples_factory/testing_triples_factory.&quot)
        elif <a id="change">training_triples_factory is not None</a>:
            <a id="change">raise </a>ValueError(&quotCan not specify training_triples_factory after specifying dataset.&quot)
        elif testing_triples_factory is not None:
            raise ValueError(&quotCan not specify testing_triples_factory after specifying dataset.&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>
        training_kwargs = {}
    training_kwargs.setdefault(&quotnum_epochs&quot, 5)
    training_kwargs.setdefault(&quotbatch_size&quot, 256)
    <a id="change">training_kwargs.setdefault(&quotearly_stopper&quot</a>, early_stopper<a id="change">)</a>

    &#47&#47 Train like Cristiano Ronaldo
    training_loop_instance.train(**training_kwargs)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/814e07def56cbab0eb163429114a85c79150a1cc#diff-35a211fc1a4649db203659942d63384a9c8ec6ec213e95740e962652d3f73c80L184' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76694115</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: 814e07def56cbab0eb163429114a85c79150a1cc</div><div id='time'> Time: 2019-08-26</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: src/poem/pipeline.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: pipeline(0)</div><div id='n_method'> N Method Name: pipeline(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/poem/pipeline.py</div><div id='n_file'> N File Name: src/poem/pipeline.py</div><div id='m_start'> M Start Line: 184</div><div id='m_end'> M End Line: 289</div><div id='n_start'> N Start Line: 191</div><div id='n_end'> N End Line: 305</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if mp.get_start_method(allow_none=True) is None:
        mp.set_start_method(&quotspawn&quot)

    if <a id="change">launcher == &quotpytorch&quot</a>:
        _init_dist_pytorch(backend, **kwargs)
    elif launcher == &quotslurm&quot:
        _init_dist_slurm(backend, **kwargs)
    else:
        <a id="change">raise </a>TypeError("unsupported launcher: &quot{}&quot".format(launcher))


def is_distributed():</code></pre><h3>After Change</h3><pre><code class='java'>
            &quotscontrol show hostname {} | head -n1&quot.format(node_list))

        os.environ.setdefault(&quotMASTER_ADDR&quot, master_addr)
        <a id="change">os.environ.setdefault(&quotMASTER_PORT&quot</a>, &quot29500&quot<a id="change">)</a>

        os.environ[&quotWORLD_SIZE&quot] = os.environ[&quotSLURM_NTASKS&quot]
        os.environ[&quotRANK&quot] = os.environ[&quotSLURM_PROCID&quot]
        os.environ[&quotLOCAL_RANK&quot] = os.environ[&quotSLURM_LOCALID&quot]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeliudev/nncore/commit/bd9472949e3bdb0e7a2c42afeb2e031d8f2f577f#diff-fdf562e6b578fc92f4c74e59141f61b874fc8722e8eb5d843ef38c4c81d99321L66' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76694118</div><div id='project'> Project Name: yeliudev/nncore</div><div id='commit'> Commit Name: bd9472949e3bdb0e7a2c42afeb2e031d8f2f577f</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: yeliudev@outlook.com</div><div id='file'> File Name: nncore/engine/comm.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: init_dist(2)</div><div id='n_method'> N Method Name: init_dist(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nncore/engine/comm.py</div><div id='n_file'> N File Name: nncore/engine/comm.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 95</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 build activation layer
        if self.with_activation:
            &#47&#47 TODO: introduce `act_cfg` and supports more activation layers
            if <a id="change">self.activation not in [&quotrelu&quot]</a>:
                <a id="change">raise </a>ValueError(&quot{} is currently not supported.&quot.format(
                    self.activation))
            if self.activation == &quotrelu&quot:
                self.activate = nn.ReLU(inplace=inplace)</code></pre><h3>After Change</h3><pre><code class='java'>
            if act_cfg_[&quottype&quot] not in [
                    &quotTanh&quot, &quotPReLU&quot, &quotSigmoid&quot, &quotHSigmoid&quot, &quotSwish&quot
            ]:
                <a id="change">act_cfg_.setdefault(&quotinplace&quot</a>, inplace<a id="change">)</a>
            self.activate = build_activation_layer(act_cfg_)

        &#47&#47 Use msra init by default
        self.init_weights()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alibaba/easycv/commit/4c1b3145e69f7d520374bd06a1ab143f7a075b42#diff-2a90f98558600e55d40090c8d8047253f7fae737906de640bbfaebefbcc555b1L67' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76694123</div><div id='project'> Project Name: alibaba/easycv</div><div id='commit'> Commit Name: 4c1b3145e69f7d520374bd06a1ab143f7a075b42</div><div id='time'> Time: 2022-05-31</div><div id='author'> Author: 30484308+Cathy0908@users.noreply.github.com</div><div id='file'> File Name: easycv/models/utils/conv_module.py</div><div id='m_class'> M Class Name: ConvModule</div><div id='n_method'> N Class Name: ConvModule</div><div id='m_method'> M Method Name: __init__(14)</div><div id='n_method'> N Method Name: __init__(14)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: easycv/models/utils/conv_module.py</div><div id='n_file'> N File Name: easycv/models/utils/conv_module.py</div><div id='m_start'> M Start Line: 86</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 137</div><div id='n_end'> N End Line: 143</div><BR>