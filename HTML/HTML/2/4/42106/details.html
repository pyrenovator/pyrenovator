<html><h3>Pattern ID :42106
</h3><img src='117883334.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    reparam.has_prime_prior = False
    x = {&quottheta&quot: [1.0], &quottheta_radial&quot: [0.5]}
    <a id="change">with </a><a id="change">pytest.raises(RuntimeError) as excinfo:
        </a>Angle.x_prime_log_prior(reparam, x)
    assert &quotPrime prior&quot in str(excinfo.value)

</code></pre><h3>After Change</h3><pre><code class='java'>

    reparam._prime_prior.assert_called_once_with(
        x_prime[&quotx&quot],
        <a id="change">x_prime[&quoty&quot]</a>,
        k=0.5,
    )
    assert out == 0.5</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mj-will/nessai/commit/b53fe855e019f16687e61e99ebb0249d9efb969a#diff-39843aadf4ec9fbe589436c748f730d0913d23cade20aa31a5282be432887621L153' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117883334</div><div id='project'> Project Name: mj-will/nessai</div><div id='commit'> Commit Name: b53fe855e019f16687e61e99ebb0249d9efb969a</div><div id='time'> Time: 2022-01-25</div><div id='author'> Author: michaeljw1@googlemail.com</div><div id='file'> File Name: tests/test_reparameterisations/test_angle.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_x_prime_log_prior(1)</div><div id='n_method'> N Method Name: test_x_prime_log_prior(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_reparameterisations/test_angle.py</div><div id='n_file'> N File Name: tests/test_reparameterisations/test_angle.py</div><div id='m_start'> M Start Line: 153</div><div id='m_end'> M End Line: 157</div><div id='n_start'> N Start Line: 155</div><div id='n_end'> N End Line: 171</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    dg = DGAN(config=config)

    <a id="change">with </a><a id="change">pytest.raises(ValueError, match="NaN"):
        </a>dg.train_numpy(features=features, feature_types=feature_types)


def test_train_dataframe_nans(config: DGANConfig):</code></pre><h3>After Change</h3><pre><code class='java'>
    )
    feature_types = [OutputType.DISCRETE, OutputType.CONTINUOUS, OutputType.CONTINUOUS]
    &#47&#47 insert sparse NaNs in continuous feature &#47&#471.
    features[11, 3, 1] = <a id="change">features[65:73, 17, 1]</a> = np.NaN
    &#47&#47 insert cosecutive NaNs in continuous feature &#47&#472.
    features[5:10, 2:4, 2] = features[80:90, 4:10, 2] = np.NaN
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gretelai/gretel-synthetics/commit/a1acefc589df62b93afc0051d53d755b6a0a3997#diff-5a09e7f6f951316a3f25dbaf9b53f0bf52f46e8df058c1b09928911c8b99e4e7L620' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117883335</div><div id='project'> Project Name: gretelai/gretel-synthetics</div><div id='commit'> Commit Name: a1acefc589df62b93afc0051d53d755b6a0a3997</div><div id='time'> Time: 2022-12-02</div><div id='author'> Author: 100327880+Marjan-emd@users.noreply.github.com</div><div id='file'> File Name: tests/timeseries_dgan/test_dgan.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_train_numpy_nans(1)</div><div id='n_method'> N Method Name: test_train_numpy_nans(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/timeseries_dgan/test_dgan.py</div><div id='n_file'> N File Name: tests/timeseries_dgan/test_dgan.py</div><div id='m_start'> M Start Line: 620</div><div id='m_end'> M End Line: 630</div><div id='n_start'> N Start Line: 711</div><div id='n_end'> N End Line: 731</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    x = SimpleDocument("Hello")
    x.sections[0].offset_map = {CharSpan(start=1, end=2): CharSpan(start=1, end=2)}
    &#47&#47 should raise a type error
    <a id="change">with </a><a id="change">pytest.raises(TypeError):
        </a>jsonable_encoder(x)

    &#47&#47 call to as_serialisable means we can encode it
    y = x.as_serialisable()</code></pre><h3>After Change</h3><pre><code class='java'>
def test_serialisation():
    x = SimpleDocument("Hello")
    x.sections[0].offset_map = {CharSpan(start=1, end=2): CharSpan(start=1, end=2)}
    <a id="change">x.sections[0]</a>.entities = [
        Entity(
            namespace="test",
            match="metastatic liver cancer",</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/8cdcce885bcc307704699ba6abe2e75fc0db5952#diff-6d44389b9900eba21dbb6cb7ec9a44773e1aecdbcd627c9f23c73cca88267b5eL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117883333</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 8cdcce885bcc307704699ba6abe2e75fc0db5952</div><div id='time'> Time: 2022-01-31</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/tests/test_data.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_serialisation(0)</div><div id='n_method'> N Method Name: test_serialisation(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/tests/test_data.py</div><div id='n_file'> N File Name: kazu/tests/test_data.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 46</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_load_model(xgb_manager):
    &#47&#47 Placeholder - to be implemented
    <a id="change">with </a><a id="change">pytest.raises(NotImplementedError):
        </a>xgb_manager.load("model-path", {})
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Expect the two to be the same
    assert type(loaded_model) == type(xgb_model)
    xgb_model_params = xgb_model.get_params()
    xgb_model_params["missing"] = clear_nan(<a id="change">xgb_model_params["missing"]</a>)

    X_train, _ = classification_data
    y_pred = xgb_model.predict(X_train)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/operatorai/modelstore/commit/153004389aec760ef6e3ee0ebf9a680fb2344f66#diff-ae533716bb52c076c27587c6e13a3f8072bfe1d87ce6b952d7855de8e91f26e4L102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117883341</div><div id='project'> Project Name: operatorai/modelstore</div><div id='commit'> Commit Name: 153004389aec760ef6e3ee0ebf9a680fb2344f66</div><div id='time'> Time: 2021-08-25</div><div id='author'> Author: neal.lathia@gmail.com</div><div id='file'> File Name: tests/models/test_xgboost.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_load_model(4)</div><div id='n_method'> N Method Name: test_load_model(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/models/test_xgboost.py</div><div id='n_file'> N File Name: tests/models/test_xgboost.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 104</div><div id='n_end'> N End Line: 136</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 pick a component guaranteed to be present
    component_name = GDPComponent.SplitGen.name

    <a id="change">with </a><a id="change">pytest.raises(expected_query_error):
        </a>_ = mds1.get_artifacts_by_component(random_pipeline,
                                            component_name)

</code></pre><h3>After Change</h3><pre><code class='java'>
def test_get_artifacts_by_component(repo):
    mds = repo.get_default_metadata_store()

    random_pipeline = <a id="change">repo.get_pipelines_by_type(
        TrainingPipeline.PIPELINE_TYPE)[0]</a>

    &#47&#47 pick a component guaranteed to be present
    component_name = GDPComponent.SplitGen.name
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/2be3fa126e1a39fa7a9b5886765b3ed1cb2c0043#diff-4af139893aa1e87193dd69ae0e09d9b49f2864db38da623f7cff0bcd2331a4c0L86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117883336</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: 2be3fa126e1a39fa7a9b5886765b3ed1cb2c0043</div><div id='time'> Time: 2021-06-01</div><div id='author'> Author: htahir111@gmail.com</div><div id='file'> File Name: zenml/metadata/metadata_wrapper_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_get_artifacts_by_component(1)</div><div id='n_method'> N Method Name: test_get_artifacts_by_component(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: zenml/metadata/metadata_wrapper_test.py</div><div id='n_file'> N File Name: zenml/metadata/metadata_wrapper_test.py</div><div id='m_start'> M Start Line: 89</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 75</div><div id='n_end'> N End Line: 85</div><BR>