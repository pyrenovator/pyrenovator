<html><h3>Pattern ID :10329
</h3><img src='36302328.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        state_field_names = self._properties["_states"].union(
            self._properties["_state_subtrees"]
        )
        module_field_names<a id="change"> = </a><a id="change">self._properties["_modules"].union(
            </a>self._properties["_module_subtrees"]<a id="change">
        )</a>

        for name, value in fields.items():
            if name in module_field_names:
                value = jax.tree_map(</code></pre><h3>After Change</h3><pre><code class='java'>
                fn2 = lambda x: None
                fn = fn1 if keep == "state" else fn2
                value = jax.tree_map(fn, value)
            elif <a id="change">field_type == PaxFieldKind.OTHERS</a>:
                pass
            else:
                raise ValueError("Not expected this!")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ntt123/pax/commit/cf57b202963207d8e289c812a05d59b9713271d6#diff-0debbaed0c2e0cac272a313f5f4d14c2db90459ba703dff2cb8f44d40355cc70L120' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36302328</div><div id='project'> Project Name: ntt123/pax</div><div id='commit'> Commit Name: cf57b202963207d8e289c812a05d59b9713271d6</div><div id='time'> Time: 2021-08-30</div><div id='author'> Author: 9960521+NTT123@users.noreply.github.com</div><div id='file'> File Name: pax/module.py</div><div id='m_class'> M Class Name: Module</div><div id='n_method'> N Class Name: Module</div><div id='m_method'> M Method Name: filter(2)</div><div id='n_method'> N Method Name: filter(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pax/module.py</div><div id='n_file'> N File Name: pax/module.py</div><div id='m_start'> M Start Line: 120</div><div id='m_end'> M End Line: 151</div><div id='n_start'> N Start Line: 126</div><div id='n_end'> N End Line: 150</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        intersect_init_sub_cat[key]=intersect_init_sub_cat_values

    &#47&#47 Next, build the DatasetCategories instance.
    categories_update<a id="change"> = </a>list(<a id="change">set().union(</a>*<a id="change">[cat.get_categories(as_dict=False) for cat in categories])</a>)
    categories_filtered =  list(set().union(*[cat.get_categories(as_dict=False,filtered=True) for cat in categories]))
    merged_categories = DatasetCategories(init_categories=init_categories,init_sub_categories=intersect_init_sub_cat)
    merged_categories._categories_update = categories_update</code></pre><h3>After Change</h3><pre><code class='java'>
            if label not in  categories_update:
                categories_update.append(label)
        for label in cat.get_categories(as_dict=False,filtered=True):
            <a id="change">if label not in categories_filtered</a>:
                categories_filtered.append(label)

    &#47&#47 select categories with sub categories. Only categories that appear in this list can be candidates for having</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepdoctection/deepdoctection/commit/be0380fa14b1bb24c4a4c6a7a4acc7299c4b5815#diff-20366751b26041b6e4b4de7b347e1f3c33a677e1726b9eaa1d27ef267c3a625aL249' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36302330</div><div id='project'> Project Name: deepdoctection/deepdoctection</div><div id='commit'> Commit Name: be0380fa14b1bb24c4a4c6a7a4acc7299c4b5815</div><div id='time'> Time: 2022-04-26</div><div id='author'> Author: jm@drjanismeyer.de</div><div id='file'> File Name: deepdoctection/datasets/info.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_merged_categories(0)</div><div id='n_method'> N Method Name: get_merged_categories(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepdoctection/datasets/info.py</div><div id='n_file'> N File Name: deepdoctection/datasets/info.py</div><div id='m_start'> M Start Line: 291</div><div id='m_end'> M End Line: 292</div><div id='n_start'> N Start Line: 265</div><div id='n_end'> N End Line: 280</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Generate relation mapping if necessary
        if relation_to_id is None:
            if create_inverse_triples:
                relation_to_id<a id="change"> = </a>create_relation_mapping(
                    <a id="change">set(relation_to_inverse.keys()).union(</a>set(relation_to_inverse.values())<a id="change">)</a>,
                )
            else:
                relation_to_id = create_relation_mapping(unique_relations)</code></pre><h3>After Change</h3><pre><code class='java'>
                relation_ids_to_remove = [
                    i
                    for i, r in enumerate(unique_relations.tolist())
                    if <a id="change">r in suspected_to_be_inverse_relations</a>
                ]
                mask = np.isin(element=inverse, test_elements=relation_ids_to_remove, invert=True)
                logger.info(f"keeping {mask.sum() / mask.shape[0]} triples.")
                triples = triples[mask]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/a007a273ff146107fd1b0c099d561c7b7279965a#diff-2dce01c3c0b4127bdab5850a84b545299b150d156c01aad24589fa76762c6c72L144' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36302318</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: a007a273ff146107fd1b0c099d561c7b7279965a</div><div id='time'> Time: 2020-12-10</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: src/pykeen/triples/triples_factory.py</div><div id='m_class'> M Class Name: TriplesFactory</div><div id='n_method'> N Class Name: TriplesFactory</div><div id='m_method'> M Method Name: from_labeled_triples(7)</div><div id='n_method'> N Method Name: from_labeled_triples(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pykeen/triples/triples_factory.py</div><div id='n_file'> N File Name: src/pykeen/triples/triples_factory.py</div><div id='m_start'> M Start Line: 169</div><div id='m_end'> M End Line: 222</div><div id='n_start'> N Start Line: 269</div><div id='n_end'> N End Line: 319</div><BR>