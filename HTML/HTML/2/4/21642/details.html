<html><h3>Pattern ID :21642
</h3><img src='69079086.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        test_files = data_dir.files(&quot*1.{}&quot.format(ext))
        for file in test_files:
            (without_ext, _) = file.splitext()
            img_pair = file.parent / (<a id="change">without_ext.basename()</a>[:-1] + &quot2.{}&quot.format(ext))
            if img_pair.isfile():
                img_pairs.append([file, img_pair])
</code></pre><h3>After Change</h3><pre><code class='java'>
        img1 =  np.array(imread(img1_file))
        img2 =  np.array(imread(img2_file))
        
        <a id="change">if args.arch == &quotStrainNet_l&quot</a><a id="change"> and img1.ndim == 3</a>: 
            img1 = img1[:,:,1]
            img2 = img2[:,:,1]
        </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dreamip/strainnet/commit/807491fb141a5b20dd3cd8cb7e3d8beac7c8eccb#diff-2c265030ad16c2c4a3dce1e1a78c31e7037810f157f106c48ab8de465088bf23L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69079086</div><div id='project'> Project Name: dreamip/strainnet</div><div id='commit'> Commit Name: 807491fb141a5b20dd3cd8cb7e3d8beac7c8eccb</div><div id='time'> Time: 2022-11-10</div><div id='author'> Author: 33892951+seyfeddineboukhtache@users.noreply.github.com</div><div id='file'> File Name: StrainNet/inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: StrainNet/inference.py</div><div id='n_file'> N File Name: StrainNet/inference.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 116</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 118</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if not osp.isdir(task_path):
                continue
            task_subsets = [p for p in glob(osp.join(task_path, &quot*.txt&quot))
                if &quot_&quot not in <a id="change">osp.basename(</a>p<a id="change">)</a>]
            subset_paths += [(task, extractor_type, p) for p in task_subsets]
        return subset_paths
</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 find root path for the dataset and use it for all tasks
        root_path = None
        for extractor_type, task_dir in cls._TASKS.values():
            <a id="change">if </a><a id="change">osp.isfile(path) and \
                    not osp.basename(osp.dirname(path)) == task_dir</a>:
                continue

            task_subsets = cls._find_sources_recursive(root_path or path,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/839ca35beaf8e5f11efcb86d9cfd03c693d8b9bb#diff-995c7ec9cc02821c075eb610054d2f1bdd86dc65fffa465763eb8d942c567491L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69079084</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 839ca35beaf8e5f11efcb86d9cfd03c693d8b9bb</div><div id='time'> Time: 2021-06-09</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/voc_format/importer.py</div><div id='m_class'> M Class Name: VocImporter</div><div id='n_method'> N Class Name: VocImporter</div><div id='m_method'> M Method Name: find_sources(2)</div><div id='n_method'> N Method Name: find_sources(2)</div><div id='m_parent_class'> M Parent Class: Importer</div><div id='n_parent_class'> N Parent Class: Importer</div><div id='m_file'> M File Name: datumaro/plugins/voc_format/importer.py</div><div id='n_file'> N File Name: datumaro/plugins/voc_format/importer.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        path = path or self._make_image_filename(item)

        src_ext = osp.splitext(<a id="change">osp.basename(</a>item.image.path<a id="change">)</a>)[1]
        dst_ext = osp.splitext(osp.basename(path))[1]

        os.makedirs(osp.dirname(path), exist_ok=True)</code></pre><h3>After Change</h3><pre><code class='java'>
        os.makedirs(osp.dirname(path), exist_ok=True)
        if src_ext == dst_ext and osp.isfile(item.image.path):
            shutil.copyfile(item.image.path, path)
        elif <a id="change">src_ext == dst_ext and isinstance(item.image, ByteImage)</a>:
            with open(path, &quotwb&quot) as f:
                f.write(item.image.get_bytes())
        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/dfdde5aa4e784a81819481797c3d0920fdf70dd0#diff-be330dc3b89cf35cea53ad1ef0edad8df9d5752d34d070824e316c006ace015eL59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69079093</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: dfdde5aa4e784a81819481797c3d0920fdf70dd0</div><div id='time'> Time: 2020-10-01</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/components/converter.py</div><div id='m_class'> M Class Name: Converter</div><div id='n_method'> N Class Name: Converter</div><div id='m_method'> M Method Name: _save_image(3)</div><div id='n_method'> N Method Name: _save_image(3)</div><div id='m_parent_class'> M Parent Class: CliPlugin</div><div id='n_parent_class'> N Parent Class: CliPlugin</div><div id='m_file'> M File Name: datumaro/components/converter.py</div><div id='n_file'> N File Name: datumaro/components/converter.py</div><div id='m_start'> M Start Line: 60</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 76</div><BR>