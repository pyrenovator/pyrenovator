<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def initCriterion(self):
        if self.config.criterion:
            LOG.logI("You configured criterion to {}".format(self.config.criterion))
            <a id="change">return</a>
        self.config.criterion = torch.nn.CrossEntropyLoss()
        LOG.logW("You should set config.criterion in config.py, unless CrossEntropyLoss() is exactly what you need")

    def initCheckpoint(self):</code></pre><h3>After Change</h3><pre><code class='java'>
            self.config.scaler = GradScaler()

    def initCriterion(self):
        if <a id="change">self.config.criterion is None</a>:
            <a id="change">LOG.logE("You should set config.train.criterion in config.py, e.g. config.train.criterion=torch.nn.CrossEntropyLoss()"</a><a id="change">,exit=True)</a>
        LOG.logI("You set config.train.criterion to {}".format(self.config.criterion))

    def initScheduler(self):
        if self.config.scheduler is None:</code></pre>