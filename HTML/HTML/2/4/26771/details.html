<html><h3>Pattern ID :26771
</h3><img src='79965324.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def test_drift_grayscale(mnist_dataset_train, mnist_dataset_test):
    &#47&#47 Arrange
    <a id="change">set_seeds(42</a><a id="change">)</a>
    train, test = mnist_dataset_train, mnist_dataset_test
    check = ImageDatasetDrift()

    &#47&#47 Act</code></pre><h3>After Change</h3><pre><code class='java'>
    assert_that(result.value, has_entries({
        &quotdomain_classifier_auc&quot: close_to(0.509, 0.001),
        &quotdomain_classifier_drift_score&quot: close_to(0.019, 0.001),
        &quotdomain_classifier_feature_importance&quot: <a id="change">has_entries(</a><a id="change">{
            </a>&quotbrightness&quot: equal_to(1),
            &quotaspect_ratio&quot: equal_to(0),
            &quotarea&quot: equal_to(0),
            &quotnormalized_red_mean&quot: equal_to(0),
            &quotnormalized_green_mean&quot: equal_to(0),
            &quotnormalized_blue_mean&quot: equal_to(0)<a id="change">,
        })</a>
    }))


def test_no_drift_rgb(coco_train_dataloader, coco_test_dataloader):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/ec6122bb31f734a6e475fcc6775daa213941e5d9#diff-c9aeba98f69cc914ddea70888aed7f4c69ceca57bf613f77a7b622564b1d5250L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79965324</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: ec6122bb31f734a6e475fcc6775daa213941e5d9</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_drift_grayscale(2)</div><div id='n_method'> N Method Name: test_drift_grayscale(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='n_file'> N File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 81</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_no_drift_grayscale(mnist_dataset_train):
    &#47&#47 Arrange
    <a id="change">set_seeds(42</a><a id="change">)</a>
    train, test = mnist_dataset_train, mnist_dataset_train
    check = ImageDatasetDrift()

    &#47&#47 Act</code></pre><h3>After Change</h3><pre><code class='java'>
    assert_that(result.value, has_entries({
        &quotdomain_classifier_auc&quot: close_to(0.494, 0.001),
        &quotdomain_classifier_drift_score&quot: equal_to(0),
        &quotdomain_classifier_feature_importance&quot: <a id="change">has_entries(</a><a id="change">{
            </a>&quotbrightness&quot: equal_to(1),
            &quotaspect_ratio&quot: equal_to(0),
            &quotarea&quot: equal_to(0),
            &quotnormalized_red_mean&quot: equal_to(0),
            &quotnormalized_green_mean&quot: equal_to(0),
            &quotnormalized_blue_mean&quot: equal_to(0)<a id="change">,
        })</a>
    }))


def test_drift_grayscale(mnist_dataset_train, mnist_dataset_test):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/ec6122bb31f734a6e475fcc6775daa213941e5d9#diff-c9aeba98f69cc914ddea70888aed7f4c69ceca57bf613f77a7b622564b1d5250L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79965325</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: ec6122bb31f734a6e475fcc6775daa213941e5d9</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_no_drift_grayscale(1)</div><div id='n_method'> N Method Name: test_no_drift_grayscale(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='n_file'> N File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_with_drift_rgb(coco_train_dataloader, coco_test_dataloader):
    &#47&#47 Arrange
    <a id="change">set_seeds(42</a><a id="change">)</a>
    train = VisionData(coco_train_dataloader, image_formatter=ImageFormatter(pil_drift_formatter),
                       label_formatter=DetectionLabelFormatter())
    test = VisionData(coco_test_dataloader, image_formatter=ImageFormatter(pil_formatter),
                      label_formatter=DetectionLabelFormatter())</code></pre><h3>After Change</h3><pre><code class='java'>
    assert_that(result.value, has_entries({
        &quotdomain_classifier_auc&quot: close_to(0.747, 0.001),
        &quotdomain_classifier_drift_score&quot: close_to(0.494, 0.001),
        &quotdomain_classifier_feature_importance&quot: <a id="change">has_entries(</a><a id="change">{
            </a>&quotbrightness&quot: close_to(1, 0.01),
            &quotaspect_ratio&quot: equal_to(0),
            &quotarea&quot: equal_to(0),
            &quotnormalized_red_mean&quot: close_to(0, 0.01),
            &quotnormalized_green_mean&quot: close_to(0, 0.01),
            &quotnormalized_blue_mean&quot: close_to(0, 0.01)<a id="change">,
        })</a>
    }))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/ec6122bb31f734a6e475fcc6775daa213941e5d9#diff-c9aeba98f69cc914ddea70888aed7f4c69ceca57bf613f77a7b622564b1d5250L91' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79965326</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: ec6122bb31f734a6e475fcc6775daa213941e5d9</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_with_drift_rgb(2)</div><div id='n_method'> N Method Name: test_with_drift_rgb(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='n_file'> N File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_start'> M Start Line: 93</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 116</div><div id='n_end'> N End Line: 139</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_no_drift_rgb(coco_train_dataloader, coco_test_dataloader):
    &#47&#47 Arrange
    <a id="change">set_seeds(42</a><a id="change">)</a>
    train = VisionData(coco_train_dataloader, image_formatter=ImageFormatter(pil_formatter),
                       label_formatter=DetectionLabelFormatter())
    test = VisionData(coco_test_dataloader, image_formatter=ImageFormatter(pil_formatter),
                      label_formatter=DetectionLabelFormatter())</code></pre><h3>After Change</h3><pre><code class='java'>
    assert_that(result.value, has_entries({
        &quotdomain_classifier_auc&quot: close_to(0.494, 0.001),
        &quotdomain_classifier_drift_score&quot: equal_to(0),
        &quotdomain_classifier_feature_importance&quot: <a id="change">has_entries(</a><a id="change">{
            </a>&quotbrightness&quot: equal_to(1),
            &quotaspect_ratio&quot: equal_to(0),
            &quotarea&quot: equal_to(0),
            &quotnormalized_red_mean&quot: equal_to(0),
            &quotnormalized_green_mean&quot: equal_to(0),
            &quotnormalized_blue_mean&quot: equal_to(0)<a id="change">,
        })</a>
    }))


def test_with_drift_rgb(coco_train_dataloader, coco_test_dataloader):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/ec6122bb31f734a6e475fcc6775daa213941e5d9#diff-c9aeba98f69cc914ddea70888aed7f4c69ceca57bf613f77a7b622564b1d5250L70' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 79965323</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: ec6122bb31f734a6e475fcc6775daa213941e5d9</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_no_drift_rgb(2)</div><div id='n_method'> N Method Name: test_no_drift_rgb(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='n_file'> N File Name: tests/vision/checks/distribution/image_dataset_drift_test.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 87</div><div id='n_end'> N End Line: 110</div><BR>