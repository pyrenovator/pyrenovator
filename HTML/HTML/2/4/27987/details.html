<html><h3>Pattern ID :27987
</h3><img src='82897760.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        img_mask = cv2.erode(img_mask, kernel, iterations=1)

        delta = 1 if self.erosion_kernel_size % 2 == 0 else 0
        kernel_size = (self.erosion_kernel_size + delta<a id="change">, self.erosion_kernel_size + delta</a>)

        img_mask = cv2.GaussianBlur(img_mask, kernel_size, 0)
</code></pre><h3>After Change</h3><pre><code class='java'>
        target_image = torch.sum(target_image, dim=0, keepdim=True)
        target_image = tensor2img(target_image)

        img_mask<a id="change"> = </a><a id="change">np.clip(</a>img_mask / 255, 0.0, <a id="change">1.0</a><a id="change">)</a>

        result = (img_mask * target_image + (1 - img_mask) * att_image).astype(np.uint8)

        &#47&#47 &#47&#47 torch postprocessing</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mike9251/simswap-inference-pytorch/commit/e3ac35e9bac93480cdd5c5a25c818362701964c8#diff-bdd9aa1c3d6fc81de4df743c0cd0fefea90a28d06e54f376f7c0a6e24894a019L210' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82897760</div><div id='project'> Project Name: mike9251/simswap-inference-pytorch</div><div id='commit'> Commit Name: e3ac35e9bac93480cdd5c5a25c818362701964c8</div><div id='time'> Time: 2022-07-13</div><div id='author'> Author: soapbox92@gmail.com</div><div id='file'> File Name: src/simswap.py</div><div id='m_class'> M Class Name: SimSwap</div><div id='n_method'> N Class Name: SimSwap</div><div id='m_method'> M Method Name: __call__(2)</div><div id='n_method'> N Method Name: __call__(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/simswap.py</div><div id='n_file'> N File Name: src/simswap.py</div><div id='m_start'> M Start Line: 210</div><div id='m_end'> M End Line: 224</div><div id='n_start'> N Start Line: 224</div><div id='n_end'> N End Line: 239</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        for k in range(num_objs):
            ann = anns[k]
            points = [list((k.x<a id="change">, k.y</a>)) for k in kpts_aug[k * 4: k * 4 + 4]]
            points = np.array(points)
            &#47&#47 restore angle from augmented points
            delta = points[1] - points[0]</code></pre><h3>After Change</h3><pre><code class='java'>
            ann = anns[k]
            points = []
            for p in kpts_aug[k * 4: k * 4 + 4]:
                kp<a id="change"> = </a>list((<a id="change">np.clip(</a>p.x, <a id="change">0</a>, output_w - 1<a id="change">)</a>,
                           np.clip(p.y, 0, output_h - 1)))
                points.append(kp)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/scheckmedia/centernet-uda/commit/64f46e4aca5de190a46125ce8f7d307d12c8cfef#diff-666eaef5e9690ccb0e5866a98cdfbeef0b60cc8f3292d864be5e92692140b9f5L190' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82897761</div><div id='project'> Project Name: scheckmedia/centernet-uda</div><div id='commit'> Commit Name: 64f46e4aca5de190a46125ce8f7d307d12c8cfef</div><div id='time'> Time: 2020-10-02</div><div id='author'> Author: tobias.scheck@etit.tu-chemnitz.de</div><div id='file'> File Name: datasets/coco.py</div><div id='m_class'> M Class Name: Dataset</div><div id='n_method'> N Class Name: Dataset</div><div id='m_method'> M Method Name: __get_rotated_coco(4)</div><div id='n_method'> N Method Name: __get_rotated_coco(4)</div><div id='m_parent_class'> M Parent Class: data.Dataset</div><div id='n_parent_class'> N Parent Class: data.Dataset</div><div id='m_file'> M File Name: datasets/coco.py</div><div id='n_file'> N File Name: datasets/coco.py</div><div id='m_start'> M Start Line: 226</div><div id='m_end'> M End Line: 262</div><div id='n_start'> N Start Line: 210</div><div id='n_end'> N End Line: 269</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        delta = []
        offset = []
        for i, minimum_val in enumerate(min_val):
            delta_<a id="change">, offset_</a> = calculate_values(minimum_val, max_val[i])
            delta.append(delta_)
            offset.append(offset_)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
    delta = (max_val - min_val) / (2 ** bitwidth - 1)

    if isinstance(delta, np.ndarray):
        delta<a id="change"> = </a><a id="change">np.clip(</a>delta, <a id="change">0.01</a>, None<a id="change">)</a>
        offset = np.around(min_val/delta)
        delta = delta.tolist()
        offset = offset.tolist()
    else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/e54945562c36b236750617d74bf4b4a5ebae9e65#diff-8435f4e4e510df6fae2c403ab64864baf60015bcec4311016cbadcb5b229b430L82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 82897754</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: e54945562c36b236750617d74bf4b4a5ebae9e65</div><div id='time'> Time: 2022-01-19</div><div id='author'> Author: quic_mangal@quicinc.com</div><div id='file'> File Name: TrainingExtensions/common/src/python/aimet_common/quantsim.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: calculate_delta_offset(3)</div><div id='n_method'> N Method Name: calculate_delta_offset(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingExtensions/common/src/python/aimet_common/quantsim.py</div><div id='n_file'> N File Name: TrainingExtensions/common/src/python/aimet_common/quantsim.py</div><div id='m_start'> M Start Line: 96</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 97</div><BR>