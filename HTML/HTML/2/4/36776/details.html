<html><h3>Pattern ID :36776
</h3><img src='104858561.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        clean_dir = os.path.join(ds_dir, "clean")
        assert os.path.isdir(noisy_dir) and os.path.isdir(clean_dir)
        noisy_files = sorted(glob.iglob(noisy_dir + "/*.wav"), key=extract_fileid)
        clean_files = <a id="change">sorted(</a>glob.glob(clean_dir + "/*.wav")<a id="change">, key=extract_fileid)</a>

        metrics = evaluation_loop(
            df_state,
            model,</code></pre><h3>After Change</h3><pre><code class='java'>
        assert os.path.isdir(noisy_dir) and os.path.isdir(clean_dir)
        expr = re.compile(r"clnsp.*_fileid")
        noisy_files = glob.glob(noisy_dir + "/*.wav")
        clean_files<a id="change"> = </a><a id="change">[
            re.sub(expr, "clean_fileid", f.replace("noisy", "clean")) for f in noisy_files
        ]</a>
        assert len(clean_files) == 150

        metrics = evaluation_loop(
            df_state,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rikorose/deepfilternet/commit/23ab3135e3d28a2c40467bb37d16e45390b10d41#diff-080d72bbfe76d78cdc3492f6187a31a51fe5bab65d9178a686a2a0a1e800aed0L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104858561</div><div id='project'> Project Name: rikorose/deepfilternet</div><div id='commit'> Commit Name: 23ab3135e3d28a2c40467bb37d16e45390b10d41</div><div id='time'> Time: 2022-04-14</div><div id='author'> Author: h.schroeter@pm.me</div><div id='file'> File Name: DeepFilterNet/df/scripts/test_dns_2020.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: DeepFilterNet/df/scripts/test_dns_2020.py</div><div id='n_file'> N File Name: DeepFilterNet/df/scripts/test_dns_2020.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        first_agent_id = agent_ids[0]
    else:
        pol_tag = suffix.split("_")[1]
        agent_ids = <a id="change">sorted(</a>policy_tag_to_agent_id_map[pol_tag]<a id="change">)</a>
        first_agent_id = agent_ids[0]

    num_envs = env_wrapper.n_envs
    assert len(obs) == num_envs</code></pre><h3>After Change</h3><pre><code class='java'>
    tensor_feed = DataFeed()

    num_envs = env_wrapper.n_envs
    obs<a id="change"> = </a><a id="change">[env_wrapper.obs_at_reset() for _ in range(num_envs)]</a>
    assert len(obs) == num_envs
    first_env_id = 0

    &#47&#47 Push observations to the device</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/salesforce/warp-drive/commit/0433121531b751f4a4d3ebbeed2aa9495d9d4b47#diff-58d3242c6180b4f6f540407b662c67ff179ae1aea41df48a0fdad7c9ad0d637dL149' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104858563</div><div id='project'> Project Name: salesforce/warp-drive</div><div id='commit'> Commit Name: 0433121531b751f4a4d3ebbeed2aa9495d9d4b47</div><div id='time'> Time: 2022-02-07</div><div id='author'> Author: sunil.srinivasa@salesforce.com</div><div id='file'> File Name: warp_drive/training/utils/data_loader.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _create_and_push_data_placeholders_helper(5)</div><div id='n_method'> N Method Name: _create_and_push_data_placeholders_helper(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: warp_drive/training/utils/data_loader.py</div><div id='n_file'> N File Name: warp_drive/training/utils/data_loader.py</div><div id='m_start'> M Start Line: 150</div><div id='m_end'> M End Line: 282</div><div id='n_start'> N Start Line: 200</div><div id='n_end'> N End Line: 337</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def main() -&gt; int:
    exclude: List[str] = []
    current_dir = os.path.dirname(os.path.abspath(__file__))
    files = <a id="change">sorted(</a>map(lambda x: x.relative_to(current_dir), Path.cwd().rglob(&quot*.py&quot))<a id="change">)</a>
    files = list(filter(lambda x: not any([str(Path(ele)) in str(x) for ele in exclude]), files))

    return_codes = Parallel(n_jobs=os.cpu_count())(delayed(run_mypy)(file) for file in files)
    if all(v == 0 for v in return_codes):</code></pre><h3>After Change</h3><pre><code class='java'>
    
    current_dir = Path.cwd()
    if sys.argv[1:]:
        file_list<a id="change"> = </a><a id="change">[Path(arg) for arg in sys.argv[1:]]</a>
    else:
        &#47&#47 We don&quott want to check the files in the submodule if any, partly because they should already have
        &#47&#47 been checked in the original repo, and partly because we don&quott want the module name clashes mypy would
        &#47&#47 otherwise report.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/innereye-deeplearning/commit/1136e23352ac8b4e93705b96bdac9f08120f8399#diff-344abec58e93ca8213cf166ae9214a8c5e073b5fd2e8e6811a95832c1011e646L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104858552</div><div id='project'> Project Name: microsoft/innereye-deeplearning</div><div id='commit'> Commit Name: 1136e23352ac8b4e93705b96bdac9f08120f8399</div><div id='time'> Time: 2020-08-14</div><div id='author'> Author: dacart@microsoft.com</div><div id='file'> File Name: mypy_runner.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mypy_runner.py</div><div id='n_file'> N File Name: mypy_runner.py</div><div id='m_start'> M Start Line: 19</div><div id='m_end'> M End Line: 31</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 65</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class ImageClassesRule_map:
    def __init__(self, dir, dir_rule="*", excludes=[], is_int_label=False):
        raw_labels = [os.path.basename(ii) for ii in glob(os.path.join(dir, dir_rule))]
        self.raw_labels = <a id="change">sorted(</a>[ii for ii in raw_labels if ii not in excludes]<a id="change">)</a>
        if is_int_label:
            self.labels_2_indices = {ii: int(ii) for ii in self.raw_labels}
        else:
            self.labels_2_indices = {ii: id for id, ii in enumerate(self.raw_labels)}</code></pre><h3>After Change</h3><pre><code class='java'>
    def __init__(self, dir, dir_rule="*", excludes=[]):
        raw_labels = [os.path.basename(ii) for ii in glob(os.path.join(dir, dir_rule))]
        raw_labels = [ii for ii in raw_labels if ii not in excludes]
        is_all_numeric<a id="change"> = </a>sum(<a id="change">[str.isnumeric(ii) for ii in raw_labels]</a>) == len(raw_labels)
        if is_all_numeric:
            self.raw_labels = sorted(raw_labels, key=lambda xx: int(xx))
            self.labels_2_indices = {ii: int(ii) for ii in self.raw_labels}</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/leondgarse/keras_cv_attention_models/commit/1d73d3b653e77dacc0ea0f02c81233dc37d668e2#diff-4641eb31116744c1b9d8be93f51fa92442218e6d34669fcf5ed410335642e517L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104858569</div><div id='project'> Project Name: leondgarse/keras_cv_attention_models</div><div id='commit'> Commit Name: 1d73d3b653e77dacc0ea0f02c81233dc37d668e2</div><div id='time'> Time: 2022-08-06</div><div id='author'> Author: leondgarse@gmail.com</div><div id='file'> File Name: custom_dataset_script.py</div><div id='m_class'> M Class Name: ImageClassesRule_map</div><div id='n_method'> N Class Name: ImageClassesRule_map</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: custom_dataset_script.py</div><div id='n_file'> N File Name: custom_dataset_script.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 41</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return stat_info_dict

    def get_text(self):
        unit_num_keys_list = <a id="change">sorted(</a>self._stat_info_record.keys()<a id="change">)</a>
        headers = [&quottype&quot] + [f&quotf{frac_id}_s{side_id}&quot for (frac_id, side_id) in unit_num_keys_list ]
        table_data = []
        game_count_line_data = [&quotgame_count&quot] + [str(int(self._stat_info_record[k][&quotbarracks_lv1&quot].count)) for k in unit_num_keys_list ]
        table_data.append(game_count_line_data)</code></pre><h3>After Change</h3><pre><code class='java'>
    def get_text(self):
        headers = [item[:5] for item in self.data_keys] + [&quotgame_count&quot]
        table_data = []
        line_data<a id="change"> = </a><a id="change">[f"{self.stat_info_record[k].val:.3f}" for k in self.data_keys]</a> + \
                    [self.stat_info_record[&quotgame_count&quot]]
        table_data.append(line_data)
        table_text = "\n" + tabulate(table_data, headers=headers, tablefmt=&quotgrid&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/opendilab/di-star/commit/7643d10dd2537a0e8226d0ef1e5862cdc44f0bb7#diff-b1210acfe625b32237e761cbd5fcb0bf7758c7fd121f038475059b5dbf53e3ccL78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104858556</div><div id='project'> Project Name: opendilab/di-star</div><div id='commit'> Commit Name: 7643d10dd2537a0e8226d0ef1e5862cdc44f0bb7</div><div id='time'> Time: 2022-08-10</div><div id='author'> Author: zhangshenghan@sensetime.com</div><div id='file'> File Name: distar/ctools/worker/league/unit_num_stat.py</div><div id='m_class'> M Class Name: UnitNumStat</div><div id='n_method'> N Class Name: UnitNumStat</div><div id='m_method'> M Method Name: get_text(1)</div><div id='n_method'> N Method Name: get_text(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: distar/ctools/worker/league/unit_num_stat.py</div><div id='n_file'> N File Name: distar/ctools/worker/league/unit_num_stat.py</div><div id='m_start'> M Start Line: 79</div><div id='m_end'> M End Line: 92</div><div id='n_start'> N Start Line: 128</div><div id='n_end'> N End Line: 134</div><BR>