<html><h3>Pattern ID :14284
</h3><img src='47362010.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    self._count_finish += 1
            elif self._count_reject == 8:
                if self.verbose &gt; 1:
                    <a id="change">print("reject, resetting jacobian"</a><a id="change">)</a>
                self.decision_history.append("reject")
                self.L = min(1e-2, self.L / self.Lup**8)
                self._count_reject += 1                
            else:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.lambda_history.append(np.copy((self.current_state + h).detach().cpu().numpy()))
        
        if not torch.isfinite(loss):
            <a id="change">AP_config.ap_logger.warning("nan loss"</a><a id="change">)</a>
            self.decision_history.append("nan")
            self.rho_history.append(None)
            self._count_reject += 1
            self.L_up()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/10b2a7770d988d066380285137108a388ebd1bad#diff-52615ad08cfc1cfad1befd14d3c383d34ae33d73e933e1359265221e8731fb61L250' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47362010</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: 10b2a7770d988d066380285137108a388ebd1bad</div><div id='time'> Time: 2023-01-14</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/fit/lm.py</div><div id='m_class'> M Class Name: LM</div><div id='n_method'> N Class Name: LM</div><div id='m_method'> M Method Name: step_method1(2)</div><div id='n_method'> N Method Name: step_method1(2)</div><div id='m_parent_class'> M Parent Class: BaseOptimizer</div><div id='n_parent_class'> N Parent Class: BaseOptimizer</div><div id='m_file'> M File Name: autoprof/fit/lm.py</div><div id='n_file'> N File Name: autoprof/fit/lm.py</div><div id='m_start'> M Start Line: 250</div><div id='m_end'> M End Line: 328</div><div id='n_start'> N Start Line: 251</div><div id='n_end'> N End Line: 317</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &quotseed&quot:
        rng.randint(1 &lt;&lt; 31),
    })
    <a id="change">print("Config updates performed inside end2end"</a><a id="change">)</a>
    il_test_result = run_single_exp(il_test_ex_config, benchmark_config,
                                    tune_config_updates, log_dir, &quotil_test&quot)

    report_experiment_result(il_test_result)</code></pre><h3>After Change</h3><pre><code class='java'>
        log_dir: The log directory of current chain experiment.
    
    rng, tune_config_updates = setup_run(config)
    <a id="change">logging.warning("Completed setup_run"</a><a id="change">)</a>
    del config  &#47&#47 I want a new name for it

    &#47&#47 Run representation learning
    tune_config_updates[&quotrepl&quot].update({</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/f714ac9faf8f6c583cb69edf703d3b1f5008de7e#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L191' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47362011</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: f714ac9faf8f6c583cb69edf703d3b1f5008de7e</div><div id='time'> Time: 2020-11-06</div><div id='author'> Author: codywild@berkeley.edu</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_end2end_exp(6)</div><div id='n_method'> N Method Name: run_end2end_exp(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 234</div><div id='n_start'> N Start Line: 212</div><div id='n_end'> N End Line: 239</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &quotseed&quot:
        rng.randint(1 &lt;&lt; 31),
    })
    <a id="change">print("Config updates performed inside end2end"</a><a id="change">)</a>
    il_test_result = run_single_exp(il_test_ex_config, benchmark_config,
                                    tune_config_updates, log_dir, &quotil_test&quot)

    report_experiment_result(il_test_result)</code></pre><h3>After Change</h3><pre><code class='java'>
        log_dir: The log directory of current chain experiment.
    
    rng, tune_config_updates = setup_run(config)
    <a id="change">logging.warning("Completed setup_run"</a><a id="change">)</a>
    del config  &#47&#47 I want a new name for it

    &#47&#47 Run representation learning
    tune_config_updates[&quotrepl&quot].update({</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/4968f4a0ae6adcd59bec40c9dda9529abac41398#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L191' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47362014</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 4968f4a0ae6adcd59bec40c9dda9529abac41398</div><div id='time'> Time: 2020-11-06</div><div id='author'> Author: codywild@berkeley.edu</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_end2end_exp(6)</div><div id='n_method'> N Method Name: run_end2end_exp(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 234</div><div id='n_start'> N Start Line: 212</div><div id='n_end'> N End Line: 239</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            rho = self.rho_2(np.nanmin(self.loss_history[:-1]), alpha_loss, h)
            self.rho_history.append(rho)
            if self.verbose &gt; 1:
                <a id="change">print("rho: "</a>, rho.item()<a id="change">)</a>
            if rho &gt; self.epsilon4:
                if self.verbose &gt; 0:
                    print("accept")
                self.decision_history.append("accept")</code></pre><h3>After Change</h3><pre><code class='java'>
        self.lambda_history.append(np.copy((self.current_state + h).detach().cpu().numpy()))
        
        if not torch.isfinite(loss):
            <a id="change">AP_config.ap_logger.warning("nan loss"</a><a id="change">)</a>
            self.decision_history.append("nan")
            self.rho_history.append(None)
            self._count_reject += 1
            self.L_up()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/10b2a7770d988d066380285137108a388ebd1bad#diff-52615ad08cfc1cfad1befd14d3c383d34ae33d73e933e1359265221e8731fb61L334' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47362012</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: 10b2a7770d988d066380285137108a388ebd1bad</div><div id='time'> Time: 2023-01-14</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/fit/lm.py</div><div id='m_class'> M Class Name: LM</div><div id='n_method'> N Class Name: LM</div><div id='m_method'> M Method Name: step_method2(2)</div><div id='n_method'> N Method Name: step_method2(2)</div><div id='m_parent_class'> M Parent Class: BaseOptimizer</div><div id='n_parent_class'> N Parent Class: BaseOptimizer</div><div id='m_file'> M File Name: autoprof/fit/lm.py</div><div id='n_file'> N File Name: autoprof/fit/lm.py</div><div id='m_start'> M Start Line: 339</div><div id='m_end'> M End Line: 424</div><div id='n_start'> N Start Line: 329</div><div id='n_end'> N End Line: 401</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        installed = {pkg.key for pkg in list(pkg_resources.working_set)}
        missing = required - installed
        if missing:
            <a id="change">print(f&quotMissing packages in order to display result in GUI. either run "pip install {" ".join(missing)}"&quot
                  &quot or use "result.save_as_html()" to save result&quot</a><a id="change">)</a>
            return
        from PyQt5.QtWebEngineWidgets import QWebEngineView  &#47&#47 pylint: disable=import-outside-toplevel
        from PyQt5.QtWidgets import QApplication  &#47&#47 pylint: disable=import-outside-toplevel
</code></pre><h3>After Change</h3><pre><code class='java'>
        installed = {pkg.key for pkg in list(pkg_resources.working_set)}
        missing = required - installed
        if missing:
            <a id="change">get_logger().warning(&quotMissing packages in order to display result in GUI. either run "pip install %s"&quot
                                 &quot or use "result.save_as_html()" to save result&quot</a>, {&quot &quot.join(missing)}<a id="change">)</a>
            return
        from PyQt5.QtWebEngineWidgets import QWebEngineView  &#47&#47 pylint: disable=import-outside-toplevel
        from PyQt5.QtWidgets import QApplication  &#47&#47 pylint: disable=import-outside-toplevel
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/918cc5e9a2035465648f16e1dd8b27e3a61b55a5#diff-b731a4c0b7d3f3e1d8bc67c39f3af0a77066567af9804fd20a4e699aeceadfedL28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47362029</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 918cc5e9a2035465648f16e1dd8b27e3a61b55a5</div><div id='time'> Time: 2022-06-14</div><div id='author'> Author: jonatan.lib@gmail.com</div><div id='file'> File Name: deepchecks/utils/display.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: display_in_gui(1)</div><div id='n_method'> N Method Name: display_in_gui(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/utils/display.py</div><div id='n_file'> N File Name: deepchecks/utils/display.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 37</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 57</div><BR>