<html><h3>Pattern ID :36486
</h3><img src='103182786.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.check_over_forward(time_step=t)

    def test_full_loop_no_noise(self):
        <a id="change">np.random.seed(0</a><a id="change">)</a>
        scheduler_class = self.scheduler_classes[0]
        scheduler_config = self.get_scheduler_config()
        scheduler = scheduler_class(**scheduler_config)
</code></pre><h3>After Change</h3><pre><code class='java'>
            for _ in range(scheduler.correct_steps):
                with torch.no_grad():
                    model_output = model(sample, sigma_t)
                sample = <a id="change">scheduler.step_correct(model_output, sample, **kwargs)["prev_sample"]</a>

            with torch.no_grad():
                model_output = model(sample, sigma_t)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huggingface/diffusers/commit/182b164f32154e60dae21b42bd922f4c7a35f866#diff-7cab305a6a78540131fcce1fafb912ccf6b52aa50b4a0a2b794aea71004d5a95L590' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 103182786</div><div id='project'> Project Name: huggingface/diffusers</div><div id='commit'> Commit Name: 182b164f32154e60dae21b42bd922f4c7a35f866</div><div id='time'> Time: 2022-07-19</div><div id='author'> Author: nathan@huggingface.co</div><div id='file'> File Name: tests/test_scheduler.py</div><div id='m_class'> M Class Name: ScoreSdeVeSchedulerTest</div><div id='n_method'> N Class Name: ScoreSdeVeSchedulerTest</div><div id='m_method'> M Method Name: test_full_loop_no_noise(1)</div><div id='n_method'> N Method Name: test_full_loop_no_noise(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: SchedulerCommonTest</div><div id='m_file'> M File Name: tests/test_scheduler.py</div><div id='n_file'> N File Name: tests/test_scheduler.py</div><div id='m_start'> M Start Line: 590</div><div id='m_end'> M End Line: 616</div><div id='n_start'> N Start Line: 625</div><div id='n_end'> N End Line: 654</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        df_b = pd.DataFrame()
        
        &#47&#47Generate 5 random numbers between 10 and 30
        <a id="change">np.random.seed(1</a><a id="change">)</a>
        rand_len = 1
        rand_list = np.random.uniform(low=0, high=5, size=(rand_len,))
        print(rand_list)
        &#47&#47 rand_list = [0,1]</code></pre><h3>After Change</h3><pre><code class='java'>
        df = pd.DataFrame()
        
        for expt in expts:
            controller_name = <a id="change">expt[&quotcontroller&quot]</a>
            if controller_name ==  &quotdiscrete_quad_avoid_origin_maneuver_2&quot:
                num_nodes = 40
            else:
                import re</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/3d2cd1f1bff1e6e54e76b61e120625ef91604889#diff-380ec8b19ce82a99f9291f165d8cb945571b2f757ea9131bed672ad40f383a18L814' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 103182785</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: 3d2cd1f1bff1e6e54e76b61e120625ef91604889</div><div id='time'> Time: 2023-01-31</div><div id='author'> Author: nrober1122@gmail.com</div><div id='file'> File Name: nn_closed_loop/backward_experiments.py</div><div id='m_class'> M Class Name: NNScalability</div><div id='n_method'> N Class Name: NNScalability</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: Experiment</div><div id='n_parent_class'> N Parent Class: Experiment</div><div id='m_file'> M File Name: nn_closed_loop/backward_experiments.py</div><div id='n_file'> N File Name: nn_closed_loop/backward_experiments.py</div><div id='m_start'> M Start Line: 818</div><div id='m_end'> M End Line: 898</div><div id='n_start'> N Start Line: 818</div><div id='n_end'> N End Line: 899</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        gf = m.logp_dlogp_function()
        gf._extra_are_set = True

        <a id="change">m.default_rng.get_value(borrow=True).seed(102</a><a id="change">)</a>

        &#47&#47 The gradient should have random values as inputs, so its value should
        &#47&#47 change every time we evaluate it at the same point
        &#47&#47</code></pre><h3>After Change</h3><pre><code class='java'>
        assert m["x2_missing"].type == gf._extra_vars_shared["x2_missing"].type

        pnt = m.test_point.copy()
        del <a id="change">pnt["x2_missing"]</a>

        res = [gf(DictToArrayBijection.map(Point(pnt, model=m))) for i in range(5)]

        assert reduce(lambda x, y: np.array_equal(x, y) and y, res) is not False</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/3bf68b6f615c03c3e039b225d196a3f03de2635e#diff-f3929cbe78d71715f75bac8e7ff79e4f576621ccb309d628818987848b98bd1aL295' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 103182782</div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 3bf68b6f615c03c3e039b225d196a3f03de2635e</div><div id='time'> Time: 2021-06-05</div><div id='author'> Author: brandonwillard@users.noreply.github.com</div><div id='file'> File Name: pymc3/tests/test_model.py</div><div id='m_class'> M Class Name: TestValueGradFunction</div><div id='n_method'> N Class Name: TestValueGradFunction</div><div id='m_method'> M Method Name: test_missing_data(1)</div><div id='n_method'> N Method Name: test_missing_data(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: pymc3/tests/test_model.py</div><div id='n_file'> N File Name: pymc3/tests/test_model.py</div><div id='m_start'> M Start Line: 300</div><div id='m_end'> M End Line: 314</div><div id='n_start'> N Start Line: 301</div><div id='n_end'> N End Line: 315</div><BR>