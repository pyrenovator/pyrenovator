<html><h3>Pattern ID :36207
</h3><img src='102639162.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def loss_class(self, outputs, soft_labels):
        assert &quotpred_logits&quot in outputs
        cls_preds = outputs[&quotpred_logits&quot].flatten()
        cls_labels<a id="change"> = </a><a id="change">soft_labels.flatten()</a>

        &#47&#47 Remove non existent classes
        valid_ids = (cls_labels != -1).nonzero()
</code></pre><h3>After Change</h3><pre><code class='java'>

        idx = self._get_src_permutation_idx(indices)

        target_classes_o = torch.cat(<a id="change">[t["labels"][J] for t, (_, J) in zip(targets, indices)]</a>)
        target_classes = torch.full(src_logits.shape[:2], 0,
                                    dtype=torch.int64, device=src_logits.device)
        target_classes[idx] = target_classes_o</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bwittmann/transoar/commit/968e31194fced5e1134b6dda145a63d38d9b6236#diff-72325bd8560b0c87dc6c780bd674d1f642bdf043c4336b8d7d2033c2cfe1d9efL32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102639162</div><div id='project'> Project Name: bwittmann/transoar</div><div id='commit'> Commit Name: 968e31194fced5e1134b6dda145a63d38d9b6236</div><div id='time'> Time: 2022-03-09</div><div id='author'> Author: bastian.wittmann@tum.de</div><div id='file'> File Name: transoar/models/criterion.py</div><div id='m_class'> M Class Name: TransoarCriterion</div><div id='n_method'> N Class Name: TransoarCriterion</div><div id='m_method'> M Method Name: loss_class(4)</div><div id='n_method'> N Method Name: loss_class(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: transoar/models/criterion.py</div><div id='n_file'> N File Name: transoar/models/criterion.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 54</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    positive = pd.read_csv(
        bingliu_pos_bytes, sep="\n", header=None, names=["word"], encoding="latin-1"
    )
    positive_cleaned<a id="change"> = </a><a id="change">positive.loc[29:].values.flatten()</a>.tolist()

    bingliu_lexicon = {
        "positive_words": positive_cleaned,</code></pre><h3>After Change</h3><pre><code class='java'>
        resource_package, resource_pos_path
    )

    negative_words = <a id="change">[
        word.decode("latin-1").strip() for word in bingliu_neg_bytes.readlines()
    ]</a>[31:]
    positive_words = [
        word.decode("latin-1").strip() for word in bingliu_pos_bytes.readlines()
    ][30:]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dccuchile/wefe/commit/ec75b4f3c362732f7a01b582ca2eeb419c99aab8#diff-7aff8f898b25e134577dfd2d8dcb09b8a157bc6f6766496d19d7bb0db5296b1fL216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102639163</div><div id='project'> Project Name: dccuchile/wefe</div><div id='commit'> Commit Name: ec75b4f3c362732f7a01b582ca2eeb419c99aab8</div><div id='time'> Time: 2022-08-24</div><div id='author'> Author: pbadilla.torrealba@gmail.com</div><div id='file'> File Name: wefe/datasets/datasets.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_bingliu(0)</div><div id='n_method'> N Method Name: load_bingliu(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wefe/datasets/datasets.py</div><div id='n_file'> N File Name: wefe/datasets/datasets.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 255</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 253</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    positive = pd.read_csv(
        bingliu_pos_bytes, sep="\n", header=None, names=["word"], encoding="latin-1"
    )
    positive_cleaned<a id="change"> = </a><a id="change">positive.loc[29:].values.flatten()</a>.tolist()

    bingliu_lexicon = {
        "positive_words": positive_cleaned,</code></pre><h3>After Change</h3><pre><code class='java'>
    negative_words = [
        word.decode("latin-1").strip() for word in bingliu_neg_bytes.readlines()
    ][31:]
    positive_words = <a id="change">[
        word.decode("latin-1").strip() for word in bingliu_pos_bytes.readlines()
    ]</a>[30:]

    bingliu_lexicon = {
        "positive_words": positive_words,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dccuchile/wefe/commit/6afca8ef990a5173c0d48994a61eae624671d81d#diff-7aff8f898b25e134577dfd2d8dcb09b8a157bc6f6766496d19d7bb0db5296b1fL216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102639159</div><div id='project'> Project Name: dccuchile/wefe</div><div id='commit'> Commit Name: 6afca8ef990a5173c0d48994a61eae624671d81d</div><div id='time'> Time: 2022-05-29</div><div id='author'> Author: pbadilla.torrealba@gmail.com</div><div id='file'> File Name: wefe/datasets/datasets.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_bingliu(0)</div><div id='n_method'> N Method Name: load_bingliu(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wefe/datasets/datasets.py</div><div id='n_file'> N File Name: wefe/datasets/datasets.py</div><div id='m_start'> M Start Line: 234</div><div id='m_end'> M End Line: 255</div><div id='n_start'> N Start Line: 234</div><div id='n_end'> N End Line: 253</div><BR>