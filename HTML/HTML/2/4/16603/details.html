<html><h3>Pattern ID :16603
</h3><img src='55797515.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            data_path = &quot./openhgnn/dataset/acm_graph1.bin&quot
            category = &quotpaper&quot
            num_classes = 3
            g<a id="change">, _</a> = load_graphs(data_path)
            g = g[0]
        elif dataset == &quotacademic4HetGNN&quot:
            &#47&#47 which is used in HetGNN</code></pre><h3>After Change</h3><pre><code class='java'>
            category = &quotmovie&quot
            num_classes = 3
        elif name_dataset == &quotacm4GTN&quot:
            dataset = <a id="change">AcademicDataset(name=&quotacm4GTN&quot, raw_dir=&quot&quot)</a>
            category = &quotpaper&quot
            g = dataset[0].long()
            num_classes = 3
            self.in_dim<a id="change"> = g.ndata[&quoth&quot]</a>[category].shape[1]
        elif name_dataset == &quotacademic4HetGNN&quot:
            &#47&#47 which is used in HetGNN
            dataset = AcademicDataset(name=&quotacademic4HetGNN&quot, raw_dir=&quot&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bupt-gamma/openhgnn/commit/8016ba01e4b52c66fa9de0a944ddd043fa0d9b57#diff-46367ffa829fcce679a2585101b737748761dc7ada47a0e7e4a89ed27572f651L81' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55797515</div><div id='project'> Project Name: bupt-gamma/openhgnn</div><div id='commit'> Commit Name: 8016ba01e4b52c66fa9de0a944ddd043fa0d9b57</div><div id='time'> Time: 2021-05-24</div><div id='author'> Author: theheavenszhao@outlook.com</div><div id='file'> File Name: openhgnn/dataset/NodeClassificationDataset.py</div><div id='m_class'> M Class Name: HIN_NodeCLassification</div><div id='n_method'> N Class Name: HIN_NodeCLassification</div><div id='m_method'> M Method Name: load_HIN(2)</div><div id='n_method'> N Method Name: load_HIN(2)</div><div id='m_parent_class'> M Parent Class: NodeClassificationDataset</div><div id='n_parent_class'> N Parent Class: NodeClassificationDataset</div><div id='m_file'> M File Name: openhgnn/dataset/NodeClassificationDataset.py</div><div id='n_file'> N File Name: openhgnn/dataset/NodeClassificationDataset.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 107</div><div id='n_start'> N Start Line: 81</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.train_batch = self.load_link_pred(&quot./openhgnn/dataset/a_a_list_train.txt&quot)
            self.test_batch = self.load_link_pred(&quot./openhgnn/dataset/a_a_list_test.txt&quot)
            self.category = &quotauthor&quot
        g<a id="change">, _</a> = load_graphs(data_path)
        g = g[0].long()
        return g
</code></pre><h3>After Change</h3><pre><code class='java'>
    def load_HIN(self, dataset_name):
        if dataset_name == &quotacademic4HetGNN&quot:
            &#47&#47 which is used in HetGNN
            dataset = <a id="change">AcademicDataset(name=&quotacademic4HetGNN&quot, raw_dir=&quot&quot)</a>
            g<a id="change"> = dataset[0]</a>.long()

            self.train_batch = self.load_link_pred(&quot./openhgnn/dataset/&quot + dataset_name + &quot/a_a_list_train.txt&quot)
            self.test_batch = self.load_link_pred(&quot./openhgnn/dataset/&quot + dataset_name + &quot/a_a_list_test.txt&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bupt-gamma/openhgnn/commit/12afbd8236da5f067bb6247ca8a6b04d96d8adcb#diff-2801e1f5164bbefa4baa22dfef8760d0058c8b05760254d59250590f136d6981L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55797512</div><div id='project'> Project Name: bupt-gamma/openhgnn</div><div id='commit'> Commit Name: 12afbd8236da5f067bb6247ca8a6b04d96d8adcb</div><div id='time'> Time: 2021-05-24</div><div id='author'> Author: theheavenszhao@outlook.com</div><div id='file'> File Name: openhgnn/dataset/LinkPredictionDataset.py</div><div id='m_class'> M Class Name: HIN_Link_Prediction</div><div id='n_method'> N Class Name: HIN_Link_Prediction</div><div id='m_method'> M Method Name: load_HIN(2)</div><div id='n_method'> N Method Name: load_HIN(2)</div><div id='m_parent_class'> M Parent Class: LinkPredictionDataset</div><div id='n_parent_class'> N Parent Class: LinkPredictionDataset</div><div id='m_file'> M File Name: openhgnn/dataset/LinkPredictionDataset.py</div><div id='n_file'> N File Name: openhgnn/dataset/LinkPredictionDataset.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.in_dim = g.ndata[&quoth&quot][category].shape[1]
        elif name_dataset == &quotacm4NARS&quot:
            &#47&#47 TODO : to be continue
            g<a id="change">, labels, num_classes, train_nid, val_nid, test_nid</a> = load_acm_nars()
            category = &quotpaper&quot
        elif name_dataset == &quotacademic4HetGNN&quot:
            &#47&#47 which is used in HetGNN</code></pre><h3>After Change</h3><pre><code class='java'>
            self.in_dim = g.ndata[&quoth&quot][category].shape[1]
        elif name_dataset == &quotacm4NARS&quot:
            &#47&#47 TODO : to be continue
            dataset = <a id="change">AcademicDataset(name=&quotacm4NARS&quot, raw_dir=&quot&quot)</a>
            g<a id="change"> = dataset[0]</a>.long()
            num_classes = 3
            &#47&#47 g, labels, num_classes, train_nid, val_nid, test_nid = load_acm_nars()
            category = &quotpaper&quot</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bupt-gamma/openhgnn/commit/4d73bcf957c2707da04cbacd1f4e3339d31da4b6#diff-46367ffa829fcce679a2585101b737748761dc7ada47a0e7e4a89ed27572f651L83' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 55797516</div><div id='project'> Project Name: bupt-gamma/openhgnn</div><div id='commit'> Commit Name: 4d73bcf957c2707da04cbacd1f4e3339d31da4b6</div><div id='time'> Time: 2021-08-10</div><div id='author'> Author: 502736806@qq.com</div><div id='file'> File Name: openhgnn/dataset/NodeClassificationDataset.py</div><div id='m_class'> M Class Name: HIN_NodeCLassification</div><div id='n_method'> N Class Name: HIN_NodeCLassification</div><div id='m_method'> M Method Name: load_HIN(2)</div><div id='n_method'> N Method Name: load_HIN(2)</div><div id='m_parent_class'> M Parent Class: NodeClassificationDataset</div><div id='n_parent_class'> N Parent Class: NodeClassificationDataset</div><div id='m_file'> M File Name: openhgnn/dataset/NodeClassificationDataset.py</div><div id='n_file'> N File Name: openhgnn/dataset/NodeClassificationDataset.py</div><div id='m_start'> M Start Line: 124</div><div id='m_end'> M End Line: 124</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 126</div><BR>