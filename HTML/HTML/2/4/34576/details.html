<html><h3>Pattern ID :34576
</h3><img src='99418568.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        except:
            print("Prediction failed!")

        <a id="change">if </a>success:
            self.textbox.setText(<a id="change">"${equation}$".format(equation=prediction)</a>)

            pageSource = 
            &lt;html&gt;</code></pre><h3>After Change</h3><pre><code class='java'>
        self.thread.finished.connect(self.returnPrediction)
        self.thread.finished.connect(self.thread.deleteLater)

        <a id="change">self.thread.start()</a>


    def returnPrediction(self, result):
        self.snipButton.setEnabled(True)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lukas-blecher/latex-ocr/commit/17d2fd540c87729c30bfdc4c532add872c287b45#diff-b10564ab7d2c520cdd0243874879fb0a782862c3c902ab535faabe57d5a505e1L74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99418568</div><div id='project'> Project Name: lukas-blecher/latex-ocr</div><div id='commit'> Commit Name: 17d2fd540c87729c30bfdc4c532add872c287b45</div><div id='time'> Time: 2021-05-09</div><div id='author'> Author: 35044591+katie-lim@users.noreply.github.com</div><div id='file'> File Name: main.py</div><div id='m_class'> M Class Name: App</div><div id='n_method'> N Class Name: App</div><div id='m_method'> M Method Name: returnSnip(2)</div><div id='n_method'> N Method Name: returnSnip(2)</div><div id='m_parent_class'> M Parent Class: QMainWindow</div><div id='n_parent_class'> N Parent Class: QMainWindow</div><div id='m_file'> M File Name: main.py</div><div id='n_file'> N File Name: main.py</div><div id='m_start'> M Start Line: 76</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for path in key_list:
            transcript = self.path_to_transcript_dict[path]
            wave, sr = sf.read(os.path.join("Corpora/CSS10/", path))
            <a id="change">if </a>50000 &lt; len(wave) &lt; 230000:
                print(<a id="change">"processing {}".format(</a>path<a id="change">)</a>)
                if ap is None:
                    ap = AudioPreprocessor(input_sr=sr, output_sr=16000, melspec_buckets=80, hop_length=256, n_fft=1024)
                self.cached_text.append(tf.string_to_tensor(transcript).long())</code></pre><h3>After Change</h3><pre><code class='java'>
            key_splits.append(key_list[i * len(key_list) / loading_threads:i + 1 * len(key_list) / loading_threads])
        for key_split in key_splits:
            thread_list.append(Thread(target=self.cache_builder_thread, args=(key_split,)))
            <a id="change">thread_list[-1].start()</a>
        for thread in thread_list:
            thread.join()

    def cache_builder_thread(self, path_list):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/21527c7e2ea36abafa7885cef64519affbb0e587#diff-0965ad6e3a8f04afe3a358a7558e203eaa1f244ad6e8e6fbfe73f8a2052b8cb1L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99418565</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: 21527c7e2ea36abafa7885cef64519affbb0e587</div><div id='time'> Time: 2021-03-01</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: TransformerTTS/TransformerTTSDataset.py</div><div id='m_class'> M Class Name: TransformerTTSDataset</div><div id='n_method'> N Class Name: TransformerTTSDataset</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: TransformerTTS/TransformerTTSDataset.py</div><div id='n_file'> N File Name: TransformerTTS/TransformerTTSDataset.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def run(gpu_id, resume_checkpoint, finetune, model_dir, resume):
    <a id="change">if </a>gpu_id == "cpu":
        os.environ["CUDA_VISIBLE_DEVICES"] = ""
        device = torch.device("cpu")

    else:
        os.environ["CUDA_DEVICE_ORDER"] = "PCI_BUS_ID"
        os.environ["CUDA_VISIBLE_DEVICES"] = <a id="change">"{}".format(</a>gpu_id<a id="change">)</a>
        device = torch.device("cuda")

    torch.manual_seed(131714)
    random.seed(131714)</code></pre><h3>After Change</h3><pre><code class='java'>
                                                               "fine_tune"         : True,
                                                               "resume"            : resume
                                                               }))
            <a id="change">processes[-1].start()</a>
            print(f"Starting {instance_save_dir} on cuda:{gpus_available[-1]}")
            gpus_in_use.append(gpus_available.pop())
            while len(gpus_available) == 0:
                print("All GPUs available should be filled now. Waiting for one process to finish to start the next one.")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/c2d6763d59533aadfe9096a70cf208455e3aee9c#diff-35ce52bf4206f5886ecd8e11eec900fc41f488e1fef7bb51d5e1e75213981b52L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99418567</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: c2d6763d59533aadfe9096a70cf208455e3aee9c</div><div id='time'> Time: 2021-10-16</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: TrainingInterfaces/TrainingPipelines/Tacotron2_MetaCheckpoint.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(5)</div><div id='n_method'> N Method Name: run(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingInterfaces/TrainingPipelines/Tacotron2_MetaCheckpoint.py</div><div id='n_file'> N File Name: TrainingInterfaces/TrainingPipelines/Tacotron2_MetaCheckpoint.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 175</div><div id='n_start'> N Start Line: 152</div><div id='n_end'> N End Line: 198</div><BR>