<html><h3>Pattern ID :35649
</h3><img src='101545260.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            raise NotImplementedError(&quotTrainTestLabelDrift must receive either alternative_label_measurements or run &quot
                                      &quoton Classification or Object Detection class&quot)

        self._train_label_properties = OrderedDict([(<a id="change">k[&quotname&quot]</a><a id="change">, []</a>) for k in self._label_measurements])
        self._test_label_properties = OrderedDict([(k[&quotname&quot], []) for k in self._label_measurements])

    def update(self, context: Context, batch: Batch, dataset_kind):</code></pre><h3>After Change</h3><pre><code class='java'>
            raise NotImplementedError(&quotTrainTestLabelDrift must receive either alternative_label_properties or run &quot
                                      &quoton Classification or Object Detection class&quot)

        self._train_label_properties = <a id="change">defaultdict(</a>list<a id="change">)</a>
        self._test_label_properties = defaultdict(list)

    def update(self, context: Context, batch: Batch, dataset_kind):
        Perform update on batch for train or test properties.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/aebd6ccd8dfe6d09f76c6c96f9dbefb92c941e1d#diff-cb45983560d671abea16d807a6284c39043e37be9d6f7b3c7bd7db09ea9d5b9eL98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 101545260</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: aebd6ccd8dfe6d09f76c6c96f9dbefb92c941e1d</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/vision/checks/distribution/train_test_label_drift.py</div><div id='m_class'> M Class Name: TrainTestLabelDrift</div><div id='n_method'> N Class Name: TrainTestLabelDrift</div><div id='m_method'> M Method Name: initialize_run(2)</div><div id='n_method'> N Method Name: initialize_run(2)</div><div id='m_parent_class'> M Parent Class: TrainTestCheck</div><div id='n_parent_class'> N Parent Class: TrainTestCheck</div><div id='m_file'> M File Name: deepchecks/vision/checks/distribution/train_test_label_drift.py</div><div id='n_file'> N File Name: deepchecks/vision/checks/distribution/train_test_label_drift.py</div><div id='m_start'> M Start Line: 98</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 112</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            raise NotImplementedError(&quotTrainTestLabelDrift must receive either alternative_prediction_measurements or &quot
                                      &quotrun on Classification or Object Detection class&quot)

        self._train_prediction_properties = OrderedDict([(<a id="change">k[&quotname&quot]</a><a id="change">, []</a>) for k in self._prediction_measurements])
        self._test_prediction_properties = OrderedDict([(k[&quotname&quot], []) for k in self._prediction_measurements])

    def update(self, context: Context, batch: Batch, dataset_kind):</code></pre><h3>After Change</h3><pre><code class='java'>
                                      &quotrun on Classification or Object Detection class&quot)

        self._train_prediction_properties = defaultdict(list)
        self._test_prediction_properties = <a id="change">defaultdict(</a>list<a id="change">)</a>

    def update(self, context: Context, batch: Batch, dataset_kind):
        Perform update on batch for train or test properties.
        &#47&#47 For all transformers, calculate histograms by batch:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/aebd6ccd8dfe6d09f76c6c96f9dbefb92c941e1d#diff-cdde322733eeafce3976865d674365d4b02035dc9caaa86b90c23506d1680108L82' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 101545257</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: aebd6ccd8dfe6d09f76c6c96f9dbefb92c941e1d</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/vision/checks/distribution/train_test_prediction_drift.py</div><div id='m_class'> M Class Name: TrainTestPredictionDrift</div><div id='n_method'> N Class Name: TrainTestPredictionDrift</div><div id='m_method'> M Method Name: initialize_run(2)</div><div id='n_method'> N Method Name: initialize_run(2)</div><div id='m_parent_class'> M Parent Class: TrainTestCheck</div><div id='n_parent_class'> N Parent Class: TrainTestCheck</div><div id='m_file'> M File Name: deepchecks/vision/checks/distribution/train_test_prediction_drift.py</div><div id='n_file'> N File Name: deepchecks/vision/checks/distribution/train_test_prediction_drift.py</div><div id='m_start'> M Start Line: 98</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        id_to_charspan: Dict[str, Tuple[int, int]] = {}
        id_to_labels: Dict[str, Set[str]] = defaultdict(set)
        id_to_tax: Dict[str, List[List[str]]] = defaultdict(list)
        non_contig: Dict[str, str] = <a id="change">{}</a>
        for result_data in result:
            if result_data["type"] == "labels" or result_data["type"] == "taxonomy":
                idx = result_data["id"]
                <a id="change">id_to_charspan[idx]</a> = result_data["value"]["start"], result_data["value"]["end"]
                if result_data["type"] == "labels":
                    id_to_labels[idx].update(result_data["value"]["labels"])
                elif result_data["type"] == "taxonomy":
                    id_to_tax[idx].extend(result_data["value"]["taxonomy"])
            elif result_data["type"] == "relation":
                non_contig[result_data["from_id"]] = result_data["to_id"]
                non_contig[result_data["to_id"]] = result_data["from_id"]
        return id_to_charspan<a id="change">, id_to_labels, id_to_tax, non_contig</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        id_to_charspan: Dict[str, Tuple[int, int]] = {}
        id_to_labels: Dict[str, Set[str]] = defaultdict(set)
        id_to_tax: Dict[str, List[List[str]]] = defaultdict(list)
        non_contig: Dict[str, Set[str]] = <a id="change">defaultdict(</a>set<a id="change">)</a>
        contig_ents = set()
        for result_data in result:
            if result_data["type"] == "labels" or result_data["type"] == "taxonomy":
                idx = result_data["id"]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/1384cc9017b16821487bf77f64095d5ef062cb7b#diff-01fce6e72ff30d060715fa8c8a05f6e95a0222669fb503988ae3ddc87e380481L350' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 101545259</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 1384cc9017b16821487bf77f64095d5ef062cb7b</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/modelling/annotation/label_studio.py</div><div id='m_class'> M Class Name: LabelStudioJsonToKazuDocumentEncoder</div><div id='n_method'> N Class Name: LabelStudioJsonToKazuDocumentEncoder</div><div id='m_method'> M Method Name: _populate_task_id_lookups(2)</div><div id='n_method'> N Method Name: _populate_task_id_lookups(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/modelling/annotation/label_studio.py</div><div id='n_file'> N File Name: kazu/modelling/annotation/label_studio.py</div><div id='m_start'> M Start Line: 355</div><div id='m_end'> M End Line: 370</div><div id='n_start'> N Start Line: 358</div><div id='n_end'> N End Line: 376</div><BR>