<html><h3>Pattern ID :1159
</h3><img src='5854909.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    assert len(out) == 3

    pd.testing.assert_frame_equal(pd.DataFrame({
        &quottime&quot: <a id="change">pd.to_datetime(</a>[&quot2001-01-01&quot, &quot2001-01-02&quot, &quot2001-01-03&quot]<a id="change">)</a>,
        &quota&quot: [1, 2, 3],
        &quotb&quot: [9, 8, 7],
    }), out[0])
    pd.testing.assert_frame_equal(pd.DataFrame({
        &quottime&quot: <a id="change">pd.to_datetime(</a>[&quot2001-01-04&quot, &quot2001-01-05&quot, &quot2001-01-06&quot]<a id="change">)</a>,
        &quota&quot: [4, 5, 6],
        &quotb&quot: [6, 5, 4],
    }), out[1])</code></pre><h3>After Change</h3><pre><code class='java'>

def test_segment_by_time():
    The sequence is cut in sequences of the indicated time lenght.
    sequence = pd.DataFrame(<a id="change">{
        </a>&quota&quot: [1, 2, 3, 4, 5, 6, 7, 8, 9],
        &quotb&quot: [9, 8, 7, 6, 5, 4, 3, 2, 1]<a id="change">,
    }</a>)
    sequence_index = pd.date_range(start=&quot2001-01-01&quot, periods=9, freq=&quot1d&quot).to_series()

    segment_size = pd.to_timedelta(&quot3d&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sdv-dev/deepecho/commit/273eb990d35e8c573f4cce8b30ebe339e9030725#diff-5370d9f79553c4f97fc25f7b984d8dbfd2b81e398f6ba2f4672e93456d60974cL36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 5854909</div><div id='project'> Project Name: sdv-dev/deepecho</div><div id='commit'> Commit Name: 273eb990d35e8c573f4cce8b30ebe339e9030725</div><div id='time'> Time: 2020-08-13</div><div id='author'> Author: carles@pythiac.com</div><div id='file'> File Name: tests/test_sequences.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_segment_by_time(0)</div><div id='n_method'> N Method Name: test_segment_by_time(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_sequences.py</div><div id='n_file'> N File Name: tests/test_sequences.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 43</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            wl = pd.read_feather(wl_fname)
            spm = pd.read_feather(spm_fname)

        wl.index = <a id="change">pd.to_datetime(</a>wl.pop(&quotindex&quot)<a id="change">)</a>
        spm.index = <a id="change">pd.to_datetime(</a>spm.pop(&quotindex&quot)<a id="change">)</a>

        return wl[st:en], spm[st:en]

    def fetch(self,</code></pre><h3>After Change</h3><pre><code class='java'>
            spm.to_xarray().to_netcdf(spm_fname)
        else:
            wl = xr.load_dataset(wl_fname).to_dataframe([&quotindex&quot])
            spm = xr.load_dataset(spm_fname).to_dataframe(<a id="change">[</a>&quotindex&quot<a id="change"></a>])

        &#47&#47wl.index = pd.to_datetime(wl.pop(&quotindex&quot))
        &#47&#47spm.index = pd.to_datetime(spm.pop(&quotindex&quot))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/010fbe51c1ccf4305e1811558e8e0e2123274ac4#diff-8245caa308efbee7a234224040dca29c35af38103f9931c96f66a8e435e88e08L1003' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 5854908</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 010fbe51c1ccf4305e1811558e8e0e2123274ac4</div><div id='time'> Time: 2021-08-30</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/utils/datasets/datasets.py</div><div id='m_class'> M Class Name: MtropicsLaos</div><div id='n_method'> N Class Name: MtropicsLaos</div><div id='m_method'> M Method Name: fetch_hydro(3)</div><div id='n_method'> N Method Name: fetch_hydro(3)</div><div id='m_parent_class'> M Parent Class: Datasets</div><div id='n_parent_class'> N Parent Class: Datasets</div><div id='m_file'> M File Name: ai4water/utils/datasets/datasets.py</div><div id='n_file'> N File Name: ai4water/utils/datasets/datasets.py</div><div id='m_start'> M Start Line: 1017</div><div id='m_end'> M End Line: 1052</div><div id='n_start'> N Start Line: 1036</div><div id='n_end'> N End Line: 1070</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert len(out) == 3

    pd.testing.assert_frame_equal(pd.DataFrame({
        &quottime&quot: <a id="change">pd.to_datetime(</a>[&quot2001-01-01&quot, &quot2001-01-02&quot, &quot2001-01-03&quot]<a id="change">)</a>,
        &quota&quot: [1, 2, 3],
        &quotb&quot: [9, 8, 7],
    }), out[0])
    pd.testing.assert_frame_equal(pd.DataFrame({
        &quottime&quot: pd.to_datetime([&quot2001-01-04&quot, &quot2001-01-05&quot, &quot2001-01-06&quot]),
        &quota&quot: [4, 5, 6],
        &quotb&quot: [6, 5, 4],
    }), out[1])
    pd.testing.assert_frame_equal(pd.DataFrame({
        &quottime&quot: <a id="change">pd.to_datetime(</a>[&quot2001-01-07&quot, &quot2001-01-08&quot, &quot2001-01-09&quot]<a id="change">)</a>,
        &quota&quot: [7, 8, 9],
        &quotb&quot: [3, 2, 1],
    }), out[2])</code></pre><h3>After Change</h3><pre><code class='java'>

def test_segment_by_time():
    The sequence is cut in sequences of the indicated time lenght.
    sequence = pd.DataFrame(<a id="change">{
        </a>&quota&quot: [1, 2, 3, 4, 5, 6, 7, 8, 9],
        &quotb&quot: [9, 8, 7, 6, 5, 4, 3, 2, 1]<a id="change">,
    }</a>)
    sequence_index = pd.date_range(start=&quot2001-01-01&quot, periods=9, freq=&quot1d&quot).to_series()

    segment_size = pd.to_timedelta(&quot3d&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sdv-dev/deepecho/commit/273eb990d35e8c573f4cce8b30ebe339e9030725#diff-5370d9f79553c4f97fc25f7b984d8dbfd2b81e398f6ba2f4672e93456d60974cL34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 5854911</div><div id='project'> Project Name: sdv-dev/deepecho</div><div id='commit'> Commit Name: 273eb990d35e8c573f4cce8b30ebe339e9030725</div><div id='time'> Time: 2020-08-13</div><div id='author'> Author: carles@pythiac.com</div><div id='file'> File Name: tests/test_sequences.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_segment_by_time(0)</div><div id='n_method'> N Method Name: test_segment_by_time(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_sequences.py</div><div id='n_file'> N File Name: tests/test_sequences.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 43</div><BR>