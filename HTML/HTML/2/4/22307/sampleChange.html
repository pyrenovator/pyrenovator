<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        os.makedirs(self._outdir, exist_ok=True)

        &#47&#47 Construct the list of arguments to be passed to `_process_file`.
        args = list(<a id="change">zip(</a>i3_files, gcd_files<a id="change">)</a>)

        &#47&#47 Iterate over batches of files.
        try:</code></pre><h3>After Change</h3><pre><code class='java'>
                    filesets,
                    int(np.ceil(len(filesets) / self._nb_files_to_batch)),
                )
                batches<a id="change"> = </a>[
                    (group, <a id="change">self._sequential_batch_pattern.format(</a>ix_batch<a id="change">)</a>)
                    for ix_batch, group in enumerate(batches)
                ]
                self.logger.info(
                    f"Will batch {len(filesets)} input files into {len(batches)} groups."
                )

                &#47&#47 Iterate over batches
                pool<a id="change"> = </a>self._iterate_over_batches_of_files(batches)

            elif self._save_strategy == "pattern_batched":
                &#47&#47 Define batches</code></pre>