<html><h3>Pattern ID :2358
</h3><img src='9987128.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &quotmodel_analyzer.triton.server.server_docker.docker&quot,
            Mock(**docker_attrs))

        self.mock<a id="change"> = </a><a id="change">self.patcher_docker.start()</a>

    def stop(self):
        
        Destroy the mocked classes and</code></pre><h3>After Change</h3><pre><code class='java'>
        self.patcher_docker = patch(
            &quotmodel_analyzer.triton.server.server_docker.docker&quot,
            Mock(**docker_attrs))
        <a id="change">super().__init__()</a>

    def start(self):
         
        Start the patchers</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/22ba2be3f08875104a4b5b8b4c4a9bb556023dde#diff-5bd7923e10c528f98fecd97c727bbabbced868e3231431340a8b25e9c745e8a0L42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9987128</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 22ba2be3f08875104a4b5b8b4c4a9bb556023dde</div><div id='time'> Time: 2021-01-15</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: tests/mocks/mock_server_docker.py</div><div id='m_class'> M Class Name: MockServerDockerMethods</div><div id='n_method'> N Class Name: MockServerDockerMethods</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: MockServerMethods</div><div id='n_parent_class'> N Parent Class: MockServerMethods</div><div id='m_file'> M File Name: tests/mocks/mock_server_docker.py</div><div id='n_file'> N File Name: tests/mocks/mock_server_docker.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &quotmodel_analyzer.triton.server.server_local.PIPE&quot, MagicMock())
        self.popen_mock = self.patcher_popen.start()
        self.stdout_mock = self.patcher_stdout.start()
        self.pipe_mock<a id="change"> = </a><a id="change">self.patcher_pipe.start()</a>

    def stop(self):
        
        Destroy the mocked classes and</code></pre><h3>After Change</h3><pre><code class='java'>
            &quotmodel_analyzer.triton.server.server_local.STDOUT&quot, MagicMock())
        self.patcher_pipe = patch(
            &quotmodel_analyzer.triton.server.server_local.PIPE&quot, MagicMock())
        <a id="change">super().__init__()</a>

    def start(self):
         
        Start the patchers</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/22ba2be3f08875104a4b5b8b4c4a9bb556023dde#diff-321496303fcbd95e7bf42dfbcf614b1ae178e1efc07cd5d723b09db7e5b55f82L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9987129</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 22ba2be3f08875104a4b5b8b4c4a9bb556023dde</div><div id='time'> Time: 2021-01-15</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: tests/mocks/mock_server_local.py</div><div id='m_class'> M Class Name: MockServerLocalMethods</div><div id='n_method'> N Class Name: MockServerLocalMethods</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: MockServerMethods</div><div id='n_parent_class'> N Parent Class: MockServerMethods</div><div id='m_file'> M File Name: tests/mocks/mock_server_local.py</div><div id='n_file'> N File Name: tests/mocks/mock_server_local.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            MockCalledProcessError)
        self.check_output_mock = self.patcher_check_output.start()
        self.stdout_mock = self.patcher_stdout.start()
        self.called_process_error_mock<a id="change"> = </a><a id="change">self.patcher_called_process_error.start(
        )</a>

    def stop(self):
        
        Destroy the mocked classes and</code></pre><h3>After Change</h3><pre><code class='java'>
        self.patcher_called_process_error = patch(
            &quotmodel_analyzer.perf_analyzer.perf_analyzer.CalledProcessError&quot,
            MockCalledProcessError)
        <a id="change">super().__init__()</a>

    def start(self):
        
        Start the patchers</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/22ba2be3f08875104a4b5b8b4c4a9bb556023dde#diff-ded44a4fdaf0f42b76a46819e7aacbfc2a898956cbe01be909d7a7e3925768a4L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9987130</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 22ba2be3f08875104a4b5b8b4c4a9bb556023dde</div><div id='time'> Time: 2021-01-15</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: tests/mocks/mock_perf_analyzer.py</div><div id='m_class'> M Class Name: MockPerfAnalyzerMethods</div><div id='n_method'> N Class Name: MockPerfAnalyzerMethods</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: MockBase</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/mocks/mock_perf_analyzer.py</div><div id='n_file'> N File Name: tests/mocks/mock_perf_analyzer.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.patcher_grpc_client = patch(
            &quotmodel_analyzer.triton.client.grpc_client.grpcclient.InferenceServerClient&quot,
            Mock(return_value=mock_grpc_client))
        self.http_mock<a id="change"> = </a><a id="change">self.patcher_http_client.start()</a>
        self.grpc_mock = self.patcher_grpc_client.start()

    def stop(self):
        </code></pre><h3>After Change</h3><pre><code class='java'>
        self.patcher_grpc_client = patch(
            &quotmodel_analyzer.triton.client.grpc_client.grpcclient.InferenceServerClient&quot,
            Mock(return_value=mock_grpc_client))
        <a id="change">super().__init__()</a>

    def start(self):
        
        start the patchers</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/22ba2be3f08875104a4b5b8b4c4a9bb556023dde#diff-7fb4ecf132f48148a8b39acbfa41df7d966a5cb007085e6ecafc3f3656d51693L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 9987133</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 22ba2be3f08875104a4b5b8b4c4a9bb556023dde</div><div id='time'> Time: 2021-01-15</div><div id='author'> Author: asramesh@nvidia.com</div><div id='file'> File Name: tests/mocks/mock_client.py</div><div id='m_class'> M Class Name: MockTritonClientMethods</div><div id='n_method'> N Class Name: MockTritonClientMethods</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: MockBase</div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/mocks/mock_client.py</div><div id='n_file'> N File Name: tests/mocks/mock_client.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 43</div><BR>