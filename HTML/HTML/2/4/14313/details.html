<html><h3>Pattern ID :14313
</h3><img src='47384755.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        targets = torch.reshape(targets, (shape[0]*shape[1], shape[2], shape[3]))
        import pdb; pdb.set_trace()
        contexts, targets = self.augment_op(contexts), self.augment_op(targets)
        import pdb; <a id="change">pdb.set_trace()</a>
        contexts, targets = torch.reshape(contexts, shape), torch.reshape(targets, shape)
        import pdb; pdb.set_trace()
        return contexts, targets
</code></pre><h3>After Change</h3><pre><code class='java'>

class AugmentContextAndTarget(Augmenter):
    def __call__(self, contexts, targets):
        <a id="change">return </a><a id="change">[np.array(self.augment_op(el)) for el in contexts]</a>, [np.array(self.augment_op(el)) for el in targets]


class AugmentContextOnly(Augmenter):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/61402dc3c10802be2b5a2be597955203e3ddd16f#diff-ee5ab27d08ddab6427c8d60644dc08cbaa5813e26ef8e6a81c1cb6d1198f2d08L31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47384755</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 61402dc3c10802be2b5a2be597955203e3ddd16f</div><div id='time'> Time: 2020-07-31</div><div id='author'> Author: codywild@berkeley.edu</div><div id='file'> File Name: algos/augmenters.py</div><div id='m_class'> M Class Name: AugmentContextAndTarget</div><div id='n_method'> N Class Name: AugmentContextAndTarget</div><div id='m_method'> M Method Name: __call__(3)</div><div id='n_method'> N Method Name: __call__(3)</div><div id='m_parent_class'> M Parent Class: Augmenter</div><div id='n_parent_class'> N Parent Class: Augmenter</div><div id='m_file'> M File Name: algos/augmenters.py</div><div id='n_file'> N File Name: algos/augmenters.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        shape = contexts.shape
        contexts = torch.reshape(contexts, (shape[0]*shape[1], shape[2], shape[3]))
        targets = torch.reshape(targets, (shape[0]*shape[1], shape[2], shape[3]))
        import pdb; <a id="change">pdb.set_trace()</a>
        contexts, targets = self.augment_op(contexts), self.augment_op(targets)
        import pdb; pdb.set_trace()
        contexts, targets = torch.reshape(contexts, shape), torch.reshape(targets, shape)
        import pdb; pdb.set_trace()</code></pre><h3>After Change</h3><pre><code class='java'>

class AugmentContextAndTarget(Augmenter):
    def __call__(self, contexts, targets):
        <a id="change">return </a>[np.array(self.augment_op(el)) for el in contexts], <a id="change">[np.array(self.augment_op(el)) for el in targets]</a>


class AugmentContextOnly(Augmenter):
    def __call__(self, contexts, targets):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/8c09e76b5f02ad929e3742ba56e7a5caa78dd0ee#diff-ee5ab27d08ddab6427c8d60644dc08cbaa5813e26ef8e6a81c1cb6d1198f2d08L31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47384758</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 8c09e76b5f02ad929e3742ba56e7a5caa78dd0ee</div><div id='time'> Time: 2020-07-31</div><div id='author'> Author: codywild@berkeley.edu</div><div id='file'> File Name: algos/augmenters.py</div><div id='m_class'> M Class Name: AugmentContextAndTarget</div><div id='n_method'> N Class Name: AugmentContextAndTarget</div><div id='m_method'> M Method Name: __call__(3)</div><div id='n_method'> N Method Name: __call__(3)</div><div id='m_parent_class'> M Parent Class: Augmenter</div><div id='n_parent_class'> N Parent Class: Augmenter</div><div id='m_file'> M File Name: algos/augmenters.py</div><div id='n_file'> N File Name: algos/augmenters.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    x = x.to(torch.float32)
    import pdb

    <a id="change">pdb.set_trace()</a>
    config = set_evasion_model(query, victim_input_shape, victim_input_targets)
    x_adv, y_adv = init_hopskipjump(config, data)
    x = torch.cat((x, x_adv))
    y = torch.cat((y, y_adv))</code></pre><h3>After Change</h3><pre><code class='java'>
    result = torch.as_tensor(result)
    result = result.clone().detach()
    print(result.shape)
    y = torch.Tensor(<a id="change">[query(x) for x in result]</a>)
    y = y.long()
    <a id="change">return </a>result, y
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/trailofbits/privacyraven/commit/dd71a208fe41d3cb3854115c2ce4d4318b3d52e0#diff-e399b6ad8d6d6523e65ad0d433b80f161b2fbc814e46ade00bbbb9b5d997c1aaL130' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47384756</div><div id='project'> Project Name: trailofbits/privacyraven</div><div id='commit'> Commit Name: dd71a208fe41d3cb3854115c2ce4d4318b3d52e0</div><div id='time'> Time: 2020-10-21</div><div id='author'> Author: suhashussain1@gmail.com</div><div id='file'> File Name: src/privacyraven/extraction/synthesis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: hopskipjump(6)</div><div id='n_method'> N Method Name: hopskipjump(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/privacyraven/extraction/synthesis.py</div><div id='n_file'> N File Name: src/privacyraven/extraction/synthesis.py</div><div id='m_start'> M Start Line: 139</div><div id='m_end'> M End Line: 155</div><div id='n_start'> N Start Line: 118</div><div id='n_end'> N End Line: 144</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        semiF_features = np.stack(semiF_features).todense()
        semiF_features = torch.from_numpy(semiF_features).cuda()
        print(semiF_features.size())
        import pdb; <a id="change">pdb.set_trace()</a>
        return torch.cat(mol_vecs, semiF_features, dim=1)  &#47&#47 (num_molecules, hidden_size)


class MPN(nn.Module):</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.args.semiF_path:
            mol_graph, semiF_features = mol_graph
            if self.args.semiF_only:
                semiF_features = np.stack(<a id="change">[features.todense() for features in semiF_features]</a>)
                semiF_features = torch.from_numpy(semiF_features).float().cuda()
                <a id="change">return </a>semiF_features

        f_atoms, f_bonds, a2b, b2a, b2revb, a_scope, b_scope = mol_graph.get_components()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aamini/chemprop/commit/4018237525de3bf78069082d6a53a600550595ee#diff-91b4e1ef89fbd915183928818e07287d60ba2d013478779025955bb686f6410dL104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47384766</div><div id='project'> Project Name: aamini/chemprop</div><div id='commit'> Commit Name: 4018237525de3bf78069082d6a53a600550595ee</div><div id='time'> Time: 2018-10-16</div><div id='author'> Author: yangk@mit.edu</div><div id='file'> File Name: mpn.py</div><div id='m_class'> M Class Name: MPNEncoder</div><div id='n_method'> N Class Name: MPNEncoder</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: mpn.py</div><div id='n_file'> N File Name: mpn.py</div><div id='m_start'> M Start Line: 114</div><div id='m_end'> M End Line: 292</div><div id='n_start'> N Start Line: 118</div><div id='n_end'> N End Line: 302</div><BR>