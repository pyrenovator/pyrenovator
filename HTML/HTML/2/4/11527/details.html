<html><h3>Pattern ID :11527
</h3><img src='39192050.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        train_images = train_images / 255.0

        batch_size = self.context.get_per_slot_batch_size()
        <a id="change">return </a><a id="change">adapt_keras_data(x=train_images, y=train_labels, batch_size=batch_size)</a>

    def build_validation_data_loader(self):
        test_images, test_labels = data.load_validation_data()
        test_images = test_images / 255.0</code></pre><h3>After Change</h3><pre><code class='java'>
        train_images, train_labels = data.load_training_data()
        train_images = train_images / 255.0

        <a id="change">return </a>train_images<a id="change">, train_labels</a>

    def build_validation_data_loader(self) -&gt; InputData:
        test_images, test_labels = data.load_validation_data()
        test_images = test_images / 255.0</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/e4b9873d7156a7cbb86e19f1f317dfba059a92ae#diff-f804c709921f9d8162b1eb16efab88c9a2df7d37eb19be2b288515586a107651L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39192050</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: e4b9873d7156a7cbb86e19f1f317dfba059a92ae</div><div id='time'> Time: 2020-04-15</div><div id='author'> Author: aaron@determined.ai</div><div id='file'> File Name: examples/official/mnist_tf_keras/model_def.py</div><div id='m_class'> M Class Name: MNISTTrial</div><div id='n_method'> N Class Name: MNISTTrial</div><div id='m_method'> M Method Name: build_training_data_loader(1)</div><div id='n_method'> N Method Name: build_training_data_loader(1)</div><div id='m_parent_class'> M Parent Class: TFKerasTrial</div><div id='n_parent_class'> N Parent Class: TFKerasTrial</div><div id='m_file'> M File Name: examples/official/mnist_tf_keras/model_def.py</div><div id='n_file'> N File Name: examples/official/mnist_tf_keras/model_def.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 39</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        train_images = train_images / 255.0

        batch_size = self.context.get_per_slot_batch_size()
        train = <a id="change">adapt_keras_data(x=train_images, y=train_labels, batch_size=batch_size)</a>

        <a id="change">return </a>train

    def build_validation_data_loader(self):
        (_, _), (test_images, test_labels) = data.load_data(self.download_directory)</code></pre><h3>After Change</h3><pre><code class='java'>
        (train_images, train_labels), (_, _) = data.load_data(self.download_directory)
        train_images = train_images / 255.0

        <a id="change">return </a>train_images<a id="change">, train_labels</a>

    def build_validation_data_loader(self) -&gt; InputData:
        (_, _), (test_images, test_labels) = data.load_data(self.download_directory)
        test_images = test_images / 255.0</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/e4b9873d7156a7cbb86e19f1f317dfba059a92ae#diff-23af1e5a340eebf824ec952d9d23fba9af832eb96106e03c785323192d154634L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39192048</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: e4b9873d7156a7cbb86e19f1f317dfba059a92ae</div><div id='time'> Time: 2020-04-15</div><div id='author'> Author: aaron@determined.ai</div><div id='file'> File Name: examples/experimental/native_mnist_tf_keras/model_def.py</div><div id='m_class'> M Class Name: MNISTTrial</div><div id='n_method'> N Class Name: MNISTTrial</div><div id='m_method'> M Method Name: build_training_data_loader(1)</div><div id='n_method'> N Method Name: build_training_data_loader(1)</div><div id='m_parent_class'> M Parent Class: TFKerasTrial</div><div id='n_parent_class'> N Parent Class: TFKerasTrial</div><div id='m_file'> M File Name: examples/experimental/native_mnist_tf_keras/model_def.py</div><div id='n_file'> N File Name: examples/experimental/native_mnist_tf_keras/model_def.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        test_images = test_images / 255.0

        batch_size = self.context.get_per_slot_batch_size()
        test = <a id="change">adapt_keras_data(x=test_images, y=test_labels, batch_size=batch_size)</a>

        <a id="change">return </a>test
</code></pre><h3>After Change</h3><pre><code class='java'>
        (_, _), (test_images, test_labels) = data.load_data(self.download_directory)
        test_images = test_images / 255.0

        <a id="change">return </a>test_images<a id="change">, test_labels</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/e4b9873d7156a7cbb86e19f1f317dfba059a92ae#diff-23af1e5a340eebf824ec952d9d23fba9af832eb96106e03c785323192d154634L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39192049</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: e4b9873d7156a7cbb86e19f1f317dfba059a92ae</div><div id='time'> Time: 2020-04-15</div><div id='author'> Author: aaron@determined.ai</div><div id='file'> File Name: examples/experimental/native_mnist_tf_keras/model_def.py</div><div id='m_class'> M Class Name: MNISTTrial</div><div id='n_method'> N Class Name: MNISTTrial</div><div id='m_method'> M Method Name: build_validation_data_loader(1)</div><div id='n_method'> N Method Name: build_validation_data_loader(1)</div><div id='m_parent_class'> M Parent Class: TFKerasTrial</div><div id='n_parent_class'> N Parent Class: TFKerasTrial</div><div id='m_file'> M File Name: examples/experimental/native_mnist_tf_keras/model_def.py</div><div id='n_file'> N File Name: examples/experimental/native_mnist_tf_keras/model_def.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        test_images = test_images / 255.0

        batch_size = self.context.get_per_slot_batch_size()
        <a id="change">return </a><a id="change">adapt_keras_data(x=test_images, y=test_labels, batch_size=batch_size)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        test_images, test_labels = data.load_validation_data()
        test_images = test_images / 255.0

        <a id="change">return </a>test_images<a id="change">, test_labels</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/e4b9873d7156a7cbb86e19f1f317dfba059a92ae#diff-f804c709921f9d8162b1eb16efab88c9a2df7d37eb19be2b288515586a107651L42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 39192047</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: e4b9873d7156a7cbb86e19f1f317dfba059a92ae</div><div id='time'> Time: 2020-04-15</div><div id='author'> Author: aaron@determined.ai</div><div id='file'> File Name: examples/official/mnist_tf_keras/model_def.py</div><div id='m_class'> M Class Name: MNISTTrial</div><div id='n_method'> N Class Name: MNISTTrial</div><div id='m_method'> M Method Name: build_validation_data_loader(1)</div><div id='n_method'> N Method Name: build_validation_data_loader(1)</div><div id='m_parent_class'> M Parent Class: TFKerasTrial</div><div id='n_parent_class'> N Parent Class: TFKerasTrial</div><div id='m_file'> M File Name: examples/official/mnist_tf_keras/model_def.py</div><div id='n_file'> N File Name: examples/official/mnist_tf_keras/model_def.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 45</div><BR>