<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    top_n = self.field_index.search(encoded_query,top_n)
    ids = top_n[1].tolist()[0]
    distances = top_n[0].tolist()[0]
    fnames = list(<a id="change">self.papers.keys()</a>)
    similar_papers_fnames= list(<a id="change">np.unique(fnames)[ids]</a>)
    reported_texts = [self.papers[fn][&quotreported&quot] for fn in similar_papers_fnames]
    if text:
      return &quot &quot.join(reported_texts)
    else:
      results = [(dist, report) for dist, report in zip(distances, reported_texts)]
      <a id="change">return </a>results</code></pre><h3>After Change</h3><pre><code class='java'>
    return (similar_papers_fnames,distances)

  def review(self,query, top_n=4,text=True):
    <a id="change">pass</a>

    &#47&#47 reported_texts = [self.papers[fn][&quotreported&quot] for fn in similar_papers_fnames]
    &#47&#47 if text:
    &#47&#47   return &quot &quot.join(reported_texts)</code></pre>