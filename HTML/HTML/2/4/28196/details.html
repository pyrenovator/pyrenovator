<html><h3>Pattern ID :28196
</h3><img src='83246098.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 Not all models have support for batchnorm params passed as args, only gen_efficientnet variants
    supports_bn_params = is_model_in_modules(model_name, [&quotgen_efficientnet&quot])
    if not supports_bn_params and any(<a id="change">[x in kwargs for x in [&quotbn_tf&quot, &quotbn_momentum&quot, &quotbn_eps&quot]]</a>):
        kwargs.pop(&quotbn_tf&quot, None)
        kwargs.pop(&quotbn_momentum&quot, None)
        kwargs.pop(&quotbn_eps&quot, None)</code></pre><h3>After Change</h3><pre><code class='java'>
        kwargs.pop(&quotbn_tf&quot, None)
        kwargs.pop(&quotbn_momentum&quot, None)
        kwargs.pop(&quotbn_eps&quot, None)
        <a id="change">kwargs.pop(&quotdrop_connect_rate&quot</a>, None<a id="change">)</a>

    if is_model(model_name):
        create_fn = model_entrypoint(model_name)
        model = create_fn(**margs, **kwargs)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/alvinwan/nbdt-pytorch-image-models/commit/7b83e67f77122d5c07ccafaa4c09719f947e00b2#diff-46c68386c82c1d1df4db65ebf47a64b7782db33c17382788d9cc54fdaafdc3d2L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83246098</div><div id='project'> Project Name: alvinwan/nbdt-pytorch-image-models</div><div id='commit'> Commit Name: 7b83e67f77122d5c07ccafaa4c09719f947e00b2</div><div id='time'> Time: 2019-11-22</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: timm/models/factory.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_model(5)</div><div id='n_method'> N Method Name: create_model(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: timm/models/factory.py</div><div id='n_file'> N File Name: timm/models/factory.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 30</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                inputs.append(encoding)
                expanded_documents.append(doc)

        metadata = <a id="change">[
            {
                "offset_mapping": inp.pop("offset_mapping"),
                "special_tokens_mask": inp.pop("special_tokens_mask"),
            }
            for inp in inputs
        ]</a>

        if self.single_sentence:
            i = 0
            for document in documents:</code></pre><h3>After Change</h3><pre><code class='java'>
            )

            metadata = {
                "offset_mapping": <a id="change">inputs.pop("offset_mapping"</a><a id="change">)</a>,
                "special_tokens_mask": inputs.pop("special_tokens_mask"),
            }
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/christophalt/pytorch-ie/commit/71e9abcacab7dfca0b9ff2e2052008eaf3a52ed0#diff-c62017095786d14acc04fe19ff24a45d406b12526c013b6ff49bd62dc8e0fb83L119' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83246096</div><div id='project'> Project Name: christophalt/pytorch-ie</div><div id='commit'> Commit Name: 71e9abcacab7dfca0b9ff2e2052008eaf3a52ed0</div><div id='time'> Time: 2022-04-29</div><div id='author'> Author: ChristophAlt@users.noreply.github.com</div><div id='file'> File Name: src/pytorch_ie/taskmodules/transformer_span_classification.py</div><div id='m_class'> M Class Name: TransformerSpanClassificationTaskModule</div><div id='n_method'> N Class Name: TransformerSpanClassificationTaskModule</div><div id='m_method'> M Method Name: encode_input(3)</div><div id='n_method'> N Method Name: encode_input(3)</div><div id='m_parent_class'> M Parent Class: _TransformerSpanClassificationTaskModule</div><div id='n_parent_class'> N Parent Class: _TransformerSpanClassificationTaskModule</div><div id='m_file'> M File Name: src/pytorch_ie/taskmodules/transformer_span_classification.py</div><div id='n_file'> N File Name: src/pytorch_ie/taskmodules/transformer_span_classification.py</div><div id='m_start'> M Start Line: 121</div><div id='m_end'> M End Line: 164</div><div id='n_start'> N Start Line: 121</div><div id='n_end'> N End Line: 163</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    for q, answers in query_answers:
        documents = search(q=q)

        answers = <a id="change">[answer[on] for answer in answers]</a>
        documents = [document[on] for document in documents]

        &#47&#47 Precision @ k
        for k, document in enumerate(documents):</code></pre><h3>After Change</h3><pre><code class='java'>

        for document in documents:
            if "similarity" in document:
                <a id="change">document.pop("similarity"</a><a id="change">)</a>

        &#47&#47 Precision @ k
        for k, document in enumerate(documents):
            if document in answers:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/raphaelsty/cherche/commit/2419dfee57d4eeb88a108efc21d13bb6e07c62ef#diff-a63ee33e6f9f9b38849814501e8a28bc6dd9e84ebc3967f60fe19750cb2f15bdL8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83246097</div><div id='project'> Project Name: raphaelsty/cherche</div><div id='commit'> Commit Name: 2419dfee57d4eeb88a108efc21d13bb6e07c62ef</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: raphael.sourty@gmail.com</div><div id='file'> File Name: cherche/eval/eval.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval(2)</div><div id='n_method'> N Method Name: eval(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cherche/eval/eval.py</div><div id='n_file'> N File Name: cherche/eval/eval.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 106</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 108</div><BR>