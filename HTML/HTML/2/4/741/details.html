<html><h3>Pattern ID :741
</h3><img src='3616388.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    

    <a id="change">raise </a><a id="change">NotImplementedError(</a>"Not Implemented."<a id="change">)</a>


def dice_coe(output, target, loss_type=&quotjaccard&quot, axis=(1, 2, 3), smooth=1e-5):
    Soft dice (SÃ¸rensen or Jaccard) coefficient for comparing the similarity</code></pre><h3>After Change</h3><pre><code class='java'>
    if reduction == &quotmean&quot:
        loss = torch.mean(torch.abs(output - target))
    elif reduction == &quotsum&quot:
        loss<a id="change"> = </a>torch.sum(<a id="change">torch.abs(</a>output - target<a id="change">)</a>)
    elif reduction == &quotnone&quot:
        loss = torch.abs(output - target)
    else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorlayer/tensorlayerx/commit/21bf2328ccadff5a24520c774d17bfd6d5e05fa4#diff-a924d995ca5406d9fd3889f29f7ffcc2009122d82a1d69f502de5e15a8eb478dL141' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3616388</div><div id='project'> Project Name: tensorlayer/tensorlayerx</div><div id='commit'> Commit Name: 21bf2328ccadff5a24520c774d17bfd6d5e05fa4</div><div id='time'> Time: 2022-01-26</div><div id='author'> Author: laicheng_vip@163.com</div><div id='file'> File Name: tensorlayerx/losses/torch_cost.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: absolute_difference_error(3)</div><div id='n_method'> N Method Name: absolute_difference_error(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tensorlayerx/losses/torch_cost.py</div><div id='n_file'> N File Name: tensorlayerx/losses/torch_cost.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 161</div><div id='n_start'> N Start Line: 146</div><div id='n_end'> N End Line: 154</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        
        if not matrix:
            return torch.pairwise_distance(x, y, p=1)
        <a id="change">raise </a><a id="change">NotImplementedError()</a>

    @staticmethod
    def cosine_distance(x: Tensor, y: Tensor = None, matrix=False) -&gt; Tensor:
        Compute cosine distance</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 expand dimensions to calculate element-wise diffrences with broadcasting
            &#47&#47 shape: (batch_size, batch_size, vector_dim)
            deltas = x.unsqueeze(1) - y.unsqueeze(0)
            abs_deltas<a id="change"> = </a><a id="change">torch.abs(</a>deltas<a id="change">)</a>

            &#47&#47 sum across the last dimension for reduction
            &#47&#47 shape: (batch_size, batch_size)
            distances = abs_deltas.sum(dim=-1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/qdrant/quaterion/commit/032343e6e07e8e226b303d334d52acdab37106d9#diff-ff514672dce24c7f348acf3fa1d3323117dd4d2b9781766101e7a32a7b5e4312L61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3616385</div><div id='project'> Project Name: qdrant/quaterion</div><div id='commit'> Commit Name: 032343e6e07e8e226b303d334d52acdab37106d9</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: yusufsarigoz@gmail.com</div><div id='file'> File Name: quaterion/loss/metrics.py</div><div id='m_class'> M Class Name: SiameseDistanceMetric</div><div id='n_method'> N Class Name: SiameseDistanceMetric</div><div id='m_method'> M Method Name: manhattan(3)</div><div id='n_method'> N Method Name: manhattan(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: quaterion/loss/metrics.py</div><div id='n_file'> N File Name: quaterion/loss/metrics.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 73</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 93</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    Returns:
        mask &lt;torch.Tensor&gt;: Tensor with shape of (n_sources, n_bins, n_frames) or (batch_size, n_sources, n_bins, n_frames)
    
    <a id="change">raise </a><a id="change">NotImplementedError(</a>"No implementation"<a id="change">)</a>

def multichannel_wiener_filter(mixture, estimated_sources_amplitude, iteration=1, channels_first=True, eps=EPS):
    
    Multichannel Wiener filter.</code></pre><h3>After Change</h3><pre><code class='java'>
    angle_mixture, angle_input = torch.angle(mixture), torch.angle(input)
    angle = angle_mixture - angle_input

    mask<a id="change"> = </a>(torch.abs(input) / (<a id="change">torch.abs(</a>mixture<a id="change">)</a> + eps)) * torch.cos(angle)
    
    return mask
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tky823/dnn-based_source_separation/commit/c3c7a93c8f9c9a8328fda81c1aa3981a2a84dabb#diff-2852f79aff0d699020a0005e0f3ee7a6a41448e640b9a8c483c534c297f71979L91' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 3616381</div><div id='project'> Project Name: tky823/dnn-based_source_separation</div><div id='commit'> Commit Name: c3c7a93c8f9c9a8328fda81c1aa3981a2a84dabb</div><div id='time'> Time: 2021-09-06</div><div id='author'> Author: 40362510+tky823@users.noreply.github.com</div><div id='file'> File Name: src/algorithm/frequency_mask.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: phase_sensitive_mask(2)</div><div id='n_method'> N Method Name: phase_sensitive_mask(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/algorithm/frequency_mask.py</div><div id='n_file'> N File Name: src/algorithm/frequency_mask.py</div><div id='m_start'> M Start Line: 98</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 118</div><div id='n_end'> N End Line: 132</div><BR>