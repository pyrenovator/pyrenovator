<html><h3>Pattern ID :3060
</h3><img src='11768275.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        return eigvals, eigvecs

    def _two_view_evp(self, views):
        R<a id="change"> = </a>[<a id="change">pca.transform(</a>view<a id="change">)</a> for pca, view in zip(self.principal_components, views)]
        C = np.cov(R[1], R[0],rowvar=False) @ np.cov(R[0], R[1],rowvar=False)
        return C, None
</code></pre><h3>After Change</h3><pre><code class='java'>
                @ self.R_12.T
                @ np.diag(1 / self.Bs[0])
                @ self.R_12
                @ np.diag(1 / np.sqrt(<a id="change">self.Bs[1]</a>))
        )
        return M, None
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jameschapman19/cca_zoo/commit/9fe305f936767095fc791f2161092d03a00c5893#diff-68fd6ebf197c2577dd507e1904a176ead6ff6e01bbbe2434e1c8210672ef5e1cL136' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11768275</div><div id='project'> Project Name: jameschapman19/cca_zoo</div><div id='commit'> Commit Name: 9fe305f936767095fc791f2161092d03a00c5893</div><div id='time'> Time: 2022-10-21</div><div id='author'> Author: james.chapman.19@ucl.ac.uk</div><div id='file'> File Name: cca_zoo/models/_rcca.py</div><div id='m_class'> M Class Name: rCCA</div><div id='n_method'> N Class Name: rCCA</div><div id='m_method'> M Method Name: _two_view_evp(2)</div><div id='n_method'> N Method Name: _two_view_evp(2)</div><div id='m_parent_class'> M Parent Class: _BaseCCA</div><div id='n_parent_class'> N Parent Class: _BaseCCA</div><div id='m_file'> M File Name: cca_zoo/models/_rcca.py</div><div id='n_file'> N File Name: cca_zoo/models/_rcca.py</div><div id='m_start'> M Start Line: 136</div><div id='m_end'> M End Line: 137</div><div id='n_start'> N Start Line: 140</div><div id='n_end'> N End Line: 147</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def inference_begin(self, data):
        data = self.preprocess(data, {})
        data = <a id="change">self.transform(</a>data, {}<a id="change">)</a>

        self.inference_input<a id="change"> = </a>data

    def inference_preprocess(self):
        return [self.inference_input]</code></pre><h3>After Change</h3><pre><code class='java'>

        self.inference_input = self.transform(
            tf.constant(data[&quotpoint&quot]), tf.constant(data[&quotfeat&quot]),
            tf.constant(data[&quotlabel&quot]), tf.constant([<a id="change">data[&quotpoint&quot].shape[0]</a>]))

    def inference_preprocess(self):
        return self.inference_input</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/isl-org/open3d-ml/commit/67123f7e9d5dbbe6a73c42ef648093a7d25ace4a#diff-784c6da05517c6d5abc8f5df95db2d69cf645c6a763521b242a0222320cfdf42L104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11768274</div><div id='project'> Project Name: isl-org/open3d-ml</div><div id='commit'> Commit Name: 67123f7e9d5dbbe6a73c42ef648093a7d25ace4a</div><div id='time'> Time: 2021-05-11</div><div id='author'> Author: sanskaragrawal107@gmail.com</div><div id='file'> File Name: ml3d/tf/models/sparseconvnet.py</div><div id='m_class'> M Class Name: SparseConvUnet</div><div id='n_method'> N Class Name: SparseConvUnet</div><div id='m_method'> M Method Name: inference_begin(2)</div><div id='n_method'> N Method Name: inference_begin(2)</div><div id='m_parent_class'> M Parent Class: BaseModel</div><div id='n_parent_class'> N Parent Class: BaseModel</div><div id='m_file'> M File Name: ml3d/tf/models/sparseconvnet.py</div><div id='n_file'> N File Name: ml3d/tf/models/sparseconvnet.py</div><div id='m_start'> M Start Line: 105</div><div id='m_end'> M End Line: 108</div><div id='n_start'> N Start Line: 187</div><div id='n_end'> N End Line: 191</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        mask = torch.Tensor([[x is not None for x in lb] for lb in label_batch])
        labels = [[0 if x is None else x for x in lb] for lb in label_batch]
        if scaler is not None:
            labels = <a id="change">scaler.transform(</a>labels<a id="change">)</a>  &#47&#47 subtract mean, divide by std
        labels<a id="change"> = </a>torch.Tensor(labels)

        if next(model.parameters()).is_cuda:
            mask, labels = mask.cuda(), labels.cuda()</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Log and/or add to tensorboard
        if (n_iter // args.batch_size) % args.log_frequency == 0 and (logger is not None or writer is not None):
            lr = <a id="change">scheduler.get_lr()[0]</a>
            pnorm = compute_pnorm(model)
            gnorm = compute_gnorm(model)
            loss_avg = loss_sum / iter_count
            loss_sum, iter_count = 0, 0</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aamini/chemprop/commit/64f98d60d13bc4bd7131ea4453b03163503cce0c#diff-1ae5c6142982c466b6120408cea60c9e765c62ef258032b838fb5274077b166dL18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11768278</div><div id='project'> Project Name: aamini/chemprop</div><div id='commit'> Commit Name: 64f98d60d13bc4bd7131ea4453b03163503cce0c</div><div id='time'> Time: 2018-10-02</div><div id='author'> Author: swansonk.14@gmail.com</div><div id='file'> File Name: train_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(9)</div><div id='n_method'> N Method Name: train(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train_utils.py</div><div id='n_file'> N File Name: train_utils.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 96</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        img, target = self.dataset.__getitem__(index)
        img = image_loader(img)
        if self.transform:
            img<a id="change"> = </a><a id="change">self.transform(</a>img<a id="change">)</a>
        return img, self.label_to_idx[self.pseudolabels[index]]

    def __len__(self):
        return len(self.imgs)</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            tuple: (image, pseudolabel) where pseudolabel is the cluster of index datapoint
        
        return <a id="change">self.dataset.__getitem__(index)[0]</a>, self.pseudolabels[index]

    def __len__(self):
        return len(self.pseudolabels)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/biasvariancelabs/aitlas/commit/474aa87694776c18b7de4adb34e471fe51679c9d#diff-6dd49bf8ef006b8427647314334ecb869c8ad22568ba10f03828733e0b60c07dL87' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11768276</div><div id='project'> Project Name: biasvariancelabs/aitlas</div><div id='commit'> Commit Name: 474aa87694776c18b7de4adb34e471fe51679c9d</div><div id='time'> Time: 2021-03-04</div><div id='author'> Author: ivan.kitanovski@gmail.com</div><div id='file'> File Name: aitlas/clustering/utils.py</div><div id='m_class'> M Class Name: ReassignedDataset</div><div id='n_method'> N Class Name: ReassignedDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: data.Dataset</div><div id='n_parent_class'> N Parent Class: data.Dataset</div><div id='m_file'> M File Name: aitlas/clustering/utils.py</div><div id='n_file'> N File Name: aitlas/clustering/utils.py</div><div id='m_start'> M Start Line: 94</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 89</div><BR>