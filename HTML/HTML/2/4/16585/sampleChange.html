<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
&#47&#47 training function
def train(netGaze, epoch):
    epoch_loss = list()
    pred_all = np.array(<a id="change">[]</a>, dtype=&quotint64&quot)
    target_all = np.array([], dtype=&quotint64&quot)
    netGaze.train()
    for b_idx, (data, targets) in enumerate(train_loader):</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 compute the accuracy
        pred = scores.data.max(1)[1]  &#47&#47 get the index of the max log-probability
        correct<a id="change"> += </a><a id="change">pred.eq(targets.data).cpu().sum()</a>

        epoch_loss.append(loss.item())
        loss.backward()
        optimizer.step()</code></pre>