<html><h3>Pattern ID :38986
</h3><img src='111117375.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 TODO: get calendar from MSN
        if self._calendar_list is None:
            logger.info("get all trading date")
            value_list<a id="change"> = </a><a id="change">requests.get(CSI300_BENCH_URL).json()</a>["data"]["klines"]
            self._calendar_list = sorted(map(lambda x: pd.Timestamp(x.split(",")[0]), value_list))
        <a id="change">return </a>self._calendar_list

    def _get_trading_date_by_shift(self, trading_date: pd.Timestamp, shift=1):
        get trading date by shift</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns
        -------
        
        <a id="change">return </a>get_calendar_list(bench=True)

    def _get_trading_date_by_shift(self, trading_date: pd.Timestamp, shift=1):
        get trading date by shift</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/de9e13b171f94cf737ee2e840fb0a142decb53d8#diff-ddf1c8c8bf2832bc7efde46fb34a598d84e1de6d3b2dfb3724e66719077fd791L54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111117375</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: de9e13b171f94cf737ee2e840fb0a142decb53d8</div><div id='time'> Time: 2020-09-23</div><div id='author'> Author: you-n-g@users.noreply.github.com</div><div id='file'> File Name: scripts/data_collector/csi/collector.py</div><div id='m_class'> M Class Name: CSI300</div><div id='n_method'> N Class Name: CSI300</div><div id='m_method'> M Method Name: calendar_list(1)</div><div id='n_method'> N Method Name: calendar_list(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/data_collector/csi/collector.py</div><div id='n_file'> N File Name: scripts/data_collector/csi/collector.py</div><div id='m_start'> M Start Line: 54</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 55</div><div id='n_end'> N End Line: 55</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return json.dumps(as_dict_minified)

    def as_minified_dict(self, drop_unmapped_ents: bool = False, drop_terms: bool = False) -&gt; Dict:
        as_dict = json.loads(<a id="change">self.json(</a>drop_unmapped_ents, drop_terms<a id="change">)</a>)
        as_dict_minified<a id="change"> = </a>remove_empty_elements(as_dict)
        <a id="change">return </a>as_dict_minified

    @classmethod
    def create_simple_document(cls, text: str) -&gt; "Document":</code></pre><h3>After Change</h3><pre><code class='java'>

    def as_minified_dict(self, drop_unmapped_ents: bool = False, drop_terms: bool = False) -&gt; Dict:
        as_dict = DocumentJsonUtils.doc_to_json_dict(self)
        <a id="change">return </a>DocumentJsonUtils.minify_json_dict(as_dict, drop_unmapped_ents=drop_unmapped_ents, drop_terms=drop_terms)

    @classmethod
    def create_simple_document(cls, text: str) -&gt; "Document":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/d07f679f9812ba06423c845b0512a8600ce60027#diff-376e3686fa686b1630ebab528e1972c85ebf8b2217cfc2d989e1d4cfe3c3a7ffL503' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111117374</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: d07f679f9812ba06423c845b0512a8600ce60027</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: rolando.fernandez@astrazeneca.net</div><div id='file'> File Name: kazu/data/data.py</div><div id='m_class'> M Class Name: Document</div><div id='n_method'> N Class Name: Document</div><div id='m_method'> M Method Name: as_minified_dict(3)</div><div id='n_method'> N Method Name: as_minified_dict(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/data/data.py</div><div id='n_file'> N File Name: kazu/data/data.py</div><div id='m_start'> M Start Line: 504</div><div id='m_end'> M End Line: 506</div><div id='n_start'> N Start Line: 435</div><div id='n_end'> N End Line: 436</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        an exception is raised.
        
        r = self._session.get("/api/v1/models?id={}".format(model_id))
        models<a id="change"> = </a><a id="change">r.json()</a>.get("models")
        assert len(models) == 1
        <a id="change">return </a>model.Model._from_json(models[0], self._session)

    def get_models(
        self,</code></pre><h3>After Change</h3><pre><code class='java'>
            "an integer-type model ID.",
            FutureWarning,
        )
        <a id="change">return </a>self.get_model(model_id)

    def get_models(
        self,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/4f93158bf6131bf288f35dbfde204244ce60b63c#diff-8b3443dc7a7a382228203fb71bddb54b763151e51e99c91aa4553e71c9b9e70cL167' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111117379</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 4f93158bf6131bf288f35dbfde204244ce60b63c</div><div id='time'> Time: 2022-03-28</div><div id='author'> Author: nick.doiron@hpe.com</div><div id='file'> File Name: harness/determined/common/experimental/determined.py</div><div id='m_class'> M Class Name: Determined</div><div id='n_method'> N Class Name: Determined</div><div id='m_method'> M Method Name: get_model_by_id(2)</div><div id='n_method'> N Method Name: get_model_by_id(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/determined/common/experimental/determined.py</div><div id='n_file'> N File Name: harness/determined/common/experimental/determined.py</div><div id='m_start'> M Start Line: 173</div><div id='m_end'> M End Line: 176</div><div id='n_start'> N Start Line: 185</div><div id='n_end'> N End Line: 192</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        status_code = response.status_code

        if status_code == 200:
            json_data<a id="change"> = </a><a id="change">response.json()</a>
            <a id="change">return </a>json_data
        else:
            try:
                json_data = response.json()</code></pre><h3>After Change</h3><pre><code class='java'>
        response = requests.post(
            url=self.url, json=self.body, headers=build_headers(self.session_token)
        )
        <a id="change">return </a>handle_response(response)


class GetRequest:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/code-kern-ai/kern-python/commit/624f693021e95fdbcc598753baa1aefbc7949b27#diff-0285a53bcd8b20e7708c9d976567a469a1309dc0c105699c1a7d3125ca6ba4c0L45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111117378</div><div id='project'> Project Name: code-kern-ai/kern-python</div><div id='commit'> Commit Name: 624f693021e95fdbcc598753baa1aefbc7949b27</div><div id='time'> Time: 2021-10-13</div><div id='author'> Author: johanneshotter@MacBook-Pro-von-Johannes.local</div><div id='file'> File Name: onetask/api_calls.py</div><div id='m_class'> M Class Name: PostRequest</div><div id='n_method'> N Class Name: PostRequest</div><div id='m_method'> M Method Name: execute(1)</div><div id='n_method'> N Method Name: execute(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: onetask/api_calls.py</div><div id='n_file'> N File Name: onetask/api_calls.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 79</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                "update your install command.")
            raise

        response<a id="change"> = </a><a id="change">r.json()</a>
        <a id="change">return </a>response

    def non_terminated_nodes(self, tag_filters):
        &#47&#47 Only get the non terminated nodes associated with this cluster name.</code></pre><h3>After Change</h3><pre><code class='java'>
        self.cloud_simulator_address = provider_config["cloud_simulator_address"]

    def _get_http_response(self, request):
        <a id="change">return </a>_get_http_response_from_simulator(self.cloud_simulator_address, request)

    def non_terminated_nodes(self, tag_filters):
        &#47&#47 Only get the non terminated nodes associated with this cluster name.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/oap-project/cloudtik/commit/b01ee541c658343d92f1e0ebc77f3b3e510d66e0#diff-f9cfebcc1b19a9cc61a719a3b838fcb08729de2286ef788dab134d41c69bea1cL27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111117377</div><div id='project'> Project Name: oap-project/cloudtik</div><div id='commit'> Commit Name: b01ee541c658343d92f1e0ebc77f3b3e510d66e0</div><div id='time'> Time: 2022-04-23</div><div id='author'> Author: haifeng.chen@intel.com</div><div id='file'> File Name: python/cloudtik/providers/_private/local/cloud_simulator_node_provider.py</div><div id='m_class'> M Class Name: CloudSimulatorNodeProvider</div><div id='n_method'> N Class Name: CloudSimulatorNodeProvider</div><div id='m_method'> M Method Name: _get_http_response(2)</div><div id='n_method'> N Method Name: _get_http_response(2)</div><div id='m_parent_class'> M Parent Class: NodeProvider</div><div id='n_parent_class'> N Parent Class: NodeProvider</div><div id='m_file'> M File Name: python/cloudtik/providers/_private/local/cloud_simulator_node_provider.py</div><div id='n_file'> N File Name: python/cloudtik/providers/_private/local/cloud_simulator_node_provider.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 61</div><BR>