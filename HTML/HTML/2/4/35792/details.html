<html><h3>Pattern ID :35792
</h3><img src='101811369.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Prepare kernel
        self.kernel: torch.Tensor = self.kernel.to(device).to(dtype).detach()
        self.kernel: torch.Tensor = self.kernel.unsqueeze(1).unsqueeze(1)
        self.kernel<a id="change">: torch.Tensor = </a><a id="change">self.kernel.flip(-3</a><a id="change">)</a>
        return

    def __repr__(self) -&gt; str:
        return self.__class__.__name__ + &quot(&quot\</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 self.kernel: torch.Tensor = self.kernel.to(device).to(dtype).detach()
        &#47&#47 self.kernel: torch.Tensor = self.kernel.unsqueeze(1).unsqueeze(1)
        &#47&#47 self.kernel: torch.Tensor = self.kernel.flip(-3)
        <a id="change">return</a>
    
    def prepare_kernel(self, device, dtype):
        kernel = self.kernel.to(device).to(dtype).detach()
        kernel = kernel.unsqueeze(1).unsqueeze(1)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dsgoficial/pytorch_segmentation_models_trainer/commit/63bc9f7b7f1ca74f1c2ccb9d02fd4e6f01123a8f#diff-26df14ef835ac6e256fa5f116db7dacfee9973047890104888528fbdecad2c1eL198' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 101811369</div><div id='project'> Project Name: dsgoficial/pytorch_segmentation_models_trainer</div><div id='commit'> Commit Name: 63bc9f7b7f1ca74f1c2ccb9d02fd4e6f01123a8f</div><div id='time'> Time: 2021-06-21</div><div id='author'> Author: philipeborba@gmail.com</div><div id='file'> File Name: pytorch_segmentation_models_trainer/utils/tensor_utils.py</div><div id='m_class'> M Class Name: SpatialGradient</div><div id='n_method'> N Class Name: SpatialGradient</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: pytorch_segmentation_models_trainer/utils/tensor_utils.py</div><div id='n_file'> N File Name: pytorch_segmentation_models_trainer/utils/tensor_utils.py</div><div id='m_start'> M Start Line: 198</div><div id='m_end'> M End Line: 210</div><div id='n_start'> N Start Line: 198</div><div id='n_end'> N End Line: 211</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                for idx in range(os.shape[1]):
                    &#47&#47 NOTE: scipy.signal.lfilter accespts b, a in order,
                    &#47&#47 but torchaudio expect the oppsite; a, b in order
                    ai<a id="change"> = </a><a id="change">a[idx].view(-1).flip(0</a><a id="change">)</a>
                    bi = torch.zeros_like(ai)
                    bi[0] = 1
                    out_stream_syn[:, idx, :] = lfilter(os[:, idx, :], ai, bi, clamp=False)
                out_syn += [out_stream_syn]</code></pre><h3>After Change</h3><pre><code class='java'>

    def inference(self, x, lengths=None):
        out = self.model(x.transpose(1, 2)).transpose(1, 2)
        <a id="change">return </a>_shallow_ar_inference(out, self.stream_sizes, self.analysis_filts)


class FeedForwardNet(BaseModel):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/r9y9/nnsvs/commit/72d7fe505198e52960ab55d05f1179fe8d55e3a8#diff-aefb6929ae385d2bcb25b4501314b187ebaa34d7d0284a89596377ba7781fcefL79' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 101811371</div><div id='project'> Project Name: r9y9/nnsvs</div><div id='commit'> Commit Name: 72d7fe505198e52960ab55d05f1179fe8d55e3a8</div><div id='time'> Time: 2020-11-02</div><div id='author'> Author: zryuichi@gmail.com</div><div id='file'> File Name: nnsvs/model.py</div><div id='m_class'> M Class Name: Conv1dResnetSAR</div><div id='n_method'> N Class Name: Conv1dResnetSAR</div><div id='m_method'> M Method Name: inference(3)</div><div id='n_method'> N Method Name: inference(3)</div><div id='m_parent_class'> M Parent Class: Conv1dResnet</div><div id='n_parent_class'> N Parent Class: Conv1dResnet</div><div id='m_file'> M File Name: nnsvs/model.py</div><div id='n_file'> N File Name: nnsvs/model.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 102</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if self.bidirectional:
            h_f, h_b = h.chunk(2, dim=1)
            h_b = <a id="change">h_b.flip(0</a><a id="change">)</a>
            h<a id="change"> = </a>torch.cat([h_f, h_b], dim=2)

        return h
</code></pre><h3>After Change</h3><pre><code class='java'>
            x = ligru_lay(x)

        x = x.transpose(0,1)
        <a id="change">return </a>x, 0


class liGRU_layer(torch.jit.ScriptModule):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/c4bf280dd72034847589ca5466253e879386e735#diff-a7c3190f943cb09b3b7e0b688790f61f6e5e838546dec54468346ae1c2be7e08L1323' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 101811375</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: c4bf280dd72034847589ca5466253e879386e735</div><div id='time'> Time: 2020-05-01</div><div id='author'> Author: mirco.ravabelli@gmail.com</div><div id='file'> File Name: speechbrain/nnet/architectures.py</div><div id='m_class'> M Class Name: liGRU</div><div id='n_method'> N Class Name: liGRU</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: torch.jit.ScriptModule</div><div id='n_parent_class'> N Parent Class: torch.jit.ScriptModule</div><div id='m_file'> M File Name: speechbrain/nnet/architectures.py</div><div id='n_file'> N File Name: speechbrain/nnet/architectures.py</div><div id='m_start'> M Start Line: 1326</div><div id='m_end'> M End Line: 1346</div><div id='n_start'> N Start Line: 1286</div><div id='n_end'> N End Line: 1291</div><BR>