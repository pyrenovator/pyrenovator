<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        nn = conv2d_no_bias(nn, num_features, 1, strides=1, name="features_")
        nn = batchnorm_with_activation(nn, activation=activation, name="features_")

    <a id="change">if num_classes &gt; 0</a>:
        nn = keras.layers.GlobalAveragePooling2D(name="avg_pool")(nn)
        if drop_rate &gt; 0:
            nn = <a id="change">keras.layers.Dropout(</a>drop_rate<a id="change">, name="head_drop")</a>(nn)
        nn = keras.layers.Dense(num_classes, dtype="float32", activation=classifier_activation, name="predictions")(nn)

    model = keras.models.Model(inputs, nn, name=model_name)</code></pre><h3>After Change</h3><pre><code class='java'>
            "attn_types": attn_types[id] if isinstance(attn_types, (list, tuple)) else attn_types,
            "attn_params": attn_params[id] if isinstance(attn_params, (list, tuple)) else attn_params,
            "se_ratio": se_ratio[id] if isinstance(se_ratio, (list, tuple)) else se_ratio,
            "use_eca": use_eca[id] if isinstance(use_eca, (list<a id="change">, tuple</a>)) else use_eca,
            "groups": groups[id] if isinstance(groups, (list, tuple)) else groups,
        }
        cur_expansion = expansion[id] if isinstance(expansion, (list, tuple)) else expansion</code></pre>