<html><h3>Pattern ID :29237
</h3><img src='85974667.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            total_loss = []

            for iteration, data in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
            total_loss = []

            for iteration, data in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(actions</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 11</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/45c20545524e2561c1fcf1486c5fe9c288ce4f22#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L57' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974667</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 45c20545524e2561c1fcf1486c5fe9c288ce4f22</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(</a>actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/f18c72fb9a02e0c6b4e3864117f61c31c728eeb8#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974666</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: f18c72fb9a02e0c6b4e3864117f61c31c728eeb8</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(</a>actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/120dd5711486b5dc941f187070d76ed92f7924f6#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974665</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 120dd5711486b5dc941f187070d76ed92f7924f6</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(</a>actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/b8429f6dd87dbd6a168fc06cec8ff08f60d231d8#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974664</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: b8429f6dd87dbd6a168fc06cec8ff08f60d231d8</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(</a>actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/138149a90c2a406e8333b8bc6dbae1970b447898#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974663</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 138149a90c2a406e8333b8bc6dbae1970b447898</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(</a>actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/d76771df7b20a9953f435bb5145865e260690d46#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974662</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: d76771df7b20a9953f435bb5145865e260690d46</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                actor_ids = <a id="change">debatch_actor_ids(data[-1]</a><a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                actions = <a id="change">convert_to_torch(data[1]</a><a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=data[0], actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations<a id="change">, actions, actor_ids</a> = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids = <a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                <a id="change">convert_to_torch(</a>actions<a id="change">, device=policy.device, cast=None, in_place=True)</a>

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observations=observations, actions=actions,
                                             events=self.eval_events, actor_ids=actor_ids).item())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/b8a370df33a6e9d2ce7e9ae682d510696e0cc67b#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85974661</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: b8a370df33a6e9d2ce7e9ae682d510696e0cc67b</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 62</div><BR>