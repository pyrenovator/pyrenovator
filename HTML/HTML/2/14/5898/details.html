<html><h3>Pattern ID :5898
</h3><img src='20795197.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            total_loss = []

            for iteration, data in enumerate(self.data_loader, 0):
                observations, actions, actor_ids = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids<a id="change"> = </a><a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                convert_to_torch(actions, device=policy.device, cast=None, in_place=True)
</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict, action_dict = <a id="change">data[:2]</a>
                convert_to_torch(action_dict, device=policy.device, cast=None, in_place=True)

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/c29839f14d1f1b2da97c0fb85dbaad20b7f7e435#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795197</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: c29839f14d1f1b2da97c0fb85dbaad20b7f7e435</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations, actions, actor_ids = <a id="change">data[0], data[1], data[-1]</a>
                actor_ids<a id="change"> = </a><a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                convert_to_torch(actions, device=policy.device, cast=None, in_place=True)
</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict, action_dict = <a id="change">data[:2]</a>
                convert_to_torch(action_dict, device=policy.device, cast=None, in_place=True)

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/00c9f42179f3a30775a1de05729c7acdf85f5449#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795181</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 00c9f42179f3a30775a1de05729c7acdf85f5449</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations, actions, actor_ids = <a id="change">data[0], data[1], data[-1]</a>
                actor_ids<a id="change"> = </a><a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                convert_to_torch(actions, device=policy.device, cast=None, in_place=True)
</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict, action_dict = <a id="change">data[:2]</a>
                convert_to_torch(action_dict, device=policy.device, cast=None, in_place=True)

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/39e5c561cdb5c6e52c435d18831daaa0b901b0b6#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795261</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 39e5c561cdb5c6e52c435d18831daaa0b901b0b6</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations, actions, actor_ids = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids<a id="change"> = </a><a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                convert_to_torch(actions, device=policy.device, cast=None, in_place=True)
</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict, action_dict = <a id="change">data[:2]</a>
                convert_to_torch(action_dict, device=policy.device, cast=None, in_place=True)

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/c29839f14d1f1b2da97c0fb85dbaad20b7f7e435#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795196</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: c29839f14d1f1b2da97c0fb85dbaad20b7f7e435</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations, actions, actor_ids = <a id="change">data[0], data[1], data[-1]</a>
                actor_ids<a id="change"> = </a><a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                convert_to_torch(actions, device=policy.device, cast=None, in_place=True)
</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict, action_dict = <a id="change">data[:2]</a>
                convert_to_torch(action_dict, device=policy.device, cast=None, in_place=True)

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/2ebc028ca49702404f06e6d6875800d5b05b26c9#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795257</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: 2ebc028ca49702404f06e6d6875800d5b05b26c9</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observations, actions, actor_ids = <a id="change">data[0]</a><a id="change">, data[1], data[-1]</a>
                actor_ids<a id="change"> = </a><a id="change">debatch_actor_ids(</a>actor_ids<a id="change">)</a>
                &#47&#47 Convert only actions to torch, since observations are converted in
                &#47&#47   policy.compute_substep_policy_output method
                convert_to_torch(actions, device=policy.device, cast=None, in_place=True)
</code></pre><h3>After Change</h3><pre><code class='java'>
        with torch.no_grad():
            total_loss = []

            for iteration, <a id="change">data</a> in enumerate(self.data_loader, 0):
                observation_dict, action_dict = <a id="change">data[:2]</a>
                convert_to_torch(action_dict, device=policy.device, cast=None, in_place=True)

                total_loss.append(
                    self.loss.calculate_loss(policy=policy, observation_dict=observation_dict, action_dict=action_dict,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/enlite-ai/maze/commit/dcea82711937efcec43bf117f592488fae18f096#diff-510ab12c6128218576a5229ce831c33204c3c7721b9aa33f78701452fb6935e1L48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795192</div><div id='project'> Project Name: enlite-ai/maze</div><div id='commit'> Commit Name: dcea82711937efcec43bf117f592488fae18f096</div><div id='time'> Time: 2021-12-13</div><div id='author'> Author: office@enlite.ai</div><div id='file'> File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_class'> M Class Name: BCValidationEvaluator</div><div id='n_method'> N Class Name: BCValidationEvaluator</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='n_file'> N File Name: maze/train/trainers/imitation/bc_validation_evaluator.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 53</div><BR>