<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            input = data
            is_per = None
        else:
            input = <a id="change">self.inputKeyMap(data</a><a id="change">)</a>
            is_per = input.attrs[&quotinput&quot][0]
            input = input[&quotinput&quot]
        embedded = (
            self.basis(input) * self.cutoff(input)[:, None]
        ).view(input.shape[0], -1)
        
        if isinstance(data, torch.Tensor):
            return embedded
        else:
            <a id="change">data.attrs.update(
                self</a><a id="change">.outputKeyMap(
                    {</a>"radial_embedding": (is_per, self.irreps_out["radial_embedding"])<a id="change">}</a><a id="change">
                )
            )</a>
            <a id="change">data.update(self</a><a id="change">.outputKeyMap(</a>{"radial_embedding": embedded}<a id="change">))</a>
            <a id="change">return data</a>
          
          
@compile_mode("script")
class Broadcast(Module):</code></pre><h3>After Change</h3><pre><code class='java'>
            self.basis(input) * self.cutoff(input)[:, None]
        ).view(input.shape[0], -1)
        
        attrs<a id="change"> = </a><a id="change">{</a>"radial_embedding": (is_per, self.irreps_out["radial_embedding"])<a id="change">}</a>
        data<a id="change"> = </a>{"radial_embedding": embedded}
        <a id="change">return </a>data<a id="change">, attrs</a>
          
          
@compile_mode("script")
class Broadcast(Module):</code></pre>