<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        mol = self.files[ifile][name]

        &#47&#47 Get molecular data
        <a id="change">return </a><a id="change">Data(
            q=pt.tensor(mol.attrs["charge"], dtype=pt.long),
            s=pt.tensor(mol.attrs["spin"], dtype=pt.long),
            z=pt.tensor(mol["atomic_numbers"], dtype=pt.long),
            pos=pt.tensor(mol["positions"][iconf], dtype=pt.float32),
            y=pt.tensor(mol["energy"][iconf], dtype=pt.float32),
            dy=pt.tensor(mol["forces"][iconf], dtype=pt.float32),
            d=pt.tensor(mol["dipole_moment"][iconf], dtype=pt.float32),
        )</a>

    def len(self):
        return len(self.mol_indices)
</code></pre><h3>After Change</h3><pre><code class='java'>

    def get(self, idx):

        atoms = slice(self.idx_mm[idx], <a id="change">self.idx_mm[idx + 1]</a>)
        z = pt.tensor(self.z_mm[atoms], dtype=pt.long)
        pos = pt.tensor(self.pos_mm[atoms], dtype=pt.float32)
        y = pt.tensor(self.y_mm[idx], dtype=pt.float32).view(</code></pre>