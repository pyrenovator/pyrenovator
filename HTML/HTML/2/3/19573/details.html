<html><h3>Pattern ID :19573
</h3><img src='63941230.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                np.full((internal_features.shape[0], 1), np.nan)
            )

            <a id="change">if </a>np.any(<a id="change">np.isnan(</a>internal_features<a id="change">)</a>):
                raise ValueError(f"NaN found in internal features. {NAN_ERROR_MESSAGE}")

        internal_attributes = transform(</code></pre><h3>After Change</h3><pre><code class='java'>

        continuous_features_ind = [
            ind
            for ind, val in <a id="change">enumerate(</a>self.feature_outputs<a id="change">)</a>
            if "ContinuousOutput" in str(val.__class__)
        ]

        valid_examples = validation_check(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/gretelai/gretel-synthetics/commit/a1acefc589df62b93afc0051d53d755b6a0a3997#diff-9728e4048dbb5458e1e874742fccf009eeab8ca1b80d1627f0f1d27af60ac3d0L243' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63941230</div><div id='project'> Project Name: gretelai/gretel-synthetics</div><div id='commit'> Commit Name: a1acefc589df62b93afc0051d53d755b6a0a3997</div><div id='time'> Time: 2022-12-02</div><div id='author'> Author: 100327880+Marjan-emd@users.noreply.github.com</div><div id='file'> File Name: src/gretel_synthetics/timeseries_dgan/dgan.py</div><div id='m_class'> M Class Name: DGAN</div><div id='n_method'> N Class Name: DGAN</div><div id='m_method'> M Method Name: train_numpy(5)</div><div id='n_method'> N Method Name: train_numpy(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/gretel_synthetics/timeseries_dgan/dgan.py</div><div id='n_file'> N File Name: src/gretel_synthetics/timeseries_dgan/dgan.py</div><div id='m_start'> M Start Line: 249</div><div id='m_end'> M End Line: 268</div><div id='n_start'> N Start Line: 243</div><div id='n_end'> N End Line: 262</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        if not torch.isnan(pitch_loss):
                            train_loss = train_loss + pitch_loss
                    for energy_loss in energy_losses:
                        <a id="change">if </a>not <a id="change">torch.isnan(</a>energy_loss<a id="change">)</a>:
                            train_loss = train_loss + energy_loss

                else:</code></pre><h3>After Change</h3><pre><code class='java'>
        glow_losses_total = list()

        if step_counter &gt; 1000:
            for gan_step, batch in tqdm(<a id="change">enumerate(</a>train_loader<a id="change">)</a>):
                style_embedding = style_embedding_function(batch_of_spectrograms=batch[2].to(device),
                                                           batch_of_spectrogram_lengths=batch[3].to(device))
                for _ in range(5):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/02f21cbeb2b32337a50e146a3ae74b323baeaf35#diff-558f242c6346687e14b6867d8bf52c1487e81ba3710f925457ba3a3aef85dbb0L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63941227</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: 02f21cbeb2b32337a50e146a3ae74b323baeaf35</div><div id='time'> Time: 2023-03-02</div><div id='author'> Author: lux.florian@gmail.com</div><div id='file'> File Name: TrainingInterfaces/Text_to_Spectrogram/ToucanTTS/toucantts_train_loop.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_loop(15)</div><div id='n_method'> N Method Name: train_loop(15)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingInterfaces/Text_to_Spectrogram/ToucanTTS/toucantts_train_loop.py</div><div id='n_file'> N File Name: TrainingInterfaces/Text_to_Spectrogram/ToucanTTS/toucantts_train_loop.py</div><div id='m_start'> M Start Line: 120</div><div id='m_end'> M End Line: 288</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 272</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        found = []
        for name, val in kwargs.items():
            has_nan = np.any(<a id="change">np.isnan(</a>val<a id="change">)</a>)
            has_inf = self.check_inf and np.any(np.isinf(val))
            if has_inf:
                found.append((name, "inf"))
            <a id="change">if </a>has_nan:
                found.append((name, "nan"))

        if found:</code></pre><h3>After Change</h3><pre><code class='java'>
                for inner_name, inner_val in value.items():
                    found += self.check_array_value(f"{name}.{inner_name}", inner_val)
            elif isinstance(value, tuple):
                for idx, inner_val in <a id="change">enumerate(</a>value<a id="change">)</a>:
                    found += self.check_array_value(f"{name}.{idx}", inner_val)
            else:
                raise TypeError(f"Unsupported observation type {type(value)}.")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dlr-rm/stable-baselines3/commit/ed8783cb738136d89feb55e5fe373528513231c8#diff-792cdb913bc2129c7199a2d0087ec9345b6c3be6a390f91d76c41919c1549bb5L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63941237</div><div id='project'> Project Name: dlr-rm/stable-baselines3</div><div id='commit'> Commit Name: ed8783cb738136d89feb55e5fe373528513231c8</div><div id='time'> Time: 2023-02-27</div><div id='author'> Author: antonin.raffin@ensta.org</div><div id='file'> File Name: stable_baselines3/common/vec_env/vec_check_nan.py</div><div id='m_class'> M Class Name: VecCheckNan</div><div id='n_method'> N Class Name: VecCheckNan</div><div id='m_method'> M Method Name: _check_val(2)</div><div id='n_method'> N Method Name: _check_val(2)</div><div id='m_parent_class'> M Parent Class: VecEnvWrapper</div><div id='n_parent_class'> N Parent Class: VecEnvWrapper</div><div id='m_file'> M File Name: stable_baselines3/common/vec_env/vec_check_nan.py</div><div id='n_file'> N File Name: stable_baselines3/common/vec_env/vec_check_nan.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 86</div><BR>