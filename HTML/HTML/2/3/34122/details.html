<html><h3>Pattern ID :34122
</h3><img src='97518320.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ]
    )
    with ContainerPod(args) as pod:
        <a id="change">pass</a>
    pod.join()
    assert pod.worker.exitcode == 0

</code></pre><h3>After Change</h3><pre><code class='java'>
        ]
    )
    with ContainerPod(args) as pod:
        <a id="change">time.sleep(
            2</a><a id="change">
        )</a>  &#47&#47 to avoid desync between the start and close process which could lead to container never get terminated
    pod.join()
    assert pod.worker.exitcode == 0
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/5398029280fe3f4aedd8a8b7058f97fbec353d03#diff-7fd06d7ff37d0b1bf9f5ebc9584613d3fa2f27bfb5a18747f448d8988def2d88L168' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518320</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: 5398029280fe3f4aedd8a8b7058f97fbec353d03</div><div id='time'> Time: 2022-03-11</div><div id='author'> Author: 55492238+samsja@users.noreply.github.com</div><div id='file'> File Name: tests/unit/orchestrate/pods/container/test_container_pod.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_pass_arbitrary_kwargs(2)</div><div id='n_method'> N Method Name: test_pass_arbitrary_kwargs(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/unit/orchestrate/pods/container/test_container_pod.py</div><div id='n_file'> N File Name: tests/unit/orchestrate/pods/container/test_container_pod.py</div><div id='m_start'> M Start Line: 168</div><div id='m_end'> M End Line: 168</div><div id='n_start'> N Start Line: 170</div><div id='n_end'> N End Line: 172</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.client_mqtt_lock.release()

    def wait_client_mqtt_connected(self):
        <a id="change">pass</a>
        &#47&#47 while True:
        &#47&#47     self.client_mqtt_lock.acquire()
        &#47&#47     if self.client_mqtt_is_connected is True:
        &#47&#47         self.client_mqtt_lock.release()</code></pre><h3>After Change</h3><pre><code class='java'>
                self.client_mqtt_lock.release()
                break
            self.client_mqtt_lock.release()
            <a id="change">time.sleep(1</a><a id="change">)</a>

    def callback_start_train(self, topic, payload):
        &#47&#47 get training params
        request_json = json.loads(payload)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/0126d8a7b8c53985dcdf472190992c283ec5fe14#diff-e80d580c8c52b12fe048ba58db4ca171ad8dccec37aa7c8fad24e42431a5e803L558' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518321</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 0126d8a7b8c53985dcdf472190992c283ec5fe14</div><div id='time'> Time: 2022-12-15</div><div id='author'> Author: alexliang.kh@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_class'> M Class Name: FedMLClientRunner</div><div id='n_method'> N Class Name: FedMLClientRunner</div><div id='m_method'> M Method Name: wait_client_mqtt_connected(1)</div><div id='n_method'> N Method Name: wait_client_mqtt_connected(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_start'> M Start Line: 559</div><div id='m_end'> M End Line: 559</div><div id='n_start'> N Start Line: 550</div><div id='n_end'> N End Line: 558</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        time.sleep(0.3)

    while True:
        <a id="change">pass</a>


if __name__ == "__main__":
    main()</code></pre><h3>After Change</h3><pre><code class='java'>
            bin_id, posObj=[0.5, 0.5, 0.1], ornObj=[0, 0, 0, 1]
        )

    <a id="change">time.sleep(1</a><a id="change">)</a>

    bin_aabb_min, bin_aabb_max = mercury.pybullet.get_aabb(bin_id)
    bin_aabb_min += 0.01
    bin_aabb_max -= 0.01</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wkentaro/reorientbot/commit/1a11c14cdd6581a34e985e4d875032525109e855#diff-7d79c5e602b59cab12da6ef8ab87c072015cd55c9925b391ace2499125d743f6L59' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518322</div><div id='project'> Project Name: wkentaro/reorientbot</div><div id='commit'> Commit Name: 1a11c14cdd6581a34e985e4d875032525109e855</div><div id='time'> Time: 2021-03-16</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/goal/bin_packing_no_act.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/goal/bin_packing_no_act.py</div><div id='n_file'> N File Name: examples/goal/bin_packing_no_act.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 70</div><div id='n_end'> N End Line: 123</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def preprocessing_work():
    &#47&#47 abstract preprocessing work
    <a id="change">pass</a>

if __name__ == &quot__main__&quot:

    data_config = DataConfig(</code></pre><h3>After Change</h3><pre><code class='java'>

def preprocessing_work():
    &#47&#47 abstract preprocessing work
    <a id="change">time.sleep(1</a><a id="change">)</a>

if __name__ == &quot__main__&quot:

    data_config = DataConfig(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/graykode/matorage/commit/e6b6d7d85d3eca90db8b255c249a2d8fcad99830#diff-4ec56f304ffebd62e725896199ee2ee2c65add7c8941abb685bd65b192a23a12L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518323</div><div id='project'> Project Name: graykode/matorage</div><div id='commit'> Commit Name: e6b6d7d85d3eca90db8b255c249a2d8fcad99830</div><div id='time'> Time: 2020-07-19</div><div id='author'> Author: nlkey2022@gmail.com</div><div id='file'> File Name: examples/single_random_datasaver.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: preprocessing_work(0)</div><div id='n_method'> N Method Name: preprocessing_work(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/single_random_datasaver.py</div><div id='n_file'> N File Name: examples/single_random_datasaver.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 23</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.client_mqtt_lock.release()

    def wait_client_mqtt_connected(self):
        <a id="change">pass</a>
        &#47&#47 while True:
        &#47&#47     self.client_mqtt_lock.acquire()
        &#47&#47     if self.client_mqtt_is_connected is True:
        &#47&#47         self.client_mqtt_lock.release()</code></pre><h3>After Change</h3><pre><code class='java'>
                self.client_mqtt_lock.release()
                break
            self.client_mqtt_lock.release()
            <a id="change">time.sleep(1</a><a id="change">)</a>

    def callback_start_train(self, topic, payload):
        &#47&#47 get training params
        request_json = json.loads(payload)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/3e51f148979002ace4c45ad1797f45ae8fe81aa3#diff-e80d580c8c52b12fe048ba58db4ca171ad8dccec37aa7c8fad24e42431a5e803L558' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518324</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: 3e51f148979002ace4c45ad1797f45ae8fe81aa3</div><div id='time'> Time: 2022-12-15</div><div id='author'> Author: alex.gpt.llm@gmail.com</div><div id='file'> File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_class'> M Class Name: FedMLClientRunner</div><div id='n_method'> N Class Name: FedMLClientRunner</div><div id='m_method'> M Method Name: wait_client_mqtt_connected(1)</div><div id='n_method'> N Method Name: wait_client_mqtt_connected(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='n_file'> N File Name: python/fedml/cli/edge_deployment/client_runner.py</div><div id='m_start'> M Start Line: 559</div><div id='m_end'> M End Line: 559</div><div id='n_start'> N Start Line: 550</div><div id='n_end'> N End Line: 558</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    arg = set_pea_parser().parse_args([&quot--runtime-backend&quot, &quotthread&quot])
    with Pea1(arg):
        <a id="change">pass</a>

    teardown_spy.assert_called()
    run_spy.assert_called()
    cancel_spy.assert_called_once()</code></pre><h3>After Change</h3><pre><code class='java'>

    arg = set_pea_parser().parse_args([&quot--runtime-backend&quot, &quotthread&quot])
    with Pea1(arg):
        <a id="change">time.sleep(0.1</a><a id="change">)</a>
        pass

    teardown_spy.assert_called()
    run_spy.assert_called()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/dc5ab2b96b69d53b480b54fcd5ee00adc9560df2#diff-e43f77f3cca2e50e7da88136c2f93f499d33646843b51f1cbf8aca4d88f268daL85' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518325</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: dc5ab2b96b69d53b480b54fcd5ee00adc9560df2</div><div id='time'> Time: 2021-07-02</div><div id='author'> Author: joan.martinez@jina.ai</div><div id='file'> File Name: tests/unit/peapods/peas/test_pea.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_base_pea_with_runtime_bad_cancel(1)</div><div id='n_method'> N Method Name: test_base_pea_with_runtime_bad_cancel(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/unit/peapods/peas/test_pea.py</div><div id='n_file'> N File Name: tests/unit/peapods/peas/test_pea.py</div><div id='m_start'> M Start Line: 100</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 127</div><div id='n_end'> N End Line: 137</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def preprocessing_work():
    &#47&#47 abstract preprocessing work
    <a id="change">pass</a>

def saver(row, data):
    data_saver = DataSaver(config=data_config)
    for _ in tqdm(range(row)):</code></pre><h3>After Change</h3><pre><code class='java'>

def preprocessing_work():
    &#47&#47 abstract preprocessing work
    <a id="change">time.sleep(1</a><a id="change">)</a>

def saver(row, data):
    data_saver = DataSaver(config=data_config)
    for _ in tqdm(range(row)):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/graykode/matorage/commit/e6b6d7d85d3eca90db8b255c249a2d8fcad99830#diff-f61ba8ebc9b59ba68645341372af35879ef1b4c2de6dffab7c33fbcd9c710ebfL22' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97518319</div><div id='project'> Project Name: graykode/matorage</div><div id='commit'> Commit Name: e6b6d7d85d3eca90db8b255c249a2d8fcad99830</div><div id='time'> Time: 2020-07-19</div><div id='author'> Author: nlkey2022@gmail.com</div><div id='file'> File Name: examples/multiple_random_datasaver.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: preprocessing_work(0)</div><div id='n_method'> N Method Name: preprocessing_work(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/multiple_random_datasaver.py</div><div id='n_file'> N File Name: examples/multiple_random_datasaver.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 24</div><BR>