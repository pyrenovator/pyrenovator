<html><h3>Pattern ID :16197
</h3><img src='54120665.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        folders = [os.path.join(folder, "tiles") for folder in folders]
        for folder in folders:
            vvs = sorted(glob.glob(os.path.join(folder, "vv", "*.png")))
            vhs = sorted(<a id="change">glob.glob(</a>os.path.join(folder, "vh", "*.png")<a id="change">)</a>)
            water_masks = sorted(
                glob.glob(os.path.join(folder, "water_body_label", "*.png"))
            )</code></pre><h3>After Change</h3><pre><code class='java'>
            ]

            if split != "test":
                flood_masks = <a id="change">[
                    vv.replace("_vv.png", ".png").replace("vv", "flood_label")
                    for vv in vvs
                ]</a>

                for vv, vh, flood_mask, water_mask in zip(
                    vvs, vhs, flood_masks, water_masks
                ):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/torchgeo/commit/07a50692c659de8faa4897b424a7b6e973081f92#diff-db87ac4ce3532fa489c03c75137df33aab049bd37d0508d1992c469212a92d69L172' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54120665</div><div id='project'> Project Name: microsoft/torchgeo</div><div id='commit'> Commit Name: 07a50692c659de8faa4897b424a7b6e973081f92</div><div id='time'> Time: 2022-10-20</div><div id='author'> Author: claiki.k@gmail.com</div><div id='file'> File Name: torchgeo/datasets/etci2021.py</div><div id='m_class'> M Class Name: ETCI2021</div><div id='n_method'> N Class Name: ETCI2021</div><div id='m_method'> M Method Name: _load_files(3)</div><div id='n_method'> N Method Name: _load_files(3)</div><div id='m_parent_class'> M Parent Class: NonGeoDataset</div><div id='n_parent_class'> N Parent Class: NonGeoDataset</div><div id='m_file'> M File Name: torchgeo/datasets/etci2021.py</div><div id='n_file'> N File Name: torchgeo/datasets/etci2021.py</div><div id='m_start'> M Start Line: 172</div><div id='m_end'> M End Line: 182</div><div id='n_start'> N Start Line: 173</div><div id='n_end'> N End Line: 184</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )
        train_files = sorted(glob.glob(os.path.join(qa_dir, _TRAIN_FILE_FORMAT)))
        valid_files = sorted(glob.glob(os.path.join(qa_dir, _VALIDATION_FILE_FORMAT)))
        test_files = sorted(<a id="change">glob.glob(</a>os.path.join(qa_dir, _TEST_FILE_FORMAT)<a id="change">)</a>)

        if cfg.exclude_context:
            web_evidence_dir = None</code></pre><h3>After Change</h3><pre><code class='java'>
            web_evidence_dir = os.path.join(file_paths["rc"], _WEB_EVIDENCE_DIR)
            wiki_evidence_dir = os.path.join(file_paths["rc"], _WIKI_EVIDENCE_DIR)

        return <a id="change">[
            datasets.SplitGenerator(
                name=name,
                gen_kwargs={
                    "files": _qa_files(file_paths, cfg.sources, name, cfg.unfiltered),
                    "web_dir": web_evidence_dir,
                    "wiki_dir": wiki_evidence_dir,
                },
            )
            for name in [datasets.Split.TRAIN, datasets.Split.VALIDATION, datasets.Split.TEST]
        ]</a>

    def _generate_examples(self, files, web_dir, wiki_dir):
        This function returns the examples.
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/f9ee6d469581e0ea4dc5a1c56b7ccb46b6176ce6#diff-b5afb54f1a95748ad0effb231c6bed37c1ae28f087a6d7c915dfed03ac067ec1L164' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54120667</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: f9ee6d469581e0ea4dc5a1c56b7ccb46b6176ce6</div><div id='time'> Time: 2021-10-01</div><div id='author'> Author: 1706443+shirte@users.noreply.github.com</div><div id='file'> File Name: datasets/trivia_qa/trivia_qa.py</div><div id='m_class'> M Class Name: TriviaQa</div><div id='n_method'> N Class Name: TriviaQa</div><div id='m_method'> M Method Name: _split_generators(2)</div><div id='n_method'> N Method Name: _split_generators(2)</div><div id='m_parent_class'> M Parent Class: datasets.GeneratorBasedBuilder</div><div id='n_parent_class'> N Parent Class: datasets.GeneratorBasedBuilder</div><div id='m_file'> M File Name: datasets/trivia_qa/trivia_qa.py</div><div id='n_file'> N File Name: datasets/trivia_qa/trivia_qa.py</div><div id='m_start'> M Start Line: 166</div><div id='m_end'> M End Line: 203</div><div id='n_start'> N Start Line: 216</div><div id='n_end'> N End Line: 225</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.img_paths = []
        self.mask_paths = []

        for img_path in <a id="change">data_dir.glob(</a>&quotimages/*.bmp&quot<a id="change">)</a>:
            mask_path = data_dir / f&quotmasks/{img_path.stem}.png&quot
            self.img_paths.append(img_path)
            self.mask_paths.append(mask_path)</code></pre><h3>After Change</h3><pre><code class='java'>
class SomicDataset(Dataset):
    def __init__(self, base: Path, augs: albu.Compose) -&gt; None:

        self.img_paths = <a id="change">[str(p) for p in base.glob("images/*.bmp")]</a>
        self.augs = augs

    def __getitem__(self, idx: int):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/taikiinoue/stad/commit/263b80dac382e9786dc7af6f29152ea79b2336cc#diff-314d66f3e69d697ae9719c579ca1e07b262b09dd186a54d20abbf488f68f7b75L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54120666</div><div id='project'> Project Name: taikiinoue/stad</div><div id='commit'> Commit Name: 263b80dac382e9786dc7af6f29152ea79b2336cc</div><div id='time'> Time: 2020-08-01</div><div id='author'> Author: taikiinoue45@gmail.com</div><div id='file'> File Name: stad/datasets/somic.py</div><div id='m_class'> M Class Name: SomicDataset</div><div id='n_method'> N Class Name: SomicDataset</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: stad/datasets/somic.py</div><div id='n_file'> N File Name: stad/datasets/somic.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 23</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 11</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if is_relative_path(pattern):
        glob_iter = list(Path(base_path).rglob(pattern))
    else:
        glob_iter = [Path(filepath) for filepath in <a id="change">glob.glob(</a>pattern<a id="change">)</a>]

    matched_paths = [
        filepath.resolve()</code></pre><h3>After Change</h3><pre><code class='java'>
    pattern = os.path.join(base_path, pattern)
    data_files_ignore = FILES_TO_IGNORE
    fs = LocalFileSystem()
    glob_iter = <a id="change">[PurePath(filepath) for filepath in fs.glob(pattern) if fs.isfile(filepath)]</a>
    matched_paths = [
        Path(filepath).resolve()
        for filepath in glob_iter
        if filepath.name not in data_files_ignore and not filepath.name.startswith(".")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/1406a04c3e911cec2680d8bc513653e0cafcaaa4#diff-91caec97636b809598fec1569ab59f5d020440565f4152a80ac339493afae50eL106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54120669</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 1406a04c3e911cec2680d8bc513653e0cafcaaa4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: boris.dayma@gmail.com</div><div id='file'> File Name: src/datasets/data_files.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _resolve_single_pattern_locally(3)</div><div id='n_method'> N Method Name: _resolve_single_pattern_locally(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/datasets/data_files.py</div><div id='n_file'> N File Name: src/datasets/data_files.py</div><div id='m_start'> M Start Line: 115</div><div id='m_end'> M End Line: 123</div><div id='n_start'> N Start Line: 120</div><div id='n_end'> N End Line: 126</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        checkpoint path (str): last checkpoint path in `ckpt_save_dir`
    

    ckpt_list = <a id="change">glob.glob(</a>os.path.join(ckpt_save_dir, name_pattern)<a id="change">)</a>
    ckpt_list.sort()
    return ckpt_list[-1]

</code></pre><h3>After Change</h3><pre><code class='java'>
        checkpoint path (str): last checkpoint path in `ckpt_save_dir`
    

    ckpt_list = <a id="change">[f for f in os.listdir(ckpt_save_dir) if re.search(name_pattern, f) is not None]</a>
    ckpt_list.sort()
    return os.path.join(ckpt_save_dir, ckpt_list[-1])

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cnstark/easytorch/commit/b4791aa90870d5a76f77c7f03105d97e15a29450#diff-5685802271fb6b2eca567bba0b5ed172c84398d83d952b4f2b3dabd4f82b0b34L45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54120663</div><div id='project'> Project Name: cnstark/easytorch</div><div id='commit'> Commit Name: b4791aa90870d5a76f77c7f03105d97e15a29450</div><div id='time'> Time: 2022-05-13</div><div id='author'> Author: 45590791+cnstark@users.noreply.github.com</div><div id='file'> File Name: easytorch/core/checkpoint.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_last_ckpt_path(2)</div><div id='n_method'> N Method Name: get_last_ckpt_path(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: easytorch/core/checkpoint.py</div><div id='n_file'> N File Name: easytorch/core/checkpoint.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.img_paths = []
        self.mask_paths = []

        for img_path in <a id="change">data_dir.glob(</a>&quotimages/*.png&quot<a id="change">)</a>:
            mask_path = data_dir / f&quotmasks/{img_path.stem}_mask.png&quot
            self.img_paths.append(img_path)
            self.mask_paths.append(mask_path)</code></pre><h3>After Change</h3><pre><code class='java'>
class MVTecDataset(Dataset):
    def __init__(self, base: Path, augs: albu.Compose) -&gt; None:

        self.img_paths = <a id="change">[str(p) for p in base.glob("images/*.png")]</a>
        self.augs = augs

    def __getitem__(self, idx: int):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/taikiinoue/stad/commit/263b80dac382e9786dc7af6f29152ea79b2336cc#diff-ffc6155a9a882c9099b18afe9b52253beb9916bf13c7c37dfdcc6b6c1db0f823L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 54120662</div><div id='project'> Project Name: taikiinoue/stad</div><div id='commit'> Commit Name: 263b80dac382e9786dc7af6f29152ea79b2336cc</div><div id='time'> Time: 2020-08-01</div><div id='author'> Author: taikiinoue45@gmail.com</div><div id='file'> File Name: stad/datasets/mvtec.py</div><div id='m_class'> M Class Name: MVTecDataset</div><div id='n_method'> N Class Name: MVTecDataset</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: stad/datasets/mvtec.py</div><div id='n_file'> N File Name: stad/datasets/mvtec.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 12</div><BR>