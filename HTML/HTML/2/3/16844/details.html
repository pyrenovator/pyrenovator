<html><h3>Pattern ID :16844
</h3><img src='56326059.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    
    def init_detokenizer(self):
        <a id="change">super()</a>.init_detokenizer()
        if torch.cuda.is_available(): 
            self.detokenizer = self.detokenizer.cuda()
            </code></pre><h3>After Change</h3><pre><code class='java'>


    def init_detokenizer(self):
        <a id="change">print("initializing VQGanDetokenizer"</a><a id="change">)</a>
        self.detokenizer = VQGanDetokenizer()
        params = torch.load(self.detoker_params_path)
        self.detokenizer.load_state_dict(params)
        del params</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/kuprel/min-dalle/commit/e4c2be54cba5958c43630a32a32b4fb75dfcdd79#diff-2097a3af63296c96464c411ba9e0d08e68b60588fb74d007cccb6b31d259c8efL81' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 56326059</div><div id='project'> Project Name: kuprel/min-dalle</div><div id='commit'> Commit Name: e4c2be54cba5958c43630a32a32b4fb75dfcdd79</div><div id='time'> Time: 2022-07-01</div><div id='author'> Author: brkuprel@gmail.com</div><div id='file'> File Name: min_dalle/min_dalle_torch.py</div><div id='m_class'> M Class Name: MinDalleTorch</div><div id='n_method'> N Class Name: MinDalleTorch</div><div id='m_method'> M Method Name: init_detokenizer(1)</div><div id='n_method'> N Method Name: init_detokenizer(1)</div><div id='m_parent_class'> M Parent Class: MinDalleBase</div><div id='n_parent_class'> N Parent Class: MinDalleBase</div><div id='m_file'> M File Name: min_dalle/min_dalle_torch.py</div><div id='n_file'> N File Name: min_dalle/min_dalle_torch.py</div><div id='m_start'> M Start Line: 84</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 81</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

class TFModel:
    def __init__(self, cfg=&quotyolov5s.yaml&quot, ch=3, nc=None, model=None, imgsz=(640, 640)):  &#47&#47 model, channels, classes
        <a id="change">super(</a>TFModel, self<a id="change">)</a>.__init__()
        if isinstance(cfg, dict):
            self.yaml = cfg  &#47&#47 model dict
        else:  &#47&#47 is *.yaml</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Define model
        if nc and nc != self.yaml[&quotnc&quot]:
            <a id="change">print(f"Overriding {cfg} nc={self.yaml[&quotnc&quot]} with nc={nc}"</a><a id="change">)</a>
            self.yaml[&quotnc&quot] = nc  &#47&#47 override yaml value
        self.model, self.savelist = parse_model(deepcopy(self.yaml), ch=[ch], model=model, imgsz=imgsz)

    def predict(self, inputs, tf_nms=False, agnostic_nms=False, topk_per_class=100, topk_all=100, iou_thres=0.45,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ultralytics/yolov5/commit/ed887b5976d94dc61fa3f7e8e07170623dc7d6ee#diff-8e25d6265fbd96f107ef99cdbbdef2848f4e700aecf9c2e7767d82838c9b2e52L327' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 56326058</div><div id='project'> Project Name: ultralytics/yolov5</div><div id='commit'> Commit Name: ed887b5976d94dc61fa3f7e8e07170623dc7d6ee</div><div id='time'> Time: 2021-10-28</div><div id='author'> Author: Borda@users.noreply.github.com</div><div id='file'> File Name: models/tf.py</div><div id='m_class'> M Class Name: TFModel</div><div id='n_method'> N Class Name: TFModel</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: models/tf.py</div><div id='n_file'> N File Name: models/tf.py</div><div id='m_start'> M Start Line: 328</div><div id='m_end'> M End Line: 339</div><div id='n_start'> N Start Line: 328</div><div id='n_end'> N End Line: 339</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    

    def __init__(self, n_e, e_dim, beta):
        <a id="change">super(</a>VectorQuantizer, self<a id="change">)</a>.__init__()
        self.n_e = n_e
        self.e_dim = e_dim
        self.beta = beta</code></pre><h3>After Change</h3><pre><code class='java'>
            if self.unknown_index == "extra":
                self.unknown_index = self.re_embed
                self.re_embed = self.re_embed+1
            <a id="change">print(f"Remapping {self.n_e} indices to {self.re_embed} indices. "
                  f"Using {self.unknown_index} for unknown indices."</a><a id="change">)</a>
        else:
            self.re_embed = n_e

        self.sane_index_shape = sane_index_shape</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/d921f1da0c5eb11dac01cd1facad821547c250d4#diff-39f10457411109520640e39f475d0ec07093eef15589754653fc525d4e028d99L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 56326060</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: d921f1da0c5eb11dac01cd1facad821547c250d4</div><div id='time'> Time: 2021-07-07</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: taming/modules/vqvae/quantize.py</div><div id='m_class'> M Class Name: VectorQuantizer</div><div id='n_method'> N Class Name: VectorQuantizer</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: taming/modules/vqvae/quantize.py</div><div id='n_file'> N File Name: taming/modules/vqvae/quantize.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 18</div><div id='n_start'> N Start Line: 216</div><div id='n_end'> N End Line: 240</div><BR>