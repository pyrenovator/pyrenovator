<html><h3>Pattern ID :19142
</h3><img src='62251685.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                newtext.append(noises[mode](word))
            else:
                newtext.append(word)
        robustness_tests.append(<a id="change">&quot &quot.join(</a>newtext<a id="change">)</a>)
    return robustness_tests

</code></pre><h3>After Change</h3><pre><code class='java'>
    if omit:
        noises.append(omission)
    robustness_tests = []
    for i in <a id="change">tqdm(</a>range(len(tests))<a id="change">)</a>:
        newtext = []
        text = normalizeText(tests[i])
        for word in text:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pliang279/multibench/commit/f9d1eacc6b4a62c2f33bb59388c33bec450c271f#diff-f95470a89dc83679b0be29905a31ad78c931729a074dfc86b787eaebc2172838L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62251685</div><div id='project'> Project Name: pliang279/multibench</div><div id='commit'> Commit Name: f9d1eacc6b4a62c2f33bb59388c33bec450c271f</div><div id='time'> Time: 2021-06-05</div><div id='author'> Author: ztwu_nil@zju.edu.cn</div><div id='file'> File Name: robustness/text_robust.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: text_robustness(7)</div><div id='n_method'> N Method Name: text_robustness(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: robustness/text_robust.py</div><div id='n_file'> N File Name: robustness/text_robust.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 30</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                else:
                    break
            &#47&#47 打印模型翻译输出的中文句子结果
            print("translation: %s" % <a id="change">" ".join(</a>translation<a id="change">)</a>)

</code></pre><h3>After Change</h3><pre><code class='java'>
    res = []
    with torch.no_grad():
        &#47&#47 在data的英文数据长度上遍历下标
        for batch in <a id="change">tqdm(</a>data<a id="change">)</a>:
            &#47&#47 待翻译的英文句子
            en_sent = batch.src_text
            &#47&#47 对应的中文句子</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hemingkx/chinesenmt/commit/9adf53cb6d9b875c9d173643a8d266d49d6f90eb#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62251684</div><div id='project'> Project Name: hemingkx/chinesenmt</div><div id='commit'> Commit Name: 9adf53cb6d9b875c9d173643a8d266d49d6f90eb</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: hemingkx@gmail.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for line in tqdm(f, total=count_file_lines(srcfile)):
            ex = json.loads(line)
            code = encoder._encode(ex[&quotfunc&quot])
            dataset[ex[&quotidx&quot]] = <a id="change">" ".join(</a>code<a id="change">)</a>
            fn_lengths.append(len(code))

    print(&quotMax/Avg. function length  - {} / {}&quot.format(max(fn_lengths), 1.0 * sum(fn_lengths) / len(fn_lengths)))
    with open(tgtfile, &quotw&quot, encoding=&quotutf8&quot) as fw:</code></pre><h3>After Change</h3><pre><code class='java'>
    pool = Pool(workers, initializer=encoder.initializer)

    processed_dataset = {}
    with <a id="change">tqdm(total=len(dataset), desc=&quotProcessing&quot)</a> as pbar:
        for i, ex in enumerate(pool.imap(encoder.encode, dataset, 100)):
            pbar.update()
            processed_dataset[ex[&quotidx&quot]] = ex[&quotcode&quot]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wasiahmad/plbart/commit/40d61db8a56a9874dcf52dfb88ed9776a978f094#diff-3d2770977225695da79fe2fd3b33365cbaa41e4d6727c2a273b7b96e724e3481L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62251687</div><div id='project'> Project Name: wasiahmad/plbart</div><div id='commit'> Commit Name: 40d61db8a56a9874dcf52dfb88ed9776a978f094</div><div id='time'> Time: 2021-06-09</div><div id='author'> Author: wasiahmad@ucla.edu</div><div id='file'> File Name: scripts/code_to_code/clone_detection/encode.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: preprocess(4)</div><div id='n_method'> N Method Name: preprocess(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/code_to_code/clone_detection/encode.py</div><div id='n_file'> N File Name: scripts/code_to_code/clone_detection/encode.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                newtext.append(noises[mode](word))
            else:
                newtext.append(word)
        robustness_tests.append(<a id="change">&quot &quot.join(</a>newtext<a id="change">)</a>)
    return robustness_tests

</code></pre><h3>After Change</h3><pre><code class='java'>
    if omit:
        noises.append(omission)
    robustness_tests = []
    for i in <a id="change">tqdm(</a>range(len(tests))<a id="change">)</a>:
        newtext = []
        text = normalizeText(tests[i])
        for word in text:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pliang279/multibench/commit/03e9f8e64fd4ac40fa7bc4bafbc0bfa3295c70d1#diff-f95470a89dc83679b0be29905a31ad78c931729a074dfc86b787eaebc2172838L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 62251682</div><div id='project'> Project Name: pliang279/multibench</div><div id='commit'> Commit Name: 03e9f8e64fd4ac40fa7bc4bafbc0bfa3295c70d1</div><div id='time'> Time: 2021-06-05</div><div id='author'> Author: ztwu_nil@zju.edu.cn</div><div id='file'> File Name: robustness/text_robust.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: text_robustness(7)</div><div id='n_method'> N Method Name: text_robustness(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: robustness/text_robust.py</div><div id='n_file'> N File Name: robustness/text_robust.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 30</div><BR>