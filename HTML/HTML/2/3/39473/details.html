<html><h3>Pattern ID :39473
</h3><img src='112099336.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    return f1

def accuracy(prediction, ground_truth):
    prediction = <a id="change">prediction[:len(ground_truth)]</a>
    return prediction.lower() == ground_truth.lower()

def get_rouge_over_list(prediction, groundtruth):
    def remove_punc(text):</code></pre><h3>After Change</h3><pre><code class='java'>
    if isinstance(prediction, str) and isinstance(ground_truth, str):
        return prediction.lower() == ground_truth.lower()
    else:
        <a id="change">return </a>prediction == ground_truth

def get_rouge_over_list(prediction, groundtruth):
    def remove_punc(text):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thunlp/openprompt/commit/bf5aae2638b7dc312a62420a666908f12e441d9a#diff-73c3056e1143d12b24236f1b943da2af02af33235970dca2f2947836b32b2245L247' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112099336</div><div id='project'> Project Name: thunlp/openprompt</div><div id='commit'> Commit Name: bf5aae2638b7dc312a62420a666908f12e441d9a</div><div id='time'> Time: 2022-03-25</div><div id='author'> Author: shengdinghu@gmail.com</div><div id='file'> File Name: openprompt/utils/crossfit_metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: accuracy(2)</div><div id='n_method'> N Method Name: accuracy(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: openprompt/utils/crossfit_metrics.py</div><div id='n_file'> N File Name: openprompt/utils/crossfit_metrics.py</div><div id='m_start'> M Start Line: 247</div><div id='m_end'> M End Line: 248</div><div id='n_start'> N Start Line: 247</div><div id='n_end'> N End Line: 251</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        input_percentages[x] = seq_length / float(max_seq_len)
        target_sizes[x] = len(target)
        targets[x][:len(target)] = torch.IntTensor(target)
        <a id="change">target_transcripts[x][:len(target_transcript)]</a> = torch.IntTensor(target_transcript)
        langs[x] = lang_id
        lang_names.append(lang_name)
</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 print("&gt;", targets[0], langs, lang_names)
    &#47&#47 print(target_transcripts)
    <a id="change">return </a>inputs, targets, input_percentages, input_sizes, target_sizes


class AudioDataLoader(DataLoader):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/audioku/cross-accent-maml-asr/commit/decaa8936d18a5dee37b379bf18dc0edd48f3e30#diff-f878399500f86ea3dd0a3e52e22ce69dbaac44dab45a8d11ad9abe2361d564bdL314' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112099337</div><div id='project'> Project Name: audioku/cross-accent-maml-asr</div><div id='commit'> Commit Name: decaa8936d18a5dee37b379bf18dc0edd48f3e30</div><div id='time'> Time: 2019-11-02</div><div id='author'> Author: gentaindrawinata@gmail.com</div><div id='file'> File Name: utils/data_loader.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _collate_fn(1)</div><div id='n_method'> N Method Name: _collate_fn(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/data_loader.py</div><div id='n_file'> N File Name: utils/data_loader.py</div><div id='m_start'> M Start Line: 325</div><div id='m_end'> M End Line: 362</div><div id='n_start'> N Start Line: 327</div><div id='n_end'> N End Line: 347</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                if first_stage:
                    first_stage = False
                    self.memory_context.end_batch(b_ix)
        return tuple(<a id="change">x[:len(batch_indices)]</a> for x in args)

    def __next__(self):
        result = self.output_queue.get()</code></pre><h3>After Change</h3><pre><code class='java'>
                pass

            result = tuple(args[f&quotresult_{x}&quot] for x in outputs)
            <a id="change">return </a>result

    def __next__(self):
        result = self.output_queue.get()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/libffcv/ffcv/commit/f8baf227d1243d4207c082d8ea11b89b5a73da32#diff-d1c1d17dd7f942f4223cf450209bcd6a3979e50b67e9c881848b09da0845f7ffL110' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112099335</div><div id='project'> Project Name: libffcv/ffcv</div><div id='commit'> Commit Name: f8baf227d1243d4207c082d8ea11b89b5a73da32</div><div id='time'> Time: 2022-02-08</div><div id='author'> Author: leclerc@mit.edu</div><div id='file'> File Name: ffcv/loader/epoch_iterator.py</div><div id='m_class'> M Class Name: EpochIterator</div><div id='n_method'> N Class Name: EpochIterator</div><div id='m_method'> M Method Name: run_pipeline(5)</div><div id='n_method'> N Method Name: run_pipeline(5)</div><div id='m_parent_class'> M Parent Class: Thread</div><div id='n_parent_class'> N Parent Class: Thread</div><div id='m_file'> M File Name: ffcv/loader/epoch_iterator.py</div><div id='n_file'> N File Name: ffcv/loader/epoch_iterator.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 142</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 140</div><BR>