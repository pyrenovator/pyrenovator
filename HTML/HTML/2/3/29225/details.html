<html><h3>Pattern ID :29225
</h3><img src='85967527.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        hbf.bias_fold(cls_set_info, bn_dict)

        hbf_session = _build_session(model_onnx)
        output_after_hbf_onnx = <a id="change">hbf_session.run(</a>None, {&quotinput&quot: test_data}<a id="change">)</a>
        &#47&#47 TODO: Check if this is the right criteria to check. Currently, this test is ineffective since hbf does not
        &#47&#47 end up changing anything in the model.
        assert np.allclose(output_after_cls_onnx, output_after_hbf_onnx, rtol=1e-2)
</code></pre><h3>After Change</h3><pre><code class='java'>

        replace_relu6_with_relu(model_onnx)

        convs = <a id="change">[]</a>
        for conv_bn in conv_bn_pairs:
            bn_dict[conv_bn[0].name] = conv_bn[1]
            <a id="change">convs.append(</a>conv_bn[0]<a id="change">)</a>

        for bn_conv in bn_conv_pairs:
            bn_dict[bn_conv[1].name] = bn_conv[0]
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/quic/aimet/commit/61866de3a03623428ab99f4e901037bd76990afc#diff-e4f45301af3ca455a0c0247bab1f110651005f2bafd3c043b22658a18a9ce10eL188' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85967527</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 61866de3a03623428ab99f4e901037bd76990afc</div><div id='time'> Time: 2023-05-30</div><div id='author'> Author: 63610745+quic-mangal@users.noreply.github.com</div><div id='file'> File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='m_class'> M Class Name: TestHighBiasFold</div><div id='n_method'> N Class Name: TestHighBiasFold</div><div id='m_method'> M Method Name: test_find_high_bias_fold(1)</div><div id='n_method'> N Method Name: test_find_high_bias_fold(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='n_file'> N File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='m_start'> M Start Line: 190</div><div id='m_end'> M End Line: 215</div><div id='n_start'> N Start Line: 188</div><div id='n_end'> N End Line: 215</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    from os import path
    currentdir = path.dirname(__file__)
    updir = path.join(currentdir, &quot..&quot)
    <a id="change">nose.run(</a>&quotmahotas&quot<a id="change">, argv=[&quot&quot, &quot--exe&quot, &quot-w&quot, updir])</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
    from os import path
    currentdir = path.dirname(__file__)
    updir = path.join(currentdir, &quot..&quot)
    argv = <a id="change">[</a>&quot&quot, &quot--exe&quot, &quot-w&quot, updir<a id="change"></a>]
    if verbose:
        <a id="change">argv.append(</a>&quot--verbose&quot<a id="change">)</a>
    nose.run(&quotmahotas&quot, argv=argv)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/luispedro/mahotas/commit/2cd478e3fffe6efc9522908d8a13c05bb04e820e#diff-f7ce57bb997fac4e7147d1b2cfa1798023642e3be45242825c2239d8ef71fe0cL1' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85967526</div><div id='project'> Project Name: luispedro/mahotas</div><div id='commit'> Commit Name: 2cd478e3fffe6efc9522908d8a13c05bb04e820e</div><div id='time'> Time: 2013-01-09</div><div id='author'> Author: luis@luispedro.org</div><div id='file'> File Name: mahotas/tests/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mahotas/tests/__init__.py</div><div id='n_file'> N File Name: mahotas/tests/__init__.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 6</div><div id='n_start'> N Start Line: 1</div><div id='n_end'> N End Line: 9</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    argv = [&quot&quot, &quot--exe&quot, &quot-w&quot, updir]
    if verbose:
        argv.append(&quot--verbose&quot)
    return <a id="change">nose.run(</a>&quotmahotas&quot<a id="change">, argv=argv)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>def run(verbose=False):
    from os import path
    import pytest
    args = <a id="change">[</a>path.dirname(__file__)<a id="change"></a>]
    if verbose:
        <a id="change">args.append(</a>&quot--verbose&quot<a id="change">)</a>
    return pytest.main(args)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/luispedro/mahotas/commit/ddf53df83a042681ebf553a819766c5c654d0ab1#diff-f7ce57bb997fac4e7147d1b2cfa1798023642e3be45242825c2239d8ef71fe0cL1' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85967525</div><div id='project'> Project Name: luispedro/mahotas</div><div id='commit'> Commit Name: ddf53df83a042681ebf553a819766c5c654d0ab1</div><div id='time'> Time: 2020-08-13</div><div id='author'> Author: luis@luispedro.org</div><div id='file'> File Name: mahotas/tests/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mahotas/tests/__init__.py</div><div id='n_file'> N File Name: mahotas/tests/__init__.py</div><div id='m_start'> M Start Line: 1</div><div id='m_end'> M End Line: 9</div><div id='n_start'> N Start Line: 1</div><div id='n_end'> N End Line: 7</div><BR>