<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        hbf.bias_fold(cls_set_info, bn_dict)

        hbf_session = _build_session(model_onnx)
        output_after_hbf_onnx = <a id="change">hbf_session.run(</a>None, {&quotinput&quot: test_data}<a id="change">)</a>
        &#47&#47 TODO: Check if this is the right criteria to check. Currently, this test is ineffective since hbf does not
        &#47&#47 end up changing anything in the model.
        assert np.allclose(output_after_cls_onnx, output_after_hbf_onnx, rtol=1e-2)
</code></pre><h3>After Change</h3><pre><code class='java'>

        replace_relu6_with_relu(model_onnx)

        convs = <a id="change">[]</a>
        for conv_bn in conv_bn_pairs:
            bn_dict[conv_bn[0].name] = conv_bn[1]
            <a id="change">convs.append(</a>conv_bn[0]<a id="change">)</a>

        for bn_conv in bn_conv_pairs:
            bn_dict[bn_conv[1].name] = bn_conv[0]
</code></pre>