<html><h3>Pattern ID :14922
</h3><img src='49794622.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    self.save_or_show(save=save, fname=f&quotinput_{prefix}_{st}_{en}&quot, where=&quotdata&quot)
                else:
                    self.plot_df_with_freq(sub_df, freq, save, prefix=f&quot{prefix}_{st}_{en}&quot, **kwargs)
        <a id="change">return</a>

    def plot_df_with_freq(self, df:pd.DataFrame, freq:str, save:bool=True, prefix:str=&quot&quot, **kwargs):
        Plots a dataframe which has data as time-series and its index is pd.DatetimeIndex
</code></pre><h3>After Change</h3><pre><code class='java'>
            cols = list(df.columns)
        df = df[cols]

        df<a id="change"> = </a><a id="change">consider_st_en(</a>df, st, en<a id="change">)</a>

        if df.shape[1] &lt;= max_subplots:

            if freq is None:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/67318e5cf0131b2e0c3cd12ebd2a128bed581370#diff-56a24a6c5f7aa49357985d569c01ffbd2b792111c6c7078907e3249e8c573455L354' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49794622</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 67318e5cf0131b2e0c3cd12ebd2a128bed581370</div><div id='time'> Time: 2021-09-14</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/eda/_eda.py</div><div id='m_class'> M Class Name: EDA</div><div id='n_method'> N Class Name: EDA</div><div id='m_method'> M Method Name: plot_df(12)</div><div id='n_method'> N Method Name: plot_df(10)</div><div id='m_parent_class'> M Parent Class: Plot</div><div id='n_parent_class'> N Parent Class: Plot</div><div id='m_file'> M File Name: ai4water/eda/_eda.py</div><div id='n_file'> N File Name: ai4water/eda/_eda.py</div><div id='m_start'> M Start Line: 394</div><div id='m_end'> M End Line: 394</div><div id='n_start'> N Start Line: 354</div><div id='n_end'> N End Line: 422</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                st, en = tot_plots[i], tot_plots[i + 1]
                sub_df = data.iloc[:, st:en]
                self._grouped_scatter_plot(sub_df, name=f&quotgrouped_scatter_{prefix}_{st}_{en}&quot, **kwargs)
        <a id="change">return</a>

    def _grouped_scatter_plot(self, df, save=True, name=&quotgrouped_scatter&quot, **kwargs):
        plt.close(&quotall&quot)
        sns.set()</code></pre><h3>After Change</h3><pre><code class='java'>
        
        data = data.copy()

        data<a id="change"> = </a><a id="change">consider_st_en(</a>data, st, en<a id="change">)</a>

        if data.shape[1] &lt;= max_subplots:
            self._grouped_scatter_plot(data, save=save,name=f&quotgrouped_scatter_{prefix}&quot,  **kwargs)
        else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/67318e5cf0131b2e0c3cd12ebd2a128bed581370#diff-56a24a6c5f7aa49357985d569c01ffbd2b792111c6c7078907e3249e8c573455L617' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49794621</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 67318e5cf0131b2e0c3cd12ebd2a128bed581370</div><div id='time'> Time: 2021-09-14</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/eda/_eda.py</div><div id='m_class'> M Class Name: EDA</div><div id='n_method'> N Class Name: EDA</div><div id='m_method'> M Method Name: grouped_scatter_plot_df(7)</div><div id='n_method'> N Method Name: grouped_scatter_plot_df(5)</div><div id='m_parent_class'> M Parent Class: Plot</div><div id='n_parent_class'> N Parent Class: Plot</div><div id='m_file'> M File Name: ai4water/eda/_eda.py</div><div id='n_file'> N File Name: ai4water/eda/_eda.py</div><div id='m_start'> M Start Line: 630</div><div id='m_end'> M End Line: 630</div><div id='n_start'> N Start Line: 675</div><div id='n_end'> N End Line: 692</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    fontsize="11",
                )
            self.save_or_show(save=save, fname=fname+&quot_missing_vals&quot, where=&quotdata&quot, dpi=500)
        <a id="change">return</a>


    def plot_data(self, save=True, freq=None, cols=None, max_subplots=10, **kwargs):
        </code></pre><h3>After Change</h3><pre><code class='java'>
            cols = data.columns
        data = data[cols]

        data<a id="change"> = </a><a id="change">consider_st_en(</a>data, st, en<a id="change">)</a>

        &#47&#47 Identify missing values
        mv_total, mv_rows, mv_cols, _, mv_cols_ratio = _missing_vals(data).values()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/67318e5cf0131b2e0c3cd12ebd2a128bed581370#diff-56a24a6c5f7aa49357985d569c01ffbd2b792111c6c7078907e3249e8c573455L228' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49794620</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 67318e5cf0131b2e0c3cd12ebd2a128bed581370</div><div id='time'> Time: 2021-09-14</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/eda/_eda.py</div><div id='m_class'> M Class Name: EDA</div><div id='n_method'> N Class Name: EDA</div><div id='m_method'> M Method Name: plot_missing_df(7)</div><div id='n_method'> N Method Name: plot_missing_df(5)</div><div id='m_parent_class'> M Parent Class: Plot</div><div id='n_parent_class'> N Parent Class: Plot</div><div id='m_file'> M File Name: ai4water/eda/_eda.py</div><div id='n_file'> N File Name: ai4water/eda/_eda.py</div><div id='m_start'> M Start Line: 298</div><div id='m_end'> M End Line: 298</div><div id='n_start'> N Start Line: 244</div><div id='n_end'> N End Line: 316</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ax = sns.heatmap(corr, center=0, fmt=".2f", ax=ax, **_kwargs)
        ax.set(frame_on=True)
        self.save_or_show(save, fname=f"{split if split else &quot&quot}_feature_corr_{prefix}", where="data")
        <a id="change">return</a>


    def plot_pcs(self, num_pcs=None, save=True, save_as_csv=False, figsize=(12, 8), **kwargs):
        Plots principle components.</code></pre><h3>After Change</h3><pre><code class='java'>
        if cols is None:
            cols = data.columns.to_list()

        data<a id="change"> = </a><a id="change">consider_st_en(</a>data, st, en<a id="change">)</a>

        corr = data[cols].corr(method=method)

        if split == "pos":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/67318e5cf0131b2e0c3cd12ebd2a128bed581370#diff-56a24a6c5f7aa49357985d569c01ffbd2b792111c6c7078907e3249e8c573455L467' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49794619</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 67318e5cf0131b2e0c3cd12ebd2a128bed581370</div><div id='time'> Time: 2021-09-14</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/eda/_eda.py</div><div id='m_class'> M Class Name: EDA</div><div id='n_method'> N Class Name: EDA</div><div id='m_method'> M Method Name: feature_feature_corr_df(10)</div><div id='n_method'> N Method Name: feature_feature_corr_df(8)</div><div id='m_parent_class'> M Parent Class: Plot</div><div id='n_parent_class'> N Parent Class: Plot</div><div id='m_file'> M File Name: ai4water/eda/_eda.py</div><div id='n_file'> N File Name: ai4water/eda/_eda.py</div><div id='m_start'> M Start Line: 525</div><div id='m_end'> M End Line: 525</div><div id='n_start'> N Start Line: 502</div><div id='n_end'> N End Line: 562</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        plt.figure(figsize=figsize)
        sns.pairplot(data=df_pca, vars=pcs, hue=hue, **kwargs)
        self.save_or_show(fname=f"first_{num_pcs}_pcs_{prefix}", save=save, where=&quotdata&quot)
        <a id="change">return</a>

    def grouped_scatter(self, inputs=True, outputs=True, cols=None, save=True, max_subplots=8, **kwargs):

        fname = "scatter_plot_"</code></pre><h3>After Change</h3><pre><code class='java'>
                  st=None, en=None,
                  save=None, prefix=&quot&quot, save_as_csv=False, hue=None, figsize=(12,8), **kwargs):

        data<a id="change"> = </a><a id="change">consider_st_en(</a>data, st, en<a id="change">)</a>

        if num_pcs is None:
            num_pcs = int(data.shape[1]/2)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/67318e5cf0131b2e0c3cd12ebd2a128bed581370#diff-56a24a6c5f7aa49357985d569c01ffbd2b792111c6c7078907e3249e8c573455L547' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49794618</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 67318e5cf0131b2e0c3cd12ebd2a128bed581370</div><div id='time'> Time: 2021-09-14</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/eda/_eda.py</div><div id='m_class'> M Class Name: EDA</div><div id='n_method'> N Class Name: EDA</div><div id='m_method'> M Method Name: _plot_pcs(10)</div><div id='n_method'> N Method Name: _plot_pcs(8)</div><div id='m_parent_class'> M Parent Class: Plot</div><div id='n_parent_class'> N Parent Class: Plot</div><div id='m_file'> M File Name: ai4water/eda/_eda.py</div><div id='n_file'> N File Name: ai4water/eda/_eda.py</div><div id='m_start'> M Start Line: 583</div><div id='m_end'> M End Line: 583</div><div id='n_start'> N Start Line: 593</div><div id='n_end'> N End Line: 632</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            cols = data.columns
        data[cols].hist(bins=bins, figsize=figsize, **kwargs)
        self.save_or_show(fname=f"hist_{prefix}", save=save, where=&quotdata&quot)
        <a id="change">return</a>


    def plot_index(self, save=True, **kwargs):
        plots the datetime index of dataframe</code></pre><h3>After Change</h3><pre><code class='java'>
        if cols is None:
            cols = data.columns

        data<a id="change"> = </a><a id="change">consider_st_en(</a>data, st, en<a id="change">)</a>

        data[cols].hist(bins=bins, figsize=figsize, **kwargs)
        self.save_or_show(fname=f"hist_{prefix}", save=save, where=&quotdata&quot)
        return</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/67318e5cf0131b2e0c3cd12ebd2a128bed581370#diff-56a24a6c5f7aa49357985d569c01ffbd2b792111c6c7078907e3249e8c573455L656' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49794617</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 67318e5cf0131b2e0c3cd12ebd2a128bed581370</div><div id='time'> Time: 2021-09-14</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: ai4water/eda/_eda.py</div><div id='m_class'> M Class Name: EDA</div><div id='n_method'> N Class Name: EDA</div><div id='m_method'> M Method Name: plot_his_df(9)</div><div id='n_method'> N Method Name: plot_his_df(7)</div><div id='m_parent_class'> M Parent Class: Plot</div><div id='n_parent_class'> N Parent Class: Plot</div><div id='m_file'> M File Name: ai4water/eda/_eda.py</div><div id='n_file'> N File Name: ai4water/eda/_eda.py</div><div id='m_start'> M Start Line: 656</div><div id='m_end'> M End Line: 661</div><div id='n_start'> N Start Line: 720</div><div id='n_end'> N End Line: 732</div><BR>