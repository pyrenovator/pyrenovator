<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def check_states(self, input_current):
        shape_notime = (input_current.shape[0], *input_current.shape[2:])
        <a id="change">if </a>self.state.shape != shape_notime:
            <a id="change">self.reset_states(shape=shape_notime, randomize=False)</a>
        if self.thresh_state == None:
            self.thresh_state = torch.ones_like(input_current[:,0]) * self.threshold

    def detect_spikes(self):</code></pre><h3>After Change</h3><pre><code class='java'>

    def check_states(self, input_current):
        super().check_states(input_current)
        if self.threshold.shape == torch.Size(<a id="change">[</a>1<a id="change"></a>]):
            self.threshold = torch.ones_like(input_current[:,0]) * self.spike_threshold

    def update_state_after_spike(self):</code></pre>