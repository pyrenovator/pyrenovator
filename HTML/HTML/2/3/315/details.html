<html><h3>Pattern ID :315
</h3><img src='2131600.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.assertNotIn("eval_fp", dataset.get_field_schema())
        self.assertNotIn("eval_fp", dataset.get_frame_field_schema())
        self.assertNotIn("eval_fn", dataset.get_field_schema())
        self.assertNotIn("eval_fn", <a id="change">dataset.get_frame_field_schema()</a>)

        &#47&#47
        &#47&#47 Test non-classwise evaluation (including missing data)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.assertNotIn("eval_fp", schema)
        self.assertNotIn("eval_fn", schema)

        schema<a id="change"> = </a><a id="change">dataset.get_frame_field_schema(flat=True)</a>
        self.assertNotIn("eval_tp", schema)
        self.assertNotIn("eval_fp", schema)
        self.assertNotIn("eval_fn", schema)
        self.assertNotIn("ground_truth.detections.eval", schema)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/74378e96e4e8208e9c17876740c2b6bc29ebde11#diff-b4dc8e475d33460e6cbbfeab1dc2b4b7cff019a7b3bd1d29d5401aa2e4cdedacL1653' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2131600</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 74378e96e4e8208e9c17876740c2b6bc29ebde11</div><div id='time'> Time: 2022-10-14</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: tests/unittests/evaluation_tests.py</div><div id='m_class'> M Class Name: VideoDetectionsTests</div><div id='n_method'> N Class Name: VideoDetectionsTests</div><div id='m_method'> M Method Name: test_evaluate_video_detections_open_images(1)</div><div id='n_method'> N Method Name: test_evaluate_video_detections_open_images(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/unittests/evaluation_tests.py</div><div id='n_file'> N File Name: tests/unittests/evaluation_tests.py</div><div id='m_start'> M Start Line: 1653</div><div id='m_end'> M End Line: 1761</div><div id='n_start'> N Start Line: 1753</div><div id='n_end'> N End Line: 1871</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        )

        delete and remove(
            list(<a id="change">self._source_collection.get_frame_field_schema()</a>)
        )

    def _sync_source_keep_fields(self):</code></pre><h3>After Change</h3><pre><code class='java'>

    def _sync_source_schema(self, fields=None, delete=False):
        schema = self.get_field_schema()
        src_schema<a id="change"> = </a><a id="change">self._source_collection.get_frame_field_schema()</a>

        add_fields = []
        del_fields = []
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/bd3ee20d9f68916e73b2bc6f217ffafaba39c0d0#diff-c25238eee8016d2c8e7b613e52a415119fa2722bf473dbfbedc903a3b17c1cdaL348' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2131601</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: bd3ee20d9f68916e73b2bc6f217ffafaba39c0d0</div><div id='time'> Time: 2022-07-01</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/core/video.py</div><div id='m_class'> M Class Name: FramesView</div><div id='n_method'> N Class Name: FramesView</div><div id='m_method'> M Method Name: _sync_source_schema(3)</div><div id='n_method'> N Method Name: _sync_source_schema(3)</div><div id='m_parent_class'> M Parent Class: fov.DatasetView</div><div id='n_parent_class'> N Parent Class: fov.DatasetView</div><div id='m_file'> M File Name: fiftyone/core/video.py</div><div id='n_file'> N File Name: fiftyone/core/video.py</div><div id='m_start'> M Start Line: 349</div><div id='m_end'> M End Line: 398</div><div id='n_start'> N Start Line: 349</div><div id='n_end'> N End Line: 393</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.assertNotIn("eval_fp", dataset.get_field_schema())
        self.assertNotIn("eval_fp", dataset.get_frame_field_schema())
        self.assertNotIn("eval_fn", dataset.get_field_schema())
        self.assertNotIn("eval_fn", <a id="change">dataset.get_frame_field_schema()</a>)

        &#47&#47
        &#47&#47 Test non-classwise evaluation (including missing data)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.assertNotIn("eval_fp", schema)
        self.assertNotIn("eval_fn", schema)

        schema<a id="change"> = </a><a id="change">dataset.get_frame_field_schema(flat=True)</a>
        self.assertNotIn("eval_tp", schema)
        self.assertNotIn("eval_fp", schema)
        self.assertNotIn("eval_fn", schema)
        self.assertNotIn("ground_truth.detections.eval", schema)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/74378e96e4e8208e9c17876740c2b6bc29ebde11#diff-b4dc8e475d33460e6cbbfeab1dc2b4b7cff019a7b3bd1d29d5401aa2e4cdedacL1492' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2131597</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 74378e96e4e8208e9c17876740c2b6bc29ebde11</div><div id='time'> Time: 2022-10-14</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: tests/unittests/evaluation_tests.py</div><div id='m_class'> M Class Name: VideoDetectionsTests</div><div id='n_method'> N Class Name: VideoDetectionsTests</div><div id='m_method'> M Method Name: test_evaluate_video_detections_coco(1)</div><div id='n_method'> N Method Name: test_evaluate_video_detections_coco(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/unittests/evaluation_tests.py</div><div id='n_file'> N File Name: tests/unittests/evaluation_tests.py</div><div id='m_start'> M Start Line: 1493</div><div id='m_end'> M End Line: 1603</div><div id='n_start'> N Start Line: 1568</div><div id='n_end'> N End Line: 1687</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        aggregations.update(_build_field_aggregations(path, field, filters))

    if view.media_type == fom.VIDEO:
        for path, field in <a id="change">view.get_frame_field_schema()</a>.items():
            aggregations.update(
                _build_field_aggregations("frames." + path, field, filters)
            )</code></pre><h3>After Change</h3><pre><code class='java'>
    for path, field in view.get_field_schema().items():
        aggregations.update(_build_field_aggregations(path, field, filters))

    frame_fields<a id="change"> = </a><a id="change">view.get_frame_field_schema()</a>
    if view.media_type != fom.IMAGE and frame_fields is not None:
        for path, field in frame_fields.items():
            aggregations.update(
                _build_field_aggregations("frames." + path, field, filters)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/7fd433dff44919bddd78c7e305f9d8eed03185f7#diff-ad9b5a8c84ae271171a2d05e7f66e21c9e239ccb334af59acac4cd73784fb1afL86' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2131598</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: 7fd433dff44919bddd78c7e305f9d8eed03185f7</div><div id='time'> Time: 2022-09-13</div><div id='author'> Author: ben@voxel51.com</div><div id='file'> File Name: fiftyone/server/routes/aggregations.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_app_statistics(2)</div><div id='n_method'> N Method Name: get_app_statistics(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/server/routes/aggregations.py</div><div id='n_file'> N File Name: fiftyone/server/routes/aggregations.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 104</div><BR>