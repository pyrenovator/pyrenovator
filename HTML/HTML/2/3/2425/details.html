<html><h3>Pattern ID :2425
</h3><img src='10266920.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            break

        optimizer.zero_grad()
        <a id="change">assert </a>len(batch[&quotobjects_classes&quot])==1, &quotcurrently using size-1 batches&quot
        output = model(batch[&quotobjects_classes&quot][0], batch[&quotobjects_positions&quot][0], batch[&quothint_descriptions&quot][0])

        loss = criterion(output.P, batch[&quotall_matches&quot])</code></pre><h3>After Change</h3><pre><code class='java'>
        epoch_recalls.append(recall)
        epoch_precisions.append(precision)

    return np.mean(epoch_losses), np.mean(epoch_recalls), np.mean(epoch_precisions), <a id="change">time.time()-</a>t0

@torch.no_grad()
def val_epoch(model, dataloader, args):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mako443/text2pos-cvpr2022/commit/8877bc8aa068a9dc4513014388e68b8c8162481e#diff-a0b63bf48d3de6d3faf5a1c9149bc63e5c62e301cfb3f4d371d32e7d56b970c0L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10266920</div><div id='project'> Project Name: mako443/text2pos-cvpr2022</div><div id='commit'> Commit Name: 8877bc8aa068a9dc4513014388e68b8c8162481e</div><div id='time'> Time: 2021-03-03</div><div id='author'> Author: manuel.kolmet@gmail.com</div><div id='file'> File Name: training/explicit_matching.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_epoch(3)</div><div id='n_method'> N Method Name: train_epoch(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: training/explicit_matching.py</div><div id='n_file'> N File Name: training/explicit_matching.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 51</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                ["sleep", "30"],
            )

            <a id="change">assert </a>error_code == 77

            for p in procs:
                p.terminate()</code></pre><h3>After Change</h3><pre><code class='java'>
            _, port = pid_server.listener.getsockname()

            &#47&#47 Enforce that the crashed worker causes the exit before the other worker exits.
            deadline = <a id="change">time.time() + </a>20

            &#47&#47 Enforce that run_subprocess exits nonzero on a worker failure, even if the main
            &#47&#47 subprocess exits zero.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/7f94c988afe8e342def27c62b62389eed8f0cdf1#diff-b12186d8e4f843eccca9117dd628b296d910c989bcba7a26f777c1d07481cb94L309' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10266922</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 7f94c988afe8e342def27c62b62389eed8f0cdf1</div><div id='time'> Time: 2022-03-26</div><div id='author'> Author: rb@hpe.com</div><div id='file'> File Name: harness/tests/test_ipc.py</div><div id='m_class'> M Class Name: TestPIDServer</div><div id='n_method'> N Class Name: TestPIDServer</div><div id='m_method'> M Method Name: test_return_code_on_worker_error(1)</div><div id='n_method'> N Method Name: test_return_code_on_worker_error(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/tests/test_ipc.py</div><div id='n_file'> N File Name: harness/tests/test_ipc.py</div><div id='m_start'> M Start Line: 329</div><div id='m_end'> M End Line: 329</div><div id='n_start'> N Start Line: 315</div><div id='n_end'> N End Line: 333</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        child = det_spawn(["experiment", "describe", str(experiment_id)])
        child.read()
        child.wait()
        <a id="change">assert </a>child.exitstatus &gt; 0
</code></pre><h3>After Change</h3><pre><code class='java'>
        child.wait()
        assert child.exitstatus == 0

        experiment_delete_deadline = <a id="change">time.time() + </a>5 * 60
        while 1:
            child = det_spawn(["experiment", "describe", str(experiment_id)])
            child.read()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/866670b7586dd327e8da980f689923cdf4358961#diff-d7e50475afa08ea017710cb272c04e6c6fabc162fdca77f3786541ed0ef1d41aL648' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10266919</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 866670b7586dd327e8da980f689923cdf4358961</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: bradlaney@determined.ai</div><div id='file'> File Name: e2e_tests/tests/test_users.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_experiment_delete(0)</div><div id='n_method'> N Method Name: test_experiment_delete(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: e2e_tests/tests/test_users.py</div><div id='n_file'> N File Name: e2e_tests/tests/test_users.py</div><div id='m_start'> M Start Line: 670</div><div id='m_end'> M End Line: 673</div><div id='n_start'> N Start Line: 668</div><div id='n_end'> N End Line: 679</div><BR>