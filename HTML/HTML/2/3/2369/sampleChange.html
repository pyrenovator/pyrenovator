<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        self.scaler = joblib.load(&quotdevolearn/scaler/scaler.gz&quot)

        <a id="change">if </a>self.mode == "cpu":
            self.model.load_state_dict(torch.load("devolearn/models/estimate_lineage_population.pt", map_location= "cpu"))  
        else:
            self.model.load_state_dict(torch.load("devolearn/models/estimate_lineage_population.pt"))  </code></pre><h3>After Change</h3><pre><code class='java'>
            print("model not found, downloading from:", self.model_url)
            if os.path.isdir(self.model_dir) == False:
                os.mkdir(self.model_dir)
            filename<a id="change"> = </a><a id="change">wget.download(</a>self.model_url<a id="change">, out= self.model_dir)</a>
            print(filename)
            self.model.load_state_dict(torch.load(self.model_dir + "/" + self.model_name, map_location= "cpu"))

</code></pre>