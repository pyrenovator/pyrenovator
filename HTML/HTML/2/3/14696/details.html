<html><h3>Pattern ID :14696
</h3><img src='48460359.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def act(self, input):
        mu = self.forward(input)
        sigma<a id="change"> = </a><a id="change">torch.ones_like(</a>mu<a id="change">)</a>
        dist = Normal(mu, sigma)
        action = dist.sample().detach().item()
        return action
</code></pre><h3>After Change</h3><pre><code class='java'>
        return x

    def act(self, input):
        action = <a id="change">self.forward(input).detach()</a>.item()
        return action

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deligentfool/policy_based_rl/commit/b5bb911692dd343e7e89afce2c0a5b49c27e14f2#diff-cf0c9c893f4918a697476cf468e8f961e03b3351b52efd16a810dd1ec266daecL48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 48460359</div><div id='project'> Project Name: deligentfool/policy_based_rl</div><div id='commit'> Commit Name: b5bb911692dd343e7e89afce2c0a5b49c27e14f2</div><div id='time'> Time: 2020-02-17</div><div id='author'> Author: 1027660817@qq.com</div><div id='file'> File Name: DDPG/ddpg.py</div><div id='m_class'> M Class Name: policy_net</div><div id='n_method'> N Class Name: policy_net</div><div id='m_method'> M Method Name: act(2)</div><div id='n_method'> N Method Name: act(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: DDPG/ddpg.py</div><div id='n_file'> N File Name: DDPG/ddpg.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 49</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        scores = self.model(x)

        y_true = y.cpu().numpy().flatten()
        pred<a id="change"> = </a><a id="change">torch.ones_like(</a>scores<a id="change">)</a>
        pred[scores &lt;= .5] = 0
        y_pred = pred.cpu().numpy().flatten()
        auc_scores = scores.detach().cpu().numpy().flatten()
</code></pre><h3>After Change</h3><pre><code class='java'>
        }

        if scores.shape[1] == 2:
            auc_scores = <a id="change">scores[:, 1].detach()</a>.cpu().numpy().flatten()
            if len(set(y_true)) == 2:
                res["auc"] = roc_auc_score(y_true, auc_scores).astype(float)
            else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/makgyver/gossipy/commit/31a93a404f8bfba3869c5eb733962a438f4806f0#diff-36e45624fe64c0d02688d4de471bd229b4bba0d9212ce90bec22a3949a0f2f10L90' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 48460363</div><div id='project'> Project Name: makgyver/gossipy</div><div id='commit'> Commit Name: 31a93a404f8bfba3869c5eb733962a438f4806f0</div><div id='time'> Time: 2021-08-29</div><div id='author'> Author: mak1788@gmail.com</div><div id='file'> File Name: gossipy/model/handler.py</div><div id='m_class'> M Class Name: TorchModelHandler</div><div id='n_method'> N Class Name: TorchModelHandler</div><div id='m_method'> M Method Name: evaluate(2)</div><div id='n_method'> N Method Name: evaluate(2)</div><div id='m_parent_class'> M Parent Class: ModelHandler</div><div id='n_parent_class'> N Parent Class: ModelHandler</div><div id='m_file'> M File Name: gossipy/model/handler.py</div><div id='n_file'> N File Name: gossipy/model/handler.py</div><div id='m_start'> M Start Line: 93</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 123</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        spk = self.spike_grad(mem_shift).to(device)
        reset = torch.zeros_like(mem)
        spk_idx = mem_shift &gt;= 0
        reset[spk_idx]<a id="change"> = </a><a id="change">torch.ones_like(</a>mem<a id="change">)</a>[spk_idx]
        return spk, reset

    def fire_single(self, batch_size, mem):</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns spk and reset.
        mem_shift = mem - self.threshold
        spk = self.spike_grad(mem_shift).to(device)
        reset = <a id="change">spk.clone().detach()</a>
        return spk, reset

    def fire_inhibition(self, batch_size, mem):
        Generates spike if mem &gt; threshold. The neuron with the largest membrane will inhibit all others for a given time step.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jeshraghian/snntorch/commit/27c26c6b66548fdcc25b8b33641d3d17b5322fbc#diff-b64d9e01b9c35c33de3b8363a4595c32b501b22f358e4e53f6208d2a032b3305L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 48460360</div><div id='project'> Project Name: jeshraghian/snntorch</div><div id='commit'> Commit Name: 27c26c6b66548fdcc25b8b33641d3d17b5322fbc</div><div id='time'> Time: 2021-02-04</div><div id='author'> Author: 40262130+jeshraghian@users.noreply.github.com</div><div id='file'> File Name: snntorch/__init__.py</div><div id='m_class'> M Class Name: LIF</div><div id='n_method'> N Class Name: LIF</div><div id='m_method'> M Method Name: fire(2)</div><div id='n_method'> N Method Name: fire(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: snntorch/__init__.py</div><div id='n_file'> N File Name: snntorch/__init__.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def act(self, input):
        mu = self.forward(input)
        sigma = <a id="change">torch.ones_like(</a>mu<a id="change">)</a>
        dist<a id="change"> = </a>Normal(mu, sigma)
        action = dist.sample().detach().item()
        return action
</code></pre><h3>After Change</h3><pre><code class='java'>
        return x

    def act(self, input):
        action = <a id="change">self.forward(input).detach()</a>.item()
        return action

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deligentfool/policy_based_rl/commit/b5bb911692dd343e7e89afce2c0a5b49c27e14f2#diff-ea8e7896ad871efbc86517b0ac1b5bd059d9f55d1e7f1bac06ff836bb2dd027eL48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 48460366</div><div id='project'> Project Name: deligentfool/policy_based_rl</div><div id='commit'> Commit Name: b5bb911692dd343e7e89afce2c0a5b49c27e14f2</div><div id='time'> Time: 2020-02-17</div><div id='author'> Author: 1027660817@qq.com</div><div id='file'> File Name: TD3/td3.py</div><div id='m_class'> M Class Name: policy_net</div><div id='n_method'> N Class Name: policy_net</div><div id='m_method'> M Method Name: act(2)</div><div id='n_method'> N Method Name: act(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: TD3/td3.py</div><div id='n_file'> N File Name: TD3/td3.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 50</div><BR>