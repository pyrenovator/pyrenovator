<html><h3>Pattern ID :9304
</h3><img src='33434132.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            cutoff.stop_gradient = True
            &#47&#47 ws[:, cutoff:] = self.nets[&quotmapping&quot](paddle.randn(z.shape), c, skip_w_avg_update=True)[:, cutoff:]
            if cutoff == ws.shape[1]:
                <a id="change">pass</a>
            else:
                temp = self.mapping(paddle.randn(z.shape), c, skip_w_avg_update=True)[:, cutoff:]
                temp2 = ws[:, :cutoff]
                ws = paddle.concat([temp2, temp], 1)</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.style_mixing_prob &gt; 0:
            cutoff = torch.empty([], dtype=torch.int64, device=ws.device).random_(1, ws.shape[1])
            cutoff = torch.where(torch.rand([], device=ws.device) &lt; self.style_mixing_prob, cutoff, torch.full_like(cutoff, ws.shape[1]))
            <a id="change">ws[:, cutoff:]</a> = self.mapping(torch.randn_like(z), c, skip_w_avg_update=True)[:, cutoff:]

        img = self.synthesis(ws)
        return img, ws</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/miemie2013/miemiegan/commit/0ad2483396ab17c9512db493c01be594f47431b0#diff-c3be3e49b4968a2ee433a8b0d38c7aa9f68d5116602220ff22567e41b765b44bL127' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33434132</div><div id='project'> Project Name: miemie2013/miemiegan</div><div id='commit'> Commit Name: 0ad2483396ab17c9512db493c01be594f47431b0</div><div id='time'> Time: 2022-02-23</div><div id='author'> Author: 53960695+miemie2013@users.noreply.github.com</div><div id='file'> File Name: mmgan/models/architectures/styleganv2ada_model.py</div><div id='m_class'> M Class Name: StyleGANv2ADAModel</div><div id='n_method'> N Class Name: StyleGANv2ADAModel</div><div id='m_method'> M Method Name: run_G(4)</div><div id='n_method'> N Method Name: run_G(4)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: mmgan/models/architectures/styleganv2ada_model.py</div><div id='n_file'> N File Name: mmgan/models/architectures/styleganv2ada_model.py</div><div id='m_start'> M Start Line: 127</div><div id='m_end'> M End Line: 147</div><div id='n_start'> N Start Line: 128</div><div id='n_end'> N End Line: 133</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def eval_precision_at_k(pred, labels, k):
    <a id="change">pass</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
    threshold = 0.5

    &#47&#47 Number of predicted outliers in top k
    n_pred_k = sum((s &gt;= threshold) for (s, _) in <a id="change">scores[:k]</a>)

    &#47&#47 Number of true positive instances in top k
    n_true_and_pred_k = sum((l and (s &gt;= threshold)) for (s, l) in scores[:k])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pygod-team/pygod/commit/318a74f9f76cedcb4982c8274ddd1a8a96b62fb0#diff-09fb26877d435490f4ca755678012c80ffcdba34e21ed917787ccfd094983991L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33434133</div><div id='project'> Project Name: pygod-team/pygod</div><div id='commit'> Commit Name: 318a74f9f76cedcb4982c8274ddd1a8a96b62fb0</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: ytongdou@gmail.com</div><div id='file'> File Name: pygod/evaluator/metric.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval_precision_at_k(3)</div><div id='n_method'> N Method Name: eval_precision_at_k(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pygod/evaluator/metric.py</div><div id='n_file'> N File Name: pygod/evaluator/metric.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def showTrainData(self):
        &#47&#47show train data finally to exam
        <a id="change">pass</a>

    </code></pre><h3>After Change</h3><pre><code class='java'>
            os.makedirs(show_path)


        img_path_list = <a id="change">getFileNames(self.cfg[&quottrain_path&quot])[:show_num]</a>
        transform = transforms.Compose([TrainDataAug(self.cfg[&quotimg_size&quot])])

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/fire717/fireclassification/commit/4628b872d596723f152ee50023b336a44d59c320#diff-adf6bc4b04681e1fb0d7483914174a0491b60a45d19592b9b3f56185cd0d3217L62' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33434130</div><div id='project'> Project Name: fire717/fireclassification</div><div id='commit'> Commit Name: 4628b872d596723f152ee50023b336a44d59c320</div><div id='time'> Time: 2020-11-26</div><div id='author'> Author: yi.wei@imprexion.com.cn</div><div id='file'> File Name: fire/data.py</div><div id='m_class'> M Class Name: FireData</div><div id='n_method'> N Class Name: FireData</div><div id='m_method'> M Method Name: showTrainData(2)</div><div id='n_method'> N Method Name: showTrainData(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fire/data.py</div><div id='n_file'> N File Name: fire/data.py</div><div id='m_start'> M Start Line: 62</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 83</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def eval_recall_at_k(pred, labels, k):
    <a id="change">pass</a>


def eval_precision_at_k(pred, labels, k):
    pass</code></pre><h3>After Change</h3><pre><code class='java'>
    n_true = sum(l for (_, l) in scores)

    &#47&#47 Number of true positive instances in top k
    n_true_and_pred_k = sum((l and (s &gt;= threshold)) for (s, l) in <a id="change">scores[:k]</a>)

    recall_at_k = n_true_and_pred_k / n_true if n_true != 0 else 0
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pygod-team/pygod/commit/318a74f9f76cedcb4982c8274ddd1a8a96b62fb0#diff-09fb26877d435490f4ca755678012c80ffcdba34e21ed917787ccfd094983991L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 33434131</div><div id='project'> Project Name: pygod-team/pygod</div><div id='commit'> Commit Name: 318a74f9f76cedcb4982c8274ddd1a8a96b62fb0</div><div id='time'> Time: 2022-03-14</div><div id='author'> Author: ytongdou@gmail.com</div><div id='file'> File Name: pygod/evaluator/metric.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval_recall_at_k(3)</div><div id='n_method'> N Method Name: eval_recall_at_k(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pygod/evaluator/metric.py</div><div id='n_file'> N File Name: pygod/evaluator/metric.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 70</div><BR>