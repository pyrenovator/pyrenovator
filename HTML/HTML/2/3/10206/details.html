<html><h3>Pattern ID :10206
</h3><img src='36003364.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if strict:
            modifier_keys = {key for key in modifiers_index.keys()}
            state_dict_keys = <a id="change">{key for key in state_dict.keys()}</a>
            diff = modifier_keys.symmetric_difference(state_dict_keys)
            if diff:
                raise IndexError(
                    f"Found extra keys: {state_dict_keys - modifier_keys} "</code></pre><h3>After Change</h3><pre><code class='java'>
            modifiers_index = {mod.identifier(): mod for mod in self.modifiers}
        else:
            if strict:
                modifiers_stages = <a id="change">set(</a>self.modifiers.keys()<a id="change">)</a>
                state_dict_stages = set(state_dict.keys())
                diff = modifiers_stages.symmetric_difference(state_dict_stages)
                if diff:
                    raise IndexError(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/neuralmagic/sparseml/commit/8db0994bd39b744ad6d4edde07a2d63cabf803bd#diff-647ea3e761b58578229a60caddc837e1c4f459270eb665da94723f1fac40ab5fL311' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36003364</div><div id='project'> Project Name: neuralmagic/sparseml</div><div id='commit'> Commit Name: 8db0994bd39b744ad6d4edde07a2d63cabf803bd</div><div id='time'> Time: 2022-02-24</div><div id='author'> Author: bfineran@users.noreply.github.com</div><div id='file'> File Name: src/sparseml/pytorch/optim/manager.py</div><div id='m_class'> M Class Name: ScheduledModifierManager</div><div id='n_method'> N Class Name: ScheduledModifierManager</div><div id='m_method'> M Method Name: load_state_dict(3)</div><div id='n_method'> N Method Name: load_state_dict(3)</div><div id='m_parent_class'> M Parent Class: BaseManager,Modifier</div><div id='n_parent_class'> N Parent Class: BaseManager,Modifier</div><div id='m_file'> M File Name: src/sparseml/pytorch/optim/manager.py</div><div id='n_file'> N File Name: src/sparseml/pytorch/optim/manager.py</div><div id='m_start'> M Start Line: 311</div><div id='m_end'> M End Line: 315</div><div id='n_start'> N Start Line: 321</div><div id='n_end'> N End Line: 341</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for step in trial["steps"]:
            try:
                v_metrics = step["validation"]["metrics"]["validation_metrics"]
                return <a id="change">{metric for metric, value in v_metrics.items() if is_number(value)}</a>
            except Exception:
                pass

    return set()</code></pre><h3>After Change</h3><pre><code class='java'>
            metrics = workload.validation.metrics
            if not metrics:
                continue
            return <a id="change">set(</a>metrics.keys()<a id="change">)</a>

    return set()

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/1b3e764118242255b4f3fb32c2a969cf2ae752c5#diff-46809115da97aa7d7f43e797b3b733525ec317cd5535494d6022d733acf06079L515' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36003360</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 1b3e764118242255b4f3fb32c2a969cf2ae752c5</div><div id='time'> Time: 2022-03-15</div><div id='author'> Author: nick.doiron@hpe.com</div><div id='file'> File Name: harness/determined/cli/experiment.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: scalar_validation_metrics_names(1)</div><div id='n_method'> N Method Name: scalar_validation_metrics_names(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/determined/cli/experiment.py</div><div id='n_file'> N File Name: harness/determined/cli/experiment.py</div><div id='m_start'> M Start Line: 516</div><div id='m_end'> M End Line: 524</div><div id='n_start'> N Start Line: 567</div><div id='n_end'> N End Line: 574</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Tests that the schema of the fake database is always the same as
        the real one.
        
        real_tables_names = <a id="change">{
            table_name for table_name in real_sqlalchemy_engine.table_names()
        }</a>
        fake_tables_names = {
            table_name for table_name in fake_sqlalchemy_engine.table_names()
        }
</code></pre><h3>After Change</h3><pre><code class='java'>
        the real one.
        
        real_tables_names = set(real_sqlalchemy_engine.table_names())
        fake_tables_names = <a id="change">set(</a>fake_sqlalchemy_engine.table_names()<a id="change">)</a>

        assert real_tables_names == {"articles", "sentences"}
        assert real_tables_names.issubset(fake_tables_names)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bluebrain/search/commit/adb6e49d01db5e34f8816ebdc6b43d161f40e348#diff-cfb5766c19ed50dd1ea9edac6956c4938e09191f94ddcc3968abfecb0c4cc81dL225' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36003357</div><div id='project'> Project Name: bluebrain/search</div><div id='commit'> Commit Name: adb6e49d01db5e34f8816ebdc6b43d161f40e348</div><div id='time'> Time: 2021-05-26</div><div id='author'> Author: Stannislav@users.noreply.github.com</div><div id='file'> File Name: tests/test_database/test_cord_19.py</div><div id='m_class'> M Class Name: TestDatabaseCreation</div><div id='n_method'> N Class Name: TestDatabaseCreation</div><div id='m_method'> M Method Name: test_real_equals_fake_db(3)</div><div id='n_method'> N Method Name: test_real_equals_fake_db(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_database/test_cord_19.py</div><div id='n_file'> N File Name: tests/test_database/test_cord_19.py</div><div id='m_start'> M Start Line: 231</div><div id='m_end'> M End Line: 236</div><div id='n_start'> N Start Line: 231</div><div id='n_end'> N End Line: 232</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            raise TypeError(&quotn must be either an integer or a float&quot)

        counter = Counter(self.triples[:, 1])
        return <a id="change">{
            relation
            for relation, _ in counter.most_common(n)
        }</a>

    def get_idx_for_entities(self, entities: Collection[str], invert: bool = False):
        Get np.array indices for triples with the given entities.
        entities = np.asanyarray(entities, dtype=self.triples.dtype)</code></pre><h3>After Change</h3><pre><code class='java'>

        uniq, counts = self.mapped_triples[:, 1].unique(return_counts=True)
        top_counts, top_ids = counts.topk(k=n, largest=True)
        return <a id="change">set(</a>uniq[top_ids].tolist()<a id="change">)</a>

    def entities_to_ids(self, entities: Union[Collection[int], Collection[str]]) -&gt; Collection[int]:
        Normalize entities to IDs.
        return _ensure_ids(labels_or_ids=entities, label_to_id=self.entity_to_id)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/a007a273ff146107fd1b0c099d561c7b7279965a#diff-2dce01c3c0b4127bdab5850a84b545299b150d156c01aad24589fa76762c6c72L457' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 36003356</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: a007a273ff146107fd1b0c099d561c7b7279965a</div><div id='time'> Time: 2020-12-10</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: src/pykeen/triples/triples_factory.py</div><div id='m_class'> M Class Name: TriplesFactory</div><div id='n_method'> N Class Name: TriplesFactory</div><div id='m_method'> M Method Name: get_most_frequent_relations(2)</div><div id='n_method'> N Method Name: get_most_frequent_relations(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/pykeen/triples/triples_factory.py</div><div id='n_file'> N File Name: src/pykeen/triples/triples_factory.py</div><div id='m_start'> M Start Line: 466</div><div id='m_end'> M End Line: 474</div><div id='n_start'> N Start Line: 595</div><div id='n_end'> N End Line: 597</div><BR>