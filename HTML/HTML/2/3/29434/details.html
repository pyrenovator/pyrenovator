<html><h3>Pattern ID :29434
</h3><img src='87143793.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 self.rs_train_acc_per.append(train_acc)
        &#47&#47 self.rs_train_loss_per.append(train_loss)

        print(<a id="change">"Average Personalized Test Accurancy: {:.4f}".format(</a>test_acc<a id="change">)</a>)
        &#47&#47 self.print_(test_acc, train_acc, train_loss)

    def save_results(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        stats_train = self.train_accuracy_and_loss_personalized()

        test_acc = sum(stats[2])*1.0 / sum(stats[1])
        train_acc = sum(stats_train[2])*1.0 / <a id="change">sum(</a>stats_train[1]<a id="change">)</a>
        train_loss = sum(stats_train[3])*1.0 / sum(stats_train[1])
        
        self.rs_test_acc_per.append(test_acc)
        self.rs_train_acc_per.append(train_acc)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tsingz0/pfl-non-iid/commit/45ae9f5ad607f6938647937c817e0b3d549c035a#diff-ebc38f9217157d9add64395a705ea848c87eefef7ddc3ef7ee6748b7ec1fa5c9L100' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87143793</div><div id='project'> Project Name: tsingz0/pfl-non-iid</div><div id='commit'> Commit Name: 45ae9f5ad607f6938647937c817e0b3d549c035a</div><div id='time'> Time: 2023-03-01</div><div id='author'> Author: 2719584131@qq.com</div><div id='file'> File Name: system/flcore/servers/serverpFedMe.py</div><div id='m_class'> M Class Name: pFedMe</div><div id='n_method'> N Class Name: pFedMe</div><div id='m_method'> M Method Name: evaluate_personalized(1)</div><div id='n_method'> N Method Name: evaluate_personalized(1)</div><div id='m_parent_class'> M Parent Class: Server</div><div id='n_parent_class'> N Parent Class: Server</div><div id='m_file'> M File Name: system/flcore/servers/serverpFedMe.py</div><div id='n_file'> N File Name: system/flcore/servers/serverpFedMe.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 110</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            model.load_state_dict(checkpoint[&quotstate_dict&quot])
        else:
            model.load_state_dict(checkpoint)
        print(<a id="change">"=&gt; loaded checkpoint &quot{}&quot".format(</a>args.checkpoint<a id="change">)</a>)
    elif not args.pretrained:
        print("=&gt; no checkpoint found at &quot{}&quot".format(args.checkpoint))
        exit(1)</code></pre><h3>After Change</h3><pre><code class='java'>
        pretrained=args.pretrained)

    print(&quotModel %s created, param count: %d&quot %
          (args.model, <a id="change">sum(</a>[m.numel() for m in model.parameters()]<a id="change">)</a>))

    &#47&#47 load a checkpoint
    if not args.pretrained:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/feng-lab/pytorch-image-models/commit/0bc50e84f8c12529d781c6c46d3c927f335cf349#diff-6bb87854f62182076b9d47e5a3fa17d5fb46826b979e3292b7ae7bef07022cf4L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87143792</div><div id='project'> Project Name: feng-lab/pytorch-image-models</div><div id='commit'> Commit Name: 0bc50e84f8c12529d781c6c46d3c927f335cf349</div><div id='time'> Time: 2019-04-10</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: inference.py</div><div id='n_file'> N File Name: inference.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for shift in rand_list:
                for key, value in expt.items():
                    setattr(args, key, value)
                setattr(args,&quotfinal_state_range&quot, <a id="change">&quot[[{},{}],[-0.25,0.25]]&quot.format(</a>4.5+shift, 5.0+shift<a id="change">)</a>)
                stats, info = ex.main(args)
                
                </code></pre><h3>After Change</h3><pre><code class='java'>
                num_nodes = 40
            else:
                import re
                num_nodes = <a id="change">sum(</a>[int(s) for s in re.findall(r&quot\d+&quot, controller_name)]<a id="change">)</a>
            for key, value in expt.items():
                setattr(args, key, value)
            stats, info = ex.main(args)
                </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-acl/nn_robustness_analysis/commit/3d2cd1f1bff1e6e54e76b61e120625ef91604889#diff-380ec8b19ce82a99f9291f165d8cb945571b2f757ea9131bed672ad40f383a18L814' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87143794</div><div id='project'> Project Name: mit-acl/nn_robustness_analysis</div><div id='commit'> Commit Name: 3d2cd1f1bff1e6e54e76b61e120625ef91604889</div><div id='time'> Time: 2023-01-31</div><div id='author'> Author: nrober1122@gmail.com</div><div id='file'> File Name: nn_closed_loop/backward_experiments.py</div><div id='m_class'> M Class Name: NNScalability</div><div id='n_method'> N Class Name: NNScalability</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: Experiment</div><div id='n_parent_class'> N Parent Class: Experiment</div><div id='m_file'> M File Name: nn_closed_loop/backward_experiments.py</div><div id='n_file'> N File Name: nn_closed_loop/backward_experiments.py</div><div id='m_start'> M Start Line: 818</div><div id='m_end'> M End Line: 898</div><div id='n_start'> N Start Line: 818</div><div id='n_end'> N End Line: 899</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            rank = dist.get_rank()
        if rank &gt;= num_replicas or rank &lt; 0:
            raise ValueError(
                <a id="change">"Invalid rank {}, rank should be in the interval"
                " [0, {}]".format(</a>rank, num_replicas - 1<a id="change">)</a>)
        self.dataset = dataset
        self.real_batch_size = real_batch_size
        self.batch_size = batch_size</code></pre><h3>After Change</h3><pre><code class='java'>
        self.dataset = dataset
        self.per_device_batch_size = per_device_batch_size
        self.batch_config = batch_config
        self.real_batch_size = <a id="change">sum(</a>self.batch_config.values()<a id="change">)</a>
        self.node_rank = node_rank
        self.rank = rank
        self.epoch = 0
        self.drop_last = drop_last</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/retarfi/language-pretraining/commit/ea10b0abb7db367efbe478c91a394788e5781f8b#diff-f4c19ebbcf568cceaac53b8c59fcd4effea9a3a6bc61d07052be96f40253325eL172' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87143789</div><div id='project'> Project Name: retarfi/language-pretraining</div><div id='commit'> Commit Name: ea10b0abb7db367efbe478c91a394788e5781f8b</div><div id='time'> Time: 2021-09-18</div><div id='author'> Author: valerososoccer@gmail.com</div><div id='file'> File Name: utils/trainer_pt_utils.py</div><div id='m_class'> M Class Name: MyDistributedSampler</div><div id='n_method'> N Class Name: MyDistributedSampler</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(11)</div><div id='m_parent_class'> M Parent Class: DistributedSampler</div><div id='n_parent_class'> N Parent Class: DistributedSampler</div><div id='m_file'> M File Name: utils/trainer_pt_utils.py</div><div id='n_file'> N File Name: utils/trainer_pt_utils.py</div><div id='m_start'> M Start Line: 172</div><div id='m_end'> M End Line: 193</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 49</div><BR>