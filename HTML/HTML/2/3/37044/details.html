<html><h3>Pattern ID :37044
</h3><img src='105516462.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                if label_name == "O" or label_name.startswith("B-"):
                    if len(words):
                        items.append({"pos": [start, i], "entity": words, "label": tag})
                    if <a id="change">label_name.startswith("B-"</a><a id="change">)</a>:
                        tag = label_name.split("-")[1]
                    else:
                        tag = label_name</code></pre><h3>After Change</h3><pre><code class='java'>
            items = []
            input_data = input_datas[batch]
            for i, label in enumerate(token_label):
                if <a id="change">(label_list[label] == "O" or "B-" in label_list[label])</a> and start &gt;= 0:
                    entity = input_data[start : i - 1]
                    if isinstance(entity, list):
                        entity = "".join(entity)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/47fe71d98378e46e691d4fde7b1ba8ecb144afa4#diff-21c8dd460dff45096ebcb9e97d773c12b0d0aa6c1c99319dd6b701d92c2c9a38L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105516462</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 47fe71d98378e46e691d4fde7b1ba8ecb144afa4</div><div id='time'> Time: 2023-01-05</div><div id='author'> Author: fangzeyang0904@hotmail.com</div><div id='file'> File Name: model_zoo/ernie-3.0/deploy/simple_serving/server_token_cls.py</div><div id='m_class'> M Class Name: NERPostHandler</div><div id='n_method'> N Class Name: NERPostHandler</div><div id='m_method'> M Method Name: process(3)</div><div id='n_method'> N Method Name: process(3)</div><div id='m_parent_class'> M Parent Class: BasePostHandler</div><div id='n_parent_class'> N Parent Class: BasePostHandler</div><div id='m_file'> M File Name: model_zoo/ernie-3.0/deploy/simple_serving/server_token_cls.py</div><div id='n_file'> N File Name: model_zoo/ernie-3.0/deploy/simple_serving/server_token_cls.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 58</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    mpi_compile_flags += f" -I&quot{os.path.join(mpi_src_dir, &quotinc&quot)}&quot "
    mpi_compile_flags = mpi_compile_flags.replace("-pthread", "")

    if <a id="change">get_version(mpicc_path).startswith("(1."</a><a id="change">)</a>:
        &#47&#47 mpi version 1.x need to link like this
        manual_link(mpi_flags)
    &#47&#47 mpi(4.x) cannot use deepbind, it need to</code></pre><h3>After Change</h3><pre><code class='java'>
    mpi_compile_flags = mpi_compile_flags.replace("-pthread", "")

    mpi_version = get_version(mpicc_path)
    if <a id="change">mpi_version.startswith("(1.") or mpi_version.startswith("(2.")</a>:
        &#47&#47 mpi version 1.x need to link like this
        manual_link(mpi_flags)
    &#47&#47 mpi(4.x) cannot use deepbind, it need to</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jittor/jittor/commit/68608dd74b1709f4e4a46171e88fc877af0db1f8#diff-bda202dc1155b432eb6f176d27b53e315b98965e056858275aeec365a21d7f72L328' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105516463</div><div id='project'> Project Name: jittor/jittor</div><div id='commit'> Commit Name: 68608dd74b1709f4e4a46171e88fc877af0db1f8</div><div id='time'> Time: 2020-04-15</div><div id='author'> Author: randonlang@gmail.com</div><div id='file'> File Name: python/jittor/compile_extern.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: setup_mpi(0)</div><div id='n_method'> N Method Name: setup_mpi(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/jittor/compile_extern.py</div><div id='n_file'> N File Name: python/jittor/compile_extern.py</div><div id='m_start'> M Start Line: 335</div><div id='m_end'> M End Line: 364</div><div id='n_start'> N Start Line: 335</div><div id='n_end'> N End Line: 365</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                tokenizer_cls = AutoTokenizer

        if model_cls is None:
            if <a id="change">(alias_model_name or pretrained_model_name_or_path).startswith(&quott5&quot</a><a id="change">)</a>:
                model_cls = AutoModelForSeq2SeqLM

            elif pretrained_model_name_or_path == "nielsr/tapex-large-finetuned-tabfact":</code></pre><h3>After Change</h3><pre><code class='java'>
                to Huggingface&quots `tokenizer_cls` class. By default, will be equal to pretrained_model_name_or_path
        

        pretrained_tokenizer_name_or_path = <a id="change">pretrained_tokenizer_name_or_path or pretrained_model_name_or_path</a>
        self.tokenizer = tokenizer_cls.from_pretrained(pretrained_model_name_or_path=pretrained_tokenizer_name_or_path)

        from transformers.modeling_utils import logger
        has_pretrained_rat_model = os.path.isfile(f&quot{pretrained_model_name_or_path}/pytorch_model.bin&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/joaolages/ratransformers/commit/0070fb656f049ec8b46dace0cd6b75d5d34578aa#diff-f18d42174dd6ac7632bfaa6eae4cb9a524e9429517cc0385e8b4f3fc70f34ff8L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 105516465</div><div id='project'> Project Name: joaolages/ratransformers</div><div id='commit'> Commit Name: 0070fb656f049ec8b46dace0cd6b75d5d34578aa</div><div id='time'> Time: 2022-02-14</div><div id='author'> Author: joaop.glages@gmail.com</div><div id='file'> File Name: src/ratransformers/__init__.py</div><div id='m_class'> M Class Name: RATransformer</div><div id='n_method'> N Class Name: RATransformer</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/ratransformers/__init__.py</div><div id='n_file'> N File Name: src/ratransformers/__init__.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 37</div><BR>