<html><h3>Pattern ID :24692
</h3><img src='76539486.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47     baseInertialFrameOrientation=[0, 0, 0, 1],
    &#47&#47 )

    class_ids<a id="change"> = </a>np.arange(1, 22)
    class_ids = class_ids[~<a id="change">np.isin(</a>class_ids, [10, 18]<a id="change">)</a>]
    class_ids = np.random.choice(class_ids, 10)
    object_ids = []
    for class_id in class_ids:</code></pre><h3>After Change</h3><pre><code class='java'>
                position=position,
                quaternion=quaternion,
            )
            coord.translate(<a id="change">[</a>0.5, -0.5, 0<a id="change"></a>], wrt="world")

            visual_file = mercury.datasets.ycb.get_visual_file(class_id)
            collision_file = mercury.pybullet.get_collision_file(visual_file)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/wkentaro/safepicking/commit/1a11c14cdd6581a34e985e4d875032525109e855#diff-7d79c5e602b59cab12da6ef8ab87c072015cd55c9925b391ace2499125d743f6L64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76539486</div><div id='project'> Project Name: wkentaro/safepicking</div><div id='commit'> Commit Name: 1a11c14cdd6581a34e985e4d875032525109e855</div><div id='time'> Time: 2021-03-16</div><div id='author'> Author: www.kentaro.wada@gmail.com</div><div id='file'> File Name: examples/goal/bin_packing_no_act.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/goal/bin_packing_no_act.py</div><div id='n_file'> N File Name: examples/goal/bin_packing_no_act.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 70</div><div id='n_end'> N End Line: 123</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            os.path.join(output_dir, f&quotround_{idx}&quot), &quotbias_table.csv&quot))
    bias_table[&quotexample_id&quot] = bias_table[&quotexample_id&quot].map(
        lambda x: eval(x).decode(&quotUTF-8&quot))  &#47&#47  pylint:disable=eval-used
    ids<a id="change"> = </a>np.concatenate(list(
        ds.map(lambda example: example[&quotexample_id&quot]).batch(
            batch_size).as_numpy_iterator())).tolist()
    ids = list(map(lambda x: x.decode(&quotUTF-8&quot), ids))
    subgroup_labels = list(
        ds.map(lambda example: example[&quotsubgroup_label&quot]).batch(
            batch_size).as_numpy_iterator())
    subgroup_labels = np.concatenate(subgroup_labels).tolist()
    df_a = pd.DataFrame({&quotexample_id&quot: ids, &quotsubgroup_label&quot: subgroup_labels})
    bias_table = bias_table[<a id="change">bias_table[&quotexample_id&quot].isin(</a>ids<a id="change">)</a>]
    predictions_merge = pd.merge(bias_table, df_a, on=[&quotexample_id&quot])
    prob_one = (predictions_merge[&quotsubgroup_label&quot]
                == 1).sum() / len(predictions_merge)</code></pre><h3>After Change</h3><pre><code class='java'>
    num_subgroups: int,
    ) -&gt; pd.DataFrame:
  Evaluates model for subgroup representation vs number of rounds.
  round_idx = <a id="change">[]</a>
  subgroup_ids = []
  num_samples = []
  prob_representation = []
  for idx in range(num_rounds):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/google/uncertainty-baselines/commit/f5b53459d654b40668528e806a24776b53864278#diff-898a1ff69c9d70117cfb7c75da053a4e8649b705ffef48bf652f1c38fc3a5858L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76539484</div><div id='project'> Project Name: google/uncertainty-baselines</div><div id='commit'> Commit Name: f5b53459d654b40668528e806a24776b53864278</div><div id='time'> Time: 2022-11-03</div><div id='author'> Author: no-reply@google.com</div><div id='file'> File Name: experimental/shoshin/evaluate_model_lib.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: evaluate_active_sampling(5)</div><div id='n_method'> N Method Name: evaluate_active_sampling(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: experimental/shoshin/evaluate_model_lib.py</div><div id='n_file'> N File Name: experimental/shoshin/evaluate_model_lib.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 92</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    args, kwargs = fake_create_mining_cache.call_args

    &#47&#47 Construct the restricted model library data frame
    selected_models<a id="change"> = </a>restrict_to_models.split(",")
    df_model_library_selected = df_model_library[
        <a id="change">df_model_library["model_id"].isin(</a>selected_models<a id="change">)</a>.tolist()
    ]

    &#47&#47 Check the args/kwargs</code></pre><h3>After Change</h3><pre><code class='java'>
        db_url.touch()

    &#47&#47 Construct arguments
    argv = <a id="change">[
        </a>f"--data-and-models-dir={spacy_model_path}",
        f"--db-type={db_type}",
        f"--db-url={db_url}",
        f"--target-table-name={target_table_name}",
        f"--n-processes-per-model={n_processes_per_model}",
        f"--restrict-to-etypes={restrict_to_etypes}"<a id="change"></a>,
    ]

    &#47&#47 Call entrypoint method</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bluebrain/search/commit/05fe137611fffaab1cdfb9f3c04b32bb8964666d#diff-eb6867eaad1ec93599103bb9af4fee07a7f212f5c5417c4b51e670fa54658efdL78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76539490</div><div id='project'> Project Name: bluebrain/search</div><div id='commit'> Commit Name: 05fe137611fffaab1cdfb9f3c04b32bb8964666d</div><div id='time'> Time: 2021-06-22</div><div id='author'> Author: 47669575+EmilieDel@users.noreply.github.com</div><div id='file'> File Name: tests/test_entrypoint/test_create_mining_cache.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_send_through(9)</div><div id='n_method'> N Method Name: test_send_through(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_entrypoint/test_create_mining_cache.py</div><div id='n_file'> N File Name: tests/test_entrypoint/test_create_mining_cache.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 85</div><div id='n_end'> N End Line: 135</div><BR>