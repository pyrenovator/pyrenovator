<html><h3>Pattern ID :41444
</h3><img src='116533602.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    tmp[cat_cols] = tmp[cat_cols] + 1

    &#47&#47 split dfs
    dfs<a id="change"> = </a><a id="change">[tmp.xs(i) for i in range(len(dfs))]</a>
    if no_codes:
        return dfs, codes
    return dfs
</code></pre><h3>After Change</h3><pre><code class='java'>
def _categorize(df: DataFrame, cat_cols: List, codes) -&gt; DataFrame:
    &#47&#47 apply codes to each column
    for col in cat_cols:
        df[col] = <a id="change">pd.Categorical(</a>df[col]<a id="change">, categories=codes[col], ordered=True)</a>
    df[cat_cols] = df[cat_cols].apply(lambda x: x.cat.codes)

    &#47&#47 we add one here as Nones are -1, so they turn into 0&quots
    df[cat_cols] = df[cat_cols] + 1</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lightning-ai/lightning-flash/commit/b0ce02db1634e89ef96ac94038801a67368507fd#diff-6059c6b1cf63c920033fe3f87dd8a22dae3130df40d31558abb3338e0d5e1db8L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116533602</div><div id='project'> Project Name: lightning-ai/lightning-flash</div><div id='commit'> Commit Name: b0ce02db1634e89ef96ac94038801a67368507fd</div><div id='time'> Time: 2021-11-16</div><div id='author'> Author: ewah1g13@soton.ac.uk</div><div id='file'> File Name: flash/tabular/classification/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _categorize(3)</div><div id='n_method'> N Method Name: _categorize(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: flash/tabular/classification/utils.py</div><div id='n_file'> N File Name: flash/tabular/classification/utils.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 83</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        skopt_space[k] = v
        for ref_config in skopt_ref_configs:
            ref_config[k] = v
    key_list = <a id="change">[k for k in update_dict.keys()]</a>
    skopt_space[&quotextra_config_keys&quot]<a id="change"> = </a>key_list
    return skopt_space, skopt_ref_configs

</code></pre><h3>After Change</h3><pre><code class='java'>
                                       update_dict):
    for k, v in update_dict.items():
        &#47&#47 update space and reference configs with this key
        skopt_space[k] = <a id="change">skopt.space.Categorical(</a>[v]<a id="change">)</a>
        for ref_config in skopt_ref_configs:
            ref_config[k] = v
    &#47&#47 update space and reference configs with key list
    ex_key = &quotextra_config_keys&quot</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/c58134d7001e132b06e034ff472228863de6dbf8#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L570' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116533600</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: c58134d7001e132b06e034ff472228863de6dbf8</div><div id='time'> Time: 2021-01-20</div><div id='author'> Author: codywild@berkeley.edu</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: update_skopt_space_and_ref_configs(3)</div><div id='n_method'> N Method Name: update_skopt_space_and_ref_configs(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 573</div><div id='m_end'> M End Line: 578</div><div id='n_start'> N Start Line: 573</div><div id='n_end'> N End Line: 584</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        skopt_space[k] = v
        for ref_config in skopt_ref_configs:
            ref_config[k] = v
    key_list = <a id="change">[k for k in update_dict.keys()]</a>
    skopt_space[&quotextra_config_keys&quot]<a id="change"> = </a>key_list
    return skopt_space, skopt_ref_configs

</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 update space and reference configs with key list
    ex_key = &quotextra_config_keys&quot
    key_tup = tuple(k for k in update_dict.keys())
    skopt_space[ex_key] = <a id="change">skopt.space.Categorical(</a>[key_tup]<a id="change">)</a>
    for ref_config in skopt_ref_configs:
        ref_config[ex_key] = key_tup

    return skopt_space, skopt_ref_configs</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/bef494c51de5f24dd36715cadd720fe6b4d4a5ee#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L569' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116533607</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: bef494c51de5f24dd36715cadd720fe6b4d4a5ee</div><div id='time'> Time: 2021-01-19</div><div id='author'> Author: sam@qxcv.net</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: update_skopt_space_and_ref_configs(3)</div><div id='n_method'> N Method Name: update_skopt_space_and_ref_configs(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 572</div><div id='m_end'> M End Line: 577</div><div id='n_start'> N Start Line: 572</div><div id='n_end'> N End Line: 585</div><BR>