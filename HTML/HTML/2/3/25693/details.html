<html><h3>Pattern ID :25693
</h3><img src='77969877.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    cur = random.randint(st, self.n_items - 1)
                neg_item_id.append(cur)
        else:
            tot<a id="change"> = </a><a id="change">set(</a>range(st, self.n_items)<a id="change">)</a> - self.used_item_id[phase][user_id]
            if len(tot) &lt;= num:
                neg_item_id = list(tot)
            else:</code></pre><h3>After Change</h3><pre><code class='java'>
            if phase not in self.phases:
                raise ValueError(&quotphase [{}] not exist&quot.format(phase))
        except IndexError:
            if <a id="change">user_id &lt; 0 or user_id &gt;= self.n_users</a>:
                raise ValueError(&quotuser_id [{}] not exist&quot.format(user_id))

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/5e24012deeb9a24e4081dd8730252e1994a4ccff#diff-7485070a1dac73a660d9ab3f21b8d5ffaf611c8db30a86b26e59199f1537a14dL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77969877</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: 5e24012deeb9a24e4081dd8730252e1994a4ccff</div><div id='time'> Time: 2020-07-28</div><div id='author'> Author: 297086016@qq.com</div><div id='file'> File Name: sampler/sampler.py</div><div id='m_class'> M Class Name: Sampler</div><div id='n_method'> N Class Name: Sampler</div><div id='m_method'> M Method Name: sample_by_user_id(4)</div><div id='n_method'> N Method Name: sample_by_user_id(4)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: sampler/sampler.py</div><div id='n_file'> N File Name: sampler/sampler.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 60</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 63</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                continue

            group_src_idxs, group_tgt_idxs = zip(*group)
            group_src_idxs<a id="change"> = </a>list(<a id="change">set(</a>group_src_idxs<a id="change">)</a>)
            group_tgt_idxs = list(set(group_tgt_idxs))

            &#47&#47 don&quott split existing MWE groups but just add them as one group</code></pre><h3>After Change</h3><pre><code class='java'>
                            is_mwe = self.group_mwe and self._is_mwe(src_comb, tgt_comb)

                        &#47&#47 if a combination is a valid MWE, don&quott split them up based on subtrees
                        if <a id="change">is_mwe or (
                            self._is_valid_subtree(src_comb, "src")
                            and self._is_valid_subtree(tgt_comb, "tgt")
                        )</a>:
                            &#47&#47 Keep track of src+tgt idxs that are already grouped
                            src_idxs_grouped.update(src_comb)
                            tgt_idxs_grouped.update(tgt_comb)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bramvanroy/astred/commit/d33ce0001d30b65489ec7885bf685b4488970bf6#diff-5d531d4b0ce5e83e6e83b4271f9f972c921eb0bef51a9ce0783b736de775cda4L131' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77969863</div><div id='project'> Project Name: bramvanroy/astred</div><div id='commit'> Commit Name: d33ce0001d30b65489ec7885bf685b4488970bf6</div><div id='time'> Time: 2020-03-02</div><div id='author'> Author: Bram.Vanroy@UGent.be</div><div id='file'> File Name: sac/sac.py</div><div id='m_class'> M Class Name: SAC</div><div id='n_method'> N Class Name: SAC</div><div id='m_method'> M Method Name: regroup_by_subtrees(1)</div><div id='n_method'> N Method Name: regroup_by_subtrees(1)</div><div id='m_parent_class'> M Parent Class: _Cross</div><div id='n_parent_class'> N Parent Class: _Cross</div><div id='m_file'> M File Name: sac/sac.py</div><div id='n_file'> N File Name: sac/sac.py</div><div id='m_start'> M Start Line: 136</div><div id='m_end'> M End Line: 197</div><div id='n_start'> N Start Line: 153</div><div id='n_end'> N End Line: 230</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if isinstance(defaulted, dict):
        if not isinstance(obj, dict):
            return
        common_keys<a id="change"> = </a><a id="change">set(</a>defaulted.keys()<a id="change">)</a>.intersection(set(obj.keys()))
        return {k: strip_runtime_defaultable(obj.get(k), defaulted.get(k)) for k in common_keys}

    &#47&#47 Recurse through lists.</code></pre><h3>After Change</h3><pre><code class='java'>
    Recursively find strings of "*" in defaulted and set corresponding non-None values in obj to
    also be "*", so that equality tests will pass.
    
    if <a id="change">defaulted is None or obj is None</a>:
        return obj

    if isinstance(defaulted, str):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/67de93a1de1c8caeecfd663eabe54d1fc8761ac7#diff-3ee1937a11cbe6b9529f60505cb324ecfc9fbb6497e7e121054b6613e9361516L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77969872</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 67de93a1de1c8caeecfd663eabe54d1fc8761ac7</div><div id='time'> Time: 2021-04-14</div><div id='author'> Author: rb@determined.ai</div><div id='file'> File Name: harness/tests/common/test_schemas.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: strip_runtime_defaultable(2)</div><div id='n_method'> N Method Name: strip_runtime_defaultable(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/tests/common/test_schemas.py</div><div id='n_file'> N File Name: harness/tests/common/test_schemas.py</div><div id='m_start'> M Start Line: 18</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 42</div><BR>