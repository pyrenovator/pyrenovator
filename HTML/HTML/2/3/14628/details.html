<html><h3>Pattern ID :14628
</h3><img src='47986340.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    for _ in tqdm(range(num_train_steps - model.steps), mininterval=10., desc=f&quot{name}&lt;{data}&gt;&quot):
        retry_call(model.train, tries=3, exceptions=NanException)
        <a id="change">if </a>_ % 50 == 0:
            model.print_log()

def main():</code></pre><h3>After Change</h3><pre><code class='java'>
    )

    if generate:
        model<a id="change"> = </a><a id="change">Trainer(**model_args)</a>
        model.load(load_from)
        samples_name = timestamped_filename()
        model.evaluate(samples_name, num_image_tiles)
        print(f&quotsample images generated at {results_dir}/{name}/{samples_name}&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lucidrains/stylegan2-pytorch/commit/d0bab1360d59ed7a5930c4ba82f8781753ee0ccb#diff-dac30a56d2934224b18a3e924f7150cab3a316b8183e4b3cd130294635e3cb22L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47986340</div><div id='project'> Project Name: lucidrains/stylegan2-pytorch</div><div id='commit'> Commit Name: d0bab1360d59ed7a5930c4ba82f8781753ee0ccb</div><div id='time'> Time: 2020-09-23</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: stylegan2_pytorch/cli.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_from_folder(32)</div><div id='n_method'> N Method Name: train_from_folder(32)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: stylegan2_pytorch/cli.py</div><div id='n_file'> N File Name: stylegan2_pytorch/cli.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 98</div><div id='n_end'> N End Line: 149</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            batch_size (int): Batch size for torch.utils.data.DataLoader
        

        <a id="change">if </a>not isinstance(self.optimizer, optim.Optimizer):
            self.optimizer = self.optimizer(self.parameters())

        dataset = TensorDataset(x, y)</code></pre><h3>After Change</h3><pre><code class='java'>
        
        dataset = TensorDataset(x, y)
        loader = DataLoader(dataset, batch_size=batch_size, shuffle=True)
        trainer<a id="change"> = </a><a id="change">Trainer(max_epochs=max_epochs)</a>
        trainer.fit(self, loader)

    def training_step(self, batch, batch_idx):
        Trains model for one step.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rose-stl-lab/torchts/commit/4ffad7765c0fe2161c1ff7d46ac763ae44249b2d#diff-b36048e6a0e6e946db777f230093f01699228a4e83e82286c06231bea8dc67c4L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47986341</div><div id='project'> Project Name: rose-stl-lab/torchts</div><div id='commit'> Commit Name: 4ffad7765c0fe2161c1ff7d46ac763ae44249b2d</div><div id='time'> Time: 2021-04-30</div><div id='author'> Author: lane.kevin.a@gmail.com</div><div id='file'> File Name: torchts/nn/model.py</div><div id='m_class'> M Class Name: TimeSeriesModel</div><div id='n_method'> N Class Name: TimeSeriesModel</div><div id='m_method'> M Method Name: fit(5)</div><div id='n_method'> N Method Name: fit(5)</div><div id='m_parent_class'> M Parent Class: LightningModule</div><div id='n_parent_class'> N Parent Class: ABC,nn.Module</div><div id='m_file'> M File Name: torchts/nn/model.py</div><div id='n_file'> N File Name: torchts/nn/model.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    while lr &gt; args.min_lr and epoch_itr.next_epoch_idx &lt;= max_epoch:
        &#47&#47 train for one epoch
        valid_losses, should_stop = train(args, trainer, task, epoch_itr)
        <a id="change">if </a>should_stop:
            break

        &#47&#47 only use first validation loss to update the learning rate</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 Build trainer
    if args.model_parallel_size == 1:
        trainer<a id="change"> = </a><a id="change">Trainer(</a>args, task, model, criterion, quantizer<a id="change">)</a>
    else:
        trainer = MegatronTrainer(args, task, model, criterion)
    print("created trainer")
    logger.info(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/saareliad/ftpipe/commit/d2676db510713ec01b1f0ec8f0ab136c84f34da7#diff-17793a60076676ec15b60e494c440cf935321346dc032e5608e855c5f2ba631bL42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47986338</div><div id='project'> Project Name: saareliad/ftpipe</div><div id='commit'> Commit Name: d2676db510713ec01b1f0ec8f0ab136c84f34da7</div><div id='time'> Time: 2020-08-03</div><div id='author'> Author: alondede-jager@campus.technion.ac.il</div><div id='file'> File Name: megatron/megatron.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: megatron/megatron.py</div><div id='n_file'> N File Name: megatron/megatron.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 131</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 132</div><BR>