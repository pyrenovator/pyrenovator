<html><h3>Pattern ID :39353
</h3><img src='111664119.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    plt.xlabel("Inputs")
    plt.ylabel("Outputs")
    plt.xticks(range(len(att[0])), labels=phones)
    <a id="change">plt.tight_layout()</a>
    if not os.path.exists(os.path.join(att_dir, "attention_plots")):
        os.makedirs(os.path.join(att_dir, "attention_plots"))
    plt.savefig(os.path.join(os.path.join(att_dir, "attention_plots"), str(step) + ".png"))
    plt.clf()</code></pre><h3>After Change</h3><pre><code class='java'>
    ax[0].set_title("Soft-Attention")
    ax[1].set_title("Hard-Attention")
    fig.tight_layout()
    <a id="change">plt.rcParams[&quotaxes.titley&quot]</a> = 1.0
    plt.rcParams[&quotaxes.titlepad&quot] = -14
    plt.subplots_adjust(hspace=0.0)
    if not os.path.exists(os.path.join(att_dir, "attention_plots")):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/f4b6225ffb1360b67aca1559ae7fb18b17788dbf#diff-50506526d43ed453ff387fee15511f145ae91f8e336dbcc118883a5d89a1232cL29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111664119</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: f4b6225ffb1360b67aca1559ae7fb18b17788dbf</div><div id='time'> Time: 2021-09-26</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: TrainingInterfaces/Text_to_Spectrogram/Tacotron2/tacotron2_train_loop.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_attention(7)</div><div id='n_method'> N Method Name: plot_attention(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingInterfaces/Text_to_Spectrogram/Tacotron2/tacotron2_train_loop.py</div><div id='n_file'> N File Name: TrainingInterfaces/Text_to_Spectrogram/Tacotron2/tacotron2_train_loop.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        feat_actors = []
        for idx in range(batch_size):
            feat_actors.append(axes[idx].imshow(feats[idx].numpy().transpose()))
        <a id="change">fig.tight_layout(h_pad=2)</a>
        fig.colorbar(feat_actors[-1], ax=axes)

    if supervisions and &quotsupervisions&quot in batch:
        sups = batch[&quotsupervisions&quot]</code></pre><h3>After Change</h3><pre><code class='java'>

    if &quotinputs&quot in batch:
        &#47&#47 For now, assume it is features and not multi-channel audio...
        if len(<a id="change">batch[&quotinputs&quot]</a>.shape) == 3:
            _plot_features(key=&quotinputs&quot)
        else:
            raise NotImplementedError("We could not infer what does the key &quotinputs&quot represent yet.")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lhotse-speech/lhotse/commit/7fd0e70947fe35774763812f8438086b41afd4e6#diff-beb82f84412676553e157c4982d8b7581f1a59470e2e5a5cb22e8128fa04a3e8L4' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111664122</div><div id='project'> Project Name: lhotse-speech/lhotse</div><div id='commit'> Commit Name: 7fd0e70947fe35774763812f8438086b41afd4e6</div><div id='time'> Time: 2021-03-19</div><div id='author'> Author: petezor@gmail.com</div><div id='file'> File Name: lhotse/dataset/vis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_batch(3)</div><div id='n_method'> N Method Name: plot_batch(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lhotse/dataset/vis.py</div><div id='n_file'> N File Name: lhotse/dataset/vis.py</div><div id='m_start'> M Start Line: 10</div><div id='m_end'> M End Line: 18</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            ax.set_xlabel(kwargs[&quotxlabel&quot])
        if &quotylabel&quot in kwargs:
            ax.set_ylabel(kwargs[&quotylabel&quot])
        <a id="change">fig.tight_layout()</a>

        if &quotsavepath&quot in kwargs:
            fig.savefig(kwargs[&quotsavepath&quot], dpi=kwargs[&quotdpi&quot] if &quotdpi&quot in kwargs else &quotfigure&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>
            self.ax.set_xlabel(kwargs[&quotxlabel&quot])
        if &quotylabel&quot in kwargs:
            self.ax.set_ylabel(kwargs[&quotylabel&quot])
        if &quotshow_legend&quot in kwargs and <a id="change">kwargs[&quotshow_legend&quot]</a>:
            leg = self.ax.legend(frameon=False)
            for lh in leg.legendHandles:
                lh._sizes = [plt.rcParams[&quotfont.size&quot] * 2.4]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/royerlab/cytoself/commit/78d4000b022c313dd856d34a092b91e434f674a2#diff-99d84aa646efd2460378cdd6b36eff885479c687d497e6476c03aa9bb4049a87L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 111664121</div><div id='project'> Project Name: royerlab/cytoself</div><div id='commit'> Commit Name: 78d4000b022c313dd856d34a092b91e434f674a2</div><div id='time'> Time: 2022-06-24</div><div id='author'> Author: liamiiliil@gmail.com</div><div id='file'> File Name: cytoself/analysis/analysis_opencell.py</div><div id='m_class'> M Class Name: AnalysisOpenCell</div><div id='n_method'> N Class Name: AnalysisOpenCell</div><div id='m_method'> M Method Name: plot_umap_of_embedding_vector(8)</div><div id='n_method'> N Method Name: plot_umap_of_embedding_vector(8)</div><div id='m_parent_class'> M Parent Class: BaseAnalysis</div><div id='n_parent_class'> N Parent Class: BaseAnalysis</div><div id='m_file'> M File Name: cytoself/analysis/analysis_opencell.py</div><div id='n_file'> N File Name: cytoself/analysis/analysis_opencell.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 83</div><BR>