<html><h3>Pattern ID :13586
</h3><img src='45668287.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        save_path=None,
    ):

        dl_train<a id="change"> = </a>dataset.prepare("train", col_set=["feature", "label"], data_key=DataHandlerLP.DK_L)
        dl_valid = dataset.prepare("valid", col_set=["feature", "label"], data_key=DataHandlerLP.DK_L)

        <a id="change">dl_train.config(fillna_type="ffill+bfill")</a>  &#47&#47 process nan brought by dataloader
        dl_valid.config(fillna_type="ffill+bfill")  &#47&#47 process nan brought by dataloader

        train_loader = DataLoader(</code></pre><h3>After Change</h3><pre><code class='java'>
    ):

        df_train, df_valid, df_test = dataset.prepare(
            <a id="change">[</a>"train", "valid", "test"<a id="change"></a>],
            col_set=["feature", "label"],
            data_key=DataHandlerLP.DK_L,
        )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/bee031af68cd0864c8329de13608c2d4feb58fc1#diff-fe0bd624f58dd8fe7dd95d97a1d8ef4de2800a5a92cb439e19aee34c6628b9bfL154' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45668287</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: bee031af68cd0864c8329de13608c2d4feb58fc1</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: yl3851@uw.edu</div><div id='file'> File Name: qlib/contrib/model/pytorch_localformer.py</div><div id='m_class'> M Class Name: LocalformerModel</div><div id='n_method'> N Class Name: LocalformerModel</div><div id='m_method'> M Method Name: fit(4)</div><div id='n_method'> N Method Name: fit(4)</div><div id='m_parent_class'> M Parent Class: Model</div><div id='n_parent_class'> N Parent Class: Model</div><div id='m_file'> M File Name: qlib/contrib/model/pytorch_localformer.py</div><div id='n_file'> N File Name: qlib/contrib/model/pytorch_localformer.py</div><div id='m_start'> M Start Line: 154</div><div id='m_end'> M End Line: 165</div><div id='n_start'> N Start Line: 173</div><div id='n_end'> N End Line: 200</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        save_path=None,
    ):

        dl_train<a id="change"> = </a>dataset.prepare("train", col_set=["feature", "label"], data_key=DataHandlerLP.DK_L)
        dl_valid = dataset.prepare("valid", col_set=["feature", "label"], data_key=DataHandlerLP.DK_L)

        <a id="change">dl_train.config(fillna_type="ffill+bfill")</a>  &#47&#47 process nan brought by dataloader
        dl_valid.config(fillna_type="ffill+bfill")  &#47&#47 process nan brought by dataloader

        train_loader = DataLoader(</code></pre><h3>After Change</h3><pre><code class='java'>
    ):

        df_train, df_valid, df_test = dataset.prepare(
            <a id="change">[</a>"train", "valid", "test"<a id="change"></a>],
            col_set=["feature", "label"],
            data_key=DataHandlerLP.DK_L,
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/bee031af68cd0864c8329de13608c2d4feb58fc1#diff-82a48ba3edeb02bda1232a9cf7a21b13b2ab82fa992719af2e4494d6fe969887L144' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45668290</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: bee031af68cd0864c8329de13608c2d4feb58fc1</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: yl3851@uw.edu</div><div id='file'> File Name: qlib/contrib/model/pytorch_transformer.py</div><div id='m_class'> M Class Name: TransformerModel</div><div id='n_method'> N Class Name: TransformerModel</div><div id='m_method'> M Method Name: fit(4)</div><div id='n_method'> N Method Name: fit(4)</div><div id='m_parent_class'> M Parent Class: Model</div><div id='n_parent_class'> N Parent Class: Model</div><div id='m_file'> M File Name: qlib/contrib/model/pytorch_transformer.py</div><div id='n_file'> N File Name: qlib/contrib/model/pytorch_transformer.py</div><div id='m_start'> M Start Line: 151</div><div id='m_end'> M End Line: 162</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 199</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )

    q = api.GraphQLQuery(args.master)
    exps<a id="change"> = </a>q.op.experiments(order_by=[gql.experiments_order_by(id=gql.order_by.desc)], where=where)
    exps.archived()
    <a id="change">exps.config()</a>
    exps.end_time()
    exps.id()
    exps.owner.username()
    exps.progress()</code></pre><h3>After Change</h3><pre><code class='java'>

@authentication_required
def list_experiments(args: Namespace) -&gt; None:
    params = <a id="change">{}</a>
    if args.all:
        params["filter"] = "all"
    else:
        params["user"] = api.Authentication.instance().get_session_user()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/91015ac3ed20ca0515253bc99b6329cd11d05d43#diff-2d204645b55b127d1c0b1ac83a10f14e1bb496e11d9191e614ea4e12b42d22d3L602' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45668291</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 91015ac3ed20ca0515253bc99b6329cd11d05d43</div><div id='time'> Time: 2020-05-11</div><div id='author'> Author: yoni@determined.ai</div><div id='file'> File Name: cli/determined_cli/experiment.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: list_experiments(1)</div><div id='n_method'> N Method Name: list_experiments(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cli/determined_cli/experiment.py</div><div id='n_file'> N File Name: cli/determined_cli/experiment.py</div><div id='m_start'> M Start Line: 603</div><div id='m_end'> M End Line: 642</div><div id='n_start'> N Start Line: 541</div><div id='n_end'> N End Line: 567</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
@authentication_required
def list_template(args: Namespace) -&gt; None:
    q = api.GraphQLQuery(args.master)
    tmpl<a id="change"> = </a>q.op.templates()
    tmpl.name()
    if args.details:
        <a id="change">tmpl.config()</a>
    resp = q.send()
    print(resp)

    if args.details:</code></pre><h3>After Change</h3><pre><code class='java'>
@authentication_required
def list_template(args: Namespace) -&gt; None:
    templates = [
        render.unmarshal(TemplateAll, t, <a id="change">{</a>"config": _parse_config<a id="change">}</a>)
        for t in api.get(args.master, path="templates").json()
    ]
    if args.details:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/3fb3d1d9489a49ffdb8e5feffcb9d6e099c0c434#diff-ab96ea58c137a9e5522d54ece883f681e1b6071c5ed544d0cfefb96f1edab4f5L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45668292</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 3fb3d1d9489a49ffdb8e5feffcb9d6e099c0c434</div><div id='time'> Time: 2020-04-22</div><div id='author'> Author: yoni@determined.ai</div><div id='file'> File Name: cli/determined_cli/template.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: list_template(1)</div><div id='n_method'> N Method Name: list_template(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cli/determined_cli/template.py</div><div id='n_file'> N File Name: cli/determined_cli/template.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 33</div><BR>