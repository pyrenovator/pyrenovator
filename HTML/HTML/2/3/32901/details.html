<html><h3>Pattern ID :32901
</h3><img src='95423673.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        for i in range(len(val_ids)):
            ids = self.ids_list[manifest_id]
            sample = ids[val_ids[i]<a id="change"> % </a><a id="change">len(</a>val_ids<a id="change">)</a>]
            audio_path, transcript_path = sample[0], sample[1]
            spect = self.parse_audio(audio_path)[:,:self.args.src_max_len]
            transcript = self.parse_transcript(transcript_path)</code></pre><h3>After Change</h3><pre><code class='java'>
            return len(p)

        ids = self.ids_list[manifest_id]
        shuffled_indices = <a id="change">np.random.choice(</a>np.arange(0, len(ids)), k_train + k_val<a id="change">, replace=True)</a>
        tr_ids = shuffled_indices[:k_train]
        val_ids = shuffled_indices[k_train:k_train+k_val]
        
        tr_spect, tr_transcript = [], []</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/audioku/cross-accent-maml-asr/commit/b0cd9f343ccf5537bc4bcb72b885f577385f2610#diff-f878399500f86ea3dd0a3e52e22ce69dbaac44dab45a8d11ad9abe2361d564bdL249' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95423673</div><div id='project'> Project Name: audioku/cross-accent-maml-asr</div><div id='commit'> Commit Name: b0cd9f343ccf5537bc4bcb72b885f577385f2610</div><div id='time'> Time: 2019-11-15</div><div id='author'> Author: scahyawijaya@connect.ust.hk</div><div id='file'> File Name: utils/data_loader.py</div><div id='m_class'> M Class Name: SpectrogramDataset</div><div id='n_method'> N Class Name: SpectrogramDataset</div><div id='m_method'> M Method Name: sample(4)</div><div id='n_method'> N Method Name: sample(4)</div><div id='m_parent_class'> M Parent Class: SpectrogramParser,Dataset</div><div id='n_parent_class'> N Parent Class: SpectrogramParser,Dataset</div><div id='m_file'> M File Name: utils/data_loader.py</div><div id='n_file'> N File Name: utils/data_loader.py</div><div id='m_start'> M Start Line: 249</div><div id='m_end'> M End Line: 272</div><div id='n_start'> N Start Line: 250</div><div id='n_end'> N End Line: 269</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for src in self.hg.nodes(nt):
                for i in range(self.k):
                    et = self.nt_et[nt][random.randint(0, len(self.nt_et[nt])-1)]
                    dst = self.hg.successors(src, et)[random.randint(0, <a id="change">len(</a>self.hg.successors(src, et)<a id="change">)-</a>1)]
                    if et not in pos_dict:
                        pos_dict[et] = ([src], [dst])
                    else:</code></pre><h3>After Change</h3><pre><code class='java'>

                    wrong_et = random.choice(self.ets)
                    while wrong_et == et:
                        wrong_et = <a id="change">random.choice(</a>self.ets<a id="change">)</a>
                    wrong_et = (et[0], wrong_et[1], et[2])

                    if wrong_et not in neg_dict1:
                        neg_dict1[wrong_et] = ([src], [dst])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bupt-gamma/openhgnn/commit/66ed299958dce14e36a1ce145d35735cd4c4c954#diff-b4fc0a9e67953e6a78eca7999f2902ab88972db9cf5ad25a54056d2425c74918L109' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95423675</div><div id='project'> Project Name: bupt-gamma/openhgnn</div><div id='commit'> Commit Name: 66ed299958dce14e36a1ce145d35735cd4c4c954</div><div id='time'> Time: 2022-04-22</div><div id='author'> Author: 193691140@qq.com</div><div id='file'> File Name: openhgnn/trainerflow/HeGAN_trainer.py</div><div id='m_class'> M Class Name: GraphSampler</div><div id='n_method'> N Class Name: GraphSampler</div><div id='m_method'> M Method Name: sample_graph_for_dis(1)</div><div id='n_method'> N Method Name: sample_graph_for_dis(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: openhgnn/trainerflow/HeGAN_trainer.py</div><div id='n_file'> N File Name: openhgnn/trainerflow/HeGAN_trainer.py</div><div id='m_start'> M Start Line: 110</div><div id='m_end'> M End Line: 138</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        pi = visits**(1/tau)/np.sum(visits**(1/tau))
        &#47&#47 添加狄利克雷噪声
        if self.is_self_play:
            pi = 0.75*pi + 0.25<a id="change">*</a>np.random.dirichlet(0.03*<a id="change">len(</a>pi<a id="change">)</a>)

        &#47&#47 根据 pi 选出动作及其对应节点
        action = np.random.choice(self.root.children.keys(), p=pi)</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 根据 pi 选出动作及其对应节点
        actions = list(self.root.children.keys())
        action = <a id="change">np.random.choice(</a>actions<a id="change">, p=pi_)</a>

        if self.is_self_play:
            &#47&#47 创建维度为 board_len^2 的 π
            pi = np.zeros(chess_board.board_len**2)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zhiyiyo/alpha-gobang-zero/commit/45800650067573be6b87512b4273b557d704bb54#diff-ce5039d914f2cfb0f13595bd19a5525cbce4c0eaf8ca5428266f6bc004895602L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95423660</div><div id='project'> Project Name: zhiyiyo/alpha-gobang-zero</div><div id='commit'> Commit Name: 45800650067573be6b87512b4273b557d704bb54</div><div id='time'> Time: 2021-03-26</div><div id='author'> Author: 1319158137@qq.com</div><div id='file'> File Name: alphazero/alpha_zero_mcts.py</div><div id='m_class'> M Class Name: AlphaZeroMCTS</div><div id='n_method'> N Class Name: AlphaZeroMCTS</div><div id='m_method'> M Method Name: get_action(2)</div><div id='n_method'> N Method Name: get_action(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: alphazero/alpha_zero_mcts.py</div><div id='n_file'> N File Name: alphazero/alpha_zero_mcts.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 96</div><BR>