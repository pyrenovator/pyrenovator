<html><h3>Pattern ID :7988
</h3><img src='28416469.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 initialize model
        if gpu_id:
            self.device = torch.device(
                f&quotcuda:{gpu_id}&quot<a id="change"> if torch.cuda.is_available()</a><a id="change"> else </a>&quotcpu&quot) if device is None else device
        else:
            self.device = torch.device(&quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot) if device is None else device
        &#47&#47 if the model_path starts with https, it will first download models to the folder: realesrgan/weights</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 else:
        &#47&#47     self.device = torch.device(&quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot) if device is None else device

        self.device = <a id="change">get_device(</a>gpu_id<a id="change">)</a> if device is None else device
        
        &#47&#47 if the model_path starts with https, it will first download models to the folder: realesrgan/weights
        if model_path.startswith(&quothttps://&quot):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sczhou/codeformer/commit/07c8cc6f6d9b5aee87046177a8d429ec041da54a#diff-892ca18bc1ec8a6270d8961318654133b86bea4bf806217ace8f8a7e49dd35d7L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28416469</div><div id='project'> Project Name: sczhou/codeformer</div><div id='commit'> Commit Name: 07c8cc6f6d9b5aee87046177a8d429ec041da54a</div><div id='time'> Time: 2023-01-20</div><div id='author'> Author: shangchenzhou@gmail.com</div><div id='file'> File Name: basicsr/utils/realesrgan_utils.py</div><div id='m_class'> M Class Name: RealESRGANer</div><div id='n_method'> N Class Name: RealESRGANer</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: basicsr/utils/realesrgan_utils.py</div><div id='n_file'> N File Name: basicsr/utils/realesrgan_utils.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.pad_input_imgs = []

        if device is None:
            self.device = torch.device(&quotcuda&quot<a id="change"> if torch.cuda.is_available()</a><a id="change"> else </a>&quotcpu&quot)
        else:
            self.device = device
</code></pre><h3>After Change</h3><pre><code class='java'>

        if device is None:
            &#47&#47 self.device = torch.device(&quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot)
            self.device = <a id="change">get_device()</a>
        else:
            self.device = device

        &#47&#47 init face detection model</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sczhou/codeformer/commit/07c8cc6f6d9b5aee87046177a8d429ec041da54a#diff-b834cf945a76e783c9d65f0aa7ef6e90c3b7c14c36e7bfb902bc6acbebd9289fL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28416471</div><div id='project'> Project Name: sczhou/codeformer</div><div id='commit'> Commit Name: 07c8cc6f6d9b5aee87046177a8d429ec041da54a</div><div id='time'> Time: 2023-01-20</div><div id='author'> Author: shangchenzhou@gmail.com</div><div id='file'> File Name: facelib/utils/face_restoration_helper.py</div><div id='m_class'> M Class Name: FaceRestoreHelper</div><div id='n_method'> N Class Name: FaceRestoreHelper</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: facelib/utils/face_restoration_helper.py</div><div id='n_file'> N File Name: facelib/utils/face_restoration_helper.py</div><div id='m_start'> M Start Line: 100</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 102</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        cache_forward_pass = False

    if device is None:
        device = torch.device("cuda"<a id="change"> if torch.cuda.is_available()</a><a id="change"> else </a>"cpu")

    validate_user_params(
        input_data, input_size, columns, col_width, device, dtypes, verbose</code></pre><h3>After Change</h3><pre><code class='java'>
        cache_forward_pass = False

    if device is None:
        device = <a id="change">get_device(</a>model<a id="change">)</a>

    validate_user_params(
        input_data, input_size, columns, col_width, device, dtypes, verbose
    )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tyleryep/torchinfo/commit/8305e1fbafb463b366f5abf9235e6fb4bde011c0#diff-2642c7b47aafa9ce78758f30d62959e2a563c9b6b235bdfb512097f808e616c5L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 28416472</div><div id='project'> Project Name: tyleryep/torchinfo</div><div id='commit'> Commit Name: 8305e1fbafb463b366f5abf9235e6fb4bde011c0</div><div id='time'> Time: 2023-01-12</div><div id='author'> Author: sebastian.nicolas.mueller@gmail.com</div><div id='file'> File Name: torchinfo/torchinfo.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: summary(13)</div><div id='n_method'> N Method Name: summary(13)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchinfo/torchinfo.py</div><div id='n_file'> N File Name: torchinfo/torchinfo.py</div><div id='m_start'> M Start Line: 209</div><div id='m_end'> M End Line: 209</div><div id='n_start'> N Start Line: 209</div><div id='n_end'> N End Line: 209</div><BR>