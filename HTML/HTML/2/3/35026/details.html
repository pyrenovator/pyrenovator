<html><h3>Pattern ID :35026
</h3><img src='100096950.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            y = train_data.value_list[1].clone()&#47&#47label
        elif get_backend() == &quottensorflow&quot:
            x = copy.deepcopy(train_data.value_list[0])  &#47&#47 input
            y = <a id="change">copy.deepcopy(</a>train_data.value_list[1]<a id="change">)</a> &#47&#47 label
        model=training_context[&quotcurrent_model&quot]

        if self.alpha &gt; 0:</code></pre><h3>After Change</h3><pre><code class='java'>
                        array2image(item).save(&quotResults/mixup_{0}.jpg&quot.format(get_time_suffix()))
                elif self.save_path is not None:
                    for item in x:
                        item = unnormalize([0.485, 0.456, 0.406], <a id="change">[</a>0.229, 0.224, 0.225<a id="change"></a>])(to_numpy(item))
                        item<a id="change"> = </a>unnormalize(0, 255)(item)
                        array2image(item).save(os.path.join(self.save_path, &quotmixup_{0}.jpg&quot.format(get_time_suffix())))

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/allanyiin/trident/commit/639105c7af3a4bfc6b80f232b1f1dc303a735b76#diff-87f1d359e49f5d7192ecc96a128fca1efb648962c392ccec2f70ab037cc24047L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100096950</div><div id='project'> Project Name: allanyiin/trident</div><div id='commit'> Commit Name: 639105c7af3a4bfc6b80f232b1f1dc303a735b76</div><div id='time'> Time: 2020-11-29</div><div id='author'> Author: allan@asiaminer.com.tw</div><div id='file'> File Name: trident/callbacks/regularization_callbacks.py</div><div id='m_class'> M Class Name: MixupCallback</div><div id='n_method'> N Class Name: MixupCallback</div><div id='m_method'> M Method Name: on_loss_calculation_end(2)</div><div id='n_method'> N Method Name: on_loss_calculation_end(2)</div><div id='m_parent_class'> M Parent Class: RegularizationCallbacksBase</div><div id='n_parent_class'> N Parent Class: RegularizationCallbacksBase</div><div id='m_file'> M File Name: trident/callbacks/regularization_callbacks.py</div><div id='n_file'> N File Name: trident/callbacks/regularization_callbacks.py</div><div id='m_start'> M Start Line: 55</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 105</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if  image_orientation_paient_de != None :
                orientation = image_orientation_paient_de.value
                series.row_direction_cosine = copy.deepcopy(orientation[0:3])
                series.col_direction_cosine = <a id="change">copy.deepcopy(</a>orientation[3:6]<a id="change">)</a>
        except KeyError:
            pass

</code></pre><h3>After Change</h3><pre><code class='java'>
            image_orientation_paient_de = sop_instance[0x0020, 0x0037]
            if  image_orientation_paient_de != None :
                orientation_orig = image_orientation_paient_de.value
                orientation<a id="change"> = </a><a id="change">[</a>0.0, 0.0, 0.0, 0.0, 0.0, 0.0<a id="change"></a>]
                for index, name in enumerate(orientation_orig):
                    orientation[index] = float(orientation_orig[index])
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/project-monai/monai-deploy-app-sdk/commit/13ba7b604c4e34e66ec62fe36f0e0f171efd1784#diff-5a1261b0d3a3d7f250faf8c735e1efd3be3565a96db31ac2b233c46f3e409766L140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100096933</div><div id='project'> Project Name: project-monai/monai-deploy-app-sdk</div><div id='commit'> Commit Name: 13ba7b604c4e34e66ec62fe36f0e0f171efd1784</div><div id='time'> Time: 2021-08-06</div><div id='author'> Author: rahulc@nvidia.com</div><div id='file'> File Name: monai/deploy/operators/dicom_data_loader_operator.py</div><div id='m_class'> M Class Name: DICOMDataLoaderOperator</div><div id='n_method'> N Class Name: DICOMDataLoaderOperator</div><div id='m_method'> M Method Name: populate_series_attributes(3)</div><div id='n_method'> N Method Name: populate_series_attributes(3)</div><div id='m_parent_class'> M Parent Class: Operator</div><div id='n_parent_class'> N Parent Class: Operator</div><div id='m_file'> M File Name: monai/deploy/operators/dicom_data_loader_operator.py</div><div id='n_file'> N File Name: monai/deploy/operators/dicom_data_loader_operator.py</div><div id='m_start'> M Start Line: 203</div><div id='m_end'> M End Line: 224</div><div id='n_start'> N Start Line: 232</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    client.send_time_cost[&quottotal_cost&quot] / client.send_time_cost[&quotnum_rounds&quot]
            if client_time_cost &lt;= self.time_threthold:
                self.uploaded_weights.append(client.train_samples / active_train_samples)
                self.uploaded_models.append(<a id="change">copy.deepcopy(</a>client.model<a id="change">)</a>)

    def add_parameters(self, w, client_model):
        for server_param, client_param in zip(self.global_model.parameters(), client_model.parameters()):</code></pre><h3>After Change</h3><pre><code class='java'>

        self.uploaded_weights = []
        tot_samples = 0
        self.uploaded_ids<a id="change"> = </a><a id="change">[]</a>
        self.uploaded_models = []
        for client in self.selected_clients:
            self.uploaded_weights.append(client.train_samples)
            tot_samples += client.train_samples</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tsingz0/pfl-non-iid/commit/4f394efe04f30dbd3cab4278467631854f997903#diff-ac261f9cd25ad22dde1199e199bfa3189d71fd2a5e873894cab0119281e51cffL93' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100096946</div><div id='project'> Project Name: tsingz0/pfl-non-iid</div><div id='commit'> Commit Name: 4f394efe04f30dbd3cab4278467631854f997903</div><div id='time'> Time: 2022-01-14</div><div id='author'> Author: 2719584131@qq.com</div><div id='file'> File Name: system/flcore/servers/serverbase.py</div><div id='m_class'> M Class Name: Server</div><div id='n_method'> N Class Name: Server</div><div id='m_method'> M Method Name: receive_models(1)</div><div id='n_method'> N Method Name: receive_models(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: system/flcore/servers/serverbase.py</div><div id='n_file'> N File Name: system/flcore/servers/serverbase.py</div><div id='m_start'> M Start Line: 96</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 91</div><div id='n_end'> N End Line: 101</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def to_dict(self):
        Serializes this instance to a Python dictionary.
        output = <a id="change">copy.deepcopy(</a>self.__dict__<a id="change">)</a>
        return output

    def to_json_string(self):
        Serializes this instance to a JSON string.</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 output = copy.deepcopy(self.__dict__)
        _dict = self.__dict__
        &#47&#47 removes empty properties from `self.__dict__`
        output<a id="change"> = </a><a id="change">{}</a>
        for key, value in _dict.items():
            if value:
                output[key] = value
        return output</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hhousen/transformersum/commit/78035207adf6efb2e102e7a703f694df27075c4a#diff-d731aa0a69942c45b89e96b58be82442077536914f50df9a49d7ce411b10e15dL98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100096942</div><div id='project'> Project Name: hhousen/transformersum</div><div id='commit'> Commit Name: 78035207adf6efb2e102e7a703f694df27075c4a</div><div id='time'> Time: 2020-04-06</div><div id='author'> Author: hayden@haydenhousen.com</div><div id='file'> File Name: data.py</div><div id='m_class'> M Class Name: InputFeatures</div><div id='n_method'> N Class Name: InputFeatures</div><div id='m_method'> M Method Name: to_dict(1)</div><div id='n_method'> N Method Name: to_dict(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: data.py</div><div id='n_file'> N File Name: data.py</div><div id='m_start'> M Start Line: 100</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 224</div><div id='n_end'> N End Line: 230</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            bn_dict[conv_bn[0].name] = conv_bn[1]
            convs.append(conv_bn[0])

        bias1 = <a id="change">copy.deepcopy(</a>numpy_helper.to_array(ParamUtils.get_param(model.model, convs[1], BIAS_INDEX))<a id="change">)</a>
        cls = CrossLayerScaling(model)
        cls_set_info = cls.scale_model()
        hbf = HighBiasFold(model)
        hbf.bias_fold(cls_set_info, bn_dict)</code></pre><h3>After Change</h3><pre><code class='java'>
        hbf.bias_fold(cls_set_info, bn_dict)

        session = _build_session(model_onnx)
        output_after_hbf_onnx<a id="change"> = </a>session.run(None, <a id="change">{</a>&quotinput&quot: test_data<a id="change">}</a>)
        assert np.allclose(output_after_hbf_onnx, cle_out.detach().numpy(), rtol=1e-2)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/561eb0f70f1b9a8b5f8efbe82ff66c5da5dbe4cb#diff-e4f45301af3ca455a0c0247bab1f110651005f2bafd3c043b22658a18a9ce10eL182' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100096939</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 561eb0f70f1b9a8b5f8efbe82ff66c5da5dbe4cb</div><div id='time'> Time: 2023-04-26</div><div id='author'> Author: 63610745+quic-mangal@users.noreply.github.com</div><div id='file'> File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='m_class'> M Class Name: TestHighBiasFold</div><div id='n_method'> N Class Name: TestHighBiasFold</div><div id='m_method'> M Method Name: test_find_high_bias_fold(1)</div><div id='n_method'> N Method Name: test_find_high_bias_fold(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='n_file'> N File Name: TrainingExtensions/onnx/test/python/test_cross_layer_equalization.py</div><div id='m_start'> M Start Line: 183</div><div id='m_end'> M End Line: 199</div><div id='n_start'> N Start Line: 194</div><div id='n_end'> N End Line: 220</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                           activation_fn=self.activation))
                cc_input_dim = cc_out_dim

            self.cc_value_encoder = nn.Sequential(*<a id="change">copy.deepcopy(</a>cc_layers<a id="change">)</a>)

        if self.custom_config["opp_action_in_cc"]:
            if isinstance(self.custom_config["space_act"], Box):  &#47&#47 continuous</code></pre><h3>After Change</h3><pre><code class='java'>
                    cc_input_dim = self.custom_config["model_arch_args"]["out_channel_layer_{}".format(i)]

            else:
                cc_layers<a id="change"> = </a><a id="change">[]</a>
                cc_input_dim = self.full_obs_space["state"].shape[0] + self.full_obs_space["obs"].shape[0]
                for cc_out_dim in self.encoder_layer_dim:
                    cc_layers.append(
                        SlimFC(in_size=cc_input_dim,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/replicable-marl/marllib/commit/ad9e882a616f22e8a142a6247723317e04279f18#diff-2e6157510475ce2905ac3da508937348302cef81cd5f045ac93eb6794241d6d6L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 100096953</div><div id='project'> Project Name: replicable-marl/marllib</div><div id='commit'> Commit Name: ad9e882a616f22e8a142a6247723317e04279f18</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: hhhusiyi@163.com</div><div id='file'> File Name: marllib/marl/models/zoo/mlp/cc_mlp.py</div><div id='m_class'> M Class Name: CC_MLP</div><div id='n_method'> N Class Name: CC_MLP</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: Base_MLP</div><div id='n_parent_class'> N Parent Class: Base_MLP</div><div id='m_file'> M File Name: marllib/marl/models/zoo/mlp/cc_mlp.py</div><div id='n_file'> N File Name: marllib/marl/models/zoo/mlp/cc_mlp.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 70</div><BR>