<html><h3>Pattern ID :38198
</h3><img src='109453456.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def test_integrate():
    Tests the integrate function in integration.Trapezoid
    <a id="change">torch.set_default_tensor_type(</a>torch.DoubleTensor<a id="change">)</a>
    tp = Trapezoid()
    N = 100000

    &#47&#47 1D Tests</code></pre><h3>After Change</h3><pre><code class='java'>
def test_integrate():
    Tests the integrate function in integration.Trapezoid
    enable_cuda()
    <a id="change">set_precision("double"</a><a id="change">)</a>

    &#47&#47 Needs to happen after precision / device settings to avoid having some tensors intialized on cpu and some on GPU
    from tests.integration_test_utils import compute_test_errors
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/50b74d069223d108b99f4dadcd21f53bd846953c#diff-e453cac458d5d849e0b4687479e28fb823069ca3c1acf86406a7c7628aafeb80L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 109453456</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: 50b74d069223d108b99f4dadcd21f53bd846953c</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: contact@pablo-gomez.net</div><div id='file'> File Name: torchquad/tests/trapezoid_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_integrate(0)</div><div id='n_method'> N Method Name: test_integrate(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchquad/tests/trapezoid_test.py</div><div id='n_file'> N File Name: torchquad/tests/trapezoid_test.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 14</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 16</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_integrate():
    Tests the integrate function in integration.MonteCarlo
    <a id="change">torch.set_default_tensor_type(</a>torch.DoubleTensor<a id="change">)</a>
    N = 100000  &#47&#47 integration points to use
    torch.manual_seed(0)  &#47&#47 we have to seed torch to get reproducible results
    mc = MonteCarlo()
</code></pre><h3>After Change</h3><pre><code class='java'>
def test_integrate():
    Tests the integrate function in integration.MonteCarlo
    enable_cuda()
    <a id="change">set_precision("double"</a><a id="change">)</a>

    &#47&#47 Needs to happen after precision / device settings to avoid having some tensors intialized on cpu and some on GPU
    from tests.integration_test_utils import compute_test_errors
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/50b74d069223d108b99f4dadcd21f53bd846953c#diff-5984277366616d61273b489a6ee02eaad813800f74e7260175f4c7a499591658L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 109453457</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: 50b74d069223d108b99f4dadcd21f53bd846953c</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: contact@pablo-gomez.net</div><div id='file'> File Name: torchquad/tests/monte_carlo_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_integrate(0)</div><div id='n_method'> N Method Name: test_integrate(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchquad/tests/monte_carlo_test.py</div><div id='n_file'> N File Name: torchquad/tests/monte_carlo_test.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 37</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def test_integrate():
    Tests the integrate function in integration.Trapezoid
    &#47&#47 enable_cuda()
    <a id="change">torch.set_default_tensor_type(</a>torch.DoubleTensor<a id="change">)</a>

    vegas = VEGAS()

    &#47&#47 1D Tests</code></pre><h3>After Change</h3><pre><code class='java'>
def test_integrate():
    Tests the integrate function in integration.Trapezoid
    enable_cuda()
    <a id="change">set_precision("double"</a><a id="change">)</a>

    &#47&#47 Needs to happen after precision / device settings to avoid having some tensors intialized on cpu and some on GPU
    from tests.integration_test_utils import compute_test_errors
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/50b74d069223d108b99f4dadcd21f53bd846953c#diff-60958f34f9f003e9f3327c56ee89ebbe3b876673cb3914dfa53c1d509527481eL15' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 109453454</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: 50b74d069223d108b99f4dadcd21f53bd846953c</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: contact@pablo-gomez.net</div><div id='file'> File Name: torchquad/tests/vegas_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_integrate(0)</div><div id='n_method'> N Method Name: test_integrate(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchquad/tests/vegas_test.py</div><div id='n_file'> N File Name: torchquad/tests/vegas_test.py</div><div id='m_start'> M Start Line: 18</div><div id='m_end'> M End Line: 18</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 18</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_integrate():
    Tests the integrate function in integration.Boole
    <a id="change">torch.set_default_tensor_type(</a>torch.DoubleTensor<a id="change">)</a>
    bl = Boole()
    N = 401

    errors = compute_test_errors(bl.integrate, {"N": N, "dim": 1})</code></pre><h3>After Change</h3><pre><code class='java'>
def test_integrate():
    Tests the integrate function in integration.Boole
    enable_cuda()
    <a id="change">set_precision("double"</a><a id="change">)</a>

    &#47&#47 Needs to happen after precision / device settings to avoid having some tensors intialized on cpu and some on GPU
    from tests.integration_test_utils import compute_test_errors
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/50b74d069223d108b99f4dadcd21f53bd846953c#diff-07ef2febc077e14533759d7a4068a732970d476064446beb5312b3c4eae242a3L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 109453455</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: 50b74d069223d108b99f4dadcd21f53bd846953c</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: contact@pablo-gomez.net</div><div id='file'> File Name: torchquad/tests/boole_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_integrate(0)</div><div id='n_method'> N Method Name: test_integrate(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchquad/tests/boole_test.py</div><div id='n_file'> N File Name: torchquad/tests/boole_test.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 14</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 16</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_integrate():
    Tests the integrate function in integration.Simpson
    <a id="change">torch.set_default_tensor_type(</a>torch.DoubleTensor<a id="change">)</a>
    simp = Simpson()
    N = 100001

    errors = compute_test_errors(simp.integrate, {"N": N, "dim": 1})</code></pre><h3>After Change</h3><pre><code class='java'>
def test_integrate():
    Tests the integrate function in integration.Simpson
    enable_cuda()
    <a id="change">set_precision("double"</a><a id="change">)</a>

    &#47&#47 Needs to happen after precision / device settings to avoid having some tensors intialized on cpu and some on GPU
    from tests.integration_test_utils import compute_test_errors
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/esa/torchquad/commit/50b74d069223d108b99f4dadcd21f53bd846953c#diff-8c20e12645a1810ea706c4d7bcc6afb80893469135c129bf6de6f506d4a2322cL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 109453453</div><div id='project'> Project Name: esa/torchquad</div><div id='commit'> Commit Name: 50b74d069223d108b99f4dadcd21f53bd846953c</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: contact@pablo-gomez.net</div><div id='file'> File Name: torchquad/tests/simpson_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_integrate(0)</div><div id='n_method'> N Method Name: test_integrate(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchquad/tests/simpson_test.py</div><div id='n_file'> N File Name: torchquad/tests/simpson_test.py</div><div id='m_start'> M Start Line: 14</div><div id='m_end'> M End Line: 14</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 16</div><BR>