<html><h3>Pattern ID :32643
</h3><img src='95026585.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        text_file = self.text_files[key]
        image_file = self.image_files[key]

        image = <a id="change">Image.open(</a>image_file<a id="change">)</a>
        descriptions = text_file.read_text(encoding="utf-8")
        descriptions = remove_style(descriptions).split("\n")
        descriptions = list(filter(lambda t: len(t) &gt; 0, descriptions))</code></pre><h3>After Change</h3><pre><code class='java'>
        input_ids = flattened_dict["input_ids"]
        attention_mask = flattened_dict["attention_mask"]

        <a id="change">try:
            </a>image_tensor = self.image_transform(Image.open(image_file))
        <a id="change">except </a>(UnidentifiedImageError, OSError) as corrupt_image_exceptions:
            print(f"An exception occurred trying to load file {image_file}.")
            print(f"Skipping index {ind}")
            return self.skip_sample(ind)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/kr-happyface/kodalle/commit/df6635f023e98a36585cdc99f44dbed4a6417c27#diff-86393d83b45516ef8888170f0149c4c74625a15d65eb084d7f74df2bbf41d1f1L71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95026585</div><div id='project'> Project Name: kr-happyface/kodalle</div><div id='commit'> Commit Name: df6635f023e98a36585cdc99f44dbed4a6417c27</div><div id='time'> Time: 2021-12-20</div><div id='author'> Author: jjonhwa@naver.com</div><div id='file'> File Name: loader.py</div><div id='m_class'> M Class Name: TextImageDataset</div><div id='n_method'> N Class Name: TextImageDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: loader.py</div><div id='n_file'> N File Name: loader.py</div><div id='m_start'> M Start Line: 73</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    elif archive_name.endswith(".tar.gz"):
        archive = tarfile.open(archive_name, "r:gz")
    elif archive_name.endswith(".tar"):
        archive = <a id="change">tarfile.open(</a>archive_name, "r:"<a id="change">)</a>
    elif archive_name.endswith(".bz2"):
        archive = tarfile.open(archive_name, "r:bz2")
    else:
        raise NotImplementedError(f"Can\&quott extract {archive_name}")</code></pre><h3>After Change</h3><pre><code class='java'>
    if archive_name.endswith(".zip"):
        archive = ZipFile(archive_name)
    else:
        <a id="change">try:
            </a>archive = tarfile.open(archive_name)
        <a id="change">except</a>:
            raise NotImplementedError(f"Can\&quott extract {archive_name}")

    name = os.path.dirname(archive_name)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sb-ai-lab/replay/commit/193a8c3f250c62489868f5e0984ab2e6202a5d36#diff-f0070cd5c543bda5a18c8779f675633c933d96f365afe89ee342cb2bf6f13232L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95026584</div><div id='project'> Project Name: sb-ai-lab/replay</div><div id='commit'> Commit Name: 193a8c3f250c62489868f5e0984ab2e6202a5d36</div><div id='time'> Time: 2020-01-16</div><div id='author'> Author: yytamm@sberbank.ru</div><div id='file'> File Name: sponge_bob_magic/data_loader/archives.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: extract(2)</div><div id='n_method'> N Method Name: extract(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sponge_bob_magic/data_loader/archives.py</div><div id='n_file'> N File Name: sponge_bob_magic/data_loader/archives.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 32</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        import tarfile
    
        with <a id="change">tarfile.open(</a>fullname, "r"<a id="change">)</a> as tar:
            tar.extractall(root_folder)

        from jittor_utils import run_cmd</code></pre><h3>After Change</h3><pre><code class='java'>
        import zipfile

        zf = zipfile.ZipFile(fullname)
        <a id="change">try:
            </a>zf.extractall(path=root_folder)
        <a id="change">except </a>RuntimeError as e:
            print(e)
        zf.close()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jittor/jittor/commit/e962c283417d9c1300b52116a3d50e2c91222141#diff-bda202dc1155b432eb6f176d27b53e315b98965e056858275aeec365a21d7f72L164' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95026587</div><div id='project'> Project Name: jittor/jittor</div><div id='commit'> Commit Name: e962c283417d9c1300b52116a3d50e2c91222141</div><div id='time'> Time: 2020-03-24</div><div id='author'> Author: 471184555@qq.com</div><div id='file'> File Name: python/jittor/compile_extern.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: install_cutt(1)</div><div id='n_method'> N Method Name: install_cutt(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/jittor/compile_extern.py</div><div id='n_file'> N File Name: python/jittor/compile_extern.py</div><div id='m_start'> M Start Line: 168</div><div id='m_end'> M End Line: 188</div><div id='n_start'> N Start Line: 169</div><div id='n_end'> N End Line: 191</div><BR>