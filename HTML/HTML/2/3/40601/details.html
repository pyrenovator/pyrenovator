<html><h3>Pattern ID :40601
</h3><img src='114824569.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                pl_module.eval()
                out = pl_module(text, x, return_loss=False).long()
                print(out.shape)
                text_seq = <a id="change">out[:, :self.text_seq_len,:]</a>
                print(text_seq.shape)
                img_seq = out[:, self.text_seq_len:,:]        
                print(img_seq.shape)       
                xrec = pl_module.vae.decode(img_seq, feed_seq=True)</code></pre><h3>After Change</h3><pre><code class='java'>
                scale_each=self.scale_each,
                pad_value=self.pad_value,
            )  
            xgen_grid<a id="change"> = </a><a id="change">torchvision.utils.make_grid(
                tensor=x_gen,
                nrow=self.nrow,
                padding=self.padding,
                normalize=self.normalize,
                value_range=self.norm_range,
                scale_each=self.scale_each,
                pad_value=self.pad_value,
            )</a>                
            text_title = "train/text"
            trainer.logger.experiment.add_text(text_title, decoded_text, global_step=trainer.global_step)
            x_title = "train/input"</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/2581c994940a3ccb5d297681ac847d543a1a82bd#diff-a83484d4c7b7ebe0b0e0ade59c8557937a9e940ae331d28b6debb50cefd16ffcL206' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 114824569</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: 2581c994940a3ccb5d297681ac847d543a1a82bd</div><div id='time'> Time: 2021-07-26</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: pl_dalle/callbacks.py</div><div id='m_class'> M Class Name: DalleImageSampler</div><div id='n_method'> N Class Name: DalleImageSampler</div><div id='m_method'> M Method Name: on_train_batch_end(7)</div><div id='n_method'> N Method Name: on_train_batch_end(7)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: pl_dalle/callbacks.py</div><div id='n_file'> N File Name: pl_dalle/callbacks.py</div><div id='m_start'> M Start Line: 206</div><div id='m_end'> M End Line: 216</div><div id='n_start'> N Start Line: 206</div><div id='n_end'> N End Line: 261</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    sample = random.sample(list(misclassified_dictionary), num_of_images+1)
    for i in range(1, col*row +1):
        if is_dicom:
            img = dicom_to_narray(<a id="change">sample[i]</a>)
        else:
            img = Image.open(sample[i]).convert(&quotRGB&quot)
        fig.add_subplot(row, col, i)</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47     fig.add_subplot(row, col, i)
    &#47&#47     plt.imshow(img)
    &#47&#47     plt.axis(&quotoff&quot)
    grid<a id="change"> = </a><a id="change">torchvision.utils.make_grid(</a>imgs<a id="change">, nrow=row)</a>
    plt.figure(figsize=(figure_size))
    plt.imshow(np.transpose(grid, (1,2,0)))

    &#47&#47 plt.show()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/radtorch/radtorch/commit/38b79ed252a06e004967e7c8d8f71e98d6c5147e#diff-ea0c5d78e98f3b87371717beabaf20a4c1a834cd943d71bad1e08f7fc9e04250L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 114824570</div><div id='project'> Project Name: radtorch/radtorch</div><div id='commit'> Commit Name: 38b79ed252a06e004967e7c8d8f71e98d6c5147e</div><div id='time'> Time: 2020-03-08</div><div id='author'> Author: elbanan@users.noreply.github.com</div><div id='file'> File Name: radtorch/visutils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: show_misclassified(4)</div><div id='n_method'> N Method Name: show_misclassified(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: radtorch/visutils.py</div><div id='n_file'> N File Name: radtorch/visutils.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 62</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                pl_module.eval()
                out = pl_module(text, x, return_loss=False).long()
                text_seq = out[:, :self.text_seq_len]
                img_seq = <a id="change">out[:, -self.image_seq_len:]</a>                
                xrec = pl_module.vae.decode(img_seq, feed_seq=True)
                pl_module.train() 
</code></pre><h3>After Change</h3><pre><code class='java'>
                scale_each=self.scale_each,
                pad_value=self.pad_value,
            )  
            xgen_grid<a id="change"> = </a><a id="change">torchvision.utils.make_grid(
                tensor=x_gen,
                nrow=self.nrow,
                padding=self.padding,
                normalize=self.normalize,
                value_range=self.norm_range,
                scale_each=self.scale_each,
                pad_value=self.pad_value,
            )</a>                
            text_title = "val/text"
            trainer.logger.experiment.add_text(text_title, decoded_text, global_step=trainer.global_step)
            x_title = "val/input"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/2581c994940a3ccb5d297681ac847d543a1a82bd#diff-a83484d4c7b7ebe0b0e0ade59c8557937a9e940ae331d28b6debb50cefd16ffcL251' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 114824571</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: 2581c994940a3ccb5d297681ac847d543a1a82bd</div><div id='time'> Time: 2021-07-26</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: pl_dalle/callbacks.py</div><div id='m_class'> M Class Name: DalleImageSampler</div><div id='n_method'> N Class Name: DalleImageSampler</div><div id='m_method'> M Method Name: on_validation_batch_end(7)</div><div id='n_method'> N Method Name: on_validation_batch_end(7)</div><div id='m_parent_class'> M Parent Class: Callback</div><div id='n_parent_class'> N Parent Class: Callback</div><div id='m_file'> M File Name: pl_dalle/callbacks.py</div><div id='n_file'> N File Name: pl_dalle/callbacks.py</div><div id='m_start'> M Start Line: 263</div><div id='m_end'> M End Line: 270</div><div id='n_start'> N Start Line: 276</div><div id='n_end'> N End Line: 331</div><BR>