<html><h3>Pattern ID :13035
</h3><img src='44031711.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        map_ = cv2.imdecode(map_, cv2.IMREAD_UNCHANGED)
        assert_type(map_, np.ndarray)
        assert_ndim(map_, 3)
        <a id="change">return </a>map_
</code></pre><h3>After Change</h3><pre><code class='java'>
                pass

        if elevation is not None:
            elevation<a id="change"> = </a><a id="change">np.frombuffer(</a>elevation.read(), np.uint8<a id="change">)</a>  &#47&#47 TODO: handle values above 255?
            elevation = cv2.imdecode(elevation, cv2.IMREAD_GRAYSCALE)
            assert_type(elevation, np.ndarray)
            assert_ndim(elevation, 2)  &#47&#47 Grayscale, no color channels</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hmakelin/gisnav/commit/d06321397c4da525c87563591545cc8a57c8176b#diff-418ec7458c5956c3b4c779c552dfb53010e5c06ce52baa58dcc7ca13338bfa1cL67' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44031711</div><div id='project'> Project Name: hmakelin/gisnav</div><div id='commit'> Commit Name: d06321397c4da525c87563591545cc8a57c8176b</div><div id='time'> Time: 2022-09-09</div><div id='author'> Author: hmakelin@protonmail.com</div><div id='file'> File Name: gisnav/wms.py</div><div id='m_class'> M Class Name: WMSClient</div><div id='n_method'> N Class Name: WMSClient</div><div id='m_method'> M Method Name: worker(7)</div><div id='n_method'> N Method Name: worker(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: gisnav/wms.py</div><div id='n_file'> N File Name: gisnav/wms.py</div><div id='m_start'> M Start Line: 89</div><div id='m_end'> M End Line: 92</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 115</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if img is None:
        raise ValueError("Image can not be read")
    else:
        <a id="change">return </a>img


def imread_pillow(im_path: str) -&gt; TImage:</code></pre><h3>After Change</h3><pre><code class='java'>
    if isinstance(im_src, (Path, str)):
        image = cv2.imread(str(im_src), cv2.IMREAD_UNCHANGED)
    elif isinstance(im_src, bytes):
        image_raw = <a id="change">np.frombuffer(</a>im_src, np.uint8<a id="change">)</a>
        image<a id="change"> = </a>cv2.imdecode(image_raw, cv2.IMREAD_UNCHANGED)
    else:
        raise TypeError("Unsupported type")
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/oml-team/open-metric-learning/commit/e939fb26411ed6c14044930dd11d701f6f30eb7c#diff-4ef11241bb9d80ff8796830fb14f6e11ff9130da7217c0376baaa02d998d2470L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44031707</div><div id='project'> Project Name: oml-team/open-metric-learning</div><div id='commit'> Commit Name: e939fb26411ed6c14044930dd11d701f6f30eb7c</div><div id='time'> Time: 2022-08-09</div><div id='author'> Author: aleksei.v.tarasov@gmail.com</div><div id='file'> File Name: oml/utils/images/images.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: imread_cv2(1)</div><div id='n_method'> N Method Name: imread_cv2(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: oml/utils/images/images.py</div><div id='n_file'> N File Name: oml/utils/images/images.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 32</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 36</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    import cv2

    if hasattr(file_or_buff, &quotread&quot):
        <a id="change">return </a>cv2.imdecode(file_or_buff.read(), 1)
    if isinstance(file_or_buff, str):
        return cv2.imread(file_or_buff)
    return cv2.imdecode(file_or_buff, 1)</code></pre><h3>After Change</h3><pre><code class='java'>
    if hasattr(file_or_buff, &quotread&quot):
        buff = np.frombuffer(file_or_buff.read(), dtype=np.uint8)
    else:
        buff<a id="change"> = </a><a id="change">np.frombuffer(</a>file_or_buff<a id="change">, dtype=np.uint8)</a>
    return cv2.imdecode(buff, 1)


@register(name=&quotbuiltin/image_dump&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/towhee-io/towhee/commit/2f39b9e8b2487427c10f4c7963937ed2103c4d91#diff-8eec8d8c1aa831f68704473e1c5b1076e8464fe48495ceaaa8d266fe6090c0d5L22' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 44031715</div><div id='project'> Project Name: towhee-io/towhee</div><div id='commit'> Commit Name: 2f39b9e8b2487427c10f4c7963937ed2103c4d91</div><div id='time'> Time: 2022-03-24</div><div id='author'> Author: jie.hou@zilliz.com</div><div id='file'> File Name: towhee/hub/builtin/operators/computer_vision.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: image_load(1)</div><div id='n_method'> N Method Name: image_load(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: towhee/hub/builtin/operators/computer_vision.py</div><div id='n_file'> N File Name: towhee/hub/builtin/operators/computer_vision.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 53</div><BR>