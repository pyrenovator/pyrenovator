<html><h3>Pattern ID :29346
</h3><img src='86174114.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                for datapoint in tqdm(self.datapoints):
                    tensored_datapoints.append([torch.Tensor(datapoint[0]),
                                                torch.LongTensor(datapoint[1]),
                                                <a id="change">torch.Tensor(</a>datapoint[2]<a id="change">)</a>,
                                                torch.LongTensor(datapoint[3]),
                                                torch.LongTensor(datapoint[4]),
                                                torch.Tensor(datapoint[5]),</code></pre><h3>After Change</h3><pre><code class='java'>
                                rebuild_cache=rebuild_cache)
            datapoints = torch.load(os.path.join(cache_dir, "taco_train_cache.pt"), map_location=&quotcpu&quot)
            &#47&#47 we use the tacotron dataset as basis and augment it to contain the additional information we need for fastspeech.
            <a id="change">if </a>not <a id="change">isinstance(</a>self.datapoints, tuple<a id="change">)</a>:  &#47&#47 check for backwards compatibility
                TacotronDataset(path_to_transcript_dict=path_to_transcript_dict,
                                cache_dir=cache_dir,
                                lang=lang,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/digitalphonetics/ims-toucan/commit/d75af2f091227a4695d4887a9a8f23dc5d22b12b#diff-528f1d1f9b65f826c6eec25f3934452fe1a81965d76a0070a71db9ef9ef36aa0L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86174114</div><div id='project'> Project Name: digitalphonetics/ims-toucan</div><div id='commit'> Commit Name: d75af2f091227a4695d4887a9a8f23dc5d22b12b</div><div id='time'> Time: 2021-09-15</div><div id='author'> Author: florian.lux@ims.uni-stuttgart.de</div><div id='file'> File Name: TrainingInterfaces/Text_to_Spectrogram/FastSpeech2/FastSpeechDataset.py</div><div id='m_class'> M Class Name: FastSpeechDataset</div><div id='n_method'> N Class Name: FastSpeechDataset</div><div id='m_method'> M Method Name: __init__(13)</div><div id='n_method'> N Method Name: __init__(13)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: TrainingInterfaces/Text_to_Spectrogram/FastSpeech2/FastSpeechDataset.py</div><div id='n_file'> N File Name: TrainingInterfaces/Text_to_Spectrogram/FastSpeech2/FastSpeechDataset.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Checks if buffers are of type UninitializedBuffer and returns 
        True only if none of them are.
        
        return <a id="change">torch.Tensor(</a>[type(buffer) != torch.nn.parameter.UninitializedBuffer 
                             for buffer in self.buffers()]<a id="change">)</a>.all()
    
    def init_states_with_shape(self, shape, randomize: bool = False) -&gt; None:
        </code></pre><h3>After Change</h3><pre><code class='java'>
        True only if none of them are.
        
        for buff in self.buffers():
            <a id="change">if </a><a id="change">isinstance(</a>buff, torch.nn.parameter.UninitializedBuffer<a id="change">)</a>:
                return False
        return True
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/synsense/sinabs/commit/bcc93fd68a63b13eaaf5c7d0c83231cce6d27d65#diff-9410c6ae7597d87c41e04ddd2e2b6fe961a249612004c4c9cc3c85bc66a819d0L56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86174119</div><div id='project'> Project Name: synsense/sinabs</div><div id='commit'> Commit Name: bcc93fd68a63b13eaaf5c7d0c83231cce6d27d65</div><div id='time'> Time: 2021-11-30</div><div id='author'> Author: gregor.lenz@synsense.ai</div><div id='file'> File Name: sinabs/layers/stateful_layer.py</div><div id='m_class'> M Class Name: StatefulLayer</div><div id='n_method'> N Class Name: StatefulLayer</div><div id='m_method'> M Method Name: are_states_initialised(1)</div><div id='n_method'> N Method Name: are_states_initialised(1)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: torch.nn.Module</div><div id='m_file'> M File Name: sinabs/layers/stateful_layer.py</div><div id='n_file'> N File Name: sinabs/layers/stateful_layer.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 64</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.content_flag = True
        else:
            self.content = torch.cat(
                (self.content, <a id="change">torch.Tensor(</a>[offset]<a id="change">)</a>, tensor))

        self.header[HEADER_CONTENT_SIZE_IDX] = self.content.shape[0]
</code></pre><h3>After Change</h3><pre><code class='java'>
        Args:
            tensor (torch.Tensor): Tensor to append.
        
        <a id="change">if </a>not <a id="change">isinstance(</a>tensor, torch.Tensor<a id="change">)</a>:
            raise ValueError("Invalid content type")
        if tensor.shape != tensor.view(-1).shape:
            raise ValueError("Invalid shape")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/smilelab-fl/fedlab/commit/aa0acf72e00c5c3a9847a2f05f2e91f5801535e6#diff-f326863736b6ddda1172a755789eb1a4e08f54644c42cb90179b52162c271f0eL64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86174117</div><div id='project'> Project Name: smilelab-fl/fedlab</div><div id='commit'> Commit Name: aa0acf72e00c5c3a9847a2f05f2e91f5801535e6</div><div id='time'> Time: 2021-07-22</div><div id='author'> Author: 928255708@qq.com</div><div id='file'> File Name: fedlab_core/communicator/package.py</div><div id='m_class'> M Class Name: Package</div><div id='n_method'> N Class Name: Package</div><div id='m_method'> M Method Name: append_tensor(2)</div><div id='n_method'> N Method Name: append_tensor(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: fedlab_core/communicator/package.py</div><div id='n_file'> N File Name: fedlab_core/communicator/package.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 79</div><div id='n_start'> N Start Line: 77</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                if device_id is not None else cpu_nms(dets, thresh))

    if tensor_device:
        return <a id="change">torch.Tensor(</a>inds<a id="change">)</a>.long().to(tensor_device)
    else:
        return np.array(inds, dtype=np.int)
</code></pre><h3>After Change</h3><pre><code class='java'>
        if dets.is_cuda:
            device_id = dets.get_device()
        dets_np = dets.detach().cpu().numpy()
    elif <a id="change">isinstance(</a>dets, np.ndarray<a id="change">)</a>:
        is_tensor = False
        dets_np = dets
    else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wxinlong/solo/commit/dd2907ed70a9f29ecbe2fba75de735e96daae3a2#diff-637c4c71c74c7b3d1912e91e5e579cd256a64f6f8e54984524344125b5ca9cc9L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86174110</div><div id='project'> Project Name: wxinlong/solo</div><div id='commit'> Commit Name: dd2907ed70a9f29ecbe2fba75de735e96daae3a2</div><div id='time'> Time: 2018-11-26</div><div id='author'> Author: chenkaidev@gmail.com</div><div id='file'> File Name: mmdet/ops/nms/nms_wrapper.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: nms(3)</div><div id='n_method'> N Method Name: nms(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mmdet/ops/nms/nms_wrapper.py</div><div id='n_file'> N File Name: mmdet/ops/nms/nms_wrapper.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 34</div><BR>