<html><h3>Pattern ID :4703
</h3><img src='16772014.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if isinstance(resources.types, tuple):
            for t in resources.types:
                if &quotx V100&quot in t:
                    num_v100s<a id="change"> = </a><a id="change">int(</a>t.split(&quotx V100&quot)[0]<a id="change">)</a>
                    assert num_v100s in [1, 2, 4, 8], resources.types
                    return _v100(num_v100s)

        assert &quottpu-v3-8&quot in resources.types, resources</code></pre><h3>After Change</h3><pre><code class='java'>
            assert False, &quotnot supported&quot

        assert len(accelerators) == 1, resources
        for acc, acc_count in <a id="change">accelerators.items()</a>:
            break
        if acc == &quotV100&quot:
            assert acc_count in [1, 2, 4, 8], resources</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/b8d9669b1a46a70a91e7061d44e4ba3630a4878b#diff-6e6afd5e63b7229eaa3ceaf5046e5dc0fe81b314398a71d8328c285946318e0cL49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16772014</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: b8d9669b1a46a70a91e7061d44e4ba3630a4878b</div><div id='time'> Time: 2021-10-14</div><div id='author'> Author: zongheng.y@gmail.com</div><div id='file'> File Name: prototype/time_estimators.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: resnet50_estimate_runtime(1)</div><div id='n_method'> N Method Name: resnet50_estimate_runtime(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: prototype/time_estimators.py</div><div id='n_file'> N File Name: prototype/time_estimators.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 49</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            print(idx, &quot-&gt;&quot, m)
        print(&quotThe total number of filters is:&quot, number_of_filters)
        print("Number of prunning iterations to reduce {} % filters".format(100 *self.prune_ratio))
        prune_num<a id="change"> = </a><a id="change">int(</a>self.prune_ratio  * number_of_filters<a id="change">)</a>

        print("Ranking filters.. ")
        prune_targets = self.get_candidates_to_prune(prune_num)
        layers_prunned = {}</code></pre><h3>After Change</h3><pre><code class='java'>
        print("Prunning filters.. ")
        model = self.model
        if len(prune_targets) &gt; 0:
            for layer_index, channel_list in <a id="change">prune_targets.items()</a>:
                model = self.prune_conv_layer(model, layer_index, channel_list)
                number_of_filters = self.total_num_filters()
                print(layer, &quot &quot, number_of_filters)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/2c7f3682ae92a833ce2f3432fa643322eb2bbae5#diff-c3fcaa1c628e6b9b55c23cd420580d65ec905c1e0e441e733d799b6093833046L283' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16772026</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: 2c7f3682ae92a833ce2f3432fa643322eb2bbae5</div><div id='time'> Time: 2020-09-06</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/defense/backdoor/fine_pruning.py</div><div id='m_class'> M Class Name: Fine_Pruning</div><div id='n_method'> N Class Name: Fine_Pruning</div><div id='m_method'> M Method Name: detect(1)</div><div id='n_method'> N Method Name: detect(1)</div><div id='m_parent_class'> M Parent Class: Defense_Backdoor</div><div id='n_parent_class'> N Parent Class: Defense_Backdoor</div><div id='m_file'> M File Name: trojanzoo/defense/backdoor/fine_pruning.py</div><div id='n_file'> N File Name: trojanzoo/defense/backdoor/fine_pruning.py</div><div id='m_start'> M Start Line: 286</div><div id='m_end'> M End Line: 328</div><div id='n_start'> N Start Line: 198</div><div id='n_end'> N End Line: 211</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    except:
        print("No dataset found.")
        &#47&#47 Define dataset dimension
        dataset_dim<a id="change"> = </a><a id="change">int(</a>input(
            "Please specify the desired dataset dimension (split: 70% training set, 10% validation set, 10% test set):\n")<a id="change">)</a>
        dataset_dim = [dataset_dim * p for p in [0.7, 0.2, 0.1]]
        n_worlds = n_digits * n_digits
        samples_x_world = [int(d /n_worlds) for d in dataset_dim]
        dataset_dim = [ s * n_worlds for s in samples_x_world]</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Define dataset dimension so to have teh same number of worlds
        n_worlds = n_digits * n_digits
        samples_x_world = {k: int(d /n_worlds) for k,d in dataset_dim.items()}
        dataset_dim = {k: s * n_worlds for k,s in <a id="change">samples_x_world.items()</a>}

        train_imgs, train_labels, train_indexes = create_dataset(n_digit=n_digits, sequence_len=2,
                                                                 samples_x_world=samples_x_world[&quottrain&quot], train=True,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/elemisi/vael/commit/80b6e79c650d20162719fbd8fbc2aae548a7c7e2#diff-4242d467526bf0781a7f4414c5ca8047a18b5dce52e80e4016ccb9cd7e57fe48L165' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16772007</div><div id='project'> Project Name: elemisi/vael</div><div id='commit'> Commit Name: 80b6e79c650d20162719fbd8fbc2aae548a7c7e2</div><div id='time'> Time: 2022-02-06</div><div id='author'> Author: eleonora.misino@gmail.com</div><div id='file'> File Name: utils/nMNIST_addition.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_dataset(4)</div><div id='n_method'> N Method Name: check_dataset(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils/nMNIST_addition.py</div><div id='n_file'> N File Name: utils/nMNIST_addition.py</div><div id='m_start'> M Start Line: 174</div><div id='m_end'> M End Line: 181</div><div id='n_start'> N Start Line: 165</div><div id='n_end'> N End Line: 188</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        total_correct_num = 0
        total_samples = 0
        for prediction in predictions:
            total_correct_num<a id="change"> += </a><a id="change">int(</a>prediction["num_correct"]<a id="change">)</a>
            total_samples += int(prediction["num_samples"])

        acc1 = total_correct_num / total_samples * 100
</code></pre><h3>After Change</h3><pre><code class='java'>
            total_samples += int(prediction["num_samples"])

        self._results = OrderedDict()
        for top_k, topk_correct_num in <a id="change">total_correct_num.items()</a>:
            self._results[top_k] = topk_correct_num / total_samples * 100

        return copy.deepcopy(self._results)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/oneflow-inc/libai/commit/371360b9b903675607d2f92544962eb8b2330a17#diff-97abbafe7759c5aefa52f03808bfda50cfe14f401be4ede27bce57a8eef0f929L68' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16772022</div><div id='project'> Project Name: oneflow-inc/libai</div><div id='commit'> Commit Name: 371360b9b903675607d2f92544962eb8b2330a17</div><div id='time'> Time: 2022-02-13</div><div id='author'> Author: 48727989+rentainhe@users.noreply.github.com</div><div id='file'> File Name: libai/evaluation/cls_evaluator.py</div><div id='m_class'> M Class Name: ClsEvaluator</div><div id='n_method'> N Class Name: ClsEvaluator</div><div id='m_method'> M Method Name: evaluate(1)</div><div id='n_method'> N Method Name: evaluate(1)</div><div id='m_parent_class'> M Parent Class: DatasetEvaluator</div><div id='n_parent_class'> N Parent Class: DatasetEvaluator</div><div id='m_file'> M File Name: libai/evaluation/cls_evaluator.py</div><div id='n_file'> N File Name: libai/evaluation/cls_evaluator.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 83</div><div id='n_start'> N Start Line: 65</div><div id='n_end'> N End Line: 80</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            device=wav.device,
            dtype=torch.long,
        )
        factor<a id="change"> = </a><a id="change">int(</a>self.config.num_negatives % dynamic_num_negatives[0]<a id="change">)</a>
        negative_sample_indices = torch.cat(
            [negative_sample_indices] * factor, dim=-1
        )
        print(negative_sample_indices.shape)</code></pre><h3>After Change</h3><pre><code class='java'>
        )
        print(negative_sample_indices.shape)
        print(dynamic_num_negatives)
        print(<a id="change">dynamic_num_negatives.items()</a>)

        return (
            self.model(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/39b9dd07cd0d0c9aad94d3b2f623441809c052e6#diff-5c56730c1c9b3879981c9daec26fe8ec239883e07e6ff9ef738d0048ae813b70L339' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16772005</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 39b9dd07cd0d0c9aad94d3b2f623441809c052e6</div><div id='time'> Time: 2021-12-10</div><div id='author'> Author: parcollet.titouan@gmail.com</div><div id='file'> File Name: speechbrain/lobes/models/huggingface_wav2vec.py</div><div id='m_class'> M Class Name: HuggingFaceWav2Vec2Pretrain</div><div id='n_method'> N Class Name: HuggingFaceWav2Vec2Pretrain</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: speechbrain/lobes/models/huggingface_wav2vec.py</div><div id='n_file'> N File Name: speechbrain/lobes/models/huggingface_wav2vec.py</div><div id='m_start'> M Start Line: 391</div><div id='m_end'> M End Line: 396</div><div id='n_start'> N Start Line: 393</div><div id='n_end'> N End Line: 397</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    or isinstance(irreps, str)
                    and irreps.isdigit()
                ):
                    dim<a id="change"> = </a><a id="change">int(</a>irreps<a id="change">)</a>
                elif isinstance(irreps, str) or isinstance(irreps, e3nn.o3.Irreps):
                    dim = e3nn.o3.Irreps(irreps).dim
                else:
                    continue</code></pre><h3>After Change</h3><pre><code class='java'>
        
        self.attrs = attrs
        self.data = tensors
        for key, value in <a id="change">tensors.items()</a>:
            self[key] = value

    def computeSums(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/20171130/equivariant-nn-zoo/commit/9cf4461ae3ea2f2449b4232865d396acf87caa0d#diff-04896a7859a44464e2e556423db7f372720a557bb3b344f19b3fe0319ca7ce89L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16772020</div><div id='project'> Project Name: 20171130/equivariant-nn-zoo</div><div id='commit'> Commit Name: 9cf4461ae3ea2f2449b4232865d396acf87caa0d</div><div id='time'> Time: 2022-06-27</div><div id='author'> Author: hangruibi@outlook.com</div><div id='file'> File Name: e3_layers/data/data.py</div><div id='m_class'> M Class Name: Data</div><div id='n_method'> N Class Name: Data</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: e3_layers/data/data.py</div><div id='n_file'> N File Name: e3_layers/data/data.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 52</div><BR>