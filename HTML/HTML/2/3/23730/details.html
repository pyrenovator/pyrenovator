<html><h3>Pattern ID :23730
</h3><img src='73952873.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        )
                    )

            <a id="change">assert </a>all(
                map(lambda x: len(x[1].shape) == 2, initial_types)
            ), "Hummingbird currently supports only inputs with len(shape) == 2."
            first_shape = initial_types[0][1].shape</code></pre><h3>After Change</h3><pre><code class='java'>
                elif type(it[1]) is DoubleTensorType:
                    test_input.append(np.random.rand(first_shape[0], first_shape[1]))
                elif type(it[1]) is Int32TensorType:
                    test_input.append(np.array(<a id="change">np.random.randint(100</a><a id="change">, size=first_shape)</a>, dtype=np.int32))
                elif type(it[1]) is Int64TensorType:
                    test_input.append(np.random.randint(100, size=first_shape))
                else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/hummingbird/commit/63ea67f6dbe9366b026c60245f876bf7c7e2462e#diff-6ee64253c36e8c002dcbb6e6b3db13004a53c0c20d3bc24893a92a61d0773bafL182' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73952873</div><div id='project'> Project Name: microsoft/hummingbird</div><div id='commit'> Commit Name: 63ea67f6dbe9366b026c60245f876bf7c7e2462e</div><div id='time'> Time: 2020-12-07</div><div id='author'> Author: m.interlandi@gmail.com</div><div id='file'> File Name: hummingbird/ml/convert.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _convert_onnxml(5)</div><div id='n_method'> N Method Name: _convert_onnxml(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: hummingbird/ml/convert.py</div><div id='n_file'> N File Name: hummingbird/ml/convert.py</div><div id='m_start'> M Start Line: 199</div><div id='m_end'> M End Line: 233</div><div id='n_start'> N Start Line: 182</div><div id='n_end'> N End Line: 234</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        print(sample["img"].shape)
        print(sample["img"])
        assert "img" in sample
        <a id="change">assert </a>"bboxes" in sample

        img = sample["img"]
        assert type(img) == torch.Tensor    &#47&#47 torch tensor</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_coco(self):
        ds = COCODataset(self.coco_dir, "val2017")

        rand_idx = <a id="change">random.randint(0</a>,len(ds)-1<a id="change">)</a>
        sample = ds[rand_idx]
        for x in ["image", "bboxes", "labels"]:
            assert x in sample
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gau-nernst/centernet-lightning/commit/2f52f97af43fba92a37d70bf243edb8c93e3459b#diff-09651b3ab4aa6cd48897e821bad395946f2993c8683b166e898d61c3cf2377eeL14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73952874</div><div id='project'> Project Name: gau-nernst/centernet-lightning</div><div id='commit'> Commit Name: 2f52f97af43fba92a37d70bf243edb8c93e3459b</div><div id='time'> Time: 2021-05-27</div><div id='author'> Author: gau.nernst@yahoo.com.sg</div><div id='file'> File Name: test_centernet.py</div><div id='m_class'> M Class Name: TestDatasets</div><div id='n_method'> N Class Name: TestDatasets</div><div id='m_method'> M Method Name: test_coco(1)</div><div id='n_method'> N Method Name: test_coco(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test_centernet.py</div><div id='n_file'> N File Name: test_centernet.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 19</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        nb_frames = 0
        while True:
            ret, img = cap.read()
            <a id="change">assert </a>ret, &quotexception: {}, start={}, length={}&quot.format(path, start, length)
            if crop_augment: pass
            if mirror_augment: img = cv2.flip(img, 1)
            frames.append(img)</code></pre><h3>After Change</h3><pre><code class='java'>
        if crop_augment:
            img = cv2.resize(img, (128, 128))
            if is_training:
                crop_x = <a id="change">random.randint(0</a>, 16<a id="change">)</a>
                crop_y = random.randint(0, 16)
                img = img[crop_y: crop_y + 112, crop_x: crop_x + 112]
            else:
                img = img[8: 120, 8: 120]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sailordiary/m3f.pytorch/commit/639f60090b44d3fdb3b40ae0df467ffed523da9e#diff-2730a8c5bd5549f02454fcdfd4a30faef0d608acd1627662eacd9e71c765c6feL46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73952875</div><div id='project'> Project Name: sailordiary/m3f.pytorch</div><div id='commit'> Commit Name: 639f60090b44d3fdb3b40ae0df467ffed523da9e</div><div id='time'> Time: 2020-02-01</div><div id='author'> Author: me@sailorzhang.com</div><div id='file'> File Name: models/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_video(7)</div><div id='n_method'> N Method Name: load_video(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: models/dataset.py</div><div id='n_file'> N File Name: models/dataset.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            t = int(self._rng.uniform(a=0, b=T))
            t = min(t, int(n_frames * self.p))
            t_0 = int(self._rng.uniform(a=0, b=n_frames - t))
            <a id="change">assert </a>t_0 &lt;= t_0 + t
            if replace_with_zero:
                x[t_0:t_0 + t, :] = 0
            else:</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            cloned = x.copy()
        len_spectro = cloned.shape[0]
        ts = <a id="change">np.random.randint(0</a>, self.T<a id="change">, size=(self.n_time_masks, 2))</a>
        for t, mask_end in ts:
            &#47&#47 avoid randint range error
            if len_spectro - t &lt;= 0:
                continue</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeyupiaoling/masr/commit/441e7aa351a3e9476e58e9f53e055a3bbe96c364#diff-b6703d7b62ea26baa7fb88ad312fe333fd8e1e41163a4e5541336f432b2af35eL145' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73952878</div><div id='project'> Project Name: yeyupiaoling/masr</div><div id='commit'> Commit Name: 441e7aa351a3e9476e58e9f53e055a3bbe96c364</div><div id='time'> Time: 2022-09-21</div><div id='author'> Author: yeyupiaoling@foxmail.com</div><div id='file'> File Name: masr/data_utils/augmentor/spec_augment.py</div><div id='m_class'> M Class Name: SpecAugmentor</div><div id='n_method'> N Class Name: SpecAugmentor</div><div id='m_method'> M Method Name: mask_time(3)</div><div id='n_method'> N Method Name: mask_time(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: AugmentorBase</div><div id='m_file'> M File Name: masr/data_utils/augmentor/spec_augment.py</div><div id='n_file'> N File Name: masr/data_utils/augmentor/spec_augment.py</div><div id='m_start'> M Start Line: 155</div><div id='m_end'> M End Line: 177</div><div id='n_start'> N Start Line: 132</div><div id='n_end'> N End Line: 152</div><BR>