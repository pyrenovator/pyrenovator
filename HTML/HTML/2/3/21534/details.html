<html><h3>Pattern ID :21534
</h3><img src='68832750.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            print(f"AdaS: Checkpoint path {checkpoint_path} doesn&quott exist " +
                  "building directory to store checkpoints: .adas-checkpoint")
            <a id="change">checkpoint_path.cwd().mkdir(exist_ok=True, parents=True)</a>

    with config_path.open() as f:
        config = yaml.load(f)
    device = &quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot</code></pre><h3>After Change</h3><pre><code class='java'>
    global best_acc
    best_acc = 0  &#47&#47 best test accuracy
    start_epoch = 0  &#47&#47 start from epoch 0 or last checkpoint epoch
    if np.less(float(<a id="change">config[&quotearly_stop_threshold&quot]</a>), 0):
        print("AdaS: Notice: early stop will not be used as it was set to " +
              "{early_stop}, training till completion.")
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mahdihosseini/rmsgd/commit/8ece8076ab99a313065ccb4221d8934922ed0ca1#diff-6bbc56ffd75f6c9aca21f89fd54bd7b4e7c2abdedf4be0ed06b26fe8bba218b7L144' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 68832750</div><div id='project'> Project Name: mahdihosseini/rmsgd</div><div id='commit'> Commit Name: 8ece8076ab99a313065ccb4221d8934922ed0ca1</div><div id='time'> Time: 2020-06-15</div><div id='author'> Author: mahdi.hosseini@mail.utoronto.ca</div><div id='file'> File Name: unpackaged/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: unpackaged/train.py</div><div id='n_file'> N File Name: unpackaged/train.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 265</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 321</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
  parameters[&quotpatch_size&quot] = patch_size[&quot2D&quot]
  training_data, headers = parseTrainingCSV(inputDir + &quot/train_2d_rad_classification.csv&quot)
  shutil.rmtree(outputDir) &#47&#47 overwrite previous results
  <a id="change">Path(outputDir).mkdir(parents=True, exist_ok=True)</a>
  for model in all_models_regression:
    parameters[&quotmodel&quot][&quotarchitecture&quot] = model 
    shutil.rmtree(outputDir) &#47&#47 overwrite previous results
    Path(outputDir).mkdir(parents=True, exist_ok=True)</code></pre><h3>After Change</h3><pre><code class='java'>
  parameters = parseConfig(testingDir + &quot/config_classification.yaml&quot, version_check = False)
  parameters[&quotmodality&quot] = &quotrad&quot
  parameters[&quotpatch_size&quot] = patch_size[&quot2D&quot]
  <a id="change">parameters[&quotmodel&quot]</a>[&quotdimension&quot] = 2
  &#47&#47 read and parse csv 
  training_data, headers = parseTrainingCSV(inputDir + &quot/train_2d_rad_classification.csv&quot)
  &#47&#47 loop through selected models and train for single epoch</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mlcommons/gandlf/commit/ab8ddbc0ae61675c312194bf9c46b3ce788d1b25#diff-1790893132ccdddd36112f1a63405ada4efff2cea018a952488282c906ccd7bfL152' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 68832751</div><div id='project'> Project Name: mlcommons/gandlf</div><div id='commit'> Commit Name: ab8ddbc0ae61675c312194bf9c46b3ce788d1b25</div><div id='time'> Time: 2021-03-16</div><div id='author'> Author: sarthak.pati@hotmail.com</div><div id='file'> File Name: testing/test_full.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_classification_rad_2d(0)</div><div id='n_method'> N Method Name: test_classification_rad_2d(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: testing/test_full.py</div><div id='n_file'> N File Name: testing/test_full.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 159</div><div id='n_start'> N Start Line: 169</div><div id='n_end'> N End Line: 170</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    mask, (widths[batch_id].item(), heights[batch_id].item()), interpolation=cv2.INTER_NEAREST
                )

                <a id="change">(hparams["output_mask_path"] / folder_name).mkdir(exist_ok=True, parents=True)</a>
                cv2.imwrite(str(hparams["output_mask_path"] / folder_name / f"{file_id}.png"), mask)


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>

                prob = predictions[batch_id][0].cpu().numpy().astype(np.float16)

                with open(str(<a id="change">hparams["output_path"]</a> / folder_name / f"{file_id}.txt")) as f:
                    f.write(prob)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ternaus/check_orientation/commit/a75e3361032928b0a9d2215da376432ed9119128#diff-088a6b4cc7e4b8e8313060a6863c3897dc0f891b4b7450f49f791c225f97abd3L114' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 68832756</div><div id='project'> Project Name: ternaus/check_orientation</div><div id='commit'> Commit Name: a75e3361032928b0a9d2215da376432ed9119128</div><div id='time'> Time: 2020-11-12</div><div id='author'> Author: iglovikov@gmail.com</div><div id='file'> File Name: check_orientation/inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(4)</div><div id='n_method'> N Method Name: predict(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: check_orientation/inference.py</div><div id='n_file'> N File Name: check_orientation/inference.py</div><div id='m_start'> M Start Line: 123</div><div id='m_end'> M End Line: 149</div><div id='n_start'> N Start Line: 142</div><div id='n_end'> N End Line: 149</div><BR>