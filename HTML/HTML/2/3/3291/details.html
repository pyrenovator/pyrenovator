<html><h3>Pattern ID :3291
</h3><img src='12664001.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    Checks if training the provided model updates its weights.
    initial_values = torch.tensor(
        [torch.sum(torch.abs(x)) for x in model.parameters()])
    result<a id="change"> = </a><a id="change">trainer.fit(</a>model<a id="change">)</a>
    post_train_values = torch.tensor(
        [torch.sum(torch.abs(x)) for x in model.parameters()])
    assert result == 1, "trainer failed"
    &#47&#47 Check that the model is actually changed post-training.</code></pre><h3>After Change</h3><pre><code class='java'>
    Checks if training the provided model updates its weights.
    initial_values = torch.tensor(
        [torch.sum(torch.abs(x)) for x in model.parameters()])
    <a id="change">trainer.fit(</a>model<a id="change">)</a>
    post_train_values = torch.tensor(
        [torch.sum(torch.abs(x)) for x in model.parameters()])
    assert trainer.state.finished, f"Trainer failed with {trainer.state}"
    &#47&#47 Check that the model is actually changed post-training.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 27</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ray-project/ray_lightning_accelerators/commit/41e34912ece0238403ca5e7ee865ed875c0cfbc2#diff-b42812c245be4243b178604d51d04282152ca043a3b86ad460bb26410df3681fL176' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664001</div><div id='project'> Project Name: ray-project/ray_lightning_accelerators</div><div id='commit'> Commit Name: 41e34912ece0238403ca5e7ee865ed875c0cfbc2</div><div id='time'> Time: 2021-08-09</div><div id='author'> Author: amogkam@users.noreply.github.com</div><div id='file'> File Name: ray_lightning/tests/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_test(2)</div><div id='n_method'> N Method Name: train_test(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ray_lightning/tests/utils.py</div><div id='n_file'> N File Name: ray_lightning/tests/utils.py</div><div id='m_start'> M Start Line: 176</div><div id='m_end'> M End Line: 176</div><div id='n_start'> N Start Line: 178</div><div id='n_end'> N End Line: 178</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    budget -= time.time() - start_time
    if val_loss &lt; best_val_loss and budget &gt; budget_per_train:
        estimator.cleanup()
        train_time_full<a id="change"> = </a><a id="change">estimator.fit(</a>X_train_all, y_train_all, budget<a id="change">)</a>
        train_time += train_time_full
    return val_loss, train_loss, train_time

</code></pre><h3>After Change</h3><pre><code class='java'>
    budget -= time.time() - start_time
    if val_loss &lt; best_val_loss and budget &gt; budget_per_train:
        estimator.cleanup()
        <a id="change">estimator.fit(</a>X_train_all, y_train_all, budget<a id="change">, **fit_kwargs)</a>
    return val_loss, train_loss, train_time

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/flaml/commit/776aa551896353f3ff34c692b0f9d2e041664c78#diff-ffd1c277543ea643fd48c6a9577f8274c23f54f9966abaf8776a81be8a2d924aL147' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664000</div><div id='project'> Project Name: microsoft/flaml</div><div id='commit'> Commit Name: 776aa551896353f3ff34c692b0f9d2e041664c78</div><div id='time'> Time: 2021-02-05</div><div id='author'> Author: Sonicive@hotmail.com</div><div id='file'> File Name: flaml/ml.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: evaluate_model_CV(10)</div><div id='n_method'> N Method Name: evaluate_model_CV(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: flaml/ml.py</div><div id='n_file'> N File Name: flaml/ml.py</div><div id='m_start'> M Start Line: 151</div><div id='m_end'> M End Line: 203</div><div id='n_start'> N Start Line: 166</div><div id='n_end'> N End Line: 231</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        learning_rate=LR,
    )

    metrics_df<a id="change"> = </a><a id="change">m.fit(</a>df<a id="change">, freq="5min")</a>
    future = m.make_future_dataframe(df, periods=6, n_historic_predictions=3 * 24 * 12)
    forecast = m.predict(future)
    m.highlight_nth_step_ahead_of_each_forecast(m.n_forecasts)
</code></pre><h3>After Change</h3><pre><code class='java'>
        learning_rate=LR,
    )

    <a id="change">m.fit(</a>df<a id="change">, freq="5min")</a>
    future = m.make_future_dataframe(df, periods=6, n_historic_predictions=3 * 24 * 12)
    m.predict(future)
    m.highlight_nth_step_ahead_of_each_forecast(m.n_forecasts)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/24fd354d6ccdd16cf29a67da3c0c463d3933ff43#diff-c88db55ddf1ce68faaa3828e56969a424be22a4da20d644b9962fd41309d1b52L104' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664002</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 24fd354d6ccdd16cf29a67da3c0c463d3933ff43</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: noxan@users.noreply.github.com</div><div id='file'> File Name: tests/test_uncertainty.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_uncertainty_estimation_yosemite_temps(0)</div><div id='n_method'> N Method Name: test_uncertainty_estimation_yosemite_temps(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_uncertainty.py</div><div id='n_file'> N File Name: tests/test_uncertainty.py</div><div id='m_start'> M Start Line: 106</div><div id='m_end'> M End Line: 118</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 118</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                       random_state=2
                       )

        res<a id="change"> = </a><a id="change">opt.fit()</a>
        return

    def test_dl4seq_grid(self):
        run_dl4seq("grid")</code></pre><h3>After Change</h3><pre><code class='java'>
                       random_state=2
                       )

        <a id="change">opt.fit()</a>
        return

    def test_dl4seq_grid(self):
        run_dl4seq("grid")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/a3b17d8e84a1484fc4291b6292c618d12a350621#diff-2d061c16be3b50a3adbb58e52efc9f995a37141814ad32fd6df441d75a1d9d37L209' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664007</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: a3b17d8e84a1484fc4291b6292c618d12a350621</div><div id='time'> Time: 2021-01-05</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: tests/test_hyper_opt.py</div><div id='m_class'> M Class Name: TestHyperOpt</div><div id='n_method'> N Class Name: TestHyperOpt</div><div id='m_method'> M Method Name: test_dl4seq_bayes(1)</div><div id='n_method'> N Method Name: test_dl4seq_bayes(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/test_hyper_opt.py</div><div id='n_file'> N File Name: tests/test_hyper_opt.py</div><div id='m_start'> M Start Line: 230</div><div id='m_end'> M End Line: 247</div><div id='n_start'> N Start Line: 247</div><div id='n_end'> N End Line: 247</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        batch_size=BATCH_SIZE,
        learning_rate=LR,
    )
    metrics_df<a id="change"> = </a><a id="change">m.fit(</a>df<a id="change">, freq="MS")</a>
    future = m.make_future_dataframe(df, periods=50, n_historic_predictions=len(df))
    forecast = m.predict(future)

</code></pre><h3>After Change</h3><pre><code class='java'>
        batch_size=BATCH_SIZE,
        learning_rate=LR,
    )
    <a id="change">m.fit(</a>df<a id="change">, freq="MS")</a>
    future = m.make_future_dataframe(df, periods=50, n_historic_predictions=len(df))
    m.predict(future)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/24fd354d6ccdd16cf29a67da3c0c463d3933ff43#diff-c88db55ddf1ce68faaa3828e56969a424be22a4da20d644b9962fd41309d1b52L122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663974</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 24fd354d6ccdd16cf29a67da3c0c463d3933ff43</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: noxan@users.noreply.github.com</div><div id='file'> File Name: tests/test_uncertainty.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_uncertainty_estimation_air_travel(0)</div><div id='n_method'> N Method Name: test_uncertainty_estimation_air_travel(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_uncertainty.py</div><div id='n_file'> N File Name: tests/test_uncertainty.py</div><div id='m_start'> M Start Line: 124</div><div id='m_end'> M End Line: 135</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 135</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        x = np.random.random((batch_size * 10, lookback, len(inputs)))
        y = np.random.random((batch_size * 10, len(outputs)))

        history<a id="change"> = </a><a id="change">model.fit(x=x, y=y)</a>
        return

    def test_example3(self):
        model = Model(</code></pre><h3>After Change</h3><pre><code class='java'>
        x = np.random.random((batch_size * 10, lookback, len(inputs)))
        y = np.random.random((batch_size * 10, len(outputs)))

        <a id="change">model.fit(x=x, y=y)</a>
        return

    def test_example3(self):
        from ai4water import Model</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/ebb30cb4829cac0eea2397dbc35978a6dc2fc9e5#diff-bb398cb422791137193cab048632e82733de687c065bcdb6d603d75448644ee2L43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663976</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: ebb30cb4829cac0eea2397dbc35978a6dc2fc9e5</div><div id='time'> Time: 2023-02-08</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: tests/test_front_page_examples.py</div><div id='m_class'> M Class Name: TestFrontPage</div><div id='n_method'> N Class Name: TestFrontPage</div><div id='m_method'> M Method Name: test_example2(1)</div><div id='n_method'> N Method Name: test_example2(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/test_front_page_examples.py</div><div id='n_file'> N File Name: tests/test_front_page_examples.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    train_df, test_df = m.split_df(df, freq="MS", valid_p=0.2)
    train_df, cal_df = m.split_df(train_df, freq="MS", valid_p=0.15)
    metrics_df<a id="change"> = </a><a id="change">m.fit(</a>train_df<a id="change">, freq="MS")</a>

    alpha = (0.03, 0.07)
    decompose = False
    future = m.make_future_dataframe(</code></pre><h3>After Change</h3><pre><code class='java'>

    train_df, test_df = m.split_df(df, freq="MS", valid_p=0.2)
    train_df, cal_df = m.split_df(train_df, freq="MS", valid_p=0.15)
    <a id="change">m.fit(</a>train_df<a id="change">, freq="MS")</a>

    alpha = (0.03, 0.07)
    decompose = False
    future = m.make_future_dataframe(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/24fd354d6ccdd16cf29a67da3c0c463d3933ff43#diff-c88db55ddf1ce68faaa3828e56969a424be22a4da20d644b9962fd41309d1b52L197' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663979</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 24fd354d6ccdd16cf29a67da3c0c463d3933ff43</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: noxan@users.noreply.github.com</div><div id='file'> File Name: tests/test_uncertainty.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_asymmetrical_quantiles(0)</div><div id='n_method'> N Method Name: test_asymmetrical_quantiles(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_uncertainty.py</div><div id='n_file'> N File Name: tests/test_uncertainty.py</div><div id='m_start'> M Start Line: 213</div><div id='m_end'> M End Line: 243</div><div id='n_start'> N Start Line: 213</div><div id='n_end'> N End Line: 243</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    train_df, test_df = m.split_df(df, freq="MS", valid_p=0.2)
    train_df, cal_df = m.split_df(train_df, freq="MS", valid_p=0.15)
    metrics_df<a id="change"> = </a><a id="change">m.fit(</a>train_df<a id="change">, freq="MS")</a>

    alpha = 0.1
    decompose = False
    for method in ["naive", "cqr"]:  &#47&#47 Naive and CQR SCP methods</code></pre><h3>After Change</h3><pre><code class='java'>

    train_df, test_df = m.split_df(df, freq="MS", valid_p=0.2)
    train_df, cal_df = m.split_df(train_df, freq="MS", valid_p=0.15)
    <a id="change">m.fit(</a>train_df<a id="change">, freq="MS")</a>

    alpha = 0.1
    decompose = False
    for method in ["naive", "cqr"]:  &#47&#47 Naive and CQR SCP methods</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/24fd354d6ccdd16cf29a67da3c0c463d3933ff43#diff-c88db55ddf1ce68faaa3828e56969a424be22a4da20d644b9962fd41309d1b52L161' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663980</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 24fd354d6ccdd16cf29a67da3c0c463d3933ff43</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: noxan@users.noreply.github.com</div><div id='file'> File Name: tests/test_uncertainty.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_split_conformal_prediction(0)</div><div id='n_method'> N Method Name: test_split_conformal_prediction(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_uncertainty.py</div><div id='n_file'> N File Name: tests/test_uncertainty.py</div><div id='m_start'> M Start Line: 175</div><div id='m_end'> M End Line: 194</div><div id='n_start'> N Start Line: 175</div><div id='n_end'> N End Line: 194</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    eval_metric, obj, labels=None, budget=None, train_loss=False, fit_kwargs={}
):
    start = time.time()
    train_time<a id="change"> = </a><a id="change">estimator.fit(</a>X_train, y_train, budget<a id="change">, **fit_kwargs)</a>
    if isinstance(eval_metric, str):
        pred_start = time.time()
        test_pred_y = get_y_pred(estimator, X_test, eval_metric, obj)</code></pre><h3>After Change</h3><pre><code class='java'>
    eval_metric, obj, labels=None, budget=None, log_training_metric=False, fit_kwargs={}
):
    start = time.time()
    <a id="change">estimator.fit(</a>X_train, y_train, budget<a id="change">, **fit_kwargs)</a>
    if isinstance(eval_metric, str):
        pred_start = time.time()
        test_pred_y = get_y_pred(estimator, X_test, eval_metric, obj)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/flaml/commit/a229a6112a551ce84728f6c75b8c26320930cc15#diff-ffd1c277543ea643fd48c6a9577f8274c23f54f9966abaf8776a81be8a2d924aL142' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664017</div><div id='project'> Project Name: microsoft/flaml</div><div id='commit'> Commit Name: a229a6112a551ce84728f6c75b8c26320930cc15</div><div id='time'> Time: 2021-08-23</div><div id='author'> Author: qw2ky@virginia.edu</div><div id='file'> File Name: flaml/ml.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_test_loss(12)</div><div id='n_method'> N Method Name: get_test_loss(12)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: flaml/ml.py</div><div id='n_file'> N File Name: flaml/ml.py</div><div id='m_start'> M Start Line: 147</div><div id='m_end'> M End Line: 154</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 163</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    y_train = floatify_series(y_train)
    y_test = floatify_series(y_test)

    domain_classifier<a id="change"> = </a><a id="change">domain_classifier.fit(</a>x_train, y_train<a id="change">)</a>

    y_test.name = &quotbelongs_to_test&quot
    domain_test_dataset = Dataset(pd.concat([x_test.reset_index(drop=True), y_test.reset_index(drop=True)], axis=1),
                                  cat_features=cat_features, label=&quotbelongs_to_test&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    domain_classifier = HistGradientBoostingClassifier(max_depth=2, max_iter=10, random_state=random_state,
                                                       categorical_features=[x in cat_features for x in
                                                                             domain_class_df.columns])
    <a id="change">domain_classifier.fit(</a>x_train, y_train<a id="change">)</a>

    y_test.name = &quotbelongs_to_test&quot
    domain_test_dataset = Dataset(pd.concat([x_test.reset_index(drop=True), y_test.reset_index(drop=True)], axis=1),
                                  cat_features=cat_features, label=&quotbelongs_to_test&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/44add128afe3dda19502ebd7ac25c9134ef42cbc#diff-ae8c1fa2e48747a5efcec8045870bddfe9d3a8f53224a762e17f570a765c9232L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664016</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 44add128afe3dda19502ebd7ac25c9134ef42cbc</div><div id='time'> Time: 2022-08-01</div><div id='author'> Author: 67195469+Nadav-Barak@users.noreply.github.com</div><div id='file'> File Name: deepchecks/core/check_utils/whole_dataset_drift_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_whole_dataset_drift(13)</div><div id='n_method'> N Method Name: run_whole_dataset_drift(13)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/core/check_utils/whole_dataset_drift_utils.py</div><div id='n_file'> N File Name: deepchecks/core/check_utils/whole_dataset_drift_utils.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 61</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        gpus=0, fast_dev_run=True, max_epochs=1, default_root_dir=tmpdir, max_steps=3
    )

    results<a id="change"> = </a><a id="change">trainer.fit(</a>model, datamodule<a id="change">)</a>
    assert results == 1
</code></pre><h3>After Change</h3><pre><code class='java'>
        gpus=0, fast_dev_run=True, max_epochs=1, default_root_dir=tmpdir, max_steps=3
    )

    <a id="change">trainer.fit(</a>model, datamodule<a id="change">)</a>
    loss = trainer.progress_bar_dict[&quotloss&quot]

    assert float(loss) &gt; 0
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorchlightning/pytorch-lightning-bolts/commit/978fa1cf2e56056c12b51193613e0f1388fcb0e0#diff-c3abda96ca1533080a4912787fb61b636229a0c251460e0f2f88ce0c67edd7dcL91' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664023</div><div id='project'> Project Name: pytorchlightning/pytorch-lightning-bolts</div><div id='commit'> Commit Name: 978fa1cf2e56056c12b51193613e0f1388fcb0e0</div><div id='time'> Time: 2020-11-02</div><div id='author'> Author: ananya@pytorchlightning.ai</div><div id='file'> File Name: tests/models/self_supervised/test_models.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_swav(1)</div><div id='n_method'> N Method Name: test_swav(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/models/self_supervised/test_models.py</div><div id='n_file'> N File Name: tests/models/self_supervised/test_models.py</div><div id='m_start'> M Start Line: 97</div><div id='m_end'> M End Line: 135</div><div id='n_start'> N Start Line: 97</div><div id='n_end'> N End Line: 137</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                       random_state=2
                       )

        res<a id="change"> = </a><a id="change">opt.fit()</a>
        return


    def test_dl4seq_bayes(self):</code></pre><h3>After Change</h3><pre><code class='java'>
                       random_state=2
                       )

        <a id="change">opt.fit()</a>
        return

    def test_dl4seq_bayes(self):
        dims = [Integer(low=1000, high=2000, name=&quotn_estimators&quot),</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/90d0278853e4c9684425d65c2f33dd0c47aa4d4b#diff-2d061c16be3b50a3adbb58e52efc9f995a37141814ad32fd6df441d75a1d9d37L216' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663959</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: 90d0278853e4c9684425d65c2f33dd0c47aa4d4b</div><div id='time'> Time: 2021-03-11</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: tests/test_hyper_opt.py</div><div id='m_class'> M Class Name: TestHyperOpt</div><div id='n_method'> N Class Name: TestHyperOpt</div><div id='m_method'> M Method Name: test_named_custom_bayes(1)</div><div id='n_method'> N Method Name: test_named_custom_bayes(1)</div><div id='m_parent_class'> M Parent Class: unittest.TestCase</div><div id='n_parent_class'> N Parent Class: unittest.TestCase</div><div id='m_file'> M File Name: tests/test_hyper_opt.py</div><div id='n_file'> N File Name: tests/test_hyper_opt.py</div><div id='m_start'> M Start Line: 268</div><div id='m_end'> M End Line: 268</div><div id='n_start'> N Start Line: 260</div><div id='n_end'> N End Line: 260</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        gpus=None,
    )

    result<a id="change"> = </a><a id="change">trainer.fit(</a>model<a id="change">, datamodule=dm)</a>
    assert result == 1


@torch.no_grad()</code></pre><h3>After Change</h3><pre><code class='java'>
        gpus=None,
    )

    <a id="change">trainer.fit(</a>model<a id="change">, datamodule=dm)</a>


@torch.no_grad()
def test_encoder():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorchlightning/lightning-bolts/commit/b236f21a2ac3e89fc6d3e75eecd99c2829d3c240#diff-c479a757979b2238ca0ead1eda5d8c69f86929d5ba35762d0860cb8cb2d6a7cdL27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664022</div><div id='project'> Project Name: pytorchlightning/lightning-bolts</div><div id='commit'> Commit Name: b236f21a2ac3e89fc6d3e75eecd99c2829d3c240</div><div id='time'> Time: 2021-05-11</div><div id='author'> Author: nitta@akihironitta.com</div><div id='file'> File Name: tests/models/test_autoencoders.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_ae(3)</div><div id='n_method'> N Method Name: test_ae(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/models/test_autoencoders.py</div><div id='n_file'> N File Name: tests/models/test_autoencoders.py</div><div id='m_start'> M Start Line: 31</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    model = ImageDetector(num_classes=2, model="fasterrcnn_resnet50_fpn")
    ds = DummyDetectionDataset((3, 224, 224), 1, 2, 10)
    dl = DataLoader(ds, collate_fn=collate_fn)
    trainer<a id="change"> = </a><a id="change">pl.Trainer(fast_dev_run=True, default_root_dir=tmpdir).fit(</a>model, dl<a id="change">)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
    model = ImageDetector(num_classes=2, model="fasterrcnn_resnet50_fpn")
    ds = DummyDetectionDataset((3, 224, 224), 1, 2, 10)
    dl = DataLoader(ds, collate_fn=collate_fn)
    <a id="change">pl.Trainer(fast_dev_run=True, default_root_dir=tmpdir).fit(</a>model, dl<a id="change">)</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lightning-ai/lightning-flash/commit/90d7985ae3ed30ad3bcf13f7b5af26cfcf6d09ef#diff-8722d601114510d19084dd75952355488cb08737156530a0af7c285a9ce2ce4cL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664025</div><div id='project'> Project Name: lightning-ai/lightning-flash</div><div id='commit'> Commit Name: 90d7985ae3ed30ad3bcf13f7b5af26cfcf6d09ef</div><div id='time'> Time: 2021-01-28</div><div id='author'> Author: jirka.borovec@seznam.cz</div><div id='file'> File Name: tests/vision/models/test_detection.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_training(1)</div><div id='n_method'> N Method Name: test_training(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/models/test_detection.py</div><div id='n_file'> N File Name: tests/vision/models/test_detection.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.fitted = False
            
    def compute(self):
        self.data<a id="change"> = </a><a id="change">self.scaler.fit()</a>.mean_ &#47&#47 TODO: return dataarray if if data is dataarray
        self.fitted = True 
    
    &#47&#47 &#47&#47 - Option to add time group dimensions to mean_, std_</code></pre><h3>After Change</h3><pre><code class='java'>
            self.fitted = False          
             
    def compute(self):
        <a id="change">self.scaler.fit()</a>
        self.fitted = True 
        self.mean = self.scaler.mean_  
        self.variability = self.scaler.std_</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepsphere/deepsphere-weather/commit/6860b67c2eb6f7da022fa0e15b1a028ba55e85d1#diff-746ea00cf10e5bf32a544d337ceeb315b7b47bc8770bfc05d61b1eb0d7029903L1082' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663993</div><div id='project'> Project Name: deepsphere/deepsphere-weather</div><div id='commit'> Commit Name: 6860b67c2eb6f7da022fa0e15b1a028ba55e85d1</div><div id='time'> Time: 2021-02-16</div><div id='author'> Author: gionata.ghiggi@gmail.com</div><div id='file'> File Name: modules/xscaler.py</div><div id='m_class'> M Class Name: Climatology</div><div id='n_method'> N Class Name: Climatology</div><div id='m_method'> M Method Name: compute(1)</div><div id='n_method'> N Method Name: compute(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: modules/xscaler.py</div><div id='n_file'> N File Name: modules/xscaler.py</div><div id='m_start'> M Start Line: 1083</div><div id='m_end'> M End Line: 1083</div><div id='n_start'> N Start Line: 1104</div><div id='n_end'> N End Line: 1107</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            batch_size=BATCH_SIZE,
            learning_rate=LR,
        )
        metrics_df<a id="change"> = </a><a id="change">m.fit(</a>df<a id="change">, freq="MS")</a>
        future = m.make_future_dataframe(df, periods=50, n_historic_predictions=len(df))
        forecast = m.predict(future)

</code></pre><h3>After Change</h3><pre><code class='java'>
            batch_size=BATCH_SIZE,
            learning_rate=LR,
        )
        <a id="change">m.fit(</a>df<a id="change">, freq="MS")</a>
        future = m.make_future_dataframe(df, periods=50, n_historic_predictions=len(df))
        m.predict(future)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/24fd354d6ccdd16cf29a67da3c0c463d3933ff43#diff-c88db55ddf1ce68faaa3828e56969a424be22a4da20d644b9962fd41309d1b52L138' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664024</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 24fd354d6ccdd16cf29a67da3c0c463d3933ff43</div><div id='time'> Time: 2023-05-16</div><div id='author'> Author: noxan@users.noreply.github.com</div><div id='file'> File Name: tests/test_uncertainty.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_uncertainty_estimation_multiple_quantiles(0)</div><div id='n_method'> N Method Name: test_uncertainty_estimation_multiple_quantiles(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_uncertainty.py</div><div id='n_file'> N File Name: tests/test_uncertainty.py</div><div id='m_start'> M Start Line: 140</div><div id='m_end'> M End Line: 158</div><div id='n_start'> N Start Line: 140</div><div id='n_end'> N End Line: 158</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        gpus=None,
    )

    result<a id="change"> = </a><a id="change">trainer.fit(</a>model<a id="change">, datamodule=dm)</a>
    assert result == 1


@pytest.mark.parametrize("dm_cls", [pytest.param(CIFAR10DataModule, id="cifar10")])</code></pre><h3>After Change</h3><pre><code class='java'>
        gpus=None,
    )

    <a id="change">trainer.fit(</a>model<a id="change">, datamodule=dm)</a>


@pytest.mark.parametrize("dm_cls", [pytest.param(CIFAR10DataModule, id="cifar10")])
def test_ae(tmpdir, datadir, dm_cls):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pytorchlightning/lightning-bolts/commit/b236f21a2ac3e89fc6d3e75eecd99c2829d3c240#diff-c479a757979b2238ca0ead1eda5d8c69f86929d5ba35762d0860cb8cb2d6a7cdL11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664026</div><div id='project'> Project Name: pytorchlightning/lightning-bolts</div><div id='commit'> Commit Name: b236f21a2ac3e89fc6d3e75eecd99c2829d3c240</div><div id='time'> Time: 2021-05-11</div><div id='author'> Author: nitta@akihironitta.com</div><div id='file'> File Name: tests/models/test_autoencoders.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_vae(3)</div><div id='n_method'> N Method Name: test_vae(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/models/test_autoencoders.py</div><div id='n_file'> N File Name: tests/models/test_autoencoders.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 23</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 22</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        verbosity=0
    )

    hist<a id="change"> = </a><a id="change">model.fit(indices=indices)</a>
    return model.predict(indices=model.test_indices if indices else None)

class test_MultiInputModels(unittest.TestCase):
    def test_with_no_transformation(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        verbosity=0
    )

    <a id="change">model.fit(indices=indices)</a>
    return model.predict(indices=model.test_indices if indices else None)

class test_MultiInputModels(unittest.TestCase):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/ai4water/commit/2794c1b28bdfaf7f9fc11c54498897df9ecde41b#diff-0adb667cd397bd56edce10eec11e1b10821740a10d72bd148b09645fc9108968L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12664029</div><div id='project'> Project Name: atrcheema/ai4water</div><div id='commit'> Commit Name: 2794c1b28bdfaf7f9fc11c54498897df9ecde41b</div><div id='time'> Time: 2021-03-11</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: tests/test_models.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_and_run(3)</div><div id='n_method'> N Method Name: build_and_run(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_models.py</div><div id='n_file'> N File Name: tests/test_models.py</div><div id='m_start'> M Start Line: 75</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 73</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 user defined data
    x,y = model.training_data(data=data)
    _<a id="change"> = </a><a id="change">model.fit(x=x,y=y, epochs=1)</a>
    _ = model.predict(x=x,y=y)

    return pred_y
</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 user defined data
    x,y = model.training_data(data=data)
    <a id="change">model.fit(x=x,y=y, epochs=1)</a>
    model.fit_on_all_training_data(data=data, epochs=1)
    _ = model.predict(x=x,y=y)
    model.predict_on_validation_data(data=data)
    model.predict_on_all_data(data=data)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/c2334f70b7ee75190636bf81736871d9f7fce2ff#diff-e43bfa9ab3bdd0f68376b085bac2aab4c55fa761fb736c79a640860dbdb38a35L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 12663998</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: c2334f70b7ee75190636bf81736871d9f7fce2ff</div><div id='time'> Time: 2022-05-20</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: tests/test_models/test_without_eager.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: make_and_run(6)</div><div id='n_method'> N Method Name: make_and_run(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_models/test_without_eager.py</div><div id='n_file'> N File Name: tests/test_models/test_without_eager.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 50</div><BR>