<html><h3>Pattern ID :32822
</h3><img src='95180168.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            data_folder (string): folder in which to download core50 dataset. 
        

        self.log = <a id="change">logging.getLogger("avalanche"</a><a id="change">)</a>

        if os.path.isabs(data_folder):
            self.data_folder = data_folder
        else:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.mini = mini
        self.obj_lvl = obj_lvl

        <a id="change">if </a>self.mini:
            &#47&#47 we swap the main zip file to download: 32x32 instead of 128x128
            app_tup = data[0]
            data[0] = extra_data[1]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/continualai/avalanche/commit/b0deddc56f48a55ce65b118b17e2a0cd99476fe2#diff-f61d7a6503a302e29cb854dad0883152eec73bf57b2dc95e0f0502a3fffeda40L78' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95180168</div><div id='project'> Project Name: continualai/avalanche</div><div id='commit'> Commit Name: b0deddc56f48a55ce65b118b17e2a0cd99476fe2</div><div id='time'> Time: 2021-05-28</div><div id='author'> Author: vincenzo.lomonaco@unibo.it</div><div id='file'> File Name: avalanche/benchmarks/datasets/core50/core50_data.py</div><div id='m_class'> M Class Name: CORE50_DATA</div><div id='n_method'> N Class Name: CORE50_DATA</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: avalanche/benchmarks/datasets/core50/core50_data.py</div><div id='n_file'> N File Name: avalanche/benchmarks/datasets/core50/core50_data.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 79</div><div id='n_end'> N End Line: 121</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Args:
            data_folder (string): folder in which to download openloris dataset.
        
        self.log = <a id="change">logging.getLogger("avalanche"</a><a id="change">)</a>
        if os.path.isabs(data_folder):
            self.data_folder = data_folder
        else:
            self.data_folder = os.path.join(os.path.dirname(__file__),</code></pre><h3>After Change</h3><pre><code class='java'>
        if not os.path.exists(self.root):
            os.makedirs(self.root)

        <a id="change">if </a>download:
            self.download()

    def download(self):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/continualai/avalanche/commit/117f81a8e004ad0f4e698a7c25e9765ce5994334#diff-6907f6d5acddb37c33effc588ff7039b589f1b11b011c8bb12ffde2b1d8a641aL48' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95180169</div><div id='project'> Project Name: continualai/avalanche</div><div id='commit'> Commit Name: 117f81a8e004ad0f4e698a7c25e9765ce5994334</div><div id='time'> Time: 2021-05-06</div><div id='author'> Author: vincenzo.lomonaco@unibo.it</div><div id='file'> File Name: avalanche/benchmarks/datasets/openloris/openloris_data.py</div><div id='m_class'> M Class Name: OPENLORIS_DATA</div><div id='n_method'> N Class Name: OPENLORIS_DATA</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: avalanche/benchmarks/datasets/openloris/openloris_data.py</div><div id='n_file'> N File Name: avalanche/benchmarks/datasets/openloris/openloris_data.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 65</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    def __init__(self, args, data, model):

        self.logger = <a id="change">logging.getLogger(&quotDetection&quot</a><a id="change">)</a>

        self.model = model.model 
        self.optimizer = model.optimizer
        self.device = model.device</code></pre><h3>After Change</h3><pre><code class='java'>

        self.loss_fct = loss_map[args.loss_fct]
        
        <a id="change">if </a>not args.train:
            restore_model(self.model, args.model_output_dir)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuiar/textoir/commit/d5fb8b5033236b5185cbf75e0cbb30e9667b4e0c#diff-0e57f78ef6de499e28a6ada7f1a986bcd2b5b9a19a0852177c7dcb13c5eb7276L23' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95180170</div><div id='project'> Project Name: thuiar/textoir</div><div id='commit'> Commit Name: d5fb8b5033236b5185cbf75e0cbb30e9667b4e0c</div><div id='time'> Time: 2021-06-04</div><div id='author'> Author: zhang-hl20@mails.tsinghua.edu.cn</div><div id='file'> File Name: open_intent_detection/methods/MSP/manager.py</div><div id='m_class'> M Class Name: MSPManager</div><div id='n_method'> N Class Name: MSPManager</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: open_intent_detection/methods/MSP/manager.py</div><div id='n_file'> N File Name: open_intent_detection/methods/MSP/manager.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 41</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 Disable PyTorch Lightning logs
    if config[&quotdisable_lightning_logs&quot]:
        <a id="change">logging.getLogger(&quotlightning&quot</a><a id="change">)</a>.setLevel(logging.ERROR)

    &#47&#47 Pretty print config using Rich library
    if config[&quotprint_config&quot]:</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 Return metric score for Optuna optimization
    optimized_metric = config.get("optimized_metric")
    <a id="change">if </a>optimized_metric:
        result = trainer.callback_metrics[optimized_metric]
        log.info(f"Returning metric for Optuna: &lt;{optimized_metric}={result}&gt;")
        return result</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ashleve/lightning-hydra-template/commit/b45d3b31ecd57cf321b0d4db78b8fac766996922#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95180171</div><div id='project'> Project Name: ashleve/lightning-hydra-template</div><div id='commit'> Commit Name: b45d3b31ecd57cf321b0d4db78b8fac766996922</div><div id='time'> Time: 2021-03-06</div><div id='author'> Author: zalewski.ukas@gmail.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(1)</div><div id='n_method'> N Method Name: train(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 95</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 101</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &quot&quot&quot
    tensor_new = [obj for obj in gc.get_objects() if torch.is_tensor(obj) and obj not in _tensors]
    tensor_del = [obj for obj in _tensors if obj.released()]
    logger = <a id="change">logging.getLogger(&quotd3d.profiler&quot</a><a id="change">)</a>

    if report:
        logger.debug(f&quot========== {len(tensor_new)} new tensors, {len(tensor_del)} released tensors ==========&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>
    tensor_new = [obj for obj in gc.get_objects() if torch.is_tensor(obj) and obj not in _tensors]
    tensor_del = [obj for obj in _tensors if obj.released()]

    <a id="change">if </a>report:
        _logger.debug(f&quot========== {len(tensor_new)} new tensors, {len(tensor_del)} released tensors ==========&quot)

    if len(tensor_new) &gt; 50:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cmpute/d3d/commit/6244d948a3aab04e4f691001fdcfed07ea603522#diff-fd5daf1db621a2d0bd72751fd1621ef73cbd14e624a3c9be4e0709ed9d001c46L43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95180166</div><div id='project'> Project Name: cmpute/d3d</div><div id='commit'> Commit Name: 6244d948a3aab04e4f691001fdcfed07ea603522</div><div id='time'> Time: 2020-03-05</div><div id='author'> Author: cmpute@qq.com</div><div id='file'> File Name: d3d/profiler.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: tap_tensors(1)</div><div id='n_method'> N Method Name: tap_tensors(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: d3d/profiler.py</div><div id='n_file'> N File Name: d3d/profiler.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 54</div><BR>