<html><h3>Pattern ID :28655
</h3><img src='84552042.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    doc = Doc(en_vocab, words=words, heads=heads, deps=deps)
    doc.from_array(
        [HEAD, DEP],
        <a id="change">numpy.asarray(
            </a>[
                [1, nsubj],
                [0, root],
                [4, amod],
                [3, nmod],
                [-1, cc],
                <a id="change">[</a>-2, conj<a id="change"></a>],
                [-5, dobj],
            ]<a id="change">,
            dtype="uint64",
        )</a>,
    )
    doc.noun_chunks_iterator = noun_chunks
    word_occurred = {}</code></pre><h3>After Change</h3><pre><code class='java'>
    Test that each token only appears in one noun chunk at most
    word_occurred = {}
    chunks = list(doc.noun_chunks)
    <a id="change">assert </a>len(chunks) &gt; 1
    for chunk in chunks:
        for word in chunk:
            word_occurred.setdefault(word.text, 0)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/fed8f4896577b22ec131b1430d952334dcb82ed4#diff-e0b6c2b5cae9d9676ebfc4bad1bf00a3f097e700688ba3a073e4ed591ab4e8a9L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84552042</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: fed8f4896577b22ec131b1430d952334dcb82ed4</div><div id='time'> Time: 2021-01-17</div><div id='author'> Author: svlandeg@users.noreply.github.com</div><div id='file'> File Name: spacy/tests/lang/en/test_noun_chunks.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_en_noun_chunks_not_nested(2)</div><div id='n_method'> N Method Name: test_en_noun_chunks_not_nested(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/lang/en/test_noun_chunks.py</div><div id='n_file'> N File Name: spacy/tests/lang/en/test_noun_chunks.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 30</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    elif color_name == &quotgreen&quot:
        return np.asarray([0.0, 1.0, 0.0])
    elif color_name == &quotyellow&quot:
        return <a id="change">np.asarray([</a>0.0, 1.0, 1.0<a id="change"></a>]<a id="change">)</a>
    else:
        raise RuntimeError(f&quotUnsupported color: {color_name}.&quot)

</code></pre><h3>After Change</h3><pre><code class='java'>
        return np.asarray([255.0, 204.0, 102.0]) / 255.0
    if color_name == "custom_blue":
        return np.asarray([102.0, 153.0, 255.0]) / 255.0
    <a id="change">assert </a>color_name in colors.CSS4_COLORS
    return np.asarray(colors.to_rgb(colors.CSS4_COLORS[color_name]))

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/qinzheng93/geotransformer/commit/2232c06e294e5bb4ddcb939331a0824a31c8d7b9#diff-50349dac504feb25fed692a0b199b8d1fcb0b975c4a0e3d389a4dc1937a9d7cdL5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84552046</div><div id='project'> Project Name: qinzheng93/geotransformer</div><div id='commit'> Commit Name: 2232c06e294e5bb4ddcb939331a0824a31c8d7b9</div><div id='time'> Time: 2022-05-09</div><div id='author'> Author: clavichord93@hotmail.com</div><div id='file'> File Name: geotransformer/utils/open3d.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_color(1)</div><div id='n_method'> N Method Name: get_color(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: geotransformer/utils/open3d.py</div><div id='n_file'> N File Name: geotransformer/utils/open3d.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 17</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 12</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
		if device is not None:
			model.to(device)
		model.eval()
		accs = <a id="change">[]</a>
		with torch.no_grad():
			for i, (inputs, classes) in tqdm(
					enumerate(dataloader), total=len(dataloader),
					desc=desc, disable=not verbose, position=p_bar_position,
			):
				inputs = inputs.to(model.device)
				classes = classes.to(model.device)
				outputs = model.get_prediction_proba(inputs, re_outputs_trace=False, re_hidden_states=False)
				if isinstance(outputs, dict):
					if not isinstance(classes, dict):
						classes = {k: classes for k in outputs}
					for k, v in outputs.items():
						_, preds = torch.max(v, -1)
						accs.extend(torch.eq(preds, classes[k]).float().cpu().numpy())
		return np.mean(<a id="change">np.asarray(</a>accs<a id="change">)</a>).item()
</code></pre><h3>After Change</h3><pre><code class='java'>

		if y_true is None:
			assert y_pred is None
			<a id="change">assert </a>model is not None, "Either model or y_pred and y_true must be supplied."
			assert dataloader is not None, "Either model or y_pred and y_true must be supplied."
			y_true, y_pred = ClassificationMetrics.compute_y_true_y_pred(
				model, dataloader, device, verbose, desc, p_bar_position</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neurotorch/neurotorch/commit/a12e85b06c8ee517b890c900e3f1a1e7d1caa94c#diff-cbf72c0bab1db629bb51744bddad5311e30ddab49ba2c780e98325e7423a26f1L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 84552037</div><div id='project'> Project Name: neurotorch/neurotorch</div><div id='commit'> Commit Name: a12e85b06c8ee517b890c900e3f1a1e7d1caa94c</div><div id='time'> Time: 2022-06-10</div><div id='author'> Author: 50332514+JeremieGince@users.noreply.github.com</div><div id='file'> File Name: src/neurotorch/metrics/classification.py</div><div id='m_class'> M Class Name: ClassificationMetrics</div><div id='n_method'> N Class Name: ClassificationMetrics</div><div id='m_method'> M Method Name: accuracy(8)</div><div id='n_method'> N Method Name: accuracy(6)</div><div id='m_parent_class'> M Parent Class: BaseMetrics</div><div id='n_parent_class'> N Parent Class: BaseMetrics</div><div id='m_file'> M File Name: src/neurotorch/metrics/classification.py</div><div id='n_file'> N File Name: src/neurotorch/metrics/classification.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 89</div><BR>