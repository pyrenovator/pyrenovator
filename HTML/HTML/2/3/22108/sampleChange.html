<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
      if outs[ii].tolist().index(max(outs[ii])) == y_batch[ii]:
        correct += 1
      pts.append([a[ii][1], y_batch[ii]])
  <a id="change">print(</a>(float(correct)/total)<a id="change">)</a>
  if auprc:
    print(AUPRC(pts))
  return float(correct)/total
</code></pre><h3>After Change</h3><pre><code class='java'>
    true.append(j[-1])
  if pred:
    pred = torch.cat(pred, 0).cpu().numpy()
  true<a id="change"> = </a>torch.cat(true, 0).cpu().numpy()
  if auprc:
    print(AUPRC(pts))
  if task == "classification":
    print("acc: "+str(accuracy_score(true, pred)))
    return accuracy_score(true, pred)
  elif task == "multilabel":
    print(" f1_micro: "+str(f1_score(true, pred, average="micro"))+\
        " f1_macro: "+str(f1_score(true, pred, average="macro")))
    return <a id="change">f1_score(</a>true, pred<a id="change">, average="micro")</a>, f1_score(true, pred, average="macro")
</code></pre>