<html><h3>Pattern ID :31137
</h3><img src='91459683.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def update_priorities(self, indexes, td_errors):
        &quot&quot&quotUpdate priorities based on the TD error&quot&quot&quot
        <a id="change">pass</a>

    def get_all_transitions(self, return_cpprb=False):
        npsamples = self._buffer.get_all_transitions()
        if return_cpprb:</code></pre><h3>After Change</h3><pre><code class='java'>
                "td_errors must be cpu tensors"

        if self.prioritized:
            self._buffer.update_priorities(indexes, <a id="change">td_errors.detach().numpy()</a>)

    def get_all_transitions(self, return_cpprb=False):
        npsamples = self._buffer.get_all_transitions()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/syuntoku14/pytorch-rl-il/commit/2161e618783ff3971de35d355f964684981833bf#diff-6e3b4179d8384bf7498fb7b8c2751a86b949ebc0f79163b8af4e56c3c27be20fL129' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91459683</div><div id='project'> Project Name: syuntoku14/pytorch-rl-il</div><div id='commit'> Commit Name: 2161e618783ff3971de35d355f964684981833bf</div><div id='time'> Time: 2020-05-26</div><div id='author'> Author: syuntoku14@gmail.com</div><div id='file'> File Name: rlil/memory/replay_buffer.py</div><div id='m_class'> M Class Name: ExperienceReplayBuffer</div><div id='n_method'> N Class Name: ExperienceReplayBuffer</div><div id='m_method'> M Method Name: update_priorities(3)</div><div id='n_method'> N Method Name: update_priorities(3)</div><div id='m_parent_class'> M Parent Class: BaseReplayBuffer</div><div id='n_parent_class'> N Parent Class: BaseReplayBuffer</div><div id='m_file'> M File Name: rlil/memory/replay_buffer.py</div><div id='n_file'> N File Name: rlil/memory/replay_buffer.py</div><div id='m_start'> M Start Line: 129</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 129</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                gallery_feats = feat
            else:
                gallery_feats = np.concatenate((gallery_feats, feat), 0)
            <a id="change">pass</a>
        sys.stdout.write(
            "\r&gt;&gt; LoadGallery[{}/{}] ".format(i, gallery_len))
        sys.stdout.flush()
</code></pre><h3>After Change</h3><pre><code class='java'>

            group_inter, final, group_prob, group_label = model(torch_loader(cv2.imread(file_path)).unsqueeze(0))
            feat = final / torch.norm(final, p=2, keepdim=False)
            feat = <a id="change">feat.detach().cpu().reshape(1, 256).numpy()</a>

            if isinstance(gallery_feats, dict) is True:
                gallery_feats = feat
            else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/leoluopy/groupfacepytorch/commit/20388625302d7211146c80f4badced123c62fe30#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91459682</div><div id='project'> Project Name: leoluopy/groupfacepytorch</div><div id='commit'> Commit Name: 20388625302d7211146c80f4badced123c62fe30</div><div id='time'> Time: 2020-12-21</div><div id='author'> Author: lpy1990fff</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_gallery(2)</div><div id='n_method'> N Method Name: load_gallery(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            self.main_loop()

    def step(self, current_state):
        <a id="change">pass</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        loss.backward()

        self.loss_history.append(loss.detach().cpu().item())
        self.lambda_history.append(np.copy(<a id="change">self.current_state.detach().cpu().numpy()</a>))
        if self.verbose &gt; 0:
            print("loss: ", loss.item())
        if self.verbose &gt; 1:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/63fc675c57f587dac88f55c55ee7e3f5749ad76d#diff-f0c17f890bfde5fb3d7fc4bb57afd9b3cf4e4be53736f1a6465efb8850622f58L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91459681</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: 63fc675c57f587dac88f55c55ee7e3f5749ad76d</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/fit/gradient.py</div><div id='m_class'> M Class Name: Grad</div><div id='n_method'> N Class Name: Grad</div><div id='m_method'> M Method Name: step(1)</div><div id='n_method'> N Method Name: step(2)</div><div id='m_parent_class'> M Parent Class: BaseOptimizer</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: autoprof/fit/gradient.py</div><div id='n_file'> N File Name: autoprof/fit/gradient.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 18</div><div id='n_start'> N Start Line: 41</div><div id='n_end'> N End Line: 55</div><BR>