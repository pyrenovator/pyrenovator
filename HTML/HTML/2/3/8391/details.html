<html><h3>Pattern ID :8391
</h3><img src='29279675.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ProductDescriptions=[&quotLinux/UNIX&quot],
        StartTime=datetime.datetime.utcnow(),
    )
    df = <a id="change">pd.DataFrame(response[&quotSpotPriceHistory&quot]).set_index(
        </a>[&quotInstanceType&quot, &quotAvailabilityZone&quot]<a id="change">)</a>
    return df


@ray.remote</code></pre><h3>After Change</h3><pre><code class='java'>
    ret = []
    for response in response_iterator:
        ret = ret + response[&quotSpotPriceHistory&quot]
    df<a id="change"> = </a><a id="change">pd.DataFrame(ret).set_index(</a>[&quotInstanceType&quot, &quotAvailabilityZone&quot]<a id="change">)</a>
    return df


@ray.remote</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/8e0dd513dfdc6ffd769312fef00c126c26ebe670#diff-cfda6a0ed8a95ee578ea43dc83fcdea0861b59759f3863cd4e7a224c349c9aa2L61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29279675</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: 8e0dd513dfdc6ffd769312fef00c126c26ebe670</div><div id='time'> Time: 2022-01-22</div><div id='author'> Author: zhanghao.wu@outlook.com</div><div id='file'> File Name: prototype/sky/clouds/service_catalog/data_fetchers/fetch_aws.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_spot_pricing_table(1)</div><div id='n_method'> N Method Name: get_spot_pricing_table(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: prototype/sky/clouds/service_catalog/data_fetchers/fetch_aws.py</div><div id='n_file'> N File Name: prototype/sky/clouds/service_catalog/data_fetchers/fetch_aws.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 61</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ret = []
    for response in response_iterator:
        ret = ret + response[&quotSpotPriceHistory&quot]
    df = <a id="change">pd.DataFrame(ret).set_index(</a>[&quotInstanceType&quot, &quotAvailabilityZone&quot]<a id="change">)</a>
    return df


@ray.remote</code></pre><h3>After Change</h3><pre><code class='java'>
    for response in response_iterator:
        ret = ret + response[&quotSpotPriceHistory&quot]
    df = pd.DataFrame(ret)[[&quotInstanceType&quot, &quotAvailabilityZone&quot, &quotSpotPrice&quot]]
    df<a id="change"> = </a><a id="change">df.set_index(</a>[&quotInstanceType&quot, &quotAvailabilityZone&quot]<a id="change">)</a>
    return df


@ray.remote</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/591ed685dd33caf7201f2e862fd60a6406dcfdb4#diff-79022332b898556d54594f40fc0a8949c1553fe0417b14df4a9d9c6ff377f4a7L56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29279684</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: 591ed685dd33caf7201f2e862fd60a6406dcfdb4</div><div id='time'> Time: 2022-10-10</div><div id='author'> Author: zhanghao.wu@outlook.com</div><div id='file'> File Name: sky/clouds/service_catalog/data_fetchers/fetch_aws.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_spot_pricing_table(1)</div><div id='n_method'> N Method Name: get_spot_pricing_table(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sky/clouds/service_catalog/data_fetchers/fetch_aws.py</div><div id='n_file'> N File Name: sky/clouds/service_catalog/data_fetchers/fetch_aws.py</div><div id='m_start'> M Start Line: 64</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            display = display.append({label_col: labels, **sample_values}, ignore_index=True)

        <a id="change">display.set_index(</a>label_col<a id="change">)</a>

        display = None if display.empty else display.head(self.n_to_show)

        percent_ambiguous = num_ambiguous/dataset.n_samples</code></pre><h3>After Change</h3><pre><code class='java'>

            display = display.append({ambiguous_label_name: labels, **sample_values}, ignore_index=True)

        display<a id="change"> = </a><a id="change">display.set_index(</a>ambiguous_label_name<a id="change">)</a>

        explanation = (&quotEach row in the table shows an example of a data sample &quot
                       &quotand the it\&quots observed labels as a found in the dataset.&quot)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/d3e42422f35b41abaecbbd1872a019bfb9869a0e#diff-964b8f040e15bfe67da00a41b42610f8c29476d23ffa356b6bb9f8b4e14434aeL50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29279685</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: d3e42422f35b41abaecbbd1872a019bfb9869a0e</div><div id='time'> Time: 2021-12-29</div><div id='author'> Author: 42312361+benisraeldan@users.noreply.github.com</div><div id='file'> File Name: deepchecks/checks/integrity/label_ambiguity.py</div><div id='m_class'> M Class Name: LabelAmbiguity</div><div id='n_method'> N Class Name: LabelAmbiguity</div><div id='m_method'> M Method Name: run(3)</div><div id='n_method'> N Method Name: run(3)</div><div id='m_parent_class'> M Parent Class: SingleDatasetBaseCheck</div><div id='n_parent_class'> N Parent Class: SingleDatasetBaseCheck</div><div id='m_file'> M File Name: deepchecks/checks/integrity/label_ambiguity.py</div><div id='n_file'> N File Name: deepchecks/checks/integrity/label_ambiguity.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 69</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        df_pps = pps.predictors(df=dataset.data[relevant_columns], y=dataset.label_name, random_seed=self.random_state,
                                **self.ppscore_params)
        df_pps = <a id="change">df_pps.set_index(</a>&quotx&quot<a id="change">, drop=True)</a>
        s_ppscore = df_pps[&quotppscore&quot]

        def plot(n_top_features=self.n_top_features):
            top_to_show = s_ppscore.head(n_top_features)</code></pre><h3>After Change</h3><pre><code class='java'>

        df_pps = pps.predictors(df=dataset.data[relevant_columns], y=dataset.label_name, random_seed=self.random_state,
                                **self.ppscore_params)
        s_ppscore = <a id="change">df_pps.set_index(</a>&quotx&quot<a id="change">, drop=True)</a>[&quotppscore&quot]
        top_to_show<a id="change"> = </a>s_ppscore.head(self.n_top_features)

        fig = get_pps_figure(per_class=False)
        fig.add_trace(pps_df_to_trace(top_to_show, dataset_type))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/c700e58a11ff7bcc780e8f04cc7ef76518fda394#diff-997ee2b4face41089068ad50f387decbf2e3816cf0c3e3e736fe2b58e4c5cf8fL65' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29279682</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: c700e58a11ff7bcc780e8f04cc7ef76518fda394</div><div id='time'> Time: 2022-04-27</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/tabular/checks/methodology/single_feature_contribution.py</div><div id='m_class'> M Class Name: SingleFeatureContribution</div><div id='n_method'> N Class Name: SingleFeatureContribution</div><div id='m_method'> M Method Name: run_logic(3)</div><div id='n_method'> N Method Name: run_logic(3)</div><div id='m_parent_class'> M Parent Class: SingleDatasetCheck</div><div id='n_parent_class'> N Parent Class: SingleDatasetCheck</div><div id='m_file'> M File Name: deepchecks/tabular/checks/methodology/single_feature_contribution.py</div><div id='n_file'> N File Name: deepchecks/tabular/checks/methodology/single_feature_contribution.py</div><div id='m_start'> M Start Line: 90</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 90</div><div id='n_end'> N End Line: 101</div><BR>