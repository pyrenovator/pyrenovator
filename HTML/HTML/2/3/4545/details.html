<html><h3>Pattern ID :4545
</h3><img src='16519976.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    cleaned_params = dict()
    for key, val in six.viewitems(params):
        <a id="change">try:
            &#47&#47 _utils.python_to_val_proto(val)
            </a>pass
        <a id="change">except </a>TypeError:
            continue
        else:
            cleaned_params.update({key: val})</code></pre><h3>After Change</h3><pre><code class='java'>
    elif sklearn.base.is_regressor(fitted_estimator):
        metrics = _get_regressor_metrics(fitted_estimator, "training_", X, y_true, sample_weight)

    experiment = <a id="change">dict(
        workspace_id=os.environ[NTCORE_WORKSPACE_ID],
        runtime="python-" + ".".join(platform.python_version().split(&quot.&quot)[0:2]), 
        framework="sklearn",
        metrics=metrics,
        parameters=_get_params(self),
        model=pickle.dumps(self)
    )</a>

    try:
        run.log_experiment(experiment)
    except Exception as e:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nantu-io/ntcore/commit/39230c7daf75594ebf4d971e97f2efc3a5815dbf#diff-79de121bda081e06d8e5783e2f15d28d6a4f6fb581fbd6d442613c7b6e2f9cf5L92' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16519976</div><div id='project'> Project Name: nantu-io/ntcore</div><div id='commit'> Commit Name: 39230c7daf75594ebf4d971e97f2efc3a5815dbf</div><div id='time'> Time: 2021-10-19</div><div id='author'> Author: sean.tan.columbia@example.com</div><div id='file'> File Name: client/python/ntcore/integrations/sklearn/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _fit_and_log(2)</div><div id='n_method'> N Method Name: _fit_and_log(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: client/python/ntcore/integrations/sklearn/__init__.py</div><div id='n_file'> N File Name: client/python/ntcore/integrations/sklearn/__init__.py</div><div id='m_start'> M Start Line: 92</div><div id='m_end'> M End Line: 118</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 111</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            else:
                cleaned_params.update({key: val})

        <a id="change">try:
            </a>run.log_hyperparameters(cleaned_params)
        <a id="change">except</a>:
            pass  &#47&#47 don&quott halt execution

    original_fit = gorilla.get_original_attribute(cls, &quotfit&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    elif sklearn.base.is_regressor(fitted_estimator):
        metrics = _get_regressor_metrics(fitted_estimator, prefix, X, y_true, sample_weight)

    experiment = <a id="change">dict(
        workspace_id=&quotC123&quot,
        metrics=metrics
    )</a>

    try:
        run.log_experiment(experiment)
    except Exception as e:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nantu-io/ntcore/commit/5e355f826a40685242afcdeb94a0163fd03d16db#diff-79de121bda081e06d8e5783e2f15d28d6a4f6fb581fbd6d442613c7b6e2f9cf5L87' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16519977</div><div id='project'> Project Name: nantu-io/ntcore</div><div id='commit'> Commit Name: 5e355f826a40685242afcdeb94a0163fd03d16db</div><div id='time'> Time: 2021-09-29</div><div id='author'> Author: sean.tan.columbia@example.com</div><div id='file'> File Name: client/python/ntcore/integrations/sklearn/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _fit_and_log(2)</div><div id='n_method'> N Method Name: _fit_and_log(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: client/python/ntcore/integrations/sklearn/__init__.py</div><div id='n_file'> N File Name: client/python/ntcore/integrations/sklearn/__init__.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 125</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        better = True  &#47&#47 whether we find a better model in one trial
        if self._ensemble:
            self.best_model = {}
        <a id="change">try:
            </a>from ray.tune.suggest import ConcurrencyLimiter
        <a id="change">except </a>ImportError:
            from .searcher.suggestion import ConcurrencyLimiter
        if self._hpo_method in (&quotcfo&quot, &quotgrid&quot):
            from flaml import CFO as SearchAlgo</code></pre><h3>After Change</h3><pre><code class='java'>
        self._config_history = {}
        self._max_iter_per_learner = 1000000  &#47&#47 TODO
        self._iter_per_learner = dict([(e, 0) for e in self.estimator_list])
        self._ever_converged_per_learner = <a id="change">dict(</a>[(e, False) for e in self.estimator_list]<a id="change">)</a>
        self._fullsize_reached = False
        self._trained_estimator = None
        self._best_estimator = None</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/flaml/commit/10082b9262a862ef51cf09117bc5d13e43d1ca0d#diff-47aff7bcc3e528c362ea162261b640e1e276e2bce981dfafc6cce49d3d81e324L1165' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16519975</div><div id='project'> Project Name: microsoft/flaml</div><div id='commit'> Commit Name: 10082b9262a862ef51cf09117bc5d13e43d1ca0d</div><div id='time'> Time: 2021-08-11</div><div id='author'> Author: qw2ky@virginia.edu</div><div id='file'> File Name: flaml/automl.py</div><div id='m_class'> M Class Name: AutoML</div><div id='n_method'> N Class Name: AutoML</div><div id='m_method'> M Method Name: _search(1)</div><div id='n_method'> N Method Name: _search(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: flaml/automl.py</div><div id='n_file'> N File Name: flaml/automl.py</div><div id='m_start'> M Start Line: 1187</div><div id='m_end'> M End Line: 1399</div><div id='n_start'> N Start Line: 1203</div><div id='n_end'> N End Line: 1454</div><BR>