<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            self.pos_embed = None

        self.pos_drop<a id="change"> = </a><a id="change">nn.Dropout(p=drop_rate)</a>

        dpr = [x.item() for x in torch.linspace(0, drop_path_rate, depth)
               ]  &#47&#47 stochastic depth decay rule
        self.use_rel_pos_bias = use_rel_pos_bias</code></pre><h3>After Change</h3><pre><code class='java'>
            num_patches = (pretrain_img_size // patch_size) * (
                pretrain_img_size // patch_size)
            num_positions = (num_patches +
                             1)<a id="change"> if </a>pretrain_use_cls_token<a id="change"> else </a>num_patches
            self.pos_embed = nn.Parameter(
                torch.zeros(1, num_positions, embed_dim))
        else:</code></pre>