<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    if not Path(weights).exists():
        &#47&#47 Attempt to download pretrained weights if not found locally
        weights = str(weights).strip().replace("&quot", &quot&quot)
        file<a id="change"> = </a><a id="change">Path(</a>weights<a id="change">)</a>.name.lower()

        msg = weights + &quot missing, try downloading from https://github.com/ultralytics/yolov5/releases/&quot
        response = requests.get(&quothttps://api.github.com/repos/ultralytics/yolov5/releases/latest&quot).json()  &#47&#47 github api</code></pre><h3>After Change</h3><pre><code class='java'>
                url = f&quothttps://github.com/{repo}/releases/download/{tag}/{name}&quot
                print(f&quotDownloading {url} to {file}...&quot)
                torch.hub.download_url_to_file(url, file)
                <a id="change">assert </a>file.exists() and file.stat().st_size &gt; 1E6  &#47&#47 check
            except Exception as e:  &#47&#47 GCP
                print(f&quotDownload error: {e}&quot)
                assert redundant, &quotNo secondary mirror&quot</code></pre>