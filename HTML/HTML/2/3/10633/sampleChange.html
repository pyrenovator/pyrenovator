<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 TODO: For the last batch, we must scale down.
            &#47&#47 scale_down_lr = True
            pgs = self.trainer.optimizer.param_groups
            old_lrs = [<a id="change">g[&quotlr&quot]</a> for g in pgs]
            se = self.step_every
            for g in pgs:
                &#47&#47 FIXME: micro batch index</code></pre><h3>After Change</h3><pre><code class='java'>
                for g, old_lr in zip(pgs, old_lrs):
                    g[&quotlr&quot] = old_lr
        else:
            <a id="change">self.true_weights_storage.restore_if_needed()</a>

        return request_objects

    def expected_staleness(self, done_fwds, done_bwds):</code></pre>