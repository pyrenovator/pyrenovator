<html><h3>Pattern ID :9981
</h3><img src='35623999.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                **kwargs):
        print("vector layer")
        super().__init__(**kwargs)
        <a id="change">print("after init"</a><a id="change">)</a>
        self.num_values = num_values
        self.value_func = value_func
        &#47&#47 Make the vector
        self.vector_label = self.make_vector()</code></pre><h3>After Change</h3><pre><code class='java'>
        self.value_func = value_func
        &#47&#47 Make the vector
        self.vector_label = self.make_vector()
        <a id="change">self.add(</a>self.vector_label<a id="change">)</a>

    def make_vector(self):
        Makes the vector
        if False:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/helblazer811/manimmachinelearning/commit/ffd31701bfa54f0a4ed481b9735494f9477b5ccf#diff-dab1e46ef86e26b4a9f7bb3cc4576b50d6f67fadc758b14e76e058a24e22f9f4L11' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35623999</div><div id='project'> Project Name: helblazer811/manimmachinelearning</div><div id='commit'> Commit Name: ffd31701bfa54f0a4ed481b9735494f9477b5ccf</div><div id='time'> Time: 2022-04-21</div><div id='author'> Author: alechelbling1@gmail.com</div><div id='file'> File Name: manim_ml/neural_network/layers/vector.py</div><div id='m_class'> M Class Name: VectorLayer</div><div id='n_method'> N Class Name: VectorLayer</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: VGroupNeuralNetworkLayer</div><div id='n_parent_class'> N Parent Class: VGroupNeuralNetworkLayer</div><div id='m_file'> M File Name: manim_ml/neural_network/layers/vector.py</div><div id='n_file'> N File Name: manim_ml/neural_network/layers/vector.py</div><div id='m_start'> M Start Line: 11</div><div id='m_end'> M End Line: 13</div><div id='n_start'> N Start Line: 15</div><div id='n_end'> N End Line: 16</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        shp = norm.shape + (1,) * (node_feat.dim() - 1)
        norm = th.reshape(norm, shp)
        node_feat = node_feat * norm
        <a id="change">print(&quotNorm Feature Succeed&quot</a><a id="change">)</a>
    
    graph_data = (graph, labels, tr_label_idx, val_label_idx, test_label_idx, node_feat)
    return graph_data
</code></pre><h3>After Change</h3><pre><code class='java'>

def load_dgl_graph(base_path):
    graphs, _ = dgl.load_graphs(os.path.join(base_path, &quotgraph.bin&quot))
    edge_feat = th.cat((minMaxScaling(<a id="change">graphs[0].in_degrees().unsqueeze_(1).float().add(</a>1<a id="change">)</a>.log()), 
                        minMaxScaling(graphs[0].out_degrees().unsqueeze_(1).float().add(1).log())), dim=1)

    graph = graphs[0]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/langgege-cqu/maxp_dgl/commit/5f428bb0d6bfb9dad16f32ca3d65785469b69c00#diff-92c9897b4d19041ed9f91c038758158776764ac7247e3546223d85e551a3241cL8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35623997</div><div id='project'> Project Name: langgege-cqu/maxp_dgl</div><div id='commit'> Commit Name: 5f428bb0d6bfb9dad16f32ca3d65785469b69c00</div><div id='time'> Time: 2021-12-11</div><div id='author'> Author: 8747734+bugczw@user.noreply.gitee.com</div><div id='file'> File Name: maxp_model_czw/unimp/util.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_dgl_graph(1)</div><div id='n_method'> N Method Name: load_dgl_graph(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: maxp_model_czw/unimp/util.py</div><div id='n_file'> N File Name: maxp_model_czw/unimp/util.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            loss += loss_metric.get()[1]
        metric.update(label, outputs)
    print("validation acc: %s=%f" % metric.get())
    <a id="change">print("validation loss:"</a>, loss<a id="change">)</a>
    accuracy = metric.get()[1]
    return loss, accuracy

</code></pre><h3>After Change</h3><pre><code class='java'>
    loss_metric = mx.metric.CrossEntropy()
    metrics = mx.metric.CompositeEvalMetric()
    for child_metric in [accuracy_metric, loss_metric]:
        <a id="change">metrics.add(</a>child_metric<a id="change">)</a>
    val_data.reset()
    num_examples = 0
    for batch in val_data:
        data = gluon.utils.split_and_load(batch.data[0], ctx_list=DEVICE, batch_axis=0)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/adap/flower/commit/791af3e9c985dd547a33fc1d1c72e6eb878daf0e#diff-c96aa58171743edc0c1f172c61c57ac336b780c09cdd8e3645b63dccc80c57bdL105' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35623996</div><div id='project'> Project Name: adap/flower</div><div id='commit'> Commit Name: 791af3e9c985dd547a33fc1d1c72e6eb878daf0e</div><div id='time'> Time: 2021-03-12</div><div id='author'> Author: 69673117+mariaboerner1987@users.noreply.github.com</div><div id='file'> File Name: examples/quickstart_mxnet/client.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test(2)</div><div id='n_method'> N Method Name: test(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/quickstart_mxnet/client.py</div><div id='n_file'> N File Name: examples/quickstart_mxnet/client.py</div><div id='m_start'> M Start Line: 106</div><div id='m_end'> M End Line: 124</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 132</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    data_path = os.path.join(os.path.dirname(__file__), os.environ.get(&quotJINA_DATA_FILE&quot, None))
    &#47&#47import glob
    with f, open(data_path) as fp:
        <a id="change">print(f&quottype: {type(fp)}&quot</a><a id="change">)</a>
        print(f&quotlines: {type(np.array(fp.readlines()))}&quot)
        d = Document.from_ndarray(np.array(fp.readlines()))
        num_docs = min(num_docs, len(fp.readlines()))
        with TimeContext(f&quotQPS: indexing {num_docs}&quot, logger=f.logger):</code></pre><h3>After Change</h3><pre><code class='java'>
def index(num_docs):
    &#47&#47f = Flow.load_config(&quotflows/index.yml&quot)

    f = <a id="change">Flow().add(uses=MyTransformer).add(uses=NumpyIndexer)</a>
    data_path = os.path.join(os.path.dirname(__file__), os.environ.get(&quotJINA_DATA_FILE&quot, None))

    with f, open(data_path) as fp:
        d = DocumentArray.from_ndarray(np.array(fp.readlines()))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/5a64b61e836d0126f174b465dbe6ce30c0dbba61#diff-def4447edc2667e78227e0f5fee5b0c63664208309581a18e50eb887dee324b7L35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35623994</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: 5a64b61e836d0126f174b465dbe6ce30c0dbba61</div><div id='time'> Time: 2021-05-21</div><div id='author'> Author: zhuoran2@andrew.cmu.edu</div><div id='file'> File Name: wikipedia-sentences/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: index(1)</div><div id='n_method'> N Method Name: index(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wikipedia-sentences/app.py</div><div id='n_file'> N File Name: wikipedia-sentences/app.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        filePath=Path(project.testsPath, f&quottest_{dataModel.className.asFileName}&quot)
    )

    <a id="change">print(&quot&quot</a><a id="change">)</a>
    print(f&quotClass {dataModel.className} was created.{project.modeMessage}&quot)
    print(&quot&quot)

    if project.isDryRun:</code></pre><h3>After Change</h3><pre><code class='java'>
        dataModel.process_inputs(value)

    content = (
        <a id="change">DataModelRenderer()
        .add(&quotfrom typing import List               &quot, dataModel.isListDependent)
        .add(&quotfrom datetime import {0}              &quot, sorted(list({m.type_ for m in dataModel.conversions if m.isTemporal})))
        .add(&quotfrom hypergol import BaseData         &quot)
        .add(&quotfrom data_models.{snake} import {name}&quot, [{&quotsnake&quot: m.type_.asSnake, &quotname&quot: m.type_} for m in dataModel.conversions if not m.isTemporal and not m.isObject])
        .add(&quot                                      &quot)
        .add(&quot                                      &quot)
        .add(&quotclass {className}(BaseData):          &quot, className=dataModel.className)
        .add(&quot                                      &quot)
        .add(&quot    def __init__(self, {arguments}):  &quot, arguments=&quot, &quot.join(dataModel.arguments))
        .add(&quot        self.{0} = {0}                &quot, dataModel.names)
        .add(&quot                                      &quot, len(dataModel.ids) &gt; 0)
        .add(&quot    def get_id(self):                 &quot, len(dataModel.ids) &gt; 0)
        .add(&quot        return ({idString}, )         &quot, len(dataModel.ids) &gt; 0, idString=&quot, &quot.join(dataModel.ids))
        .add(&quot                                      &quot, len(dataModel.conversions) &gt; 0)
        .add(&quot    def to_data(self):                &quot, len(dataModel.conversions) &gt; 0)
        .add(&quot        data = self.__dict__.copy()   &quot, len(dataModel.conversions) &gt; 0)
        .add("        data[&quot{name}&quot] = BaseData.to_string(data[&quot{name}&quot])   ", [{&quotname&quot: m.name} for m in dataModel.conversions if m.isObject])
        .add("        data[&quot{name}&quot] = data[&quot{name}&quot].{conv}()              ", [{&quotname&quot: m.name, &quotconv&quot: m.to_} for m in dataModel.conversions if not m.isList and not m.isObject])
        .add("        data[&quot{name}&quot] = [v.{conv}() for v in data[&quot{name}&quot]] ", [{&quotname&quot: m.name, &quotconv&quot: m.to_} for m in dataModel.conversions if m.isList])
        .add(&quot        return data                                           &quot, len(dataModel.conversions) &gt; 0)
        .add(&quot                                                              &quot, len(dataModel.conversions) &gt; 0)
        .add(&quot    @classmethod                                              &quot, len(dataModel.conversions) &gt; 0)
        .add(&quot    def from_data(cls, data):                                 &quot, len(dataModel.conversions) &gt; 0)
        .add(</a>"        data[&quot{name}&quot] = BaseData.from_string(data[&quot{name}&quot])          ", [{&quotname&quot: m.name} for m in dataModel.conversions if m.isObject]<a id="change">)</a>
        .add("        data[&quot{name}&quot] = {type_}.{conv}(data[&quot{name}&quot])                ", [{&quotname&quot: m.name, &quottype_&quot: str(m.type_), &quotconv&quot: m.from_} for m in dataModel.conversions if not m.isList and not m.isObject])
        .add("        data[&quot{name}&quot] = [{type_}.{conv}(v) for v in data[&quot{name}&quot]]   ", [{&quotname&quot: m.name, &quottype_&quot: str(m.type_), &quotconv&quot: m.from_} for m in dataModel.conversions if m.isList])
        .add(&quot        return cls(**data)                                    &quot, len(dataModel.conversions) &gt; 0)
    ).get()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hypergol/hypergol/commit/0d5ad3a83efc4af804e0617ca7909ea49b2a76a9#diff-dd673eba466aa0891691e2e44de577b5890d208cfbff0877b1289524398f503eL75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35623992</div><div id='project'> Project Name: hypergol/hypergol</div><div id='commit'> Commit Name: 0d5ad3a83efc4af804e0617ca7909ea49b2a76a9</div><div id='time'> Time: 2020-08-10</div><div id='author'> Author: sragner@gmail.com</div><div id='file'> File Name: src/hypergol/cli/create_data_model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_data_model(1)</div><div id='n_method'> N Method Name: create_data_model(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/hypergol/cli/create_data_model.py</div><div id='n_file'> N File Name: src/hypergol/cli/create_data_model.py</div><div id='m_start'> M Start Line: 100</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 109</div><div id='n_end'> N End Line: 154</div><BR>