<html><h3>Pattern ID :21769
</h3><img src='69406931.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.uid = uid

        self.datadir = datadir
        self.logdir = task_logdir<a id="change"> / "domains" / </a>f"supervised_dataloader_{self.uid}"
        <a id="change">self.logdir.mkdir(parents=True, exist_ok=True)</a>

        self.base_dataset = kwargs["dataset"]

        self.dataloaders = self.pick_dataloader(self.config)</code></pre><h3>After Change</h3><pre><code class='java'>
        super().__init__()
        self.config = kwargs

        self.dataloaders = <a id="change">{}</a>
        for purpose in ["train", "val", "test"]:
            dataset = OfflineHdf5Dataset(hdf5_dataset_path=pathlib.Path(self.config["dataset_path"]), purpose=purpose)
            self.dataloaders[purpose] = DataLoader(dataset=dataset,
                                                   batch_size=self.config["batch_size"],</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mstoelzle/solving-occlusion/commit/a2670446fbd793b4fc7433dc59771326bb74e669#diff-a74dd16bf6f958543af664681e5ae16175a99ac71909b0959617cb60635ebd51L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69406931</div><div id='project'> Project Name: mstoelzle/solving-occlusion</div><div id='commit'> Commit Name: a2670446fbd793b4fc7433dc59771326bb74e669</div><div id='time'> Time: 2020-09-03</div><div id='author'> Author: maximilian@stoelzle.ch</div><div id='file'> File Name: src/dataloaders/supervised_dataloader.py</div><div id='m_class'> M Class Name: SupervisedDataloader</div><div id='n_method'> N Class Name: SupervisedDataloader</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseDataloader</div><div id='n_parent_class'> N Parent Class: BaseDataloader</div><div id='m_file'> M File Name: src/dataloaders/supervised_dataloader.py</div><div id='n_file'> N File Name: src/dataloaders/supervised_dataloader.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 26</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    all_fps = [train_rgbs, val_rgbs, test_rgbs]

    &#47&#47 prepare and execute file copying
    out_path = Path("data").absolute()<a id="change"> / </a>"synpick_vid_{}".format(int(time.time()))
    <a id="change">out_path.mkdir(parents=True)</a>
    all_out_paths = [(out_path / "train" / "rgb"), (out_path / "val" / "rgb"), (out_path / "test" / "rgb")]
    copy_imgs(all_fps, all_out_paths)

</code></pre><h3>After Change</h3><pre><code class='java'>
    train_eps = train_eps[:cut]

    &#47&#47 split rgb files into train and val by episode number only , as we need contiguous motions for video
    train_rgbs, val_rgbs, train_segs, val_segs = <a id="change">[]</a>, [], [], []
    for rgb, seg in zip(rgbs, segs):
        ep = int(Path(rgb).parent.parent.stem) + 1
        if ep in train_eps:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ais-bonn/vp-suite/commit/ee1627faf59f835bdcd0693752c2eeb413c5c02c#diff-8329c2ef2b5c1feca754a9f783f26dbfe9e8f328c21946c8e51937c71f3b01e1L54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69406930</div><div id='project'> Project Name: ais-bonn/vp-suite</div><div id='commit'> Commit Name: ee1627faf59f835bdcd0693752c2eeb413c5c02c</div><div id='time'> Time: 2021-07-22</div><div id='author'> Author: boltres@ais.uni-bonn.de</div><div id='file'> File Name: scripts/prepare_synpick.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: prepare_synpick_vid(1)</div><div id='n_method'> N Method Name: prepare_synpick_vid(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/prepare_synpick.py</div><div id='n_file'> N File Name: scripts/prepare_synpick.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with pytest.raises(ValueError):
            ontology_matcher.create_phrasematchers(json_loc)
        &#47&#47 subdir of files: ignore non-parquet files
        sub_dir = d<a id="change"> / </a>"subdir"
        <a id="change">sub_dir.mkdir()</a>
        _create_parquet_file(sub_dir / "file1.parquet")
        Path(sub_dir / "file2.json").touch()
        _create_parquet_file(sub_dir / "file3.parquet")
        ontology_matcher.create_phrasematchers(sub_dir)</code></pre><h3>After Change</h3><pre><code class='java'>

def test_initialize():
    nlp = English()
    config = <a id="change">{</a>"parser_name_to_entity_type": {}<a id="change">}</a>
    ontology_matcher = nlp.add_pipe("ontology_matcher", config=config)
    assert isinstance(ontology_matcher, OntologyMatcher)
    &#47&#47 no matcher rules are defined
    nlp.initialize()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/7d55fc8a598da99313e9ffb777f000cebfe906c3#diff-f8e4dcd4e8bb3cdb3e944b9586b5fff91e07928c8b18e771000ff67e5b39b0e2L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69406933</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 7d55fc8a598da99313e9ffb777f000cebfe906c3</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: elliot.ford@astrazeneca.com</div><div id='file'> File Name: kazu/tests/test_ontology_matching.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_initialize(0)</div><div id='n_method'> N Method Name: test_initialize(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/tests/test_ontology_matching.py</div><div id='n_file'> N File Name: kazu/tests/test_ontology_matching.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 36</div><BR>