<html><h3>Pattern ID :414
</h3><img src='2352011.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    batch_deps_1 = [doc.cats for doc in nlp.pipe(texts)]
    batch_deps_2 = [doc.cats for doc in nlp.pipe(texts)]
    no_batch_deps = [doc.cats for doc in [nlp(text) for text in texts]]
    <a id="change">assert_equal(</a>batch_deps_1, batch_deps_2<a id="change">)</a>
    assert_equal(batch_deps_1, no_batch_deps)


&#47&#47 fmt: off</code></pre><h3>After Change</h3><pre><code class='java'>
    for cats_1, cats_2 in zip(batch_deps_1, batch_deps_2):
        for cat in cats_1:
            assert_almost_equal(cats_1[cat], cats_2[cat], decimal=5)
    <a id="change">for </a>cats_1, cats_2 in <a id="change">zip(</a>batch_deps_1, no_batch_deps<a id="change">)</a><a id="change">:
        </a>for cat in cats_1:
            assert_almost_equal(cats_1[cat], cats_2[cat], decimal=5)

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/36ecba224e2111d39a0b45b3019c63d2dd1529f0#diff-8b73669e03091c31137a3b511d1b76d5ae4d8025e6786dbc3c49935726560b73L270' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2352011</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 36ecba224e2111d39a0b45b3019c63d2dd1529f0</div><div id='time'> Time: 2021-04-22</div><div id='author'> Author: adrianeboyd@gmail.com</div><div id='file'> File Name: spacy/tests/pipeline/test_textcat.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_overfitting_IO_multi(0)</div><div id='n_method'> N Method Name: test_overfitting_IO_multi(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/pipeline/test_textcat.py</div><div id='n_file'> N File Name: spacy/tests/pipeline/test_textcat.py</div><div id='m_start'> M Start Line: 270</div><div id='m_end'> M End Line: 274</div><div id='n_start'> N Start Line: 274</div><div id='n_end'> N End Line: 285</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    batch_cats_1 = [doc.cats for doc in nlp.pipe(texts)]
    batch_cats_2 = [doc.cats for doc in nlp.pipe(texts)]
    no_batch_cats = [doc.cats for doc in [nlp(text) for text in texts]]
    <a id="change">assert_equal(</a>batch_cats_1, batch_cats_2<a id="change">)</a>
    assert_equal(batch_cats_1, no_batch_cats)


def test_overfitting_IO_multi():</code></pre><h3>After Change</h3><pre><code class='java'>
    batch_cats_1 = [doc.cats for doc in nlp.pipe(texts)]
    batch_cats_2 = [doc.cats for doc in nlp.pipe(texts)]
    no_batch_cats = [doc.cats for doc in [nlp(text) for text in texts]]
    for cats_1, cats_2 in <a id="change">zip(</a>batch_cats_1, batch_cats_2<a id="change">)</a>:
        <a id="change">for </a>cat in cats_1<a id="change">:
            </a>assert_almost_equal(cats_1[cat], cats_2[cat], decimal=5)
    for cats_1, cats_2 in zip(batch_cats_1, no_batch_cats):
        for cat in cats_1:
            assert_almost_equal(cats_1[cat], cats_2[cat], decimal=5)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/36ecba224e2111d39a0b45b3019c63d2dd1529f0#diff-8b73669e03091c31137a3b511d1b76d5ae4d8025e6786dbc3c49935726560b73L179' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2352015</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 36ecba224e2111d39a0b45b3019c63d2dd1529f0</div><div id='time'> Time: 2021-04-22</div><div id='author'> Author: adrianeboyd@gmail.com</div><div id='file'> File Name: spacy/tests/pipeline/test_textcat.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_overfitting_IO(0)</div><div id='n_method'> N Method Name: test_overfitting_IO(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/pipeline/test_textcat.py</div><div id='n_file'> N File Name: spacy/tests/pipeline/test_textcat.py</div><div id='m_start'> M Start Line: 222</div><div id='m_end'> M End Line: 226</div><div id='n_start'> N Start Line: 222</div><div id='n_end'> N End Line: 232</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    permutation = AttributePermutator([&quottargets&quot, &quotids&quot],
                                      assure=True, count=nruns)
    pds = list(permutation.generate(ds))
    <a id="change">assert_equal(</a>len(pds), nruns<a id="change">)</a>
    for p in pds:
        assert_false(np.all(p.sa.ids == ds.sa.ids))

    &#47&#47 permute feature attrs</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 but if we regenerate -- should all be the same to before
    pds2 = list(permutation.generate(ds))
    assert_equal(len(pds1), len(pds2))
    <a id="change">for </a>p1, p2 in <a id="change">zip(</a>pds1, pds2<a id="change">)</a><a id="change">:
        </a>assert_datasets_equal(p1, p2)

    &#47&#47 permute feature attrs
    ds.fa[&quotids&quot] = range(ds.shape[1])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/PyMVPA/PyMVPA/commit/37904e8c5925ea97f60920737924a437ce3dcafb#diff-25e4ebe4d81b14d677c3d639ec02df535b5ca73cc8700d63f3954231f67de74fL102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2352013</div><div id='project'> Project Name: PyMVPA/PyMVPA</div><div id='commit'> Commit Name: 37904e8c5925ea97f60920737924a437ce3dcafb</div><div id='time'> Time: 2016-08-22</div><div id='author'> Author: debian@onerussian.com</div><div id='file'> File Name: mvpa2/tests/test_generators.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_attrpermute(0)</div><div id='n_method'> N Method Name: test_attrpermute(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mvpa2/tests/test_generators.py</div><div id='n_file'> N File Name: mvpa2/tests/test_generators.py</div><div id='m_start'> M Start Line: 157</div><div id='m_end'> M End Line: 163</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 181</div><BR>