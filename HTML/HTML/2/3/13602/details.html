<html><h3>Pattern ID :13602
</h3><img src='45704712.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Assume that the person is centerered in the image
        height = img_for_crop.shape[0]
        width = img_for_crop.shape[1]
        center<a id="change"> = </a><a id="change">np.array(</a>[width // 2, height // 2]<a id="change">)</a>

    scale = max(height, width) / 180

    if hps_type == &quothybrik&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
    human_ids = torch.logical_and(
        predictions["labels"] == 1,
        predictions["scores"] == predictions["scores"].max()).nonzero().squeeze(1)
    bbox = <a id="change">predictions["boxes"][human_ids, :].flatten()</a>.detach().cpu().numpy()
    
    width = bbox[2] - bbox[0]
    height = bbox[3] - bbox[1]</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yuliangxiu/icon/commit/2117636e701293c457554812067b272fcf3f8252#diff-47fac0c4f0072fc394bfbbb063b11a379cc14499565395b91fcf17a47b9746a0L91' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45704712</div><div id='project'> Project Name: yuliangxiu/icon</div><div id='commit'> Commit Name: 2117636e701293c457554812067b272fcf3f8252</div><div id='time'> Time: 2022-10-10</div><div id='author'> Author: yuliang.xiu@tuebingen.mpg.de</div><div id='file'> File Name: lib/pymaf/utils/imutils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: process_image(5)</div><div id='n_method'> N Method Name: process_image(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lib/pymaf/utils/imutils.py</div><div id='n_file'> N File Name: lib/pymaf/utils/imutils.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 132</div><div id='n_start'> N Start Line: 111</div><div id='n_end'> N End Line: 128</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        cc = np.sort(cc, axis=0)
        centers += [cc]

    centers = <a id="change">np.array(</a>centers<a id="change">)</a>
    mean<a id="change"> = </a>centers.mean(axis=2)
    std = centers.std(axis=2)

    return mean, std</code></pre><h3>After Change</h3><pre><code class='java'>
    mean = []
    std = []
    for idx in range(num_meters):
        meter = <a id="change">ser[:, :, idx].flatten()</a>
        kmeans = KMeans(n_clusters=2).fit(meter)
        labels = kmeans.labels_
        lab0 = meter[labels == 0]
        lab1 = meter[labels == 1]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/uca-datalab/nilm-thresholding/commit/2b24d37855791e9ca50d60b2d7a9443f09a1cc70#diff-34fdf11475c005318d3092873f47af42d695c05c936e42693b17521007361b42L191' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45704715</div><div id='project'> Project Name: uca-datalab/nilm-thresholding</div><div id='commit'> Commit Name: 2b24d37855791e9ca50d60b2d7a9443f09a1cc70</div><div id='time'> Time: 2020-05-12</div><div id='author'> Author: danipg1409@gmail.com</div><div id='file'> File Name: better_nilm/model/preprocessing.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _get_cluster_centroids(1)</div><div id='n_method'> N Method Name: _get_cluster_centroids(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: better_nilm/model/preprocessing.py</div><div id='n_file'> N File Name: better_nilm/model/preprocessing.py</div><div id='m_start'> M Start Line: 212</div><div id='m_end'> M End Line: 229</div><div id='n_start'> N Start Line: 212</div><div id='n_end'> N End Line: 228</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        means[idx, 0] = meter[~mask_on].mean()
        means[idx, 1] = meter[mask_on].mean()

    means<a id="change"> = </a><a id="change">np.array(</a>means<a id="change">)</a>
    return means
</code></pre><h3>After Change</h3><pre><code class='java'>
    for idx in range(ser.shape[2]):
        &#47&#47 Flatten the series
        meter = ser[:, :, idx].flatten()
        mask_on = <a id="change">status[:, :, idx].flatten()</a> &gt; 0
        means[idx, 0] = meter[~mask_on].mean()
        means[idx, 1] = meter[mask_on].mean()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/uca-datalab/nilm-thresholding/commit/11ab7031844840891ba33cd1b1454b6cefbedd92#diff-1ffee4a34f1a6922c6d8eb842907aee22cd3f3fe7b5d0c7820d64b09dcefb5a2L64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45704710</div><div id='project'> Project Name: uca-datalab/nilm-thresholding</div><div id='commit'> Commit Name: 11ab7031844840891ba33cd1b1454b6cefbedd92</div><div id='time'> Time: 2020-07-23</div><div id='author'> Author: danipg1409@gmail.com</div><div id='file'> File Name: better_nilm/threshold.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_status_means(2)</div><div id='n_method'> N Method Name: get_status_means(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: better_nilm/threshold.py</div><div id='n_file'> N File Name: better_nilm/threshold.py</div><div id='m_start'> M Start Line: 74</div><div id='m_end'> M End Line: 78</div><div id='n_start'> N Start Line: 72</div><div id='n_end'> N End Line: 75</div><BR>