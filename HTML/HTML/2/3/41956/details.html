<html><h3>Pattern ID :41956
</h3><img src='117547457.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47pos_count = np.sum(np.array(modelOutput) &gt; 0.5)
        t.sort()
        if i==0:
            averageEnergies.append(np.mean(t[<a id="change">-topn:</a>]))&#47&#47
        else:
            averageEnergies.append(np.mean(t[-topn:]))
    pred=np.argmax(averageEnergies)</code></pre><h3>After Change</h3><pre><code class='java'>
        t.sort()
        if topn&gt;0:
            if i==0:
                averageEnergies.append(<a id="change">np.mean(</a>t[:]<a id="change">)</a>)&#47&#47
            else:
                averageEnergies.append(np.mean(t[-topn:]))
        else:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/chenwwweixiang/diagnosis_covid19/commit/9a6cba85b360e5b5a83e774e29ba143c3272bf17#diff-4b7152d35f251b9704be46c0715cd5cb1588e232f6203362854d1c668e64a7b9L125' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117547457</div><div id='project'> Project Name: chenwwweixiang/diagnosis_covid19</div><div id='commit'> Commit Name: 9a6cba85b360e5b5a83e774e29ba143c3272bf17</div><div id='time'> Time: 2020-09-23</div><div id='author'> Author: chenwx_thu@foxmail.com</div><div id='file'> File Name: testengine.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _validate_multicls(4)</div><div id='n_method'> N Method Name: _validate_multicls(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: testengine.py</div><div id='n_file'> N File Name: testengine.py</div><div id='m_start'> M Start Line: 127</div><div id='m_end'> M End Line: 139</div><div id='n_start'> N Start Line: 125</div><div id='n_end'> N End Line: 147</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                &#47&#47loss += self.quantile_loss(a[Ellipsis, self.output_size * i],
                &#47&#47                           b[Ellipsis, self.output_size * i], 
                &#47&#47                           quantile)
                loss.append(self.quantile_loss(a[Ellipsis, <a id="change">self.output_size * i</a>:self.output_size<a id="change"> * </a>(i + 1)],
                           b[Ellipsis, self.output_size * i:self.output_size * (i + 1)], 
                           quantile))
                </code></pre><h3>After Change</h3><pre><code class='java'>
&#47&#47         loss_computed = torch.sum(loss_computed, axis = -1)
&#47&#47         loss_computed = torch.sum(loss_computed, axis = 0)

        loss_computed = <a id="change">torch.mean(</a>torch.sum(torch.cat(loss, axis = 1), axis = -1)<a id="change">)</a>
        
        return loss_computed
&#47&#47         return loss</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jdb78/pytorch-forecasting/commit/3df79817258a8f6172faea257e8a3df2ec1f3737#diff-c533e85b58ab84b532a0b288070233e405d5eb8f5d287411c668eedee644338fL41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117547459</div><div id='project'> Project Name: jdb78/pytorch-forecasting</div><div id='commit'> Commit Name: 3df79817258a8f6172faea257e8a3df2ec1f3737</div><div id='time'> Time: 2020-03-09</div><div id='author'> Author: dannyehb92@gmail.com</div><div id='file'> File Name: quantile_loss.py</div><div id='m_class'> M Class Name: QuantileLossCalculator</div><div id='n_method'> N Class Name: QuantileLossCalculator</div><div id='m_method'> M Method Name: apply(3)</div><div id='n_method'> N Method Name: apply(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: quantile_loss.py</div><div id='n_file'> N File Name: quantile_loss.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 60</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    self_bleu_score = []
    for idx in range(len(generate_corpus)):
        candidate = generate_corpus[idx]
        reference_corpus = generate_corpus[:idx] + generate_corpus[<a id="change">idx+1:</a>]
        self_bleu_score.append(sentence_bleu(reference_corpus, candidate, weights,
                                             smoothing_function=SmoothingFunction().method1))
    return sum(self_bleu_score) / len(self_bleu_score)</code></pre><h3>After Change</h3><pre><code class='java'>
    results = []
    for n_gram in n_grams:
        score = np.array(scores[n_gram])
        results.append(<a id="change">score.mean()</a>)
    return results

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/textbox/commit/74995b26ad538f821707a331a83f34c8559f1ed8#diff-1c39b70780ee31f0baae0eca5ade84ec42df6833fd174fcbd8c415fabf85313fL28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 117547454</div><div id='project'> Project Name: rucaibox/textbox</div><div id='commit'> Commit Name: 74995b26ad538f821707a331a83f34c8559f1ed8</div><div id='time'> Time: 2020-12-03</div><div id='author'> Author: 1020139164@qq.com</div><div id='file'> File Name: textbox/evaluator/metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: self_bleu_(3)</div><div id='n_method'> N Method Name: self_bleu_(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: textbox/evaluator/metrics.py</div><div id='n_file'> N File Name: textbox/evaluator/metrics.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 54</div><BR>