<html><h3>Pattern ID :41276
</h3><img src='116283005.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        for _ in range(self.selection_step):
            &#47&#47 todo: select x samples from trainset
            <a id="change">for </a>i in range(len(ref_images))<a id="change">:
                </a>self.mark.mark = self.conv2d(ref_images[i])
                &#47&#47 todo: add trigger into trainset & validate set

                &#47&#47 todo: train model</code></pre><h3>After Change</h3><pre><code class='java'>
        ref_labels = self.reflect_labels[pick_img_ind]

        for _ in range(self.selection_step):
            posion_imgs_train<a id="change">, labels_train = </a>next(<a id="change">iter(</a>self.train_loader<a id="change">)</a>)
            posion_imgs_valid, labels_valid = next(iter(self.valid_loader))
            for i in range(len(ref_images)):
                &#47&#47 locally change</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/9284f719ed45a4fffc0b8b9cbd9a25360b81a495#diff-7b25b5b68d67d93bb87f79b8afd92b9ac3bbc900c6791f6426ab47f2e8af2f34L46' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116283005</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: 9284f719ed45a4fffc0b8b9cbd9a25360b81a495</div><div id='time'> Time: 2020-08-28</div><div id='author'> Author: zxx5113@lrs-twang02.ist.psu.edu</div><div id='file'> File Name: trojanzoo/attack/backdoor/reflection_backdoor.py</div><div id='m_class'> M Class Name: Reflection_Backdoor</div><div id='n_method'> N Class Name: Reflection_Backdoor</div><div id='m_method'> M Method Name: attack(2)</div><div id='n_method'> N Method Name: attack(1)</div><div id='m_parent_class'> M Parent Class: BadNet</div><div id='n_parent_class'> N Parent Class: BadNet</div><div id='m_file'> M File Name: trojanzoo/attack/backdoor/reflection_backdoor.py</div><div id='n_file'> N File Name: trojanzoo/attack/backdoor/reflection_backdoor.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

                &#47&#47 Translate images.
                x_fake_list = [x_real]
                <a id="change">for </a>c_trg in c_trg_list<a id="change">:
                    </a>x_fake_list.append(self.G(x_real, c_trg))

                &#47&#47 Save the translated images.
                x_concat = torch.cat(x_fake_list, dim=3)</code></pre><h3>After Change</h3><pre><code class='java'>

        with torch.no_grad():
            for i, (x_source, label_source) in enumerate(self.data_loader):
                data_iter<a id="change"> = </a><a id="change">iter(</a>self.data_loader<a id="change">)</a>
                &#47&#47 x_source, label_source = next(data_iter)
                x_reference, label_ref = next(data_iter)
                &#47&#47 Prepare input images and target domain labels.
                x_source = x_source.to(self.device)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/habout632/stargan2/commit/c4c87b274ccf652f88771a71ab702de798594c1f#diff-a14fbd5481af9a51ad5b33493a027a3921464e32cff58d0dd15bf122c4851e2bL962' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116282996</div><div id='project'> Project Name: habout632/stargan2</div><div id='commit'> Commit Name: c4c87b274ccf652f88771a71ab702de798594c1f</div><div id='time'> Time: 2020-03-30</div><div id='author'> Author: jifeng.yin@silknets.com</div><div id='file'> File Name: stargan2_solver.py</div><div id='m_class'> M Class Name: Solver</div><div id='n_method'> N Class Name: Solver</div><div id='m_method'> M Method Name: test(1)</div><div id='n_method'> N Method Name: test(1)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: stargan2_solver.py</div><div id='n_file'> N File Name: stargan2_solver.py</div><div id='m_start'> M Start Line: 968</div><div id='m_end'> M End Line: 986</div><div id='n_start'> N Start Line: 968</div><div id='n_end'> N End Line: 995</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 compute mean and std
    img_lst = []
    <a id="change">for </a>img_no in range(train_data_set.__len__())<a id="change">:
        </a>img_lst.append(train_data_set.__getitem__(img_no)["image"].numpy())
    img_data = np.stack(img_lst, 0)

    mean = np.mean(img_data)</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 packets
    packet_loader = DataLoader(
        train_packet_set, batch_size=1, shuffle=True)
    packet_sample<a id="change"> = </a>next(<a id="change">iter(</a>packet_loader<a id="change">)</a>)
    
    plt.plot(np.mean(np.reshape(packet_sample[&quotimage&quot][0].cpu().numpy(), [64, -1]), -1))
    plt.show()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/gan-police/frequency-forensics/commit/4134e836d0bfb2595a2c0e859a068e6c6c3ad695#diff-0073cad293648ffd8f4abfd531175195cfe13986497b8b54114fabcc8a3a4b30L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 116282997</div><div id='project'> Project Name: gan-police/frequency-forensics</div><div id='commit'> Commit Name: 4134e836d0bfb2595a2c0e859a068e6c6c3ad695</div><div id='time'> Time: 2021-05-07</div><div id='author'> Author: wolter@cs.uni-bonn.de</div><div id='file'> File Name: src/freqdect/data_loader.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/freqdect/data_loader.py</div><div id='n_file'> N File Name: src/freqdect/data_loader.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 74</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 93</div><BR>