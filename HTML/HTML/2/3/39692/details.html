<html><h3>Pattern ID :39692
</h3><img src='112813417.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    

    def _forward(self, prediction: Tensor, target: Tensor) -&gt; Tensor:
        return <a id="change">torch.nn.functional.binary_cross_entropy(
            </a>prediction.float(), target.float()<a id="change">, reduction="none"
        )</a>


class LogCMK(torch.autograd.Function):
    MIT License</code></pre><h3>After Change</h3><pre><code class='java'>
        self, prediction: Tensor, target: Tensor, weights: Tensor
    ) -&gt; Tensor:
        return (
            <a id="change">torch.nn.functional.binary_cross_entropy(
                </a>prediction.float(), target.float()<a id="change">, reduction="none"
            )
            * </a>weights
        )

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/graphnet-team/graphnet/commit/59aaff4ad8511523cb530e365b217f4a85207143#diff-54d337be01412c43b21943d0f7477629f3271da5f20b06757918c472755640adL90' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112813417</div><div id='project'> Project Name: graphnet-team/graphnet</div><div id='commit'> Commit Name: 59aaff4ad8511523cb530e365b217f4a85207143</div><div id='time'> Time: 2022-07-15</div><div id='author'> Author: rahn@outlook.dk</div><div id='file'> File Name: src/graphnet/components/loss_functions.py</div><div id='m_class'> M Class Name: BinaryCrossEntropyLoss</div><div id='n_method'> N Class Name: BinaryCrossEntropyLoss</div><div id='m_method'> M Method Name: _forward(4)</div><div id='n_method'> N Method Name: _forward(3)</div><div id='m_parent_class'> M Parent Class: LossFunction</div><div id='n_parent_class'> N Parent Class: LossFunction</div><div id='m_file'> M File Name: src/graphnet/components/loss_functions.py</div><div id='n_file'> N File Name: src/graphnet/components/loss_functions.py</div><div id='m_start'> M Start Line: 90</div><div id='m_end'> M End Line: 92</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 102</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def bound(rce, x, kld, beta):
    return <a id="change">F.binary_cross_entropy(</a>rce, x.view(-1, img_dim ** 2)<a id="change">, reduction=&quotsum&quot)</a> + beta * kld


class BinaryTransform():</code></pre><h3>After Change</h3><pre><code class='java'>


def bound(rce, x, p_z_, q0_z_0, log_det, beta):
    return <a id="change">F.binary_cross_entropy(</a>rce, x.view(-1, img_dim ** 2)<a id="change">, reduction=&quotsum&quot) + </a>q0_z_0 - beta * p_z_ - log_det


class BinaryTransform():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vincentstimper/normalizing-flows/commit/bd001374eacad94bdea4150d2bfd1876d35d7523#diff-0091436da545a2bba7ec14a6fc56f43dbb125df1bbcf44db867ea5e94359eb15L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112813423</div><div id='project'> Project Name: vincentstimper/normalizing-flows</div><div id='commit'> Commit Name: bd001374eacad94bdea4150d2bfd1876d35d7523</div><div id='time'> Time: 2020-03-08</div><div id='author'> Author: 43236963+lukasryll@users.noreply.github.com</div><div id='file'> File Name: normflow/inf_network.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: bound(6)</div><div id='n_method'> N Method Name: bound(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: normflow/inf_network.py</div><div id='n_file'> N File Name: normflow/inf_network.py</div><div id='m_start'> M Start Line: 96</div><div id='m_end'> M End Line: 96</div><div id='n_start'> N Start Line: 98</div><div id='n_end'> N End Line: 99</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
 
    &#47&#47 Binary logistic regression
    discriminator_optimiser.zero_grad(set_to_none=True)
    expert_loss = <a id="change">F.binary_cross_entropy(</a>D_expert, torch.ones_like(D_expert)<a id="change">)</a>  &#47&#47 Loss on "real" (expert) data
    autograd.backward(expert_loss, create_graph=True)
    r1_reg = 0
    for param in discriminator.parameters():</code></pre><h3>After Change</h3><pre><code class='java'>
 
    &#47&#47 Binary logistic regression
    discriminator_optimiser.zero_grad(set_to_none=True)
    expert_loss = (pos_class_prior if algorithm == &quotPUGAIL&quot else 1)<a id="change"> * </a><a id="change">F.binary_cross_entropy(</a>D_expert, torch.ones_like(D_expert)<a id="change">)</a>  &#47&#47 Loss on "real" (expert) data
    autograd.backward(expert_loss, create_graph=True)
    r1_reg = 0
    for param in discriminator.parameters():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kaixhin/imitation-learning/commit/806c2e7319893bc1c3615dd970aa8c9632d53f5e#diff-2b28d1dcda2cd70d29d3251359adce0fbfde60edb53108cba1a284ee0d39e256L106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 112813424</div><div id='project'> Project Name: kaixhin/imitation-learning</div><div id='commit'> Commit Name: 806c2e7319893bc1c3615dd970aa8c9632d53f5e</div><div id='time'> Time: 2021-03-26</div><div id='author'> Author: design@kaixhin.com</div><div id='file'> File Name: training.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: adversarial_imitation_update(11)</div><div id='n_method'> N Method Name: adversarial_imitation_update(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: training.py</div><div id='n_file'> N File Name: training.py</div><div id='m_start'> M Start Line: 129</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 138</div><BR>