<html><h3>Pattern ID :33929
</h3><img src='97190201.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            coef_df_lower[COEFFICIENT_DF_COLS.COEFFICIENT] = coef_lower
            coef_df_upper[COEFFICIENT_DF_COLS.COEFFICIENT] = coef_upper

            <a id="change">return </a>coef_df, coef_df_lower, coef_df_upper
        else:
            return coef_df
</code></pre><h3>After Change</h3><pre><code class='java'>
            coef_upper = np.quantile(coef_samples, upper, axis=0)
            coef_df[COEFFICIENT_DF_COLS.COEFFICIENT + &quot_lower&quot] = coef_lower
            coef_df[COEFFICIENT_DF_COLS.COEFFICIENT + &quot_upper&quot] = coef_upper
            n_pos = <a id="change">np.apply_along_axis(</a>lambda x: np.sum(x &gt;= 0), 0, coef_samples<a id="change">)</a>
            n_total = coef_samples.shape[0]
            coef_df[COEFFICIENT_DF_COLS.PROB_COEF_POS] = n_pos / n_total
            coef_df[COEFFICIENT_DF_COLS.PROB_COEF_NEG]<a id="change"> = </a>1 - n_pos / n_total

        return coef_df
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/uber/orbit/commit/d30c66fe818ab7994f0040cb56acf8d29e94c282#diff-36f4a0388da16a062654f6724880416fd70cf2601babfcfc5bad28d7b8e67ac9L716' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97190201</div><div id='project'> Project Name: uber/orbit</div><div id='commit'> Commit Name: d30c66fe818ab7994f0040cb56acf8d29e94c282</div><div id='time'> Time: 2022-04-01</div><div id='author'> Author: wangzhishi@users.noreply.github.com</div><div id='file'> File Name: orbit/template/dlt.py</div><div id='m_class'> M Class Name: DLTModel</div><div id='n_method'> N Class Name: DLTModel</div><div id='m_method'> M Method Name: get_regression_coefs(7)</div><div id='n_method'> N Method Name: get_regression_coefs(8)</div><div id='m_parent_class'> M Parent Class: ETSModel</div><div id='n_parent_class'> N Parent Class: ETSModel</div><div id='m_file'> M File Name: orbit/template/dlt.py</div><div id='n_file'> N File Name: orbit/template/dlt.py</div><div id='m_start'> M Start Line: 716</div><div id='m_end'> M End Line: 777</div><div id='n_start'> N Start Line: 762</div><div id='n_end'> N End Line: 776</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            coef_df_lower[COEFFICIENT_DF_COLS.COEFFICIENT] = coef_lower
            coef_df_upper[COEFFICIENT_DF_COLS.COEFFICIENT] = coef_upper

            <a id="change">return </a>coef_df, coef_df_lower, coef_df_upper
        else:
            return coef_df
</code></pre><h3>After Change</h3><pre><code class='java'>
            coef_upper = np.quantile(coef_samples, upper, axis=0)
            coef_df[COEFFICIENT_DF_COLS.COEFFICIENT + &quot_lower&quot] = coef_lower
            coef_df[COEFFICIENT_DF_COLS.COEFFICIENT + &quot_upper&quot] = coef_upper
            n_pos = <a id="change">np.apply_along_axis(</a>lambda x: np.sum(x &gt;= 0), 0, coef_samples<a id="change">)</a>
            n_total = coef_samples.shape[0]
            coef_df[COEFFICIENT_DF_COLS.PROB_COEF_POS]<a id="change"> = </a>n_pos / n_total
            coef_df[COEFFICIENT_DF_COLS.PROB_COEF_NEG] = 1 - n_pos / n_total

        return coef_df</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/uber/orbit/commit/d30c66fe818ab7994f0040cb56acf8d29e94c282#diff-74fdfc4cb1fac4a06c58e819ad3cae41eca133c3c8cbc3959336863eb1186a95L604' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97190198</div><div id='project'> Project Name: uber/orbit</div><div id='commit'> Commit Name: d30c66fe818ab7994f0040cb56acf8d29e94c282</div><div id='time'> Time: 2022-04-01</div><div id='author'> Author: wangzhishi@users.noreply.github.com</div><div id='file'> File Name: orbit/template/lgt.py</div><div id='m_class'> M Class Name: LGTModel</div><div id='n_method'> N Class Name: LGTModel</div><div id='m_method'> M Method Name: get_regression_coefs(7)</div><div id='n_method'> N Method Name: get_regression_coefs(8)</div><div id='m_parent_class'> M Parent Class: ETSModel</div><div id='n_parent_class'> N Parent Class: ETSModel</div><div id='m_file'> M File Name: orbit/template/lgt.py</div><div id='n_file'> N File Name: orbit/template/lgt.py</div><div id='m_start'> M Start Line: 605</div><div id='m_end'> M End Line: 666</div><div id='n_start'> N Start Line: 650</div><div id='n_end'> N End Line: 664</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    color="white" if cm[i, j] &gt; thresh else "black", size=4)
    fig.tight_layout()
    fig.savefig("./main_confusion.pdf", bbox_inches=&quottight&quot)
    <a id="change">return </a>ax</code></pre><h3>After Change</h3><pre><code class='java'>
    def myfunction(x):
        return(100 * x/max_size)

    domain_x_percentage_in_each_cluster<a id="change"> = </a><a id="change">np.apply_along_axis(</a>myfunction<a id="change">, axis=1, arr=cm)</a>
    print(cm)

    print("Each cluster has this many sequences:")
    num_sequences_per_cluster = np.sum(cm, axis=0)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alexandra-chron/hierarchical-domain-adaptation/commit/ee9e1b61ea95be3fa972514cd067e9a9d973dd2a#diff-266403b44b90a82f09317dbcf78dc65db18040914fedc8685c1a16a3b17fb93cL10' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97190196</div><div id='project'> Project Name: alexandra-chron/hierarchical-domain-adaptation</div><div id='commit'> Commit Name: ee9e1b61ea95be3fa972514cd067e9a9d973dd2a</div><div id='time'> Time: 2021-10-21</div><div id='author'> Author: alexandra.xron@gmail.com</div><div id='file'> File Name: clustering/confusion_matrix.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_confusion_matrix(7)</div><div id='n_method'> N Method Name: plot_confusion_matrix(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: clustering/confusion_matrix.py</div><div id='n_file'> N File Name: clustering/confusion_matrix.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 69</div><BR>