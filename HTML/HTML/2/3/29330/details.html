<html><h3>Pattern ID :29330
</h3><img src='86172193.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        args.model,
        args.img_size)

    dataset<a id="change"> = </a><a id="change">Dataset(
        </a>args.data,
        transforms<a id="change">)</a>

    loader = data.DataLoader(
        dataset,
        batch_size=args.batch_size, shuffle=False,</code></pre><h3>After Change</h3><pre><code class='java'>

    cudnn.benchmark = True

    dataset = <a id="change">Dataset(
        </a>args.data,
        transforms_imagenet_eval(args.model, args.img_size)<a id="change">)</a>

    loader = data.DataLoader(
        dataset,
        batch_size=args.batch_size, shuffle=False,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/feng-lab/pytorch-image-models/commit/31055466fc245956330dfc37fce5b8b71699680a#diff-58b7fc05c0526d9a9b3c0b50dda416fcbf0a654e696da4b6df82cbb5a6b2dcfcL43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86172193</div><div id='project'> Project Name: feng-lab/pytorch-image-models</div><div id='commit'> Commit Name: 31055466fc245956330dfc37fce5b8b71699680a</div><div id='time'> Time: 2019-02-22</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: validate.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: validate.py</div><div id='n_file'> N File Name: validate.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
         &#47&#47 get folders
        target_folder, self.local_paths = self.get_folder(is_cloud=self.IS_CLOUD)
        train = Dataset(&quot{}train/*.parquet&quot.format(target_folder))
        test<a id="change"> = </a><a id="change">Dataset(</a>&quot{}test/*.parquet&quot.format(target_folder)<a id="change">)</a>
        &#47&#47 load the model
        loaded_model = self.load_merlin_model(
            model_path=self.final_model_path,
            is_cloud=self.IS_CLOUD</code></pre><h3>After Change</h3><pre><code class='java'>
        import tensorflow as tf
        &#47&#47 loading back datasets and the the model for final testing and 
        &#47&#47 saving predictions
        train = <a id="change">Dataset(</a>&quotmerlin/train/*.parquet&quot<a id="change">)</a>
        test = Dataset(&quotmerlin/test/*.parquet&quot)
        print("Train dataset shape: {}, Test: {}".format(
            train.to_ddf().compute().shape,
            test.to_ddf().compute().shape</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jacopotagliabue/recs-at-resonable-scale/commit/24c8fa7923cab9854c1e80737894b48b1e73532b#diff-9b8fa700f21964aef76747038004e0ed38e07299e7c0adc81db033595dde7677L455' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86172182</div><div id='project'> Project Name: jacopotagliabue/recs-at-resonable-scale</div><div id='commit'> Commit Name: 24c8fa7923cab9854c1e80737894b48b1e73532b</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: tagliabue.jacopo@gmail.com</div><div id='file'> File Name: src/my_merlin_flow.py</div><div id='m_class'> M Class Name: myMerlinFlow</div><div id='n_method'> N Class Name: myMerlinFlow</div><div id='m_method'> M Method Name: model_testing(1)</div><div id='n_method'> N Method Name: model_testing(1)</div><div id='m_parent_class'> M Parent Class: FlowSpec</div><div id='n_parent_class'> N Parent Class: FlowSpec</div><div id='m_file'> M File Name: src/my_merlin_flow.py</div><div id='n_file'> N File Name: src/my_merlin_flow.py</div><div id='m_start'> M Start Line: 464</div><div id='m_end'> M End Line: 468</div><div id='n_start'> N Start Line: 419</div><div id='n_end'> N End Line: 454</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        split_dict.add(test_info)
        info = DatasetInfo(splits=split_dict)
        reader = ReaderTester("", info)
        dset<a id="change"> = </a><a id="change">Dataset(**reader.read(name, "train", split_infos))</a>
        return dset

    def test_from_pandas(self):
        data = {"col_1": [3, 2, 1, 0], "col_2": ["a", "b", "c", "d"]}</code></pre><h3>After Change</h3><pre><code class='java'>

class BaseDatasetTest(TestCase):
    def _create_dummy_dataset(self):
        dset = <a id="change">Dataset(
            </a>pa.Table.from_pydict({"filename": ["my_name-train" + "_" + str(x) for x in np.arange(30).tolist()]})<a id="change">
        )</a>
        return dset

    def test_dummy_dataset(self):
        dset = self._create_dummy_dataset()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/8d828b9f6366204dee6be149d0f26c29f17083e4#diff-c480dc36aca482db963c43ee66ba21705111f62f826352c96558ef5ed1619791L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86172183</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 8d828b9f6366204dee6be149d0f26c29f17083e4</div><div id='time'> Time: 2020-07-23</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: tests/test_arrow_dataset.py</div><div id='m_class'> M Class Name: BaseDatasetTest</div><div id='n_method'> N Class Name: BaseDatasetTest</div><div id='m_method'> M Method Name: _create_dummy_dataset(1)</div><div id='n_method'> N Method Name: _create_dummy_dataset(1)</div><div id='m_parent_class'> M Parent Class: TestCase</div><div id='n_parent_class'> N Parent Class: TestCase</div><div id='m_file'> M File Name: tests/test_arrow_dataset.py</div><div id='n_file'> N File Name: tests/test_arrow_dataset.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 47</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 18</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Copy from artifact store to temporary file
        fileio.copy(filepath, temp_file)
        matrix<a id="change"> = </a><a id="change">Dataset(</a>temp_file<a id="change">, free_raw_data=False)</a>

        &#47&#47 No clean up this time because matrix is lazy loaded
        return matrix
</code></pre><h3>After Change</h3><pre><code class='java'>
        df = pandas_materializer.handle_input(data_type)

        &#47&#47 Recreate from pandas dataframe
        return <a id="change">Dataset(</a>df<a id="change">)</a>

    def handle_return(self, df: Dataset) -&gt; None:
        Serializes pandas dataframe within a Dataset object.
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/0985ba0e11d185c08c484fa9b44cc11310371287#diff-6def36bc4b406e199378e224c4bd6e42aa5864f6100287ea31d910acf8ee52a7L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86172184</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: 0985ba0e11d185c08c484fa9b44cc11310371287</div><div id='time'> Time: 2022-05-02</div><div id='author'> Author: hamza@zenml.io</div><div id='file'> File Name: src/zenml/integrations/deepchecks/materializers/deepchecks_dataset_materializer.py</div><div id='m_class'> M Class Name: DeepchecksDatasetMaterializer</div><div id='n_method'> N Class Name: DeepchecksDatasetMaterializer</div><div id='m_method'> M Method Name: handle_input(2)</div><div id='n_method'> N Method Name: handle_input(2)</div><div id='m_parent_class'> M Parent Class: BaseMaterializer</div><div id='n_parent_class'> N Parent Class: BaseMaterializer</div><div id='m_file'> M File Name: src/zenml/integrations/deepchecks/materializers/deepchecks_dataset_materializer.py</div><div id='n_file'> N File Name: src/zenml/integrations/deepchecks/materializers/deepchecks_dataset_materializer.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 41</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    config = ModelConfig(decoder=SpanAttrClassificationDecoderConfig())
    attr_decoder_config = config.decoder

    dataset = <a id="change">Dataset(</a>EAR_data_demo, config<a id="change">, training=True)</a>
    dataset.build_vocabs_and_dims()

    chunks_obj = dataset[0][&quotchunks_obj&quot]
    assert chunks_obj.attributes == attributes</code></pre><h3>After Change</h3><pre><code class='java'>
        config = ModelConfig(decoder=JointExtractionDecoderConfig(attr_decoder=SpanAttrClassificationDecoderConfig(), rel_decoder=None))
        attr_decoder_config = config.decoder.attr_decoder

    dataset<a id="change"> = </a><a id="change">Dataset(</a>EAR_data_demo, config<a id="change">, training=training)</a>
    dataset.build_vocabs_and_dims()

    chunks_obj = dataset[0][&quotchunks_obj&quot]
    assert chunks_obj.attributes == attributes</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/syuoni/eznlp/commit/32aeba5f728bc82e4019b2bde8a12acd7a31783b#diff-760fb8f420606f94e08312fccc7c17045ae8f95201c4f8353acd505d7a560d81L88' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 86172190</div><div id='project'> Project Name: syuoni/eznlp</div><div id='commit'> Commit Name: 32aeba5f728bc82e4019b2bde8a12acd7a31783b</div><div id='time'> Time: 2021-06-16</div><div id='author'> Author: enwei.zhu@outlook.com</div><div id='file'> File Name: tests/model/test_span_attr_classification.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_chunks_obj(3)</div><div id='n_method'> N Method Name: test_chunks_obj(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/model/test_span_attr_classification.py</div><div id='n_file'> N File Name: tests/model/test_span_attr_classification.py</div><div id='m_start'> M Start Line: 92</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 128</div><BR>