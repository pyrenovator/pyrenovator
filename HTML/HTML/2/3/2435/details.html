<html><h3>Pattern ID :2435
</h3><img src='10285228.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if mirror_augment: img = cv2.flip(img, 1)
            frames.append(img)
            nb_frames += 1
            if nb_frames &gt;= length: <a id="change">break</a>
    seq = np.stack(frames).transpose(3, 0, 1, 2).astype(np.float32) &#47&#47 THWC-&gt;CTHW
    if cutout_augment:
        seq = sequence_cutout(seq)
    return seq</code></pre><h3>After Change</h3><pre><code class='java'>
            img = cv2.resize(img, (128, 128))
            if is_training:
                crop_x = random.randint(0, 16)
                crop_y<a id="change"> = </a>random.randint(0, 16)
                img = img[<a id="change">crop_y</a>: crop_y + 112, crop_x: crop_x + 112]
            else:
                img = img[8: 120, 8: 120]
        if mirror_augment and is_training: img = cv2.flip(img, 1)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sailordiary/m3f.pytorch/commit/639f60090b44d3fdb3b40ae0df467ffed523da9e#diff-2730a8c5bd5549f02454fcdfd4a30faef0d608acd1627662eacd9e71c765c6feL47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10285228</div><div id='project'> Project Name: sailordiary/m3f.pytorch</div><div id='commit'> Commit Name: 639f60090b44d3fdb3b40ae0df467ffed523da9e</div><div id='time'> Time: 2020-02-01</div><div id='author'> Author: me@sailorzhang.com</div><div id='file'> File Name: models/dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_video(7)</div><div id='n_method'> N Method Name: load_video(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: models/dataset.py</div><div id='n_file'> N File Name: models/dataset.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 75</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            try:
                if max_file_size is not None:
                    if i &gt;= max_file_size:
                        <a id="change">break</a>

                replay_path = replay_data_path + replay_file
                print(&quotreplay_path:&quot, replay_path) if 1 else None
</code></pre><h3>After Change</h3><pre><code class='java'>
        max_file_size = max_file_size if max_file_size &lt; len(replay_files) else len(replay_files)
        print(&quotmax_file_size&quot, max_file_size) if debug else None

        training_size<a id="change"> = </a>int(max_file_size * DATASET_SPLIT_RATIO.training)
        if val:
            replay_files = replay_files[<a id="change">training_size:max_file_size</a>]
            print(&quotlength for val files:&quot, len(replay_files)) if debug else None
        else:
            replay_files = replay_files[0:training_size]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/liuruoze/mini-alphastar/commit/b2d9d9a6dd94fc63f211c927f050c9857ef69d6d#diff-a2d1b0e0ea3d0592b1b1c184be6ad5f1f17457bfbc2aea77a163c06a81702e91L95' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10285227</div><div id='project'> Project Name: liuruoze/mini-alphastar</div><div id='commit'> Commit Name: b2d9d9a6dd94fc63f211c927f050c9857ef69d6d</div><div id='time'> Time: 2021-11-13</div><div id='author'> Author: liuruoze@163.com</div><div id='file'> File Name: alphastarmini/core/sl/dataset_pickle.py</div><div id='m_class'> M Class Name: FullDataset</div><div id='n_method'> N Class Name: FullDataset</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: alphastarmini/core/sl/dataset_pickle.py</div><div id='n_file'> N File Name: alphastarmini/core/sl/dataset_pickle.py</div><div id='m_start'> M Start Line: 101</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                                else:
                                    clip_shape = shape[:-reverse_dim_index]
                                memo.name_to_shape[dim.name] = tuple(clip_shape)
                                <a id="change">break</a>
                            else:
                                reversed_shape_piece = [size]
                                for _ in range(len(lookup_shape) - 1):
                                    try:</code></pre><h3>After Change</h3><pre><code class='java'>
                                &#47&#47 Therefore the number of dimensions the ellipsis
                                &#47&#47 corresponds to, is the number of dimensions
                                &#47&#47 remaining.
                                forward_index<a id="change"> = </a>0
                                for forward_dim in detail.dims:  &#47&#47 now iterate forwards
                                    if forward_dim is dim:
                                        break
                                    assert forward_dim.size is ...
                                    forward_index += len(
                                        memo.name_to_shape[forward_dim.name]
                                    )
                                if reverse_dim_index == 0:
                                    &#47&#47 since [:-0] doesn&quott work
                                    end_index = None
                                else:
                                    end_index = -reverse_dim_index
                                clip_shape = shape[<a id="change">forward_index:end_index</a>]
                                memo.name_to_shape[dim.name] = tuple(clip_shape)
                                for _ in range(len(clip_shape) - 1):
                                    next(reversed_shape)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/patrick-kidger/torchtyping/commit/a64b2ba050d28036eca85e8031c80eae69c34b11#diff-e89a3d62adccfcb96bba07b1d2f8ecfc9f5c32c41b20d66267e9e234f70f2d9cL52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10285233</div><div id='project'> Project Name: patrick-kidger/torchtyping</div><div id='commit'> Commit Name: a64b2ba050d28036eca85e8031c80eae69c34b11</div><div id='time'> Time: 2021-03-31</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchtyping/typechecker.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _check_memo(1)</div><div id='n_method'> N Method Name: _check_memo(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: torchtyping/typechecker.py</div><div id='n_file'> N File Name: torchtyping/typechecker.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 125</div><div id='n_start'> N Start Line: 147</div><div id='n_end'> N End Line: 170</div><BR>