<html><h3>Pattern ID :31218
</h3><img src='91575424.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        os.makedirs(tmp_dataset)
    

    <a id="change">shutil.copytree(</a>dataset_dir, tmp_dataset_dir<a id="change">)</a>

    os.mkdir(template_folder)

    data = pkg_resources.read_text(data_sharing_templates, &quotDockerfile.txt&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
        shutil.rmtree(tmp_dataset)
    os.makedirs(tmp_dataset)

    <a id="change">if </a>dataset_dir:
        <a id="change">shutil.copytree(</a>dataset_dir, tmp_dataset_dir<a id="change">)</a>

    os.mkdir(template_folder)

    data = pkg_resources.read_text(data_sharing_templates, &quotDockerfile.txt&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aimodelshare/aimodelshare/commit/18531421b566121c2f61f36b9c3ab10336d9e4c0#diff-a17494438015a0d2e5c735b422a39df1e6cb6acb52b6c4a57ca6b5f6a864b29fL76' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91575424</div><div id='project'> Project Name: aimodelshare/aimodelshare</div><div id='commit'> Commit Name: 18531421b566121c2f61f36b9c3ab10336d9e4c0</div><div id='time'> Time: 2022-11-04</div><div id='author'> Author: heinrichpeterz@gmail.com</div><div id='file'> File Name: aimodelshare/data_sharing/share_data.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_docker_folder_codebuild(8)</div><div id='n_method'> N Method Name: create_docker_folder_codebuild(8)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: aimodelshare/data_sharing/share_data.py</div><div id='n_file'> N File Name: aimodelshare/data_sharing/share_data.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 85</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        shutil.rmtree(self.checkpoint_dir)
        shutil.copytree(source_tester.checkpoint_dir, self.checkpoint_dir)
        shutil.rmtree(self.results_dir)
        <a id="change">shutil.copytree(</a>source_tester.results_dir, self.results_dir<a id="change">)</a>
        shutil.rmtree(self.log_dir)
        shutil.copytree(source_tester.log_dir, self.log_dir)
        self.init_logger()
</code></pre><h3>After Change</h3><pre><code class='java'>
        assert isinstance(source_tester, Tester)
        shutil.rmtree(self.checkpoint_dir)
        shutil.copytree(source_tester.checkpoint_dir, self.checkpoint_dir)
        <a id="change">if </a>os.path.exists(source_tester.results_dir):
            shutil.rmtree(self.results_dir)
            <a id="change">shutil.copytree(</a>source_tester.results_dir, self.results_dir<a id="change">)</a>
        else:
            logger.warn("[load warning]: can not find results dir")
        if os.path.exists(source_tester.log_dir):
            shutil.rmtree(self.log_dir)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/xionghuichen/rlassistant/commit/519970c496d5014aa209eaab35d619e7f3ceb333#diff-571aa4e8b30796fe43079fdb02d180b0612167aa94d89b1b3ed1de9b210299b9L134' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91575421</div><div id='project'> Project Name: xionghuichen/rlassistant</div><div id='commit'> Commit Name: 519970c496d5014aa209eaab35d619e7f3ceb333</div><div id='time'> Time: 2021-01-08</div><div id='author'> Author: zpcxh95@outlook.com</div><div id='file'> File Name: RLA/easy_log/tester.py</div><div id='m_class'> M Class Name: Tester</div><div id='n_method'> N Class Name: Tester</div><div id='m_method'> M Method Name: log_file_copy(2)</div><div id='n_method'> N Method Name: log_file_copy(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: RLA/easy_log/tester.py</div><div id='n_file'> N File Name: RLA/easy_log/tester.py</div><div id='m_start'> M Start Line: 138</div><div id='m_end'> M End Line: 141</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 148</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    from jina.constants import __resources_path__

    <a id="change">shutil.copytree(
        </a>os.path.join(__resources_path__, &quotproject-template&quot), os.path.abspath(args.name)<a id="change">
    )</a>


def help(args: &quotNamespace&quot):
    </code></pre><h3>After Change</h3><pre><code class='java'>

    from jina.constants import __resources_path__
    
    <a id="change">if </a>args.type == &quotdeployment&quot:
        <a id="change">shutil.copytree(
            </a>os.path.join(__resources_path__, &quotproject-template&quot, &quotdeployment&quot), os.path.abspath(args.name)<a id="change">
        )</a>
    else:
        shutil.copytree(
            os.path.join(__resources_path__, &quotproject-template&quot, &quotflow&quot), os.path.abspath(args.name)
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/f9a1158216029c7504f397ee2ea854f701a80f30#diff-c936dda94c286a894a5a1de7bd719f279150eee18b1d87d56f68efaf488b4cecL191' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91575420</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: f9a1158216029c7504f397ee2ea854f701a80f30</div><div id='time'> Time: 2023-03-14</div><div id='author'> Author: 34872572+asuzukosi@users.noreply.github.com</div><div id='file'> File Name: jina_cli/api.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: new(1)</div><div id='n_method'> N Method Name: new(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: jina_cli/api.py</div><div id='n_file'> N File Name: jina_cli/api.py</div><div id='m_start'> M Start Line: 201</div><div id='m_end'> M End Line: 203</div><div id='n_start'> N Start Line: 201</div><div id='n_end'> N End Line: 210</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    models_dst_dir = os.path.join(final_output_dir, &quotmodels&quot)
    if os.path.exists(models_dst_dir):
        shutil.rmtree(models_dst_dir)
    <a id="change">shutil.copytree(</a>os.path.join(this_dir, &quot../lib/models&quot), models_dst_dir<a id="change">)</a>

    if distributed:
        batch_size = config.TRAIN.BATCH_SIZE_PER_GPU
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 logger.info(get_model_summary(model.cuda(), dump_input.cuda()))

    &#47&#47 copy model file
    <a id="change">if </a>distributed and args.local_rank == 0:
        this_dir = os.path.dirname(__file__)
        models_dst_dir = os.path.join(final_output_dir, &quotmodels&quot)
        if os.path.exists(models_dst_dir):
            shutil.rmtree(models_dst_dir)
        <a id="change">shutil.copytree(</a>os.path.join(this_dir, &quot../lib/models&quot), models_dst_dir<a id="change">)</a>

    if distributed:
        batch_size = config.TRAIN.BATCH_SIZE_PER_GPU
    else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/chenjun2hao/ddrnet.pytorch/commit/ff771c5bb0a0b0dc1c46132108b06b7fe51ae2bb#diff-7fc3906bb14652119559420a7b84aac995bfa36f9a7b0f00e215b9f0b6301d9bL63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 91575423</div><div id='project'> Project Name: chenjun2hao/ddrnet.pytorch</div><div id='commit'> Commit Name: ff771c5bb0a0b0dc1c46132108b06b7fe51ae2bb</div><div id='time'> Time: 2019-12-05</div><div id='author'> Author: hsfzxjy@gmail.com</div><div id='file'> File Name: tools/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tools/train.py</div><div id='n_file'> N File Name: tools/train.py</div><div id='m_start'> M Start Line: 107</div><div id='m_end'> M End Line: 111</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 114</div><BR>