<html><h3>Pattern ID :19631
</h3><img src='63966416.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.used_item_id[uid].add(iid)

    def sample_by_user_id(self, user_id, num=1):
        <a id="change">pass</a>

</code></pre><h3>After Change</h3><pre><code class='java'>
                self.used_item_id[user_id].add(cur)
        else:
            tot = set(range(st, self.n_items)) - self.used_item_id[user_id]
            neg_item_id<a id="change"> = </a><a id="change">random.sample(</a>tot, num<a id="change">)</a>
        
        return neg_item_id

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/8a1273a4b6d1642a55b37570eb093a3ad8fa45a7#diff-7485070a1dac73a660d9ab3f21b8d5ffaf611c8db30a86b26e59199f1537a14dL27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63966416</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: 8a1273a4b6d1642a55b37570eb093a3ad8fa45a7</div><div id='time'> Time: 2020-06-30</div><div id='author'> Author: houyupeng@ruc.edu.cn</div><div id='file'> File Name: sampler/sampler.py</div><div id='m_class'> M Class Name: Sampler</div><div id='n_method'> N Class Name: Sampler</div><div id='m_method'> M Method Name: sample_by_user_id(3)</div><div id='n_method'> N Method Name: sample_by_user_id(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: sampler/sampler.py</div><div id='n_file'> N File Name: sampler/sampler.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 27</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

@pytest.mark.parametrize("loc, scale, df", [(2.3, 0.7, 6.0)])
def test_studentT_likelihood():
    <a id="change">pass</a></code></pre><h3>After Change</h3><pre><code class='java'>
    scales = torch.zeros((NUM_SAMPLES,)) + scale

    distr = StudentT(df=dfs, loc=locs, scale=scales)
    samples = <a id="change">distr.sample()</a>
    
    init_bias = [
        inv_softplus(df - 2),
        loc - START_TOL_MULTIPLE * TOL * loc,
        inv_softplus(scale - START_TOL_MULTIPLE * TOL * scale),
    ]

    df_hat<a id="change">, loc_hat, scale_hat = </a>maximum_likelihood_estimate_sgd(
        StudentTOutput(),
        samples,
        init_biases=init_bias,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zalandoresearch/pytorch-ts/commit/d039d5dfe744a7a1fa58b35bd499df2b52a84c98#diff-ceeabd111dd907e83dc9e4c82e968e73186e13cc0ed4883d2fcfa9b342621186L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63966418</div><div id='project'> Project Name: zalandoresearch/pytorch-ts</div><div id='commit'> Commit Name: d039d5dfe744a7a1fa58b35bd499df2b52a84c98</div><div id='time'> Time: 2019-11-01</div><div id='author'> Author: kashif.rasul@gmail.com</div><div id='file'> File Name: test/modules/test_distribution_output.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_studentT_likelihood(3)</div><div id='n_method'> N Method Name: test_studentT_likelihood(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/modules/test_distribution_output.py</div><div id='n_file'> N File Name: test/modules/test_distribution_output.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 72</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        pass

    def sample(self):
        <a id="change">pass</a></code></pre><h3>After Change</h3><pre><code class='java'>
        return len(self.memory) &gt;= self.batch_size

    def sample(self, batch_size: int) -&gt; Batch:
        batch = <a id="change">random.sample(</a>self.memory, batch_size<a id="change">)</a>
        batch = Batch(*zip(*batch))
        s = torch.tensor(batch.s, dtype=torch.float).view(batch_size, -1)
        a = torch.tensor(batch.a, dtype=torch.float).view(batch_size, -1)  &#47&#47 continuous, multi-dim action
        r = torch.tensor(batch.r, dtype=torch.float).view(batch_size, 1)
        ns = torch.tensor(batch.ns, dtype=torch.float).view(batch_size, -1)
        d<a id="change"> = </a>torch.tensor(batch.d, dtype=torch.float).view(batch_size, 1)
        return Batch(s, a, r, ns, d)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zhihanyang2022/off-policy-continuous-control/commit/70f31adeb1d7f0cc6d2e813f5c635b2e4e57d278#diff-2fa1ec8304e05d41f42f8f582bbe28692abd832d4a19ff15971c04ae7dfabadaL15' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63966406</div><div id='project'> Project Name: zhihanyang2022/off-policy-continuous-control</div><div id='commit'> Commit Name: 70f31adeb1d7f0cc6d2e813f5c635b2e4e57d278</div><div id='time'> Time: 2021-05-08</div><div id='author'> Author: yangz2@carleton.edu</div><div id='file'> File Name: cleanrl/basics/buffer.py</div><div id='m_class'> M Class Name: Buffer</div><div id='n_method'> N Class Name: Buffer</div><div id='m_method'> M Method Name: sample(2)</div><div id='n_method'> N Method Name: sample(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cleanrl/basics/buffer.py</div><div id='n_file'> N File Name: cleanrl/basics/buffer.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 16</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def get_one_sample(self, rxn_smi: str) -&gt; List[sparse_fp]:
        indirectly set by self.set__get_one_sample_fp_func()
        raise RuntimeError(&quotThis should never be executed!&quot)
        <a id="change">pass</a> 

    def get_one_sample_count(self, rxn_smi: str) -&gt; List[sparse_fp]:
        For count fingerprints</code></pre><h3>After Change</h3><pre><code class='java'>
            neg_rxn_fps = []
            for i in range(self.num_neg):
                neg_rxn_fp = pos_rxn_fp.copy()
                rdm_bit_idxs<a id="change"> = </a><a id="change">random.sample(</a>range(pos_rxn_fp.shape[-1])<a id="change">, k=self.num_bits)</a>
                for bit_idx in rdm_bit_idxs:
                    if self.fp_type == "count":
                        neg_rxn_fp[0, bit_idx] += self.increment_bits
                    elif self.fp_type == "bit":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/coleygroup/rxn-ebm/commit/98a06e3339135985ba0e940c6a448faf78cf95cd#diff-d653ce6759afb72ae1e3cb64bbb52d4b18c54b024d5388703bfe1981f96f824dL423' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 63966412</div><div id='project'> Project Name: coleygroup/rxn-ebm</div><div id='commit'> Commit Name: 98a06e3339135985ba0e940c6a448faf78cf95cd</div><div id='time'> Time: 2020-12-14</div><div id='author'> Author: siriuself1103@gmail.com</div><div id='file'> File Name: rxnebm/data/augmentors.py</div><div id='m_class'> M Class Name: Bit</div><div id='n_method'> N Class Name: Bit</div><div id='m_method'> M Method Name: get_one_sample(2)</div><div id='n_method'> N Method Name: get_one_sample(2)</div><div id='m_parent_class'> M Parent Class: Augmentor</div><div id='n_parent_class'> N Parent Class: Augmentor</div><div id='m_file'> M File Name: rxnebm/data/augmentors.py</div><div id='n_file'> N File Name: rxnebm/data/augmentors.py</div><div id='m_start'> M Start Line: 425</div><div id='m_end'> M End Line: 426</div><div id='n_start'> N Start Line: 426</div><div id='n_end'> N End Line: 445</div><BR>