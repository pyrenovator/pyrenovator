<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        sel_rows = 0.5 * (self[near_pi, major] + self[near_pi, :, major])
        aux = torch.ones(sel_rows.shape[0], dtype=torch.bool)
        cosine_near_pi = 0.5 * (
            self[near_pi<a id="change">, 0, 0</a>] + self[near_pi, 1, 1] + self[near_pi, 2, 2] - 1
        )
        sel_rows[aux, major] -= cosine_near_pi
        axis = (</code></pre><h3>After Change</h3><pre><code class='java'>

        near_zero = w &gt; 1 - self._NEAR_ZERO_EPS
        near_pi = w &lt;= self._NEAR_PI_EPS
        non_zero = <a id="change">self.tensor.new_ones(</a>[1]<a id="change">)</a>

        ret = self.tensor.new_zeros(self.shape[0], 4)
        &#47&#47 theta != pi
        ret[:, 0] = w</code></pre>