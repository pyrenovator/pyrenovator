<html><h3>Pattern ID :20355
</h3><img src='66024077.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    train_data, test_data, valid_data = dataloader[&quottrain_data&quot], dataloader[&quottest_data&quot], dataloader[&quotvalid_data&quot]

    trainer = <a id="change">Trainer(</a>config, model, logger<a id="change">)</a>
    best_valid_score, best_valid_result = trainer.fit(train_data, valid_data, verbose=False)
    test_result = trainer.evaluate(test_data)

    return {</code></pre><h3>After Change</h3><pre><code class='java'>

    train_data, test_data, valid_data = dataloader[&quottrain_data&quot], dataloader[&quottest_data&quot], dataloader[&quotvalid_data&quot]

    trainer<a id="change"> = </a><a id="change">Trainer(</a>config, model<a id="change">)</a>
    best_valid_score, best_valid_result = trainer.fit(train_data, valid_data, verbose=False)
    test_result = trainer.evaluate(test_data)

    return {</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/d932cccd1e2ec1cf4df3c2c5c87b35162e81c86f#diff-e9beb963008afd73b656dfe13d4d7d969aa58eac4bc05485bec284f0e10849b2L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024077</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: d932cccd1e2ec1cf4df3c2c5c87b35162e81c86f</div><div id='time'> Time: 2020-08-05</div><div id='author'> Author: 893833413@qq.com</div><div id='file'> File Name: run_hyper.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: objective_function(3)</div><div id='n_method'> N Method Name: objective_function(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: run_hyper.py</div><div id='n_file'> N File Name: run_hyper.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    scheduler = torch.optim.lr_scheduler.StepLR(optim, config[&quottraining&quot][&quotlr_drop&quot])

    &#47&#47 Build trainer and start training
    trainer = <a id="change">Trainer(
        </a>train_loader, val_loader, model, criterion, optim, scheduler, device, config<a id="change">
    )</a>
    trainer.run()
        

if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
    write_json(config, path_to_run / &quotconfig.json&quot)

    &#47&#47 Build trainer and start training
    trainer<a id="change"> = </a><a id="change">Trainer(
        </a>train_loader, val_loader, model, criterion, optim, scheduler, device, config, path_to_run<a id="change">
    )</a>
    trainer.run()
        

if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bwittmann/transoar/commit/37c7e4ab63c3a5f501e3bb151f9c52d204bbdcc0#diff-0e048206896ef3808bf29e00f4ca534eb723fe51e27a47b583a92e913c33bbcfL14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024074</div><div id='project'> Project Name: bwittmann/transoar</div><div id='commit'> Commit Name: 37c7e4ab63c3a5f501e3bb151f9c52d204bbdcc0</div><div id='time'> Time: 2021-11-22</div><div id='author'> Author: bastian.wittmann@tum.de</div><div id='file'> File Name: scripts/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(1)</div><div id='n_method'> N Method Name: train(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/train.py</div><div id='n_file'> N File Name: scripts/train.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    write_json(config, path_to_run / &quotconfig.json&quot)

    &#47&#47 Build trainer and start training
    trainer = <a id="change">Trainer(
        </a>train_loader, val_loader, model, criterion, optim, scheduler, device, config, path_to_run<a id="change">
    )</a>
    trainer.run()
        

if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
    write_json(config, path_to_run / &quotconfig.json&quot)

    &#47&#47 Build trainer and start training
    trainer<a id="change"> = </a><a id="change">Trainer(
        </a>train_loader, val_loader, model, criterion, optim, scheduler, device, config, 
        path_to_run, epoch, metric_start_val<a id="change">
    )</a>
    trainer.run()
        

if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bwittmann/transoar/commit/943b60f71cbfae5fcb65729b42c3b9464b433db2#diff-0e048206896ef3808bf29e00f4ca534eb723fe51e27a47b583a92e913c33bbcfL16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024073</div><div id='project'> Project Name: bwittmann/transoar</div><div id='commit'> Commit Name: 943b60f71cbfae5fcb65729b42c3b9464b433db2</div><div id='time'> Time: 2021-11-29</div><div id='author'> Author: bastian.wittmann@tum.de</div><div id='file'> File Name: scripts/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(2)</div><div id='n_method'> N Method Name: train(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/train.py</div><div id='n_file'> N File Name: scripts/train.py</div><div id='m_start'> M Start Line: 17</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 67</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        sampler = AsyncSampler(env, num_workers=num_workers)

        trainer = <a id="change">Trainer(
            </a>agent,
            sampler,
            None,
            max_frames,
            max_episodes<a id="change">
        )</a>

        trainer.start_training()

    def _make_writer(self, agent_name, env_name,</code></pre><h3>After Change</h3><pre><code class='java'>
        sampler = AsyncSampler(env, num_workers=num_workers)
        eval_sampler = AsyncSampler(env)

        trainer<a id="change"> = </a><a id="change">Trainer(
            </a>agent,
            sampler,
            eval_sampler,
            max_frames,
            max_episodes<a id="change">
        )</a>

        trainer.start_training()

    def _make_writer(self, agent_name, env_name,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/syuntoku14/pytorch-rl-il/commit/3d3db373da29e4ce86d99efcd996503f105e526f#diff-26eac5886f1febfc9cdd489567a7780b306b363d8af8c194eb80f6e3c60e12e1L41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 66024070</div><div id='project'> Project Name: syuntoku14/pytorch-rl-il</div><div id='commit'> Commit Name: 3d3db373da29e4ce86d99efcd996503f105e526f</div><div id='time'> Time: 2020-04-12</div><div id='author'> Author: syuntoku14@gmail.com</div><div id='file'> File Name: tests/experiments/experiment_test.py</div><div id='m_class'> M Class Name: MockExperiment</div><div id='n_method'> N Class Name: MockExperiment</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: Experiment</div><div id='n_parent_class'> N Parent Class: Experiment</div><div id='m_file'> M File Name: tests/experiments/experiment_test.py</div><div id='n_file'> N File Name: tests/experiments/experiment_test.py</div><div id='m_start'> M Start Line: 57</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 58</div><div id='n_end'> N End Line: 69</div><BR>