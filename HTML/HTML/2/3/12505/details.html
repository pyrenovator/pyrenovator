<html><h3>Pattern ID :12505
</h3><img src='42407583.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    entities = np.unique(all_entities)

    &#47&#47 Note: with return_inverse=True, the translation to IDs can be done in one operation
    relations<a id="change"> = </a><a id="change">np.unique(</a>relations<a id="change">)</a>

    entity_to_id: Dict[str, int] = {
        value: key
        for key, value in enumerate(entities)</code></pre><h3>After Change</h3><pre><code class='java'>
    subjects, relations, objects = triples[:, 0], triples[:, 1], triples[:, 2]

    &#47&#47 Sorting ensures consistent results when the triples are permuted
    entities = sorted(<a id="change">set(</a>subjects<a id="change">)</a>.union(objects))
    relations = sorted(set(relations))

    entity_to_id: Dict[str, int] = {</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/0593f8fbdb28d97a3a64e4af028cda610dd5552c#diff-a93237089587382930e8bbc5b90189bde569bcbe651c3e03a75fd2c0e0892f34L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42407583</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: 0593f8fbdb28d97a3a64e4af028cda610dd5552c</div><div id='time'> Time: 2019-06-26</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: src/poem/preprocessing/triples_preprocessing_utils/basic_triple_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_entity_and_relation_mappings(1)</div><div id='n_method'> N Method Name: create_entity_and_relation_mappings(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/poem/preprocessing/triples_preprocessing_utils/basic_triple_utils.py</div><div id='n_file'> N File Name: src/poem/preprocessing/triples_preprocessing_utils/basic_triple_utils.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 27</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    heads, relations, tails = slice_triples(triples)

    entities = np.unique(np.ndarray.flatten(np.concatenate([heads, tails])))
    relations<a id="change"> = </a><a id="change">np.unique(</a>np.ndarray.flatten(relations).tolist()<a id="change">)</a>

    entity_to_id: Dict[int, str] = {
        value: key
        for key, value in enumerate(entities)</code></pre><h3>After Change</h3><pre><code class='java'>
def create_entity_and_relation_mappings(triples: np.array) -&gt; Tuple[Dict[str, int], Dict[str, int]]:
    Map entities and relations to ids.
    entities = set()
    relations = <a id="change">set()</a>

    for triple in triples:
        head, relation, tail = triple
        entities.add(head)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/14e64ee321a2c057096b1517f0649a67352f8ddb#diff-a93237089587382930e8bbc5b90189bde569bcbe651c3e03a75fd2c0e0892f34L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42407582</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: 14e64ee321a2c057096b1517f0649a67352f8ddb</div><div id='time'> Time: 2019-06-13</div><div id='author'> Author: lvermue@users.noreply.github.com</div><div id='file'> File Name: src/poem/preprocessing/triples_preprocessing_utils/basic_triple_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: create_entity_and_relation_mappings(1)</div><div id='n_method'> N Method Name: create_entity_and_relation_mappings(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/poem/preprocessing/triples_preprocessing_utils/basic_triple_utils.py</div><div id='n_file'> N File Name: src/poem/preprocessing/triples_preprocessing_utils/basic_triple_utils.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            if xreg not in df.columns:
                raise ValueError("Lagged Regressor {} not found in DataFrame.".format(xreg))
            if lagged_regressors[xreg].normalize == &quotauto&quot:
                unique<a id="change"> = </a>set(<a id="change">df[xreg].unique()</a>)
                if unique == {1, 0 } or unique == {1.0, 0.0 } or unique == {True, False}:
                    lagged_regressors[xreg].normalize = False  &#47&#47 Don&quott standardize binary variables.
                else:</code></pre><h3>After Change</h3><pre><code class='java'>
            if covariates_config[covar].normalize == &quotauto&quot:
                &#47&#47 unique = set(df[covar].unique())
                &#47&#47 if unique == {1, 0} or unique == {1.0, 0.0} or unique == {-1, 1} or unique == {-1.0, 1.0} or unique == {True, False}:
                if <a id="change">set(</a>df[covar].unique()<a id="change">)</a> in ({True, False}, {1, 0}, {1.0, 0.0}, {-1, 1}, {-1.0, 1.0}):
                    covariates_config[covar].normalize = False  &#47&#47 Don&quott standardize binary variables.
                else:
                    covariates_config[covar].normalize = True</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/ae0ba720f438f8a50ffd5e397e3cde56a91a157b#diff-cb8ae2d50e5d5d245ed6fcc8cadf2baf7294fa9ac5c63e819fbfe34f0e4c2552L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42407580</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: ae0ba720f438f8a50ffd5e397e3cde56a91a157b</div><div id='time'> Time: 2020-06-22</div><div id='author'> Author: oskar.triebe@merantix.com</div><div id='file'> File Name: neuralprophet/df_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: init_data_params(3)</div><div id='n_method'> N Method Name: init_data_params(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: neuralprophet/df_utils.py</div><div id='n_file'> N File Name: neuralprophet/df_utils.py</div><div id='m_start'> M Start Line: 34</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 54</div><BR>