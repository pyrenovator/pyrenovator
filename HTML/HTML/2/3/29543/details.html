<html><h3>Pattern ID :29543
</h3><img src='87688638.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                root_path = osp.dirname(osp.dirname(task_path))
                break

        subset_paths<a id="change"> = </a><a id="change">[]</a>
        for task, extractor_type, task_dir in cls._TASKS:
            task_path = osp.join(root_path, VocPath.SUBSETS_DIR, task_dir)

            if not osp.isdir(task_path):</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 find root path for the dataset and use it for all tasks
        root_path = None
        for extractor_type, task_dir in cls._TASKS.values():
            if <a id="change">osp.isfile(</a>path<a id="change">)</a> and \
                    not osp.basename(osp.dirname(path)) == task_dir:
                continue
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/839ca35beaf8e5f11efcb86d9cfd03c693d8b9bb#diff-995c7ec9cc02821c075eb610054d2f1bdd86dc65fffa465763eb8d942c567491L51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87688638</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 839ca35beaf8e5f11efcb86d9cfd03c693d8b9bb</div><div id='time'> Time: 2021-06-09</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/voc_format/importer.py</div><div id='m_class'> M Class Name: VocImporter</div><div id='n_method'> N Class Name: VocImporter</div><div id='m_method'> M Method Name: find_sources(2)</div><div id='n_method'> N Method Name: find_sources(2)</div><div id='m_parent_class'> M Parent Class: Importer</div><div id='n_parent_class'> N Parent Class: Importer</div><div id='m_file'> M File Name: datumaro/plugins/voc_format/importer.py</div><div id='n_file'> N File Name: datumaro/plugins/voc_format/importer.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 77</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if "seed" in config:
        seed_everything(config.seed, workers=True)

    contrasted_shapes<a id="change"> = </a><a id="change">[]</a>
    input_las_dirpath = config.validation_module.predicted_las_dirpath
    las_filepath = glob.glob(osp.join(input_las_dirpath, "*.las"))
    for las_filepath in tqdm(las_filepath, desc="Evaluating predicted point cloud"):
</code></pre><h3>After Change</h3><pre><code class='java'>
        df_out = shapes_gdf.join(contrasted_shape, on="shape_idx", how="left")

        output_shp = config.validation_module.operationnal_output_shapefile_name
        mode = "w" if not <a id="change">os.isfile(</a>output_shp<a id="change">)</a> else "a"
        df_out.to_file(output_shp, mode=mode)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ignf/lidar-deep-segmentation/commit/69c046c66facf806b1c749c048e708b543d5a0a3#diff-7ba1a463ce3da17f1a3895bbeb2c2111da06448992b233b8cd96f10de8aebe88L34' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87688639</div><div id='project'> Project Name: ignf/lidar-deep-segmentation</div><div id='commit'> Commit Name: 69c046c66facf806b1c749c048e708b543d5a0a3</div><div id='time'> Time: 2021-10-25</div><div id='author'> Author: charles.gaydon@gmail.com</div><div id='file'> File Name: semantic_val/validate.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: validate(1)</div><div id='n_method'> N Method Name: validate(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: semantic_val/validate.py</div><div id='n_file'> N File Name: semantic_val/validate.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 69</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.frames_size = frames_size

        &#47&#47 video buffer
        self.video_buffer<a id="change"> = </a><a id="change">{}</a>

        &#47&#47 load video frames into memory and resize
        &#47&#47 self.video2frames = {}
        &#47&#47 for video_path in tqdm(self.video_paths, desc="loading videos"):</code></pre><h3>After Change</h3><pre><code class='java'>
                              frames_size=frames_size,
                              compress=True)
            self.video2data = np.load(buffer_save_path)
        elif <a id="change">os.path.isfile(</a>video_dir<a id="change">)</a>:
            self.video2data = np.load(video_dir)
        logger.info("successfully loading {} videos".format(len(self.video2data)))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kamino666/video-captioning-transformer/commit/22bb2cb5e650b1857dd2790720a952496c9f0f23#diff-44e6592c534d82d44cb8cae35c7d49bdfafd5bd072fb481b6265e075e8c7be88L25' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 87688642</div><div id='project'> Project Name: kamino666/video-captioning-transformer</div><div id='commit'> Commit Name: 22bb2cb5e650b1857dd2790720a952496c9f0f23</div><div id='time'> Time: 2021-09-15</div><div id='author'> Author: 516015417@qq.com</div><div id='file'> File Name: dataloader.py</div><div id='m_class'> M Class Name: MSR_VTT_VideoDataset</div><div id='n_method'> N Class Name: MSR_VTT_VideoDataset</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: dataloader.py</div><div id='n_file'> N File Name: dataloader.py</div><div id='m_start'> M Start Line: 35</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 70</div><BR>