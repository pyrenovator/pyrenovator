<html><h3>Pattern ID :15875
</h3><img src='53650146.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                depthwise_conv, chomp, prelu, norm, pointwise_conv
            )
        else:
            self.net<a id="change"> = </a><a id="change">nn.Sequential(
                </a>depthwise_conv, prelu, norm, pointwise_conv<a id="change">
            )</a>

    def forward(self, x):
        
        Args:</code></pre><h3>After Change</h3><pre><code class='java'>
            net = [depthwise_conv, chomp, prelu, norm, pointwise_conv]
        else:
            net = [depthwise_conv, prelu, norm, pointwise_conv]
        <a id="change">super().__init__(</a>*<a id="change">net)</a>


class Chomp1d(nn.Module):
    To ensure the output length is the same as the input.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/f87280274c11336edba544e0fa0ce51eea109326#diff-65eff6a8e879597a52111133bc08fedc79cafceed494eacfc233fbb40dd78cc7L322' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53650146</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: f87280274c11336edba544e0fa0ce51eea109326</div><div id='time'> Time: 2020-08-04</div><div id='author'> Author: csubakan@gmail.com</div><div id='file'> File Name: speechbrain/lobes/models/conv_tasnet.py</div><div id='m_class'> M Class Name: DepthwiseSeparableConv</div><div id='n_method'> N Class Name: DepthwiseSeparableConv</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(9)</div><div id='m_parent_class'> M Parent Class: Sequential</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: speechbrain/lobes/models/conv_tasnet.py</div><div id='n_file'> N File Name: speechbrain/lobes/models/conv_tasnet.py</div><div id='m_start'> M Start Line: 322</div><div id='m_end'> M End Line: 351</div><div id='n_start'> N Start Line: 337</div><div id='n_end'> N End Line: 357</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            ])
        else:
            act_class = act_class_mapping[activation]
            self.output_network<a id="change"> = </a><a id="change">nn.Sequential(
                </a>nn.Linear(hidden_channels, hidden_channels // 2),
                act_class(),
                nn.Linear(hidden_channels // 2, 1)<a id="change">
            )</a>

        atomic_mass = torch.from_numpy(ase.data.atomic_masses).float()
        self.register_buffer(&quotatomic_mass&quot, atomic_mass)
</code></pre><h3>After Change</h3><pre><code class='java'>

class DipoleMoment(Scalar):
    def __init__(self, is_equivariant, hidden_channels, activation=&quotsilu&quot):
        <a id="change">super(DipoleMoment, self).__init__(</a>is_equivariant, hidden_channels,
                                           activation<a id="change">, allow_prior_model=False)</a>

        atomic_mass = torch.from_numpy(ase.data.atomic_masses).float()
        self.register_buffer(&quotatomic_mass&quot, atomic_mass)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/torchmd/torchmd-net/commit/403df16c35df51669ed6a39ac3ec393967686148#diff-7ada1dab8926e58f70c1a2dd001ffd355effe94d817223ac6e2537edea4f9798L52' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53650147</div><div id='project'> Project Name: torchmd/torchmd-net</div><div id='commit'> Commit Name: 403df16c35df51669ed6a39ac3ec393967686148</div><div id='time'> Time: 2021-07-15</div><div id='author'> Author: p.thoelke@gmx.de</div><div id='file'> File Name: torchmdnet/models/output_modules.py</div><div id='m_class'> M Class Name: DipoleMoment</div><div id='n_method'> N Class Name: DipoleMoment</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: Scalar</div><div id='n_parent_class'> N Parent Class: OutputModel</div><div id='m_file'> M File Name: torchmdnet/models/output_modules.py</div><div id='n_file'> N File Name: torchmdnet/models/output_modules.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 73</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 72</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                            num_layers=num_layers, batch_first=True, bidirectional=bidirectional)
        self.loss_func = loss_func
        self.preprocessor = preprocessor
        self.scaling_layer<a id="change"> = </a><a id="change">nn.Sequential(
            </a>nn.Linear(hidden_size, input_size), nn.ReLU()<a id="change">)</a>
        self.init_weights()
        self.bidirectional = bidirectional

    def init_weights(self):</code></pre><h3>After Change</h3><pre><code class='java'>

class LSTM(SpecBase):
    def __init__(self, loss_func, preprocessor, input_size=257, hidden_size=257, num_layers=3, bidirectional=False):
        <a id="change">super(LSTM, self).__init__(</a>loss_func, preprocessor<a id="change">, input_size=257, hidden_size=257, num_layers=3, bidirectional=False)</a>
        
    def transform(self, src, tar=None):
        _, src_linears, src_phases = self.preprocessor(src)
        pred_linears, _ = self.lstm(src_linears)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/changlee0903/seril/commit/0723961e773564b5257d082ef2876f29059709c8#diff-fada037ad086638e65c7ae77e3d223963e9afaa26326aab0ea718f4013176e43L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53650150</div><div id='project'> Project Name: changlee0903/seril</div><div id='commit'> Commit Name: 0723961e773564b5257d082ef2876f29059709c8</div><div id='time'> Time: 2020-09-06</div><div id='author'> Author: r08922a27@csie.ntu.edu.tw</div><div id='file'> File Name: model.py</div><div id='m_class'> M Class Name: LSTM</div><div id='n_method'> N Class Name: LSTM</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: SpecBase</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: model.py</div><div id='n_file'> N File Name: model.py</div><div id='m_start'> M Start Line: 7</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 134</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super(Classifier, self).__init__()
        self.backbone = backbone
        self.num_classes = num_classes
        self.bottleneck<a id="change"> = </a><a id="change">nn.Sequential(
            </a>nn.AdaptiveAvgPool2d(output_size=(1, 1)),
            nn.Flatten()<a id="change">
        )</a>
        self._features_dim = self.backbone.out_features
        self.head_source = head_source
        if head_target is None:</code></pre><h3>After Change</h3><pre><code class='java'>
    
    def __init__(self, backbone: nn.Module, num_classes: int,  head_source,
                 head_target: Optional[nn.Module] = None, finetune=True):
        <a id="change">super(Classifier, self).__init__(</a>backbone, num_classes, head_source, head_target<a id="change">, finetune=finetune)</a>

    def get_parameters(self, base_lr=1.0) -&gt; List[Dict]:
        A parameter list which decides optimization hyper-parameters,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuml/transfer-learning-library/commit/bb01bcdbcefbf0fe95adb117fd1c4f502c045ea0#diff-ab45a59f0e3d8ff58da0c454278c15a3a5a34ded9279666103797702f7e6509bL130' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53650151</div><div id='project'> Project Name: thuml/transfer-learning-library</div><div id='commit'> Commit Name: bb01bcdbcefbf0fe95adb117fd1c4f502c045ea0</div><div id='time'> Time: 2021-06-22</div><div id='author'> Author: 13126830206@163.com</div><div id='file'> File Name: ftlib/finetune/co_tuning.py</div><div id='m_class'> M Class Name: Classifier</div><div id='n_method'> N Class Name: Classifier</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: ClassifierBase</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: ftlib/finetune/co_tuning.py</div><div id='n_file'> N File Name: ftlib/finetune/co_tuning.py</div><div id='m_start'> M Start Line: 132</div><div id='m_end'> M End Line: 145</div><div id='n_start'> N Start Line: 134</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            proj_layers.append(nn.ReLU(inplace=True))
        embeds = nn.Linear(dims[-2], dims[-1], bias=num_class &gt; 0)
        proj_layers.append(embeds)
        self.head<a id="change"> = </a><a id="change">nn.Sequential(
            </a>*<a id="change">proj_layers
        )</a>
        self.out = nn.Linear(dims[-1], num_class)

    def forward(self, x):
        features = self.encoder(x)</code></pre><h3>After Change</h3><pre><code class='java'>
class CutPasteNet(_CutPasteNetBase):
    &#47&#47 forward outputs:  (logits, embeds)
    def __init__(self, encoder=&quotresnet18&quot, pretrained=True, dims=[512, 512, 512, 512, 512, 512, 512, 512, 128], num_class=3):
        <a id="change">super().__init__(</a>encoder, pretrained, dims, num_class<a id="change">)</a>
        return
    
    def forward(self, x):
        features = self.encoder(x)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lilityolyan/cutpaste/commit/7266df86ac2c99e58830182d164f7efba0e2fa83#diff-fada037ad086638e65c7ae77e3d223963e9afaa26326aab0ea718f4013176e43L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53650148</div><div id='project'> Project Name: lilityolyan/cutpaste</div><div id='commit'> Commit Name: 7266df86ac2c99e58830182d164f7efba0e2fa83</div><div id='time'> Time: 2022-01-25</div><div id='author'> Author: lg93lggt@163.com</div><div id='file'> File Name: model.py</div><div id='m_class'> M Class Name: CutPasteNet</div><div id='n_method'> N Class Name: CutPasteNet</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: _CutPasteNetBase</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: model.py</div><div id='n_file'> N File Name: model.py</div><div id='m_start'> M Start Line: 7</div><div id='m_end'> M End Line: 21</div><div id='n_start'> N Start Line: 49</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            causal,
        )
        &#47&#47 Put together
        self.net<a id="change"> = </a><a id="change">nn.Sequential(</a>conv1x1, prelu, norm, dsconv<a id="change">)</a>

    def forward(self, x):
        
        Args:</code></pre><h3>After Change</h3><pre><code class='java'>
        )
        &#47&#47 Put together
        net = [conv1x1, prelu, norm, dsconv]
        <a id="change">super().__init__(</a>*<a id="change">net)</a>

    def forward(self, x, init_params=False):
        
        Arguments</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/f87280274c11336edba544e0fa0ce51eea109326#diff-65eff6a8e879597a52111133bc08fedc79cafceed494eacfc233fbb40dd78cc7L266' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53650143</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: f87280274c11336edba544e0fa0ce51eea109326</div><div id='time'> Time: 2020-08-04</div><div id='author'> Author: csubakan@gmail.com</div><div id='file'> File Name: speechbrain/lobes/models/conv_tasnet.py</div><div id='m_class'> M Class Name: TemporalBlock</div><div id='n_method'> N Class Name: TemporalBlock</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(9)</div><div id='m_parent_class'> M Parent Class: Sequential</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: speechbrain/lobes/models/conv_tasnet.py</div><div id='n_file'> N File Name: speechbrain/lobes/models/conv_tasnet.py</div><div id='m_start'> M Start Line: 277</div><div id='m_end'> M End Line: 294</div><div id='n_start'> N Start Line: 275</div><div id='n_end'> N End Line: 291</div><BR>