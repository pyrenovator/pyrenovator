<html><h3>Pattern ID :6147
</h3><img src='21139776.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            victim_labels = torch.cat([self.label[labeled_nodes],
                                       self_training_labels], dim=0)

        adj = <a id="change">self.graph.adjacency_matrix().to_dense()</a>
        I = torch.eye(self.num_nodes, device=self.device)
        self.complementary = torch.ones_like(adj) - I - 2. * adj
        self.adj = adj + I</code></pre><h3>After Change</h3><pre><code class='java'>
            victim_labels = torch.cat([self.label[labeled_nodes],
                                       self_training_labels], dim=0)

        adj = <a id="change">self.graph.adjacency_matrix().to_dense().to(</a>self.device<a id="change">)</a>
        I = torch.eye(self.num_nodes, device=self.device)
        self.complementary = torch.ones_like(adj) - I - 2. * adj
        self.adj = adj + I</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 15</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/edisonleeeee/graphwar/commit/e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4#diff-e4a3e7e6d3cf8aa0bb71d807c3112b903c7edca8dd12290f4a2554951384944eL50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139776</div><div id='project'> Project Name: edisonleeeee/graphwar</div><div id='commit'> Commit Name: e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/attack/untargeted/pgd_attack.py</div><div id='m_class'> M Class Name: PGDAttack</div><div id='n_method'> N Class Name: PGDAttack</div><div id='m_method'> M Method Name: setup_surrogate(4)</div><div id='n_method'> N Method Name: setup_surrogate(4)</div><div id='m_parent_class'> M Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='n_parent_class'> N Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='m_file'> M File Name: graphwar/attack/untargeted/pgd_attack.py</div><div id='n_file'> N File Name: graphwar/attack/untargeted/pgd_attack.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        self.y_train = self.label[labeled_nodes]
        self.y_self_train = self.estimate_self_training_labels(unlabeled_nodes)
        self.adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense()</a>

        weights = []
        w_velocities = []</code></pre><h3>After Change</h3><pre><code class='java'>

        self.y_train = self.label[labeled_nodes]
        self.y_self_train = self.estimate_self_training_labels(unlabeled_nodes)
        self.adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense().to(</a>self.device<a id="change">)</a>

        weights = []
        w_velocities = []</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphwar/commit/e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4#diff-95a9e7c6ebbecf565729664036b5a569aa58234b5ca957294175151f85a0e65bL23' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139762</div><div id='project'> Project Name: edisonleeeee/graphwar</div><div id='commit'> Commit Name: e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/attack/untargeted/metattack.py</div><div id='m_class'> M Class Name: Metattack</div><div id='n_method'> N Class Name: Metattack</div><div id='m_method'> M Method Name: setup_surrogate(8)</div><div id='n_method'> N Method Name: setup_surrogate(8)</div><div id='m_parent_class'> M Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='n_parent_class'> N Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='m_file'> M File Name: graphwar/attack/untargeted/metattack.py</div><div id='n_file'> N File Name: graphwar/attack/untargeted/metattack.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 50</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        num_nodes, num_feats = self.num_nodes, self.num_feats
        self.nodes_set = set(range(num_nodes))
        self.feats_list = list(range(num_feats))
        self.adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense()</a>
        self.adj_norm = normalize(self.adj)

    def setup_surrogate(self, surrogate: torch.nn.Module,</code></pre><h3>After Change</h3><pre><code class='java'>
        num_nodes, num_feats = self.num_nodes, self.num_feats
        self.nodes_set = set(range(num_nodes))
        self.feats_list = list(range(num_feats))
        self.adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense().to(</a>self.device<a id="change">)</a>
        self.adj_norm = normalize(self.adj)

    def setup_surrogate(self, surrogate: torch.nn.Module,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/greatx/commit/e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4#diff-399f397980e17c3c84b3f861a501ddb0e394eb9e52ee23a00685331b680532dcL17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139763</div><div id='project'> Project Name: edisonleeeee/greatx</div><div id='commit'> Commit Name: e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/attack/untargeted/ig_attack.py</div><div id='m_class'> M Class Name: IGAttack</div><div id='n_method'> N Class Name: IGAttack</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='n_parent_class'> N Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='m_file'> M File Name: graphwar/attack/untargeted/ig_attack.py</div><div id='n_file'> N File Name: graphwar/attack/untargeted/ig_attack.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 24</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        num_nodes, num_feats = self.num_nodes, self.num_feats
        self.nodes_set = set(range(num_nodes))
        self.feats_list = list(range(num_feats))
        self.adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense()</a>
        self.adj_norm = normalize(self.adj)

    def attack(self,</code></pre><h3>After Change</h3><pre><code class='java'>
        num_nodes, num_feats = self.num_nodes, self.num_feats
        self.nodes_set = set(range(num_nodes))
        self.feats_list = list(range(num_feats))
        self.adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense().to(</a>self.device<a id="change">)</a>
        self.adj_norm = normalize(self.adj)

    def attack(self,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/greatx/commit/e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4#diff-d8dadc5d7aed2bdc748853aa9300537abb8429e081c7cf61a5f59e8ab2878ac2L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139777</div><div id='project'> Project Name: edisonleeeee/greatx</div><div id='commit'> Commit Name: e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/attack/targeted/ig_attack.py</div><div id='m_class'> M Class Name: IGAttack</div><div id='n_method'> N Class Name: IGAttack</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: SurrogateAttacker,TargetedAttacker</div><div id='n_parent_class'> N Parent Class: SurrogateAttacker,TargetedAttacker</div><div id='m_file'> M File Name: graphwar/attack/targeted/ig_attack.py</div><div id='n_file'> N File Name: graphwar/attack/targeted/ig_attack.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 25</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def reset(self):
        super().reset()
        self.modified_adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense()</a>
        self.modified_feat = self.feat.clone()
        return self
</code></pre><h3>After Change</h3><pre><code class='java'>

    def reset(self):
        super().reset()
        self.modified_adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense().to(</a>self.device<a id="change">)</a>
        self.modified_feat = self.feat.clone()
        return self
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/greatx/commit/e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4#diff-ffb90a6b687899391e5ae5686520a60fdbfce18ce9392a38dee9438940c9620eL21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139764</div><div id='project'> Project Name: edisonleeeee/greatx</div><div id='commit'> Commit Name: e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/attack/targeted/fg_attack.py</div><div id='m_class'> M Class Name: FGAttack</div><div id='n_method'> N Class Name: FGAttack</div><div id='m_method'> M Method Name: reset(1)</div><div id='n_method'> N Method Name: reset(1)</div><div id='m_parent_class'> M Parent Class: SurrogateAttacker,TargetedAttacker</div><div id='n_parent_class'> N Parent Class: SurrogateAttacker,TargetedAttacker</div><div id='m_file'> M File Name: graphwar/attack/targeted/fg_attack.py</div><div id='n_file'> N File Name: graphwar/attack/targeted/fg_attack.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 23</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def reset(self):
        super().reset()
        self.modified_adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense()</a>
        self.modified_feat = self.feat.clone()
        return self
</code></pre><h3>After Change</h3><pre><code class='java'>

    def reset(self):
        super().reset()
        self.modified_adj = <a id="change">self.graph.add_self_loop().adjacency_matrix().to_dense().to(</a>self.device<a id="change">)</a>
        self.modified_feat = self.feat.clone()
        return self
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphwar/commit/e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4#diff-e534584861a3bec6b9a80b3aba2fbb510135ac976d902df83173644da5b99eeaL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139765</div><div id='project'> Project Name: edisonleeeee/graphwar</div><div id='commit'> Commit Name: e0e9d4cf29a4ba672237e6cb0e055b37bbed51e4</div><div id='time'> Time: 2021-11-23</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/attack/untargeted/fg_attack.py</div><div id='m_class'> M Class Name: FGAttack</div><div id='n_method'> N Class Name: FGAttack</div><div id='m_method'> M Method Name: reset(1)</div><div id='n_method'> N Method Name: reset(1)</div><div id='m_parent_class'> M Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='n_parent_class'> N Parent Class: SurrogateAttacker,UntargetedAttacker</div><div id='m_file'> M File Name: graphwar/attack/untargeted/fg_attack.py</div><div id='n_file'> N File Name: graphwar/attack/untargeted/fg_attack.py</div><div id='m_start'> M Start Line: 40</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 40</div><div id='n_end'> N End Line: 40</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
    edge_index = barabasi_albert_graph(num_nodes, num_edges).to(device)
    A_tilde = (<a id="change">torch.sparse_coo_tensor(edge_index, torch.ones(edge_index.size(1).to(device)), (num_nodes, num_nodes)).to_dense())</a>
    x_all = (2 * torch.rand(batch_size, seq_in_len, num_nodes, in_dim) - 1).to(device)
    model = MTGNN(gcn_true=gcn_true, build_adj=build_adj, gcn_depth=gcn_depth, num_nodes=num_nodes,
                kernel_size=kernel_size, kernel_set=kernel_set, dropout=dropout, subgraph_size=subgraph_size,
                node_dim=node_dim, dilation_exponential=dilation_exponential,</code></pre><h3>After Change</h3><pre><code class='java'>

    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
    edge_index = barabasi_albert_graph(num_nodes, num_edges).to(device)
    A_tilde = <a id="change">(torch.sparse_coo_tensor(edge_index, torch.ones(edge_index.size(1)).to(device), (num_nodes, num_nodes)).to_dense()).to(</a>device<a id="change">)</a>
    model = MTGNN(gcn_true=gcn_true, build_adj=build_adj, gcn_depth=gcn_depth, num_nodes=num_nodes,
                kernel_size=kernel_size, kernel_set=kernel_set, dropout=dropout, subgraph_size=subgraph_size,
                node_dim=node_dim, dilation_exponential=dilation_exponential,
                conv_channels=conv_channels, residual_channels=residual_channels,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/benedekrozemberczki/pytorch_geometric_temporal/commit/adc9eb18c8283ed7157d718b3417eb4d7bd40576#diff-592bffdec032ab970088ee321003f32504e7af07175645e811641e910aca3e35L269' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139768</div><div id='project'> Project Name: benedekrozemberczki/pytorch_geometric_temporal</div><div id='commit'> Commit Name: adc9eb18c8283ed7157d718b3417eb4d7bd40576</div><div id='time'> Time: 2021-04-09</div><div id='author'> Author: He_YX@outlook.com</div><div id='file'> File Name: test/convolutional_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_mtgnn(0)</div><div id='n_method'> N Method Name: test_mtgnn(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/convolutional_test.py</div><div id='n_file'> N File Name: test/convolutional_test.py</div><div id='m_start'> M Start Line: 297</div><div id='m_end'> M End Line: 381</div><div id='n_start'> N Start Line: 297</div><div id='n_end'> N End Line: 379</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    y.extend(blocks[-1].dstdata["label"].cpu().numpy())
                order.extend(blocks[-1].dstdata["order"].cpu().numpy())

                adj = <a id="change">g.adjacency_matrix().to_dense()</a>
                adj = adj[g.dstnodes()]
                pos_weight = torch.Tensor([float(adj.shape[0] * adj.shape[0] - adj.sum()) / adj.sum()])
                factor = float((adj.shape[0] * adj.shape[0] - adj.sum()) * 2)
                if factor == 0:</code></pre><h3>After Change</h3><pre><code class='java'>
                    y.extend(blocks[-1].dstdata["label"].cpu().numpy())
                order.extend(blocks[-1].dstdata["order"].cpu().numpy())

                adj = <a id="change">g.adjacency_matrix().to_dense().to(</a>device<a id="change">)</a>
                adj = adj[g.dstnodes()]
                pos_weight = torch.Tensor([float(adj.shape[0] * adj.shape[0] - adj.sum()) / adj.sum()])
                factor = float((adj.shape[0] * adj.shape[0] - adj.sum()) * 2)
                if factor == 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/omicsml/dance/commit/199f3eb5824e85258ad400f8db3d22a5135993d1#diff-62be3d9cbbb8f342aaa1f8776676d140a047e5657a780eb6daf269de269ab57aL47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139769</div><div id='project'> Project Name: omicsml/dance</div><div id='commit'> Commit Name: 199f3eb5824e85258ad400f8db3d22a5135993d1</div><div id='time'> Time: 2022-12-20</div><div id='author'> Author: tangwen2@msu.edu</div><div id='file'> File Name: dance/modules/single_modality/clustering/graphsc.py</div><div id='m_class'> M Class Name: GraphSC</div><div id='n_method'> N Class Name: GraphSC</div><div id='m_method'> M Method Name: fit(6)</div><div id='n_method'> N Method Name: fit(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: dance/modules/single_modality/clustering/graphsc.py</div><div id='n_file'> N File Name: dance/modules/single_modality/clustering/graphsc.py</div><div id='m_start'> M Start Line: 91</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
    edge_index = barabasi_albert_graph(num_nodes, num_edges).to(device)
    A_tilde = <a id="change">torch.sparse_coo_tensor(edge_index, torch.ones(edge_index.size(1)), (num_nodes, num_nodes)).to_dense()</a>
    x_all = 2 * torch.rand(batch_size, seq_in_len, num_nodes, in_dim) - 1
    model = MTGNN(gcn_true=gcn_true, build_adj=build_adj, gcn_depth=gcn_depth, num_nodes=num_nodes,
                kernel_size=kernel_size, kernel_set=kernel_set, dropout=dropout, subgraph_size=subgraph_size,
                node_dim=node_dim, dilation_exponential=dilation_exponential,</code></pre><h3>After Change</h3><pre><code class='java'>

    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
    edge_index = barabasi_albert_graph(num_nodes, num_edges).to(device)
    A_tilde = <a id="change">(torch.sparse_coo_tensor(edge_index, torch.ones(edge_index.size(1)), (num_nodes, num_nodes)).to_dense()).to(</a>device<a id="change">)</a>
    x_all = (2 * torch.rand(batch_size, seq_in_len, num_nodes, in_dim) - 1).to(device)
    model = MTGNN(gcn_true=gcn_true, build_adj=build_adj, gcn_depth=gcn_depth, num_nodes=num_nodes,
                kernel_size=kernel_size, kernel_set=kernel_set, dropout=dropout, subgraph_size=subgraph_size,
                node_dim=node_dim, dilation_exponential=dilation_exponential,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/benedekrozemberczki/pytorch_geometric_temporal/commit/5570ebabc9577504909439195140919dd15949a0#diff-592bffdec032ab970088ee321003f32504e7af07175645e811641e910aca3e35L269' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 21139772</div><div id='project'> Project Name: benedekrozemberczki/pytorch_geometric_temporal</div><div id='commit'> Commit Name: 5570ebabc9577504909439195140919dd15949a0</div><div id='time'> Time: 2021-04-09</div><div id='author'> Author: He_YX@outlook.com</div><div id='file'> File Name: test/convolutional_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_mtgnn(0)</div><div id='n_method'> N Method Name: test_mtgnn(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/convolutional_test.py</div><div id='n_file'> N File Name: test/convolutional_test.py</div><div id='m_start'> M Start Line: 278</div><div id='m_end'> M End Line: 380</div><div id='n_start'> N Start Line: 278</div><div id='n_end'> N End Line: 380</div><BR>