<html><h3>Pattern ID :34430
</h3><img src='98771995.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                raise ValueError(f"Provided file {in_loc} is not a Parquet file.")
            return [in_path]
        if in_path.is_dir():
            return [f for f in <a id="change">in_path.glob("**/*"</a><a id="change">)</a> if f.suffix == ".parquet"]
        return []

    def _set_span_labels(self, spans):</code></pre><h3>After Change</h3><pre><code class='java'>
            in_locs = in_loc

        &#47&#47 TODO: refactor to make all_paths a Set[Path]
        all_paths = <a id="change">[]</a>
        for path in in_locs:
            path = as_path(path)
            if not path.exists():
                raise ValueError(f"Location {path} is not an existing file or directory.")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/bd18b5976cc0f7c8d1f169cc278a34a417aac7cd#diff-ec730aab051edf2ba7b89f163cda2f2499c14d8d87a4b422587f8edcaec3d078L282' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98771995</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: bd18b5976cc0f7c8d1f169cc278a34a417aac7cd</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: elliot.ford@astrazeneca.com</div><div id='file'> File Name: kazu/modelling/ontology_matching/ontology_matcher.py</div><div id='m_class'> M Class Name: OntologyMatcher</div><div id='n_method'> N Class Name: OntologyMatcher</div><div id='m_method'> M Method Name: _define_paths(2)</div><div id='n_method'> N Method Name: _define_paths(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/modelling/ontology_matching/ontology_matcher.py</div><div id='n_file'> N File Name: kazu/modelling/ontology_matching/ontology_matcher.py</div><div id='m_start'> M Start Line: 287</div><div id='m_end'> M End Line: 296</div><div id='n_start'> N Start Line: 282</div><div id='n_end'> N End Line: 299</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        self.train_path = list(self.train_dir.glob(&quot*.jpg&quot))[self.rank - 1::self.worldsize]
        self.query_path = list(self.query_dir.glob(&quot*.jpg&quot))[self.rank - 1::self.worldsize]
        self.gal_path = list(<a id="change">self.gal_dir.glob(&quot*.jpg&quot</a><a id="change">)</a>)[self.rank - 1::self.worldsize]

        self.mode = &quottrain&quot
        self.imgs_path = self.train_path</code></pre><h3>After Change</h3><pre><code class='java'>
        self.dataset_dir = Path.cwd() / data_folder_name
        self.download()

        self.path_by_type = <a id="change">{
            </a>&quottrain&quot: self.dataset_dir / &quotbounding_box_train&quot,
            &quotquery&quot: self.dataset_dir / &quotquery&quot,
            &quotgallery&quot: self.dataset_dir / &quotbounding_box_test&quot<a id="change">
        }</a>
        self._check_before_run()

    def get_shard_dataset_types(self) -&gt; List[str]:
        Get available shard dataset types.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/intel/openfl/commit/8b7e6357cf153411351d96d2b4f21f871cf3a6a7#diff-72f399395d6344faf7ab9390cad0730530f29e00f69d3572012fe2b6cec771cfL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98771994</div><div id='project'> Project Name: intel/openfl</div><div id='commit'> Commit Name: 8b7e6357cf153411351d96d2b4f21f871cf3a6a7</div><div id='time'> Time: 2021-11-01</div><div id='author'> Author: 76171391+aleksandr-mokrov@users.noreply.github.com</div><div id='file'> File Name: openfl-tutorials/interactive_api/PyTorch_Market_Re-ID/envoy/market_shard_descriptor.py</div><div id='m_class'> M Class Name: MarketShardDescriptor</div><div id='n_method'> N Class Name: MarketShardDescriptor</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: ShardDescriptor</div><div id='n_parent_class'> N Parent Class: ShardDescriptor</div><div id='m_file'> M File Name: openfl-tutorials/interactive_api/PyTorch_Market_Re-ID/envoy/market_shard_descriptor.py</div><div id='n_file'> N File Name: openfl-tutorials/interactive_api/PyTorch_Market_Re-ID/envoy/market_shard_descriptor.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 54</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ]

    def _generate_examples(self, archive):
        for i, path in enumerate(<a id="change">Path(archive).glob("**/*"</a><a id="change">)</a>):
            if path.suffix == ".jpg":
                yield i, {"image_file_path": str(path), "image": str(path), "labels": path.parent.name.lower()}
</code></pre><h3>After Change</h3><pre><code class='java'>
        for i, path in enumerate(files):
            file_name = os.path.basename(path)
            if file_name.endswith(".jpg"):
                yield i, <a id="change">{
                    </a>"image_file_path": path,
                    "image": path,
                    "labels": os.path.basename(os.path.dirname(path)).lower()<a id="change">,
                }</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/2cb0523c055dce63df28a397e45282b45b00566f#diff-74deff00a11efdf4e44cf35b3e2777ccd112b3b187286639d07b4cbcb2a07d8cL94' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98771993</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 2cb0523c055dce63df28a397e45282b45b00566f</div><div id='time'> Time: 2021-12-28</div><div id='author'> Author: mario@huggingface.co</div><div id='file'> File Name: datasets/beans/beans.py</div><div id='m_class'> M Class Name: Beans</div><div id='n_method'> N Class Name: Beans</div><div id='m_method'> M Method Name: _generate_examples(2)</div><div id='n_method'> N Method Name: _generate_examples(2)</div><div id='m_parent_class'> M Parent Class: datasets.GeneratorBasedBuilder</div><div id='n_parent_class'> N Parent Class: datasets.GeneratorBasedBuilder</div><div id='m_file'> M File Name: datasets/beans/beans.py</div><div id='n_file'> N File Name: datasets/beans/beans.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 97</div><div id='n_start'> N Start Line: 95</div><div id='n_end'> N End Line: 102</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
class SomicDataset(Dataset):
    def __init__(self, base: Path, augs: albu.Compose) -&gt; None:

        self.img_paths = [str(p) for p in <a id="change">base.glob("images/*.bmp"</a><a id="change">)</a>]
        self.augs = augs

    def __getitem__(self, idx: int):</code></pre><h3>After Change</h3><pre><code class='java'>

        self.base = Path(cfg.dataset.base)
        self.augs = augs_dict[data_type]
        self.stem_list = <a id="change">[]</a>

        df = pd.read_csv(self.base / "info.csv")
        for query in cfg.dataset[data_type].query:
            stem = df.query(query)["stem"]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/taikiinoue/stad/commit/da685e3e2b934cccf3cebf147ff871866e74a293#diff-314d66f3e69d697ae9719c579ca1e07b262b09dd186a54d20abbf488f68f7b75L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 98771996</div><div id='project'> Project Name: taikiinoue/stad</div><div id='commit'> Commit Name: da685e3e2b934cccf3cebf147ff871866e74a293</div><div id='time'> Time: 2020-09-15</div><div id='author'> Author: taikiinoue45@gmail.com</div><div id='file'> File Name: stad/datasets/somic.py</div><div id='m_class'> M Class Name: SomicDataset</div><div id='n_method'> N Class Name: SomicDataset</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: stad/datasets/somic.py</div><div id='n_file'> N File Name: stad/datasets/somic.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 12</div><div id='n_start'> N Start Line: 11</div><div id='n_end'> N End Line: 22</div><BR>