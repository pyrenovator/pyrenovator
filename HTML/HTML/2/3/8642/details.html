<html><h3>Pattern ID :8642
</h3><img src='29998441.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                new_categories[feature] = {}

        &#47&#47 Display
        <a id="change">if </a>display_data:
            display = pd.DataFrame(data=display_data,
                                   columns=[&quotColumn&quot,
                                            &quotNumber of new categories&quot,</code></pre><h3>After Change</h3><pre><code class='java'>
                                            &quotNew categories in column&quot,
                                            &quotFeature importance&quot]).set_index([&quotColumn&quot])
        result_data.sort_values(by=&quotPercent of new categories in sample&quot)
        <a id="change">if </a>all(feature_importance.isna()):
            <a id="change">result_data.drop(</a>&quotFeature importance&quot<a id="change">, axis=1, inplace=True)</a>

        if context.with_display:
            display = result_data.copy()
            display[&quotPercent of new categories in sample&quot] = display[&quotPercent of new categories in sample&quot].apply(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/0f96dcc7ceafdb87c80e0f325d570993874e1ff3#diff-e053fa8aecccab48e1808c642a3880dc01bf8de35e621f569c08b9150d91c2acL75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29998441</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 0f96dcc7ceafdb87c80e0f325d570993874e1ff3</div><div id='time'> Time: 2022-08-30</div><div id='author'> Author: 67195469+Nadav-Barak@users.noreply.github.com</div><div id='file'> File Name: deepchecks/tabular/checks/train_test_validation/category_mismatch_train_test.py</div><div id='m_class'> M Class Name: CategoryMismatchTrainTest</div><div id='n_method'> N Class Name: CategoryMismatchTrainTest</div><div id='m_method'> M Method Name: run_logic(2)</div><div id='n_method'> N Method Name: run_logic(2)</div><div id='m_parent_class'> M Parent Class: ReduceFeatureMixin,TrainTestCheck</div><div id='n_parent_class'> N Parent Class: TrainTestCheck,ReduceMixin</div><div id='m_file'> M File Name: deepchecks/tabular/checks/train_test_validation/category_mismatch_train_test.py</div><div id='n_file'> N File Name: deepchecks/tabular/checks/train_test_validation/category_mismatch_train_test.py</div><div id='m_start'> M Start Line: 75</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 137</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    "Automatically removed variable."
                )
                regressors_to_remove.append(reg)
    <a id="change">if </a>future:
        return checked_df, regressors_to_remove
    if covariates is not None:
        for covar in covariates:</code></pre><h3>After Change</h3><pre><code class='java'>
        regressors_to_remove = list(set(regressors_to_remove))
        checked_df = checked_df.drop(regressors_to_remove, axis=1)
        assert checked_df is not None
    <a id="change">if </a>len(lag_regressors_to_remove) &gt; 0:
        lag_regressors_to_remove = list(set(lag_regressors_to_remove))
        checked_df = <a id="change">checked_df.drop(</a>lag_regressors_to_remove<a id="change">, axis=1)</a>
        assert checked_df is not None
    return checked_df, regressors_to_remove, lag_regressors_to_remove

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/cfb4befbed33c15b5adcf071e2691e113ba28a45#diff-cb8ae2d50e5d5d245ed6fcc8cadf2baf7294fa9ac5c63e819fbfe34f0e4c2552L516' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29998440</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: cfb4befbed33c15b5adcf071e2691e113ba28a45</div><div id='time'> Time: 2023-04-16</div><div id='author'> Author: 82533075+judussoari@users.noreply.github.com</div><div id='file'> File Name: neuralprophet/df_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_dataframe(7)</div><div id='n_method'> N Method Name: check_dataframe(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: neuralprophet/df_utils.py</div><div id='n_file'> N File Name: neuralprophet/df_utils.py</div><div id='m_start'> M Start Line: 557</div><div id='m_end'> M End Line: 581</div><div id='n_start'> N Start Line: 557</div><div id='n_end'> N End Line: 586</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            log.info("mcmc_samples and uncertainty_samples are not used in NeuralProphet.")
        if stan_backend:
            log.info("stan_backend is not used in NeuralProphet.")
        <a id="change">if </a>holidays:
            raise NotImplementedError(
                "Passing holidays directly to NeuralProphet does not work, please use add_country_holidays()"
            )</code></pre><h3>After Change</h3><pre><code class='java'>
            **kwargs,
        )
        &#47&#47 Handle holidays as events
        <a id="change">if </a>holidays is not None:
            self.add_events(
                events=list(holidays["holiday"].unique()),
                lower_window=holidays["lower_window"].max(),
                upper_window=holidays["upper_window"].max(),
            )
            self.events_df = holidays.copy()
            self.events_df.rename(columns={"holiday": "event"}, inplace=True)
            <a id="change">self.events_df.drop(</a>["lower_window", "upper_window"]<a id="change">, axis=1, errors="ignore", inplace=True)</a>

        &#47&#47 Overwrite NeuralProphet properties
        self.name = "Prophet"
        self.history = None</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ourownstory/neural_prophet/commit/4ace86e0da24ae1b80a529443ec95b3694fd2c51#diff-b461f06aa908c2c5c1226f8b0182761e26615a61ae4009b955f7c5c5500d9031L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29998431</div><div id='project'> Project Name: ourownstory/neural_prophet</div><div id='commit'> Commit Name: 4ace86e0da24ae1b80a529443ec95b3694fd2c51</div><div id='time'> Time: 2022-09-08</div><div id='author'> Author: karl.richter@tum.de</div><div id='file'> File Name: neuralprophet/wrapper.py</div><div id='m_class'> M Class Name: Prophet</div><div id='n_method'> N Class Name: Prophet</div><div id='m_method'> M Method Name: __init__(17)</div><div id='n_method'> N Method Name: __init__(17)</div><div id='m_parent_class'> M Parent Class: NeuralProphet</div><div id='n_parent_class'> N Parent Class: NeuralProphet</div><div id='m_file'> M File Name: neuralprophet/wrapper.py</div><div id='n_file'> N File Name: neuralprophet/wrapper.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 114</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for i in range(len(generated_df.columns)):
            generated_df[generated_df.columns[i]] = generated_df[generated_df.columns[i]
            ].astype(data_dtype[i])
        <a id="change">if </a>not only_generated_data:
            train_df = pd.concat([train_df, generated_df, ]).reset_index(drop=True)
        gc.collect()
        return train_df.drop(self.TEMP_TARGET, axis=1), train_df[self.TEMP_TARGET]</code></pre><h3>After Change</h3><pre><code class='java'>
                generated_df.columns[i]
            ].astype(data_dtype[i])
        gc.collect()
        <a id="change">if </a>not only_generated_data:
            train_df = pd.concat([train_df, generated_df]).reset_index(drop=True)
            logging.info("Generated shapes: {} plus target".format(train_df.drop(self.TEMP_TARGET, axis=1).shape))
            return train_df.drop(self.TEMP_TARGET, axis=1), train_df[self.TEMP_TARGET]
        else:
            logging.info("Generated shapes: {} plus target".format(<a id="change">generated_df.drop(</a>self.TEMP_TARGET<a id="change">, axis=1)</a>.shape))
            return generated_df.drop(self.TEMP_TARGET, axis=1), generated_df[self.TEMP_TARGET]
        gc.collect()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/diyago/gan-for-tabular-data/commit/9f72520206616242e6a2bb6de3a24aa398df533f#diff-dcc5f490284ab73d8c41815bd25ac749dc7ae3961b26745a1b1ce27994b5477cL157' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29998430</div><div id='project'> Project Name: diyago/gan-for-tabular-data</div><div id='commit'> Commit Name: 9f72520206616242e6a2bb6de3a24aa398df533f</div><div id='time'> Time: 2021-06-14</div><div id='author'> Author: iashrapov@gmail.com</div><div id='file'> File Name: src/tabgan/sampler.py</div><div id='m_class'> M Class Name: SamplerGAN</div><div id='n_method'> N Class Name: SamplerGAN</div><div id='m_method'> M Method Name: generate_data(5)</div><div id='n_method'> N Method Name: generate_data(5)</div><div id='m_parent_class'> M Parent Class: SamplerOriginal</div><div id='n_parent_class'> N Parent Class: SamplerOriginal</div><div id='m_file'> M File Name: src/tabgan/sampler.py</div><div id='n_file'> N File Name: src/tabgan/sampler.py</div><div id='m_start'> M Start Line: 173</div><div id='m_end'> M End Line: 175</div><div id='n_start'> N Start Line: 203</div><div id='n_end'> N End Line: 214</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for ntype in hg.ntypes:
            output_dict[ntype] = []
            logits[ntype] = 0
        <a id="change">if </a>hasattr(hg, &quotntypes&quot):
            &#47&#47 full graph training,
            for layer in self.layers:
                h_dict = layer(hg, h_dict)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47                  changes done here                  &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
        
        <a id="change">if </a>hasattr(hg, &quotntypes&quot):
            &#47&#47 full graph training,
            for ntype in hg.ntypes:
                output_dict[ntype] = []
                logits[ntype] = 0
            &#47&#47 Perform forward pass through all layers of the GNN
            for layer in self.layers:
                h_dict = layer(hg, h_dict)
                for ntype in hg.ntypes:
                    output_dict[ntype].append(h_dict[ntype])
            &#47&#47 perform graph sum pooling over all nodes in each layer
            for ntype in hg.ntypes:
                for i, h in enumerate(output_dict[ntype]):
                    logits[ntype] = logits[ntype] + self.drop(self.linear_prediction[i](h))
                logits[ntype] = F.softmax(logits[ntype], dim=-1)
                
        else:
            &#47&#47 minibatch training, block
            for layer, block in zip(self.layers, hg):
                for ntype in block.ntypes:
                    output_dict[ntype] = []
                    logits[ntype] = 0
                &#47&#47 Perform forward pass through all layers of the GNN
                h_dict = layer(block, h_dict)
                for ntype in block.ntypes:
                    output_dict[ntype].append(h_dict[ntype])
            &#47&#47 perform graph sum pooling over all nodes in each layer
            for ntype in block.ntypes:
                for i, h in enumerate(output_dict[ntype]):
                    logits[ntype] = logits[ntype] + <a id="change">self.drop(</a>self.linear_prediction[i](h)<a id="change">)</a>
                logits[ntype] = F.softmax(logits[ntype], dim=-1)
                
        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47                  changes done here                  &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bupt-gamma/openhgnn/commit/46853c908a3b2baa4850e679d06b4dfe63bba933#diff-4c8e9aeb7a97aa24605129592f1576d26fb8d0346919c08aa77f93f5beb22399L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29998435</div><div id='project'> Project Name: bupt-gamma/openhgnn</div><div id='commit'> Commit Name: 46853c908a3b2baa4850e679d06b4dfe63bba933</div><div id='time'> Time: 2023-05-07</div><div id='author'> Author: jyCarlos02@gmail.com</div><div id='file'> File Name: openhgnn/models/GIN.py</div><div id='m_class'> M Class Name: GIN</div><div id='n_method'> N Class Name: GIN</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: BaseModel</div><div id='n_parent_class'> N Parent Class: BaseModel</div><div id='m_file'> M File Name: openhgnn/models/GIN.py</div><div id='n_file'> N File Name: openhgnn/models/GIN.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 60</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 82</div><BR>