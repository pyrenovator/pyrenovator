<html><h3>Pattern ID :23556
</h3><img src='73792614.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def forward_rate_constants_func_matrix(self):

        self.kf = self<a id="change">.Arrhenius_A * \
            torch.pow(self.T, self.Arrhenius_b) * \
            </a>torch.exp(-self.Arrhenius_Ea / self.T)

    def equilibrium_constants_func(self):
</code></pre><h3>After Change</h3><pre><code class='java'>
            torch.pow(self.T, self.Arrhenius_b) * \
            torch.exp(-self.Arrhenius_Ea / self.T)&quot&quot&quot
        self.kf = self.Arrhenius_A * \
            torch.exp(self.Arrhenius_b * <a id="change">torch.log(</a>self.T<a id="change">)</a> \
            - self.Arrhenius_Ea / self.T)

    def equilibrium_constants_func(self):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deng-mit/reactorch/commit/87bde1e6808eeb2d1bf5c3282adb40da061ba1cb#diff-80575aecc452d5e7683081f50bea1568e9b53b6d7f3deeaf3bb1420bc3b49745L331' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73792614</div><div id='project'> Project Name: deng-mit/reactorch</div><div id='commit'> Commit Name: 87bde1e6808eeb2d1bf5c3282adb40da061ba1cb</div><div id='time'> Time: 2020-06-29</div><div id='author'> Author: 41820879+WeilunQiu@users.noreply.github.com</div><div id='file'> File Name: reactorch/Solution.py</div><div id='m_class'> M Class Name: Solution</div><div id='n_method'> N Class Name: Solution</div><div id='m_method'> M Method Name: forward_rate_constants_func_matrix(1)</div><div id='n_method'> N Method Name: forward_rate_constants_func_matrix(1)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: reactorch/Solution.py</div><div id='n_file'> N File Name: reactorch/Solution.py</div><div id='m_start'> M Start Line: 331</div><div id='m_end'> M End Line: 333</div><div id='n_start'> N Start Line: 346</div><div id='n_end'> N End Line: 348</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        node_feat = th.nn.functional.normalize(node_feat, p=2.0, dim=-1)
        
        degs = graph.out_degrees().float().clamp(min=1)
        norm = <a id="change">th.pow(</a>degs, -0.5<a id="change">)</a>
        shp = norm.shape + (1,) * (node_feat.dim() - 1)
        norm = th.reshape(norm, shp)
        node_feat = node_feat<a id="change"> * </a>norm
        print(&quotNorm Feature Succeed&quot)
    
    graph_data = (graph, labels, tr_label_idx, val_label_idx, test_label_idx, node_feat)</code></pre><h3>After Change</h3><pre><code class='java'>

def load_dgl_graph(base_path):
    graphs, _ = dgl.load_graphs(os.path.join(base_path, &quotgraph.bin&quot))
    edge_feat = th.cat((minMaxScaling(<a id="change">graphs[0].in_degrees().unsqueeze_(1).float().add(1).log()</a>), 
                        minMaxScaling(graphs[0].out_degrees().unsqueeze_(1).float().add(1).log())), dim=1)

    graph = graphs[0]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/langgege-cqu/maxp_dgl/commit/5f428bb0d6bfb9dad16f32ca3d65785469b69c00#diff-92c9897b4d19041ed9f91c038758158776764ac7247e3546223d85e551a3241cL8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73792608</div><div id='project'> Project Name: langgege-cqu/maxp_dgl</div><div id='commit'> Commit Name: 5f428bb0d6bfb9dad16f32ca3d65785469b69c00</div><div id='time'> Time: 2021-12-11</div><div id='author'> Author: 8747734+bugczw@user.noreply.gitee.com</div><div id='file'> File Name: maxp_model_czw/unimp/util.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_dgl_graph(1)</div><div id='n_method'> N Method Name: load_dgl_graph(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: maxp_model_czw/unimp/util.py</div><div id='n_file'> N File Name: maxp_model_czw/unimp/util.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 47</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        else:
            pre_value = value
            value = torch.tanh(pre_value)
        return super().log_prob(pre_value) - torch.log(1<a id="change"> - </a><a id="change">value.pow(</a>2<a id="change">)</a> + self.epsilon)
    
    def sample(self, sample_shape: Union[Sequence[int], int]=torch.Size([])):
        z = super().sample(sample_shape)</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            pre_value = value
            value = torch.tanh(pre_value)
        return super().log_prob(pre_value) - 2*(<a id="change">math.log(</a>2.0<a id="change">)</a> - pre_value - torch.nn.functional.softplus(-2 * pre_value))
    
    def sample(self, sample_shape: Union[Sequence[int], int]=torch.Size([]), return_raw: bool=False):
        z = super().sample(sample_shape)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/typoverflow/utilsrl/commit/b95a8872978faf814d36a71c18b4e1e06e88c7c2#diff-3e67534464f3d4f4e223a354e4a8a6f4edb0747a9003c7485122a6739a39c9a6L18' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 73792606</div><div id='project'> Project Name: typoverflow/utilsrl</div><div id='commit'> Commit Name: b95a8872978faf814d36a71c18b4e1e06e88c7c2</div><div id='time'> Time: 2023-02-23</div><div id='author'> Author: typoverflow@outlook.com</div><div id='file'> File Name: UtilsRL/math/distributions.py</div><div id='m_class'> M Class Name: TanhNormal</div><div id='n_method'> N Class Name: TanhNormal</div><div id='m_method'> M Method Name: log_prob(3)</div><div id='n_method'> N Method Name: log_prob(3)</div><div id='m_parent_class'> M Parent Class: Normal</div><div id='n_parent_class'> N Parent Class: Normal</div><div id='m_file'> M File Name: UtilsRL/math/distributions.py</div><div id='n_file'> N File Name: UtilsRL/math/distributions.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 28</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 28</div><BR>