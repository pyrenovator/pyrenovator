<html><h3>Pattern ID :2848
</h3><img src='11283572.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            draw.text(text_origin, str(label,&quotUTF-8&quot), fill=(0, 0, 0), font=font)
            del draw
        
        <a id="change">print(</a>"time:",time.time()-start_time<a id="change">)</a>
        return image
</code></pre><h3>After Change</h3><pre><code class='java'>
        photo = np.transpose(np.array(image,dtype = np.float32)/255, (2, 0, 1))

        with torch.no_grad():
            images = torch.from_numpy(<a id="change">np.asarray([</a>photo<a id="change"></a>]<a id="change">)</a>)
            if self.cuda:
                images = images.cuda()
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bubbliiiing/faster-rcnn-pytorch/commit/d456f02a402fd8cf8db1d991aa612439b3c0ffb2#diff-5fc0691d21e4b9e83bbefcaa9a7d6fdf3f26ae49fd9e02ddd9b2710faa5cba84L99' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11283572</div><div id='project'> Project Name: bubbliiiing/faster-rcnn-pytorch</div><div id='commit'> Commit Name: d456f02a402fd8cf8db1d991aa612439b3c0ffb2</div><div id='time'> Time: 2021-01-30</div><div id='author'> Author: 47347516+bubbliiiing@users.noreply.github.com</div><div id='file'> File Name: frcnn.py</div><div id='m_class'> M Class Name: FRCNN</div><div id='n_method'> N Class Name: FRCNN</div><div id='m_method'> M Method Name: detect_image(2)</div><div id='n_method'> N Method Name: detect_image(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: frcnn.py</div><div id='n_file'> N File Name: frcnn.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 172</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 169</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        output = model(batch["img"])
        &#47&#47print("output: {}".format(output))
        graph = make_dot(output, params=dict(model.named_parameters()))
        <a id="change">print(</a>graph<a id="change">)</a>
        break

    gc.collect()</code></pre><h3>After Change</h3><pre><code class='java'>
    model.eval()
    data_loader = DataLoader(dataset, batch_size=1, shuffle=False)

    outputs = <a id="change">[]</a>
    for i, batch in enumerate(data_loader):
        output = model(batch["img"])
        outputs.append(output)
        &#47&#47print("output: {}".format(output))
        &#47&#47 graph = make_dot(output, params=dict(model.named_parameters()))
        &#47&#47 print(graph)
        if i &gt;= iterations:
            break

    gc.collect()
    torch.cuda.empty_cache()

    return <a id="change">np.asarray(</a>outputs<a id="change">)</a>

if __name__ == "__main__":
    &#47&#47 from models.deepdyn_model import DeepdynModel as Model</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/karol-g/gcam/commit/24c529378b313c36b05e02e53741fc5cc84d9b88#diff-677fa04401de93f748cd5f6b75338e4ff449517bb264fc9e06b21a9a6508d9b1L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11283573</div><div id='project'> Project Name: karol-g/gcam</div><div id='commit'> Commit Name: 24c529378b313c36b05e02e53741fc5cc84d9b88</div><div id='time'> Time: 2020-02-24</div><div id='author'> Author: KarolGotkowski@gmx.de</div><div id='file'> File Name: gcam/run_model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(3)</div><div id='n_method'> N Method Name: run(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: gcam/run_model.py</div><div id='n_file'> N File Name: gcam/run_model.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 17</div><div id='n_start'> N Start Line: 8</div><div id='n_end'> N End Line: 25</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            draw = ImageDraw.Draw(image)
            label_size = draw.textsize(label, font)
            label = label.encode(&quotutf-8&quot)
            <a id="change">print(</a>label<a id="change">)</a>
            
            if top - label_size[1] &gt;= 0:
                text_origin = np.array([left, top - label_size[1]])</code></pre><h3>After Change</h3><pre><code class='java'>
        photo = np.transpose(preprocess_input(photo), (2, 0, 1))

        with torch.no_grad():
            images = torch.from_numpy(<a id="change">np.asarray([</a>photo<a id="change"></a>]<a id="change">)</a>)
            if self.cuda:
                images = images.cuda()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bubbliiiing/efficientdet-pytorch/commit/dcf23456863be9f58dd6fdd33a34d777e9dd2b46#diff-567ef7e5070869e637aeba7471621b907fce9ecd180f20e4e2cda565f99f703eL93' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11283575</div><div id='project'> Project Name: bubbliiiing/efficientdet-pytorch</div><div id='commit'> Commit Name: dcf23456863be9f58dd6fdd33a34d777e9dd2b46</div><div id='time'> Time: 2021-01-18</div><div id='author'> Author: 47347516+bubbliiiing@users.noreply.github.com</div><div id='file'> File Name: efficientdet.py</div><div id='m_class'> M Class Name: EfficientDet</div><div id='n_method'> N Class Name: EfficientDet</div><div id='m_method'> M Method Name: detect_image(2)</div><div id='n_method'> N Method Name: detect_image(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: efficientdet.py</div><div id='n_file'> N File Name: efficientdet.py</div><div id='m_start'> M Start Line: 98</div><div id='m_end'> M End Line: 152</div><div id='n_start'> N Start Line: 107</div><div id='n_end'> N End Line: 173</div><BR>