<html><h3>Pattern ID :21823
</h3><img src='69453479.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    df_que_test = data_dict[&quotdf_que_test&quot]

    que_win_test = <a id="change">pd.read_csv(</a>os.path.join(
        save_dir, "qid_test_window_predictions.txt")<a id="change">, sep=&quot\t&quot)</a>
    que_win_test = update_question_df(que_win_test)

    &#47&#47 df_que_win_test = data_dict[&quotdf_que_win_test&quot]

    &#47&#47 映射学生
    orirow_2_uid = {}
    for _, row in df_que_test.iterrows():
        orirow_2_uid[int(row[&quotorirow&quot].split(&quot,&quot)[0])] = row[&quotuid&quot]

    &#47&#47 map
    que_test[&quotuid&quot] = que_test[&quotorirow&quot].map(orirow_2_uid)
    que_test[&quotinter_num&quot] = que_test[&quotuid&quot].map(stu_inter_num_dict)

    que_win_test[&quotuid&quot] = que_win_test[&quotorirow&quot].map(orirow_2_uid)
    que_win_test[&quotinter_num&quot]<a id="change"> = </a>que_win_test[&quotuid&quot].map(stu_inter_num_dict)

    &#47&#47 print("Start 基于题目的长短序列")
    &#47&#47 que_update_ls_report(que_test, que_win_test, report,save_dir=save_dir)  &#47&#47 short long 结果</code></pre><h3>After Change</h3><pre><code class='java'>
    save_df(que_win_test,&quotque_win_test&quot,save_dir)

    try:
        <a id="change">print(</a>"Start 基于题目的长短序列"<a id="change">)</a>
        que_update_ls_report(que_test, que_win_test, report,save_dir=save_dir)  &#47&#47 short long 结果
    except:
        print("Fail 基于题目的长短序列")
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pykt-team/pykt-toolkit/commit/1e954fe5312232f984f38b09a23fbd99ddb5f4ae#diff-295ef415b724240e27724469c5c2fc86cc645b126879f8030692121011799789L153' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69453479</div><div id='project'> Project Name: pykt-team/pykt-toolkit</div><div id='commit'> Commit Name: 1e954fe5312232f984f38b09a23fbd99ddb5f4ae</div><div id='time'> Time: 2022-10-12</div><div id='author'> Author: 2808581543@qq.com</div><div id='file'> File Name: examples/extract_quelevel_raw_result.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_question_report(6)</div><div id='n_method'> N Method Name: add_question_report(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/extract_quelevel_raw_result.py</div><div id='n_file'> N File Name: examples/extract_quelevel_raw_result.py</div><div id='m_start'> M Start Line: 247</div><div id='m_end'> M End Line: 269</div><div id='n_start'> N Start Line: 153</div><div id='n_end'> N End Line: 169</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        Implements the logic of this task.
        gt_buildings_csv = os.path.join(self.config.root_directory,
                                        &quotSummaryData/SN6_Train_AOI_11_Rotterdam_Buildings.csv&quot)
        gt_buildings<a id="change"> = </a><a id="change">pd.read_csv(</a>gt_buildings_csv<a id="change">)</a>
        os.makedirs(self.config.segmentation_directory, exist_ok=True)
        &#47&#47 Walk the directory and save the filenames in it
        sar_image_paths = glob.glob(os.path.join(self.config.root_directory, &quotSAR-Intensity&quot, &quot*.tif&quot))
        &#47&#47 Run processing</code></pre><h3>After Change</h3><pre><code class='java'>
                            gt_buildings_csv=gt_buildings_csv_filepath),
                    sar_image_paths)):
                pass
        <a id="change">print(</a>"Created segmentation masks"<a id="change">)</a>
        orientations = pd.read_csv(filepath_or_buffer=self.config.orientations_input, sep=&quot &quot, index_col=0,
                                   names=["strip", "direction"], header=None)
        df_fold = pd.DataFrame(columns=["ImageId", "sar", "segm", "rotation", "x", "y", "fold"])
        l_edge = 591640</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/biasvariancelabs/aitlas/commit/f0fec08d1189a9954b03e319e1150189276d4527#diff-45b58ed149b2619503f82c1abd4499bad1e0b56d092977a34b5d13797ee70662L101' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69453480</div><div id='project'> Project Name: biasvariancelabs/aitlas</div><div id='commit'> Commit Name: f0fec08d1189a9954b03e319e1150189276d4527</div><div id='time'> Time: 2021-03-16</div><div id='author'> Author: popovstefan@live.com</div><div id='file'> File Name: aitlas/tasks/spacenet6_preprocess.py</div><div id='m_class'> M Class Name: SpaceNet6PreprocessTask</div><div id='n_method'> N Class Name: SpaceNet6PreprocessTask</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: BaseTask</div><div id='n_parent_class'> N Parent Class: BaseTask</div><div id='m_file'> M File Name: aitlas/tasks/spacenet6_preprocess.py</div><div id='n_file'> N File Name: aitlas/tasks/spacenet6_preprocess.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 121</div><div id='n_end'> N End Line: 177</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        print(orders)
        orders.to_csv(self.EXAMPLE_FILE)

        orders<a id="change"> = </a><a id="change">pd.read_csv(</a>self.EXAMPLE_FILE<a id="change">, index_col=["datetime", "instrument"])</a>

        &#47&#47 3) run the strategy
        strategy_config = {
            "class": "FileOrderStrategy",</code></pre><h3>After Change</h3><pre><code class='java'>
        factor = df["$factor"].item()
        price_unit = price / factor * 100
        dealt_num_for_1000 = (account_money // price_unit) * (100 / factor)
        <a id="change">print(</a>price, factor, price_unit, dealt_num_for_1000<a id="change">)</a>

        &#47&#47 2) generate orders
        orders = self._gen_orders(dealt_num_for_1000)
        orders.to_csv(self.EXAMPLE_FILE)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/qlib/commit/89972f6c6f9fa629b4f74093d4ba1e93c9f7a5e5#diff-ba87ea03776676654700aa0811c07908a195aa0130ea227ed5e731a29f51665dL45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 69453485</div><div id='project'> Project Name: microsoft/qlib</div><div id='commit'> Commit Name: 89972f6c6f9fa629b4f74093d4ba1e93c9f7a5e5</div><div id='time'> Time: 2022-06-09</div><div id='author'> Author: huo53926@126.com</div><div id='file'> File Name: tests/backtest/test_file_strategy.py</div><div id='m_class'> M Class Name: FileStrTest</div><div id='n_method'> N Class Name: FileStrTest</div><div id='m_method'> M Method Name: test_file_str(1)</div><div id='n_method'> N Method Name: test_file_str(1)</div><div id='m_parent_class'> M Parent Class: TestAutoData</div><div id='n_parent_class'> N Parent Class: TestAutoData</div><div id='m_file'> M File Name: tests/backtest/test_file_strategy.py</div><div id='n_file'> N File Name: tests/backtest/test_file_strategy.py</div><div id='m_start'> M Start Line: 59</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 59</div><BR>