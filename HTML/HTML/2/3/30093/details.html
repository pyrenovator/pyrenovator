<html><h3>Pattern ID :30093
</h3><img src='89265142.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        "adapter_name": request.skill_args["adapter"],
        **model_request_kwargs,
    }
    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info(f"Models response:\n{model_response}")

    return QueryOutput.from_sequence_classification(
        questions=query,</code></pre><h3>After Change</h3><pre><code class='java'>
        "adapter_name": request.skill_args["adapter"],
        **model_request_kwargs,
    }
    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info(f"Models response:\n{model_response}")

    return QueryOutput.from_sequence_classification(
        questions=query,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-ceaa77b07f0444e8b2851c9280d131d66950b33ff4189dbdaaa663952a565348L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265142</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/boolq/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/boolq/skill.py</div><div id='n_file'> N File Name: skills/boolq/skill.py</div><div id='m_start'> M Start Line: 27</div><div id='m_end'> M End Line: 31</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]

    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="question-answering",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_question_answering(
        questions=query,</code></pre><h3>After Change</h3><pre><code class='java'>
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]

    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="question-answering",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_question_answering(
        questions=query,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-a6df129976de43d855826ab5e130a8c91852b99406d069e42902f2d8bd20c1c2L16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265143</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/open-extractive-qa/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/open-extractive-qa/skill.py</div><div id='n_file'> N File Name: skills/open-extractive-qa/skill.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if request.skill_args.get("average_adapters"):
            model_request["model_kwargs"]["average_adapters"] = True

    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="question-answering",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_question_answering(
        questions=query, model_api_output=model_response, context=context</code></pre><h3>After Change</h3><pre><code class='java'>
        if request.skill_args.get("average_adapters"):
            model_request["model_kwargs"]["average_adapters"] = True

    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="question-answering",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_question_answering(
        questions=query, model_api_output=model_response, context=context</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-3aa63d6817555a4aee3a36f450394371178585c13ec070741dec96f88e25473aL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265140</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/extractive-qa/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/extractive-qa/skill.py</div><div id='n_file'> N File Name: skills/extractive-qa/skill.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 37</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    model_request = {"input": prepared_input, **model_request_kwargs}
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]
    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info(f"Models response:\n{model_response}")

    return QueryOutput.from_sequence_classification(
        questions=query, answers=choices, model_api_output=model_response</code></pre><h3>After Change</h3><pre><code class='java'>
    model_request = {"input": prepared_input, **model_request_kwargs}
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]
    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info(f"Models response:\n{model_response}")

    return QueryOutput.from_sequence_classification(
        questions=query, answers=choices, model_api_output=model_response</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-05a1767c9bb1c6648a2364c4fc4353de0f58a3e3f4808aeb0bcfb468a5c5e7a6L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265141</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/commonsense-qa/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/commonsense-qa/skill.py</div><div id='n_file'> N File Name: skills/commonsense-qa/skill.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 29</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    logger.debug("Request for model api:{}".format(model_request))

    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info("Model response: {}".format(model_response))

    if request.skill_args.get("multiple_answers", False):
        &#47&#47 if multiple answers can be correct, logits is a 2d array:</code></pre><h3>After Change</h3><pre><code class='java'>

    logger.debug("Request for model api:{}".format(model_request))

    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info("Model response: {}".format(model_response))

    if request.skill_args.get("multiple_answers", False):
        &#47&#47 if multiple answers can be correct, logits is a 2d array:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-dd332dad22ed675d1243ad8e96f356884a43fa2f8b2b1349fde496f3d11efbf9L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265146</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/multiple-choice-qa/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/multiple-choice-qa/skill.py</div><div id='n_file'> N File Name: skills/multiple-choice-qa/skill.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 49</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]

    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="generation",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_generation(model_api_output=model_response, context=context)
</code></pre><h3>After Change</h3><pre><code class='java'>
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]

    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="generation",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_generation(model_api_output=model_response, context=context)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-14e8c4ed49ce812c4645613292e0b450638447b98061b651eeeac56d82c0a3b5L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265147</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/open-generative-qa/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/open-generative-qa/skill.py</div><div id='n_file'> N File Name: skills/open-generative-qa/skill.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 64</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    model_request = {"input": prepared_input, **model_request_kwargs}
    logger.debug("Request for model api:{}".format(model_request))

    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name="qagnn",
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info("Model response: {}".format(model_response))

    return QueryOutput.from_sequence_classification_with_graph(
        questions=query, answers=choices, model_api_output=model_response</code></pre><h3>After Change</h3><pre><code class='java'>
    model_request = {"input": prepared_input, **model_request_kwargs}
    logger.debug("Request for model api:{}".format(model_request))

    model_response = <a id="change">square_model_client(
        model_name="qagnn",
        pipeline="sequence-classification",
        model_request=model_request,
    )</a>
    logger.info("Model response: {}".format(model_response))

    return QueryOutput.from_sequence_classification_with_graph(
        questions=query, answers=choices, model_api_output=model_response</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-bff6b1992e81f7d49235089add68a5ff02fe011b6106a60269317ac8ea6b55cbL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265144</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/qa-gnn/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/qa-gnn/skill.py</div><div id='n_file'> N File Name: skills/qa-gnn/skill.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]

    model_response = <a id="change">await </a><a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="generation",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_generation(
        questions=query, model_api_output=model_response, context=context</code></pre><h3>After Change</h3><pre><code class='java'>
    if request.skill_args.get("adapter"):
        model_request["adapter_name"] = request.skill_args["adapter"]

    model_response = <a id="change">square_model_client(
        model_name=request.skill_args["base_model"],
        pipeline="generation",
        model_request=model_request,
    )</a>
    logger.info(f"Model response:\n{model_response}")

    return QueryOutput.from_generation(
        questions=query, model_api_output=model_response, context=context</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ukp-square/square-core/commit/971b42f6e4343534186a1c2abd6556d204e37f0b#diff-d8356a55a93f88461399e64b8f878ce8564106c5128eeb568d7150efa1a688fbL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89265145</div><div id='project'> Project Name: ukp-square/square-core</div><div id='commit'> Commit Name: 971b42f6e4343534186a1c2abd6556d204e37f0b</div><div id='time'> Time: 2023-02-24</div><div id='author'> Author: baumgaertner.t@gmail.com</div><div id='file'> File Name: skills/generative-qa/skill.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: skills/generative-qa/skill.py</div><div id='n_file'> N File Name: skills/generative-qa/skill.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 43</div><BR>