<html><h3>Pattern ID :26962
</h3><img src='80342081.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def test_phrase_matcher_remove(en_vocab):
    matcher = PhraseMatcher(en_vocab)
    matcher.add("TEST1", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["like"])</a>)
    matcher.add("TEST2", None, Doc(en_vocab, words=["best"]))
    doc = Doc(en_vocab, words=["I", "like", "Google", "Now", "best"])
    assert "TEST1" in matcher</code></pre><h3>After Change</h3><pre><code class='java'>

def test_phrase_matcher_remove(en_vocab):
    matcher = PhraseMatcher(en_vocab)
    matcher.add("TEST1", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["like"])</a>])
    matcher.add("TEST2", [Doc(en_vocab, words=["best"])])
    doc = Doc(en_vocab, words=["I", "like", "Google", "Now", "best"])
    assert "TEST1" in matcher</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-b7fb596a31ee1eaec1312788e21849e26567cfa1484039470b6fab3d44e78883L71' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342081</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_phrase_matcher_remove(1)</div><div id='n_method'> N Method Name: test_phrase_matcher_remove(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='n_file'> N File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_start'> M Start Line: 71</div><div id='m_end'> M End Line: 72</div><div id='n_start'> N Start Line: 93</div><div id='n_end'> N End Line: 94</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_phrase_matcher_contains(en_vocab):
    matcher = PhraseMatcher(en_vocab)
    matcher.add("TEST", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["test"])</a>)
    assert "TEST" in matcher
    assert "TEST2" not in matcher
</code></pre><h3>After Change</h3><pre><code class='java'>

def test_phrase_matcher_contains(en_vocab):
    matcher = PhraseMatcher(en_vocab)
    matcher.add("TEST", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["test"])</a>])
    assert "TEST" in matcher
    assert "TEST2" not in matcher
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-b7fb596a31ee1eaec1312788e21849e26567cfa1484039470b6fab3d44e78883L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342074</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_phrase_matcher_contains(1)</div><div id='n_method'> N Method Name: test_phrase_matcher_contains(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='n_file'> N File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 51</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    matcher = PhraseMatcher(en_vocab)
    matcher.add("A", None, Doc(en_vocab, words=["Barack", "Obama"]))
    matcher.add("B", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["Barack", "Obama"])</a>)
    doc = Doc(en_vocab, words=["Barack", "Obama", "lifts", "America"])
    matches = matcher(doc)
    assert len(matches) == 2</code></pre><h3>After Change</h3><pre><code class='java'>
    
    matcher = PhraseMatcher(en_vocab)
    matcher.add("A", [Doc(en_vocab, words=["Barack", "Obama"])])
    matcher.add("B", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["Barack", "Obama"])</a>])
    doc = Doc(en_vocab, words=["Barack", "Obama", "lifts", "America"])
    matches = matcher(doc)
    assert len(matches) == 2</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-a8f91b63f8572bdb6981fedd5e63505d07a457cfbccdf8877fbf91fa04247f64L181' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342080</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/regression/test_issue3001-3500.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_issue3331(1)</div><div id='n_method'> N Method Name: test_issue3331(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/regression/test_issue3001-3500.py</div><div id='n_file'> N File Name: spacy/tests/regression/test_issue3001-3500.py</div><div id='m_start'> M Start Line: 186</div><div id='m_end'> M End Line: 187</div><div id='n_start'> N Start Line: 186</div><div id='n_end'> N End Line: 187</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert len(matcher) == 0
    matcher.add("TEST", None, Doc(en_vocab, words=["test"]))
    assert len(matcher) == 1
    matcher.add("TEST2", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["test2"])</a>)
    assert len(matcher) == 2

</code></pre><h3>After Change</h3><pre><code class='java'>
    assert len(matcher) == 0
    matcher.add("TEST", [Doc(en_vocab, words=["test"])])
    assert len(matcher) == 1
    matcher.add("TEST2", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["test2"])</a>])
    assert len(matcher) == 2

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-b7fb596a31ee1eaec1312788e21849e26567cfa1484039470b6fab3d44e78883L40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342083</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_phrase_matcher_length(1)</div><div id='n_method'> N Method Name: test_phrase_matcher_length(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='n_file'> N File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 45</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    matcher = PhraseMatcher(en_vocab)
    &#47&#47 match ID only gets added once
    matcher.add("TEST", None, Doc(en_vocab, words=["like"]))
    matcher.add("TEST", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["like"])</a>)
    matcher.add("TEST", None, Doc(en_vocab, words=["like"]))
    matcher.add("TEST", None, Doc(en_vocab, words=["like"]))
    doc = Doc(en_vocab, words=["I", "like", "Google", "Now", "best"])</code></pre><h3>After Change</h3><pre><code class='java'>
    matcher = PhraseMatcher(en_vocab)
    &#47&#47 match ID only gets added once
    matcher.add("TEST", [Doc(en_vocab, words=["like"])])
    matcher.add("TEST", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["like"])</a>])
    matcher.add("TEST", [Doc(en_vocab, words=["like"])])
    matcher.add("TEST", [Doc(en_vocab, words=["like"])])
    doc = Doc(en_vocab, words=["I", "like", "Google", "Now", "best"])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-b7fb596a31ee1eaec1312788e21849e26567cfa1484039470b6fab3d44e78883L56' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342084</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_phrase_matcher_repeated_add(1)</div><div id='n_method'> N Method Name: test_phrase_matcher_repeated_add(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='n_file'> N File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_start'> M Start Line: 59</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 81</div><div id='n_end'> N End Line: 84</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    Test that the PhraseMatcher returns duplicates for duplicate match IDs.
    
    matcher = PhraseMatcher(en_vocab)
    matcher.add("A", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["New", "York"])</a>)
    matcher.add("B", None, Doc(en_vocab, words=["New", "York"]))
    doc = Doc(en_vocab, words=["I", "live", "in", "New", "York"])
    matches = matcher(doc)</code></pre><h3>After Change</h3><pre><code class='java'>
    Test that the PhraseMatcher returns duplicates for duplicate match IDs.
    
    matcher = PhraseMatcher(en_vocab)
    matcher.add("A", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["New", "York"])</a>])
    matcher.add("B", [Doc(en_vocab, words=["New", "York"])])
    doc = Doc(en_vocab, words=["I", "live", "in", "New", "York"])
    matches = matcher(doc)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-ae99289b2e4486328b1bcf0906bcbb4e8a66ff5e23f4958e02a08646da4308c1L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342087</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/regression/test_issue3972.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_issue3972(1)</div><div id='n_method'> N Method Name: test_issue3972(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/regression/test_issue3972.py</div><div id='n_file'> N File Name: spacy/tests/regression/test_issue3972.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 13</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 13</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def test_phrase_matcher_overlapping_with_remove(en_vocab):
    matcher = PhraseMatcher(en_vocab)
    matcher.add("TEST", None, <a id="change">Doc(</a>en_vocab<a id="change">, words=["like"])</a>)
    &#47&#47 TEST2 is added alongside TEST
    matcher.add("TEST2", None, Doc(en_vocab, words=["like"]))
    doc = Doc(en_vocab, words=["I", "like", "Google", "Now", "best"])</code></pre><h3>After Change</h3><pre><code class='java'>

def test_phrase_matcher_overlapping_with_remove(en_vocab):
    matcher = PhraseMatcher(en_vocab)
    matcher.add("TEST", <a id="change">[</a><a id="change">Doc(</a>en_vocab<a id="change">, words=["like"])</a>])
    &#47&#47 TEST2 is added alongside TEST
    matcher.add("TEST2", [Doc(en_vocab, words=["like"])])
    doc = Doc(en_vocab, words=["I", "like", "Google", "Now", "best"])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8#diff-b7fb596a31ee1eaec1312788e21849e26567cfa1484039470b6fab3d44e78883L96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80342086</div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: cfffdba7b18d2f55df21c0d9b21a1ee0a7665cc8</div><div id='time'> Time: 2019-10-25</div><div id='author'> Author: ines@ines.io</div><div id='file'> File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_phrase_matcher_overlapping_with_remove(1)</div><div id='n_method'> N Method Name: test_phrase_matcher_overlapping_with_remove(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='n_file'> N File Name: spacy/tests/matcher/test_phrase_matcher.py</div><div id='m_start'> M Start Line: 98</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 120</div><div id='n_end'> N End Line: 122</div><BR>