<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        distillation_loss = ((1.0 - self._hardness) * loss) + (
            self._hardness * teacher_loss
        )
        global_step = <a id="change">kwargs.get("global_step"</a><a id="change">)</a>
        global_step = epoch * steps_per_epoch if global_step is None else global_step
        _log_losses(self.loggers, global_step, loss, teacher_loss, distillation_loss)
        return distillation_loss
</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 ensure that teacher model is in eval mode and on correct device
        self._teacher.eval()
        teacher_device = <a id="change">next(</a>self._teacher.parameters()<a id="change">)</a>.device
        inputs_device = device_of(teacher_inputs)

        if teacher_device != inputs_device:</code></pre>