<html><h3>Pattern ID :5728
</h3><img src='20062417.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if strict:
            modifier_keys = {key for key in modifiers_index.keys()}
            state_dict_keys = <a id="change">{key for key in state_dict.keys()}</a>
            diff = modifier_keys.symmetric_difference(state_dict_keys)
            if diff:
                raise IndexError(
                    f"Found extra keys: {state_dict_keys - modifier_keys} "</code></pre><h3>After Change</h3><pre><code class='java'>
                        f"and missing stages: {modifiers_stages - state_dict_stages}"
                    )
            modifiers_index = {}
            <a id="change">for </a>stage_modifiers in self.modifiers.values()<a id="change">:
                </a>modifiers_index.update(
                    {mod.identifier(): mod for mod in stage_modifiers}
                )
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/neuralmagic/sparseml/commit/8db0994bd39b744ad6d4edde07a2d63cabf803bd#diff-647ea3e761b58578229a60caddc837e1c4f459270eb665da94723f1fac40ab5fL311' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20062417</div><div id='project'> Project Name: neuralmagic/sparseml</div><div id='commit'> Commit Name: 8db0994bd39b744ad6d4edde07a2d63cabf803bd</div><div id='time'> Time: 2022-02-24</div><div id='author'> Author: bfineran@users.noreply.github.com</div><div id='file'> File Name: src/sparseml/pytorch/optim/manager.py</div><div id='m_class'> M Class Name: ScheduledModifierManager</div><div id='n_method'> N Class Name: ScheduledModifierManager</div><div id='m_method'> M Method Name: load_state_dict(3)</div><div id='n_method'> N Method Name: load_state_dict(3)</div><div id='m_parent_class'> M Parent Class: BaseManager,Modifier</div><div id='n_parent_class'> N Parent Class: BaseManager,Modifier</div><div id='m_file'> M File Name: src/sparseml/pytorch/optim/manager.py</div><div id='n_file'> N File Name: src/sparseml/pytorch/optim/manager.py</div><div id='m_start'> M Start Line: 311</div><div id='m_end'> M End Line: 315</div><div id='n_start'> N Start Line: 321</div><div id='n_end'> N End Line: 341</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
       with concurrent.futures.ThreadPoolExecutor() as executor:
            &#47&#47 Schedule the first N futures.  We don&quott want to schedule them all
            &#47&#47 at once, to avoid consuming excessive amounts of memory.
            futures = <a id="change">{
                executor.submit(self.compute_func, task)
                for task in itertools.islice(tasks, self.simultaneous_tasks)
            }</a>

            while futures:
                &#47&#47 Wait for the next future to complete.
                done, futures = concurrent.futures.wait(</code></pre><h3>After Change</h3><pre><code class='java'>
                &quotunit_scale&quot: True,
                &quotleave&quot: True
            }
            <a id="change">for </a>_ in tqdm(concurrent.futures.as_completed(futures), **kwargs)<a id="change">:
                </a>pass
        return futures
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/dsgoficial/pytorch_segmentation_models_trainer/commit/0bfae1005a07bd2600614e2e59d704e9c1258954#diff-b124c057b8031099a9ee98d2fefd82adb1053cb9883bc49f1a5601a4b25bda94L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20062422</div><div id='project'> Project Name: dsgoficial/pytorch_segmentation_models_trainer</div><div id='commit'> Commit Name: 0bfae1005a07bd2600614e2e59d704e9c1258954</div><div id='time'> Time: 2021-04-19</div><div id='author'> Author: philipeborba@gmail.com</div><div id='file'> File Name: pytorch_segmentation_models_trainer/tools/parallel_processing/process_executor.py</div><div id='m_class'> M Class Name: Executor</div><div id='n_method'> N Class Name: Executor</div><div id='m_method'> M Method Name: execute_tasks(2)</div><div id='n_method'> N Method Name: execute_tasks(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: pytorch_segmentation_models_trainer/tools/parallel_processing/process_executor.py</div><div id='n_file'> N File Name: pytorch_segmentation_models_trainer/tools/parallel_processing/process_executor.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 38</div><div id='n_end'> N End Line: 50</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return self.materializer_types[key]

        &#47&#47 If the type is not registered, check for superclasses
        materializers_for_compatible_superclasses = <a id="change">{
            materializer
            for registered_type, materializer in self.materializer_types.items()
            if issubclass(key, registered_type)
        }</a>

        &#47&#47 Make sure that there is only a single materializer
        if len(materializers_for_compatible_superclasses) == 1:
            return materializers_for_compatible_superclasses.pop()</code></pre><h3>After Change</h3><pre><code class='java'>
            StepInterfaceError: If the key (or any of its superclasses) is not
                registered.
        
        <a id="change">for </a>class_ in key.__mro__<a id="change">:
            </a>materializer = self.materializer_types.get(class_, None)
            if materializer:
                return materializer
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/a1c22f9f88070a7404913377fd5719c3d0632adc#diff-9e8424640e68984833b5f20ca303ea1d948fa1c4fbaade763452988250450187L65' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20062421</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: a1c22f9f88070a7404913377fd5719c3d0632adc</div><div id='time'> Time: 2023-03-03</div><div id='author'> Author: schustmi@users.noreply.github.com</div><div id='file'> File Name: src/zenml/materializers/default_materializer_registry.py</div><div id='m_class'> M Class Name: MaterializerRegistry</div><div id='n_method'> N Class Name: MaterializerRegistry</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/zenml/materializers/default_materializer_registry.py</div><div id='n_file'> N File Name: src/zenml/materializers/default_materializer_registry.py</div><div id='m_start'> M Start Line: 80</div><div id='m_end'> M End Line: 102</div><div id='n_start'> N Start Line: 78</div><div id='n_end'> N End Line: 83</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        real_tables_names = {table_name for table_name in inspector.get_table_names()}
        fake_tables_names = fake_sqlalchemy_engine.execute("SELECT name FROM "
                                                           "sqlite_master WHERE type=&quottable&quot;").fetchall()
        fake_tables_names = <a id="change">{table_name for (table_name,) in fake_tables_names}</a>
        assert real_tables_names
        assert real_tables_names == fake_tables_names

        for table_name in real_tables_names:</code></pre><h3>After Change</h3><pre><code class='java'>
            fake_columns = fake_inspector.get_columns(table_name)
            assert real_columns
            assert fake_columns
            <a id="change">for </a>x, y in zip(real_columns, fake_columns)<a id="change">:
                </a>assert str(x[&quottype&quot]) == str(y[&quottype&quot])
                assert x[&quotname&quot] == y[&quotname&quot]
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bluebrain/search/commit/393d69b752d37450339da6bae479147c841abe76#diff-82fbc96aa3f082d4667c09a2a35aec050c73120de9174e1f37bef26ef9cd3115L70' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20062410</div><div id='project'> Project Name: bluebrain/search</div><div id='commit'> Commit Name: 393d69b752d37450339da6bae479147c841abe76</div><div id='time'> Time: 2020-08-07</div><div id='author'> Author: 47669575+EmilieDel@users.noreply.github.com</div><div id='file'> File Name: tests/test_database.py</div><div id='m_class'> M Class Name: TestDatabaseCreation</div><div id='n_method'> N Class Name: TestDatabaseCreation</div><div id='m_method'> M Method Name: test_real_equals_fake_db(3)</div><div id='n_method'> N Method Name: test_real_equals_fake_db(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_database.py</div><div id='n_file'> N File Name: tests/test_database.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 87</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 105</div><BR>