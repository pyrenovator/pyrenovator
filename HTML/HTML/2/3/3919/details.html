<html><h3>Pattern ID :3919
</h3><img src='14792145.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    else:
        assert NotImplementedError
        print("Scenario {} not exists in pettingzoo".format(args.map))
        <a id="change">sys.exit()</a>

    &#47&#47 keep obs and action dim same across agents
    &#47&#47 pad_action_space_v0 will auto mask the padding actions
    env = ss.pad_observations_v0(env)</code></pre><h3>After Change</h3><pre><code class='java'>
                           verbose=1)

    else:
        <a id="change">print("args.run illegal"</a><a id="change">)</a>
        raise ValueError()

    ray.shutdown()
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/replicable-marl/marllib/commit/9a2ffb363fb923afad2f3d9d9a450e7c8e3ec626#diff-511bb46daa5ab8ca30d6ac54a9350700d91f64632d123d7ee6b537e08a6423d0L72' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 14792145</div><div id='project'> Project Name: replicable-marl/marllib</div><div id='commit'> Commit Name: 9a2ffb363fb923afad2f3d9d9a450e7c8e3ec626</div><div id='time'> Time: 2021-12-24</div><div id='author'> Author: hhhusiyi@163.com</div><div id='file'> File Name: MPE/run_mpe_multi_trial.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_parallel(1)</div><div id='n_method'> N Method Name: run_parallel(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: MPE/run_mpe_multi_trial.py</div><div id='n_file'> N File Name: MPE/run_mpe_multi_trial.py</div><div id='m_start'> M Start Line: 72</div><div id='m_end'> M End Line: 129</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 290</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
def main():
    if len(sys.argv) &lt; 2:
        print(&quotchoose between "index/search/dryrun" mode&quot)
        <a id="change">exit(</a>1<a id="change">)</a>

    config()
    if sys.argv[1] == &quotindex&quot:
        workspace = os.environ[&quotJINA_WORKSPACE&quot]</code></pre><h3>After Change</h3><pre><code class='java'>
    workspace = os.environ["JINA_WORKSPACE"]
    if &quotindex&quot in task:
        if os.path.exists(workspace):
            <a id="change">print(
                f&quot\n +------------------------------------------------------------------------------------+ \
                    \n |                                   🤖🤖🤖                                           | \
                    \n | The directory {workspace} already exists. Please remove it before indexing again.  | \
                    \n |                                   🤖🤖🤖                                           | \
                    \n +------------------------------------------------------------------------------------+&quot</a><a id="change">
            )</a>
            sys.exit(1)

    print(f&quot&#47&#47&#47&#47&#47&#47 task = {task}&quot)
    if task == &quotindex&quot:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/b95c5445da01eb1375f8323ef4211ae040e00ba9#diff-2267e8e53b42b3d2dc2a413309c4f06c2b0754b68241bb673b5075436beb815dL64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 14792144</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: b95c5445da01eb1375f8323ef4211ae040e00ba9</div><div id='time'> Time: 2021-04-25</div><div id='author'> Author: rutuja.r.surve@gmail.com</div><div id='file'> File Name: multires-lyrics-search/app.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(3)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: multires-lyrics-search/app.py</div><div id='n_file'> N File Name: multires-lyrics-search/app.py</div><div id='m_start'> M Start Line: 65</div><div id='m_end'> M End Line: 84</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 134</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                "adversarial agents contained in this MPE scenario. "
                "Not suitable for cooperative only algo {}".format(args.run)
            )
            <a id="change">sys.exit()</a>
        else:
            print(
                "PettingZooEnv step function only return one agent info, "
                "not currently good for joint Q learning algo like QMIX/VDN"</code></pre><h3>After Change</h3><pre><code class='java'>
                           verbose=1)

    else:
        <a id="change">print("args.run illegal"</a><a id="change">)</a>
        raise ValueError()

    ray.shutdown()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/replicable-marl/marllib/commit/9a2ffb363fb923afad2f3d9d9a450e7c8e3ec626#diff-6582bf74d1c7795c0382a128a4aa9a3e8b87ecfc58735b190d6984f15a45a519L35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 14792147</div><div id='project'> Project Name: replicable-marl/marllib</div><div id='commit'> Commit Name: 9a2ffb363fb923afad2f3d9d9a450e7c8e3ec626</div><div id='time'> Time: 2021-12-24</div><div id='author'> Author: hhhusiyi@163.com</div><div id='file'> File Name: MPE/run_mpe.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: MPE/run_mpe.py</div><div id='n_file'> N File Name: MPE/run_mpe.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 327</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                dataset_dir = path
            else:  &#47&#47 in case of a remote dataset
                print("Dataset Infos file saved at {}".format(dataset_infos_path))
                <a id="change">exit(</a>1<a id="change">)</a>

            &#47&#47 Move datasetinfo back to the user
            user_dataset_infos_path = os.path.join(dataset_dir, DATASET_INFOS_DICT_FILE_NAME)
            copyfile(dataset_infos_path, user_dataset_infos_path)</code></pre><h3>After Change</h3><pre><code class='java'>
                yield builder_cls(name=name, hash=hash, cache_dir=self._cache_dir, data_dir=self._data_dir)

        for i, builder in enumerate(get_builders()):
            <a id="change">print(f"Testing builder &quot{builder.config.name}&quot ({i + 1}/{n_builders})"</a><a id="change">)</a>
            builder.download_and_prepare(
                download_mode=REUSE_CACHE_IF_EXISTS if not self._force_redownload else FORCE_REDOWNLOAD,
                ignore_verifications=self._ignore_verifications,
                try_from_hf_gcs=False,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/ab71f06d7e90034e38b203750e457a8bbd13054e#diff-7096ff75a81517e6416f17d2a17f961ba74cfeaf20214725754da2aa8128fbd0L72' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 14792148</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: ab71f06d7e90034e38b203750e457a8bbd13054e</div><div id='time'> Time: 2020-11-18</div><div id='author'> Author: 42851186+lhoestq@users.noreply.github.com</div><div id='file'> File Name: src/datasets/commands/test.py</div><div id='m_class'> M Class Name: TestCommand</div><div id='n_method'> N Class Name: TestCommand</div><div id='m_method'> M Method Name: run(1)</div><div id='n_method'> N Method Name: run(1)</div><div id='m_parent_class'> M Parent Class: BaseTransformersCLICommand</div><div id='n_parent_class'> N Parent Class: BaseTransformersCLICommand</div><div id='m_file'> M File Name: src/datasets/commands/test.py</div><div id='n_file'> N File Name: src/datasets/commands/test.py</div><div id='m_start'> M Start Line: 79</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 97</div><div id='n_end'> N End Line: 153</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.wf = self.wf.eval()
        pos = self.sample()
        self.wf = self.wf.train()
        <a id="change">exit()</a>
        &#47&#47pos = torch.rand(self.sampler.nwalkers,self.wf.ndim*self.wf.nelec)

        dataset = QMC_DataSet(pos)
        dataloader = DataLoader(dataset,batch_size=self.batchsize)</code></pre><h3>After Change</h3><pre><code class='java'>
            cumulative_loss.append(0) 
            for data in dataloader:
                
                <a id="change">print("\n data "</a>, data.shape<a id="change">)</a>

                data = Variable(data).float()
                t0 = time.time()
                out = self.wf(data)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/3dd6974f914a3d22ee620c2359808489d7f573a0#diff-8565e26995619934aa09191934dd98b8c65029eec1c2a9fcaac905cdf31b5a0fL108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 14792140</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: 3dd6974f914a3d22ee620c2359808489d7f573a0</div><div id='time'> Time: 2019-05-13</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: pyCHAMP/solver/neural_net.py</div><div id='m_class'> M Class Name: NN4PYSCF</div><div id='n_method'> N Class Name: NN4PYSCF</div><div id='m_method'> M Method Name: train(2)</div><div id='n_method'> N Method Name: train(2)</div><div id='m_parent_class'> M Parent Class: SOLVER_BASE</div><div id='n_parent_class'> N Parent Class: SOLVER_BASE</div><div id='m_file'> M File Name: pyCHAMP/solver/neural_net.py</div><div id='n_file'> N File Name: pyCHAMP/solver/neural_net.py</div><div id='m_start'> M Start Line: 111</div><div id='m_end'> M End Line: 138</div><div id='n_start'> N Start Line: 117</div><div id='n_end'> N End Line: 136</div><BR>