<html><h3>Pattern ID :29861
</h3><img src='88345125.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    client_grad_list = create_fake_model_list(20)
    config = add_args()
    defense = CoordinateWiseTrimmedMeanDefense(config)
    result<a id="change"> = </a><a id="change">defense.run(
        </a>client_grad_list<a id="change">, base_aggregation_func=FedMLAggOperator.agg
    )</a>
    print(f"result = {result}")


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
def test_defense():
    print("-------------CoordinateWiseTrimmedMeanDefense-------------")
    client_grad_list = create_fake_model_list(5)
    <a id="change">print(</a>f"client_grad_list={client_grad_list}"<a id="change">)</a>
    defense = CoordinateWiseTrimmedMeanDefense(add_args())
    grads = defense.defend_before_aggregation(client_grad_list)
    print(f"grads = {grads}")
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fedml-ai/fedml/commit/ac9ef32d8575239a584e8c74971b3b04e1d51529#diff-33c00caacbcda76c93bbe6cd7f4b1e3f6b5b33a1688251b07013f8141209f786L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88345125</div><div id='project'> Project Name: fedml-ai/fedml</div><div id='commit'> Commit Name: ac9ef32d8575239a584e8c74971b3b04e1d51529</div><div id='time'> Time: 2022-09-05</div><div id='author'> Author: sshan0731@hotmail.com</div><div id='file'> File Name: python/tests/security/defense/test_coordinate_wise_trimmed_mean.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_defense(0)</div><div id='n_method'> N Method Name: test_defense(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/tests/security/defense/test_coordinate_wise_trimmed_mean.py</div><div id='n_file'> N File Name: python/tests/security/defense/test_coordinate_wise_trimmed_mean.py</div><div id='m_start'> M Start Line: 26</div><div id='m_end'> M End Line: 32</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 29</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    mode = &quotrep&quot
    inner_ex_config = rep_ex_config
    rep_run = <a id="change">tune.run(
        </a>trainable_function<a id="change">,
        name=exp_name,
        config=spec[&quotrep&quot],
    )</a>

    &#47&#47 Get encoder info and pass for il train
    trials = rep_run.trials
    model_paths<a id="change"> = </a>[rep_run.get_trial_checkpoints_paths(trial, &quotmodel&quot) for trial in trials]

    mode = &quotil&quot
    inner_ex_config = il_ex_config</code></pre><h3>After Change</h3><pre><code class='java'>
    best_config = rep_run.get_best_config(metric=metric)
    print(f"Best config is: {best_config}")
    print("Results available at: ")
    <a id="change">print(</a>rep_run._get_trial_paths()<a id="change">)</a>


def main():
    observer = FileStorageObserver(&quotruns/chain_runs&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/ae5229482acbc7b4a8063d485cc4a10fdb284e1e#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L70' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88345126</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: ae5229482acbc7b4a8063d485cc4a10fdb284e1e</div><div id='time'> Time: 2020-08-23</div><div id='author'> Author: RPC2@users.noreply.github.com</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(6)</div><div id='n_method'> N Method Name: run(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 107</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 137</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    --common.seed 36 --nas.eval.natsbench.arch_index {arch_id} \
                    --nas.eval.trainer.train_top1_acc_threshold {args.train_top1_acc_threshold}\
                    --exp-prefix proxynas_{arch_id}&quot
        ret<a id="change"> = </a><a id="change">subprocess.run(</a>command<a id="change">)</a>



if __name__ == &quot__main__&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
                    --nas.eval.trainer.train_top1_acc_threshold {args.train_top1_acc_threshold}\
                    --exp-prefix proxynas_{arch_id}&quot
        &#47&#47print(command)
        <a id="change">print(</a>os.listdir(&quot.&quot)<a id="change">)</a>
        &#47&#47ret = subprocess.run(command)


</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/15d0df16f891d30214177a4c3cd387c4f3ad7f61#diff-4c64aead8c5387249d001df9074312f22739733cc4faed7fd9171b1a9ba9b56cL9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88345120</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 15d0df16f891d30214177a4c3cd387c4f3ad7f61</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: dedey@microsoft.com</div><div id='file'> File Name: scripts/main_proxynas_wrapper.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/main_proxynas_wrapper.py</div><div id='n_file'> N File Name: scripts/main_proxynas_wrapper.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 29</div><div id='n_start'> N Start Line: 32</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    mode = &quotrep&quot
    inner_ex_config = rep_ex_config
    rep_run<a id="change"> = </a><a id="change">tune.run(
        </a>trainable_function<a id="change">,
        name=exp_name,
        config=spec[&quotrep&quot],
    )</a>

    &#47&#47 Get encoder info and pass for il train
    trials = rep_run.trials
    model_paths = [rep_run.get_trial_checkpoints_paths(trial, &quotmodel&quot) for trial in trials]</code></pre><h3>After Change</h3><pre><code class='java'>
    best_config = rep_run.get_best_config(metric=metric)
    print(f"Best config is: {best_config}")
    print("Results available at: ")
    <a id="change">print(</a>rep_run._get_trial_paths()<a id="change">)</a>


def main():
    observer = FileStorageObserver(&quotruns/chain_runs&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/humancompatibleai/eirli/commit/9a8e75d4868c2fdbe32e7043f892b2a09d1892e1#diff-ac0180ce63420dc2ca54be789611665df0da7f4c04d1cba1b30d255501b86c38L70' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 88345129</div><div id='project'> Project Name: humancompatibleai/eirli</div><div id='commit'> Commit Name: 9a8e75d4868c2fdbe32e7043f892b2a09d1892e1</div><div id='time'> Time: 2020-08-23</div><div id='author'> Author: RPC2@users.noreply.github.com</div><div id='file'> File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run(6)</div><div id='n_method'> N Method Name: run(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='n_file'> N File Name: src/il_representations/scripts/pretrain_n_adapt.py</div><div id='m_start'> M Start Line: 70</div><div id='m_end'> M End Line: 107</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 137</div><BR>