<html><h3>Pattern ID :22588
</h3><img src='71382865.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                       partial_fields={}, sort=sort, start=offset, size=limit)
        except elasticsearch.exceptions.ConnectionError:
            logging.debug(" ***&gt; ~FRNo search server available.")
            return <a id="change">[]</a>

        logging.info(" ---&gt; ~FG~SNSearch ~FCstories~FG for: ~SB%s~SN (across %s feed%s)" % 
                     (query, len(feed_ids), &quots&quot if len(feed_ids) != 1 else &quot&quot))
        </code></pre><h3>After Change</h3><pre><code class='java'>
        search_q = string_q & feed_q
        s = s.sort(sort)[offset:offset+limit]
        s.query(search_q)
        results<a id="change"> = </a><a id="change">s.execute()</a>

        &#47&#47 string_q = pyes.query.QueryStringQuery(query, default_operator="AND")
        &#47&#47 feed_q   = pyes.query.TermsQuery(&quotfeed_id&quot, feed_ids[:2000])
        &#47&#47 q        = pyes.query.BoolQuery(must=[string_q, feed_q])</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/samuelclay/NewsBlur/commit/fb322a6573c5c5fc33d6cab163a24faa69117538#diff-aabed929f6b36c2d7c211f338b5107bf82a67e6006fbcbd14474f99aac581abcL291' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71382865</div><div id='project'> Project Name: samuelclay/NewsBlur</div><div id='commit'> Commit Name: fb322a6573c5c5fc33d6cab163a24faa69117538</div><div id='time'> Time: 2021-03-19</div><div id='author'> Author: samuel@ofbrooklyn.com</div><div id='file'> File Name: apps/search/models.py</div><div id='m_class'> M Class Name: SearchStory</div><div id='n_method'> N Class Name: SearchStory</div><div id='m_method'> M Method Name: query(7)</div><div id='n_method'> N Method Name: query(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: apps/search/models.py</div><div id='n_file'> N File Name: apps/search/models.py</div><div id='m_start'> M Start Line: 291</div><div id='m_end'> M End Line: 307</div><div id='n_start'> N Start Line: 293</div><div id='n_end'> N End Line: 318</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                &quotmonth&quot: starttime.month,
                &quotyear&quot: starttime.year,
            },
            &quotscheduleEndDate&quot: <a id="change">{
                </a>&quotday&quot: starttime.day,
                &quotmonth&quot: starttime.month,
                &quotyear&quot: starttime.year<a id="change">,
            }</a>,
        },
        &quottransferSpec&quot: {
            &quotawsS3DataSource&quot: {</code></pre><h3>After Change</h3><pre><code class='java'>

    response = storagetransfer.transferJobs().create(
        body=transfer_job).execute()
    operation<a id="change"> = </a><a id="change">storagetransfer.transferJobs().run(jobName=response[&quotname&quot],
                                                   body={
                                                       &quotprojectId&quot: project_id
                                                   }).execute()</a>

    logger.info(f&quot{colorama.Fore.GREEN}Transfer job scheduled: &quot
                f&quot{colorama.Style.RESET_ALL}&quot
                f&quots3://{s3_bucket_name} -&gt; gs://{gs_bucket_name} &quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/skypilot-org/skypilot/commit/2d4fee3a30ad0a7c8a5a7a7e0f5ff62f332a9708#diff-f071a5f83e7cdf557a7d1baf3c8c015faa38ba51fabc182caf3e7c807ede73d2L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71382867</div><div id='project'> Project Name: skypilot-org/skypilot</div><div id='commit'> Commit Name: 2d4fee3a30ad0a7c8a5a7a7e0f5ff62f332a9708</div><div id='time'> Time: 2022-10-16</div><div id='author'> Author: zhanghao.wu@outlook.com</div><div id='file'> File Name: sky/data/data_transfer.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: s3_to_gcs(2)</div><div id='n_method'> N Method Name: s3_to_gcs(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sky/data/data_transfer.py</div><div id='n_file'> N File Name: sky/data/data_transfer.py</div><div id='m_start'> M Start Line: 59</div><div id='m_end'> M End Line: 76</div><div id='n_start'> N Start Line: 49</div><div id='n_end'> N End Line: 116</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

            &#47&#47 Apply sentence conditions
            all_aticle_ids_str = &quot, &quot.join([f"&quot{sha}&quot" for sha in restricted_article_ids])
            sentence_conditions = <a id="change">[
                </a>f"Article IN ({all_aticle_ids_str})",
                SentenceConditioner.get_restrict_to_tag_condition("COVID-19")<a id="change"></a>
            ]
            excluded_words = [x for x in exclusion_text.lower().split(&quot\n&quot)
                              if x]  &#47&#47 remove empty strings
            sentence_conditions += [</code></pre><h3>After Change</h3><pre><code class='java'>
                (article_id, ) = self.all_data.db.execute(
                    &quotSELECT article_id FROM article_id_2_sha WHERE sha = ?&quot,
                    [article_sha]).fetchall()[0]
                article_auth<a id="change">, article_title, date, ref = </a><a id="change">self.all_data.db.execute(
                    </a>&quotSELECT authors, title, date, url FROM articles WHERE article_id = ?&quot,
                    [article_id]<a id="change">)</a>.fetchall()[0]
                article_auth = article_auth.split(&quot;&quot)[0] + &quot et al.&quot
                ref = ref if ref else &quot&quot
                section_name = section_name if section_name else &quot&quot</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/bluebrain/search/commit/537ea7e05db6bea931b81627053d6a62348560a3#diff-feb43b3c28c09b3d69bb3c0d187d8ca4dbbce65c2abe9276c55896d14d9cf300L149' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 71382861</div><div id='project'> Project Name: bluebrain/search</div><div id='commit'> Commit Name: 537ea7e05db6bea931b81627053d6a62348560a3</div><div id='time'> Time: 2020-04-23</div><div id='author'> Author: emilie.delattre@epfl.ch</div><div id='file'> File Name: src/bbsearch/widget.py</div><div id='m_class'> M Class Name: Widget</div><div id='n_method'> N Class Name: Widget</div><div id='m_method'> M Method Name: investigate_on_click(2)</div><div id='n_method'> N Method Name: investigate_on_click(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/bbsearch/widget.py</div><div id='n_file'> N File Name: src/bbsearch/widget.py</div><div id='m_start'> M Start Line: 202</div><div id='m_end'> M End Line: 287</div><div id='n_start'> N Start Line: 198</div><div id='n_end'> N End Line: 299</div><BR>