<html><h3>Pattern ID :8954
</h3><img src='32757635.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                index += 1
    &#47&#47 Unique hashes
    set_hash_loader1 = set(hash_loader1)
    set_hash_loader2<a id="change"> = </a><a id="change">set(</a>hash_loader2<a id="change">)</a>
    &#47&#47 find spilled samples
    for hsh in set_hash_loader1:
        if hsh in set_hash_loader2:
            test_spills.append((hasd_1[hsh], hasd_2[hsh]))</code></pre><h3>After Change</h3><pre><code class='java'>
    hashes_loader1 = __get_hash_dict(loader1)
    hashes_loader2 = __get_hash_dict(loader2)
    &#47&#47 find spilled samples
    for hsh in <a id="change">hashes_loader1.keys()</a>:
        if hsh in hashes_loader2.keys():
            test_spills.append((hashes_loader1[hsh], hashes_loader2[hsh]))
    return test_spills</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/laihoe/did-it-spill/commit/43e4d5c45859157febd8307291f2687a4ca47fd9#diff-4b4b0e666a8f2e7edd2328821e507e4db37edb2dc52fca07d8624b1c26b27a0bL5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32757635</div><div id='project'> Project Name: laihoe/did-it-spill</div><div id='commit'> Commit Name: 43e4d5c45859157febd8307291f2687a4ca47fd9</div><div id='time'> Time: 2022-03-16</div><div id='author'> Author: emillaiho@hotmail.fi</div><div id='file'> File Name: did_it_spill/main.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: check_spill(2)</div><div id='n_method'> N Method Name: check_spill(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: did_it_spill/main.py</div><div id='n_file'> N File Name: did_it_spill/main.py</div><div id='m_start'> M Start Line: 5</div><div id='m_end'> M End Line: 31</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 30</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            concatenate_text += line + " "
        concatenate_text = concatenate_text.strip()

        self.vocab<a id="change"> = </a>list(<a id="change">set(</a>concatenate_text.split()<a id="change">)</a>)

        for index, vocab in list(zip(range(0, len(self.vocab)), self.vocab)):
            self.vocab_dict[vocab] = index</code></pre><h3>After Change</h3><pre><code class='java'>
            indptr.append(len(indices))

        self.vocab_dict = vocabulary
        self.vocab = list(<a id="change">vocabulary.keys()</a>)
        self.idx2token = {v: k for (k, v) in self.vocab_dict.items()}
        self.bow = scipy.sparse.csr_matrix((data, indices, indptr), dtype=int)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/milanlproc/contextualized-topic-models/commit/06e8fbee8e3be72841f4aac15b1f43bd6821ffee#diff-813e19406d3b9c72a61d20ce9f3f2ed01d03dc520c0be9128b082189bd2fc617L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32757634</div><div id='project'> Project Name: milanlproc/contextualized-topic-models</div><div id='commit'> Commit Name: 06e8fbee8e3be72841f4aac15b1f43bd6821ffee</div><div id='time'> Time: 2020-07-30</div><div id='author'> Author: s.terragni4@campus.unimib.it</div><div id='file'> File Name: contextualized_topic_models/utils/data_preparation.py</div><div id='m_class'> M Class Name: TextHandler</div><div id='n_method'> N Class Name: TextHandler</div><div id='m_method'> M Method Name: prepare(1)</div><div id='n_method'> N Method Name: prepare(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: contextualized_topic_models/utils/data_preparation.py</div><div id='n_file'> N File Name: contextualized_topic_models/utils/data_preparation.py</div><div id='m_start'> M Start Line: 48</div><div id='m_end'> M End Line: 64</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return False

    if tags is None:
        datasets = <a id="change">set()</a>
        all_datasets = _get_zoo_datasets()
        for d in all_datasets.values():
            datasets<a id="change"> |= </a>d.keys()

        return sorted(datasets)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
            if tags.issubset(zoo_dataset_cls().tags)
        }

    return sorted(<a id="change">datasets.keys()</a>)


def list_downloaded_zoo_datasets(base_dir=None):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/voxel51/fiftyone/commit/afd041dc3830ad296337394efc4a5601cf8aaad7#diff-716d4dd573cce55cabd06b850f3e89fd78f52a50695405b8a6597987792e9319L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32757639</div><div id='project'> Project Name: voxel51/fiftyone</div><div id='commit'> Commit Name: afd041dc3830ad296337394efc4a5601cf8aaad7</div><div id='time'> Time: 2023-01-13</div><div id='author'> Author: brimoor@umich.edu</div><div id='file'> File Name: fiftyone/zoo/datasets/__init__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: list_zoo_datasets(2)</div><div id='n_method'> N Method Name: list_zoo_datasets(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fiftyone/zoo/datasets/__init__.py</div><div id='n_file'> N File Name: fiftyone/zoo/datasets/__init__.py</div><div id='m_start'> M Start Line: 76</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return

        active_nodes = self.active_node_list[trace_range[0]:trace_range[1] + 1]
        active_nodes<a id="change"> = </a><a id="change">set(</a>flat_list(active_nodes)<a id="change">)</a>
        active_nodes = [self.node_mgr.find_node_idx_by_name(i) for i in active_nodes]
        for i in range(trace_range[0], trace_range[1] + 1):
            trace = self.indice_trace_list[i]
            &#47&#47 clear compute</code></pre><h3>After Change</h3><pre><code class='java'>
        
        trace_barrier = max(node_idx - 100, 0)
        active_nodes = self.active_node_list[trace_barrier]
        active_nodes = [self.node_mgr.find_node_idx(i) for i in <a id="change">active_nodes.keys()</a>]

        trace = self.indice_trace_list[node_idx]
        &#47&#47 clear compute</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hpcaitech/colossalai/commit/2ca9728cbb0863e27d74c7318358e339f9450d3e#diff-9a85fc2237e4b9a532444481de4becc1f741846ec5bdffb94fb00110555f321dL761' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32757629</div><div id='project'> Project Name: hpcaitech/colossalai</div><div id='commit'> Commit Name: 2ca9728cbb0863e27d74c7318358e339f9450d3e</div><div id='time'> Time: 2023-03-08</div><div id='author'> Author: 43881818+oahzxl@users.noreply.github.com</div><div id='file'> File Name: colossalai/autochunk/trace_indice.py</div><div id='m_class'> M Class Name: TraceIndice</div><div id='n_method'> N Class Name: TraceIndice</div><div id='m_method'> M Method Name: _clear_trace(2)</div><div id='n_method'> N Method Name: _clear_trace(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: colossalai/autochunk/trace_indice.py</div><div id='n_file'> N File Name: colossalai/autochunk/trace_indice.py</div><div id='m_start'> M Start Line: 765</div><div id='m_end'> M End Line: 792</div><div id='n_start'> N Start Line: 775</div><div id='n_end'> N End Line: 792</div><BR>