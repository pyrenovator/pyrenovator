<html><h3>Pattern ID :7163
</h3><img src='24067247.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        test_outputs = trainer.test(net, dataloaders=test_dataloader)
        assert len(test_outputs) &gt; 0
        &#47&#47 check loading
        net<a id="change"> = </a><a id="change">NHiTS.load_from_checkpoint(</a>trainer.checkpoint_callback.best_model_path<a id="change">)</a>

        &#47&#47 check prediction
        net.predict(val_dataloader, fast_dev_run=True, return_index=True, return_decoder_lengths=True)
    finally:</code></pre><h3>After Change</h3><pre><code class='java'>
    gpus,
    dataloader,
):
    <a id="change">if </a>dataloader == "with_covariates":
        dataloader = dataloaders_with_covariates
    elif dataloader == "fixed_window_without_covariates":
        dataloader = dataloaders_fixed_window_without_covariates</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jdb78/pytorch-forecasting/commit/4502e81dd8dbb8ec33fbde0efcdda8c4ad701b7f#diff-4f442804ea281148f323def75d49ef6baaf5be53b8d8e6fea1d72f872df5a1a3L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24067247</div><div id='project'> Project Name: jdb78/pytorch-forecasting</div><div id='commit'> Commit Name: 4502e81dd8dbb8ec33fbde0efcdda8c4ad701b7f</div><div id='time'> Time: 2022-03-21</div><div id='author'> Author: beitner.jan@bcg.com</div><div id='file'> File Name: tests/test_models/test_nhits.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_integration(6)</div><div id='n_method'> N Method Name: test_integration(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_models/test_nhits.py</div><div id='n_file'> N File Name: tests/test_models/test_nhits.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 57</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 78</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        num_workers=dataloader_num_workers,
    )

    model<a id="change"> = </a><a id="change">Tedd1104ModelPL.load_from_checkpoint(</a>checkpoint_path<a id="change">)</a>
    trainer = pl.Trainer(resume_from_checkpoint=checkpoint_path)

    trainer.fit(model, datamodule=data)</code></pre><h3>After Change</h3><pre><code class='java'>
        dropout_images_prob = [0.0, 0.0, 0.0, 0.0, 0.0]

    model_path = glob.glob(os.path.join(checkpoint_dir, "checkpoints/*.ckpt"))
    <a id="change">if </a>len(model_path) &gt; 1:
        print(
            f"WARNING!!! We found multiple checkpoints in the directory, we will load the last one: {model_path}"
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ikergarcia1996/self-driving-car-in-video-games/commit/5512f8601e976a79957c5e82bec16a0eb8a95a50#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L202' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24067237</div><div id='project'> Project Name: ikergarcia1996/self-driving-car-in-video-games</div><div id='commit'> Commit Name: 5512f8601e976a79957c5e82bec16a0eb8a95a50</div><div id='time'> Time: 2021-09-15</div><div id='author'> Author: i.garciaf896@gmail.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: continue_training(12)</div><div id='n_method'> N Method Name: continue_training(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 210</div><div id='m_end'> M End Line: 258</div><div id='n_start'> N Start Line: 213</div><div id='n_end'> N End Line: 297</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    model3 = SemiSupervisedRegressionTracker.load_from_checkpoint(
        path3, semi_super_losses_to_use=losses_to_use, loss_params=loss_param_dict
    )
    model4<a id="change"> = </a><a id="change">RegressionTracker.load_from_checkpoint(</a>path4<a id="change">)</a>

    &#47&#47 model = model.load_from_checkpoint(path, strict=False)
    print("loaded weights")
</code></pre><h3>After Change</h3><pre><code class='java'>
        ModelClass = get_model_class(model_config.model.model_type, model_config.model.semi_supervised)
        ckpt_path = "../../" + hydra_path + "tb_logs/my_test_model/version_0/checkpoints/"
        model_path = ckpt_path + os.listdir(ckpt_path)[0]
        <a id="change">if </a>model_config.model.semi_supervised:
            model = ModelClass.load_from_checkpoint(
                model_path, semi_super_losses_to_use=OmegaConf.to_object(model_config.model.losses_to_use), loss_params=loss_param_dict &#47&#47loss param dict is generic
            )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/danbider/lightning-pose/commit/5059f2e7e8c2734066a63a9c6c9b03574c3c5de2#diff-b3e893aff73e7f6da033e5082d08800f6cb61ca0a178d8052f627e9695033373L41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24067235</div><div id='project'> Project Name: danbider/lightning-pose</div><div id='commit'> Commit Name: 5059f2e7e8c2734066a63a9c6c9b03574c3c5de2</div><div id='time'> Time: 2021-10-18</div><div id='author'> Author: nicholasg101@gmail.com</div><div id='file'> File Name: scripts/predict_compare.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: predict(1)</div><div id='n_method'> N Method Name: predict(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/predict_compare.py</div><div id='n_file'> N File Name: scripts/predict_compare.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 94</div><div id='n_start'> N Start Line: 92</div><div id='n_end'> N End Line: 107</div><BR>