<html><h3>Pattern ID :8933
</h3><img src='32746419.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    sampler = AsyncSampler(
        env,
        num_workers=num_workers,
    )<a id="change"> if num_workers &gt; 0</a><a id="change"> else </a>None
    eval_sampler = AsyncSampler(
        env,
        num_workers=eval_workers) if eval_workers &gt; 0 else None</code></pre><h3>After Change</h3><pre><code class='java'>
    if apex:
        assert samples.weights is not None
    agent.replay_buffer.store(samples)
    <a id="change">agent.train()</a>
    agent.train()
    assert agent.writer.train_steps &gt; 1
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/syuntoku14/pytorch-rl-il/commit/c7d2eeab9c23a0bd00861fcb57803531aa57c691#diff-d9c37d7b382b33af0f08dcfbdcaa3942e741282b6e4002a0df8a0e789aadd1d3L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32746419</div><div id='project'> Project Name: syuntoku14/pytorch-rl-il</div><div id='commit'> Commit Name: c7d2eeab9c23a0bd00861fcb57803531aa57c691</div><div id='time'> Time: 2020-05-29</div><div id='author'> Author: syuntoku14@gmail.com</div><div id='file'> File Name: rlil/presets/validate_agent.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: trainer_validation(3)</div><div id='n_method'> N Method Name: trainer_validation(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: rlil/presets/validate_agent.py</div><div id='n_file'> N File Name: rlil/presets/validate_agent.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 68</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    res = faiss.StandardGpuResources()
    capacity, dimension = shape
    progress_idx = 1
    total_progress = 4<a id="change"> if use_pca is False</a><a id="change"> else </a>5

    &#47&#47 to speed up access to np.memmap
    &#47&#47 madvise = ctypes.CDLL("libc.so.6").madvise</code></pre><h3>After Change</h3><pre><code class='java'>
        if use_gpu:
            gpu_index.train(keys[random_sample].astype(np.float32))
        else:
            <a id="change">index.train(</a>keys[random_sample].astype(np.float32)<a id="change">)</a>
        
        if verbose:
            print("  &gt; [{}/{}] training took {} s".format(progress_idx, total_progress, time.time() - start))
            progress_idx += 1</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/njunlp/knn-box/commit/dc1f25e13d4c8ff6edc6a4526df462f9d6903869#diff-032ae67a3d10851d5a18ef05ed961cf86eb15f3453753ccf1553f67cd45bd521L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32746418</div><div id='project'> Project Name: njunlp/knn-box</div><div id='commit'> Commit Name: dc1f25e13d4c8ff6edc6a4526df462f9d6903869</div><div id='time'> Time: 2022-11-22</div><div id='author'> Author: qianfeng1024@gmail.com</div><div id='file'> File Name: knnbox/datastore/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_faiss_index(13)</div><div id='n_method'> N Method Name: build_faiss_index(12)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: knnbox/datastore/utils.py</div><div id='n_file'> N File Name: knnbox/datastore/utils.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 140</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    test_dataset = MyDataset(images_dir=test_img_dir, masks_dir=test_msk_dir,
                          classes=SYNPICK_CLASSES)

    seg_model = torch.load(path)<a id="change"> if model_path is not None</a><a id="change"> else </a>None

    for i in range(5):
        n = np.random.choice(len(test_dataset))</code></pre><h3>After Change</h3><pre><code class='java'>
                    ground_truth_mask=colorize_semseg(gt_mask, num_classes=dataset.NUM_CLASSES),
                    predicted_mask=colorize_semseg(pr_mask, num_classes=dataset.NUM_CLASSES)
                )
            <a id="change">seg_model.train()</a>

        else:
            save_vis(
                out_fp="./vis{}.png".format(str(i)),</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ais-bonn/vp-suite/commit/36b68bc67b166214b4c2975c8394f80bea8a212a#diff-b601549f53dd2792fb726f06778dc09d2a665ab9ec045898f6e564a87f7a8c23L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32746417</div><div id='project'> Project Name: ais-bonn/vp-suite</div><div id='commit'> Commit Name: 36b68bc67b166214b4c2975c8394f80bea8a212a</div><div id='time'> Time: 2021-07-15</div><div id='author'> Author: boltres@ais.uni-bonn.de</div><div id='file'> File Name: visualize.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: visualize(2)</div><div id='n_method'> N Method Name: visualize(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: visualize.py</div><div id='n_file'> N File Name: visualize.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 41</div><div id='n_start'> N Start Line: 16</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def change_generator_mode(gen, gen_copy, standing_statistics, standing_step, prior, batch_size, z_dim, num_classes, device, training):
    gen_tmp = gen<a id="change"> if gen_copy is None</a><a id="change"> else </a>gen_copy

    if training:
        gen.train()</code></pre><h3>After Change</h3><pre><code class='java'>
    if training:
        gen.train()
        if gen_copy is not None:
            <a id="change">gen_copy.train()</a>
            return gen_copy
        return gen
    else:
        if standing_statistics:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/postech-cvlab/pytorch-studiogan/commit/d23f976753c752166c7f8bde8fdd1907f17ab252#diff-393800f4a49ca59ffd88962f21f1018eab5f06b262714c1794ab1ab97dd67628L245' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 32746415</div><div id='project'> Project Name: postech-cvlab/pytorch-studiogan</div><div id='commit'> Commit Name: d23f976753c752166c7f8bde8fdd1907f17ab252</div><div id='time'> Time: 2020-11-12</div><div id='author'> Author: first287@naver.com</div><div id='file'> File Name: src/utils/misc.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: change_generator_mode(10)</div><div id='n_method'> N Method Name: change_generator_mode(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/utils/misc.py</div><div id='n_file'> N File Name: src/utils/misc.py</div><div id='m_start'> M Start Line: 246</div><div id='m_end'> M End Line: 260</div><div id='n_start'> N Start Line: 267</div><div id='n_end'> N End Line: 289</div><BR>