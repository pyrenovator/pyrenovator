<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 symmetrize
    &#47&#47 TODO: should we add self-links
    &#47&#47 adj = (adj + adj.transpose() + scipy.sparse.eye(m=adj.shape[0], format="coo")).tocsr()
    adj<a id="change"> = </a>(adj + <a id="change">adj.transpose()</a>).tocsr()
    &#47&#47 degree for adjacency normalization
    degree_inv = numpy.reciprocal(numpy.asarray(adj.sum(axis=0), dtype=float))[0]
    n = degree_inv.shape[0]</code></pre><h3>After Change</h3><pre><code class='java'>
        x0 = numpy.full(shape=(n,), fill_value=1.0 / n)
    else:
        numpy.testing.assert_allclose(x0.sum(axis=0), 1.0)
        <a id="change">assert </a>(x0 &gt;= 0.0).all()
        assert (x0 &lt;= 1.0).all()

    &#47&#47 power iteration</code></pre>