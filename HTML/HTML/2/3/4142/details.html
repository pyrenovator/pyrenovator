<html><h3>Pattern ID :4142
</h3><img src='15334632.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def resolve_all(root_d:MutableMapping, cur:MutableMapping):
    &#47&#47 if cur dict has &quot_copy&quot node with path in it
    child_path<a id="change"> = </a><a id="change">cur.get(</a>_PREFIX_NODE, None<a id="change">)</a>
    if child_path and isinstance(child_path, str):
        &#47&#47 resolve this path to get source dict
        child_d = _resolve_path(root_d, child_path)</code></pre><h3>After Change</h3><pre><code class='java'>


def resolve_all(root_d:MutableMapping):
    _resolve_all(root_d, root_d, &quot/&quot, <a id="change">set()</a>)

def _resolve_all(root_d:MutableMapping, cur:MutableMapping, cur_path:str, prev_paths:set):
    assert is_proper_path(cur_path)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/33df398b5187c51121c0d8fa6887a87123c98169#diff-cef37d78357026aea016e4fac1f01b81a67070bdf6b90864a1f5017563ff8363L7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15334632</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 33df398b5187c51121c0d8fa6887a87123c98169</div><div id='time'> Time: 2020-05-18</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: archai/common/yaml_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: resolve_all(1)</div><div id='n_method'> N Method Name: resolve_all(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: archai/common/yaml_utils.py</div><div id='n_file'> N File Name: archai/common/yaml_utils.py</div><div id='m_start'> M Start Line: 7</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 10</div><div id='n_end'> N End Line: 10</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    
    for trial in exp["trials"]:
        for step in trial["steps"]:
            metrics<a id="change"> = </a><a id="change">step.get(</a>"metrics"<a id="change">)</a>
            if not metrics:
                continue
            return set(metrics.get("avg_metrics", {}).keys())
</code></pre><h3>After Change</h3><pre><code class='java'>
            metrics = workload.training.metrics
            if not metrics:
                continue
            return <a id="change">set(</a>metrics.keys()<a id="change">)</a>

    return set()

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/1b3e764118242255b4f3fb32c2a969cf2ae752c5#diff-46809115da97aa7d7f43e797b3b733525ec317cd5535494d6022d733acf06079L496' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15334652</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 1b3e764118242255b4f3fb32c2a969cf2ae752c5</div><div id='time'> Time: 2022-03-15</div><div id='author'> Author: nick.doiron@hpe.com</div><div id='file'> File Name: harness/determined/cli/experiment.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: scalar_training_metrics_names(1)</div><div id='n_method'> N Method Name: scalar_training_metrics_names(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/determined/cli/experiment.py</div><div id='n_file'> N File Name: harness/determined/cli/experiment.py</div><div id='m_start'> M Start Line: 505</div><div id='m_end'> M End Line: 512</div><div id='n_start'> N Start Line: 554</div><div id='n_end'> N End Line: 561</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for ent in entities:
            hash_val = get_match_entity_class_hash(ent)
            mappings_cache_hits = self.mappings_lookup_cache.get(hash_val, [])
            hits_cache_hits<a id="change"> = </a><a id="change">self.hits_lookup_cache.get(</a>hash_val, []<a id="change">)</a>
            if not mappings_cache_hits and not hits_cache_hits:
                cache_misses.append(ent)
            else:
                for mapping in mappings_cache_hits:</code></pre><h3>After Change</h3><pre><code class='java'>
        cache_misses = []
        for ent in entities:
            hash_val = get_match_entity_class_hash(ent)
            hits_cache_hits = self.terms_lookup_cache.get(hash_val, <a id="change">set()</a>)
            if not hits_cache_hits:
                cache_misses.append(ent)
            else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/2ad88254ff7f718fdc5288676d4abb9427646217#diff-73b2569319bff7a60c1e93889ed7ae96672f1690f048c8dd1a7ee114b93a37f4L35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15334628</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 2ad88254ff7f718fdc5288676d4abb9427646217</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/utils/caching.py</div><div id='m_class'> M Class Name: EntityLinkingLookupCache</div><div id='n_method'> N Class Name: EntityLinkingLookupCache</div><div id='m_method'> M Method Name: check_lookup_cache(2)</div><div id='n_method'> N Method Name: check_lookup_cache(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: kazu/utils/caching.py</div><div id='n_file'> N File Name: kazu/utils/caching.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 55</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 41</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def _update(self):
        while self.update_bar.n &lt; self.ndocs:
            try:
                batch<a id="change"> = </a><a id="change">self.tq.get()</a>
            except:
                break

            if self.func_lock is not None:</code></pre><h3>After Change</h3><pre><code class='java'>
            with self.batch_lock:
                batch = self._get_batch_to_update()

            old_keys = [<a id="change">set(</a>document.keys()<a id="change">)</a> for document in batch]

            if self.func_lock is not None:
                with self.func_lock:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/relevanceai/relevanceai/commit/c88d8a1835da3d3556a1097327289588b51a1789#diff-6381bc42fc96d5408fc21bc0c5e13e7e988d68b4ad1b822e38153923b3d9ccf4L155' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 15334660</div><div id='project'> Project Name: relevanceai/relevanceai</div><div id='commit'> Commit Name: c88d8a1835da3d3556a1097327289588b51a1789</div><div id='time'> Time: 2022-08-22</div><div id='author'> Author: joseph.twin@relevance.ai</div><div id='file'> File Name: relevanceai/operations_new/ops_run.py</div><div id='m_class'> M Class Name: PullUpdatePush</div><div id='n_method'> N Class Name: PullUpdatePush</div><div id='m_method'> M Method Name: _update(1)</div><div id='n_method'> N Method Name: _update(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: relevanceai/operations_new/ops_run.py</div><div id='n_file'> N File Name: relevanceai/operations_new/ops_run.py</div><div id='m_start'> M Start Line: 157</div><div id='m_end'> M End Line: 167</div><div id='n_start'> N Start Line: 159</div><div id='n_end'> N End Line: 170</div><BR>