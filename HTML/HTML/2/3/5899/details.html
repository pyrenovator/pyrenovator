<html><h3>Pattern ID :5899
</h3><img src='20795325.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                mesh_edges = graph.edge_sets[0]
                mesh_edges._replace(features=torch.cat((mesh_edges.features, edge_features), dim=0))
                mesh_edges._replace(senders=torch.cat((mesh_edges.senders, senders), dim=0))
                <a id="change">mesh_edges._replace(features=torch.cat((mesh_edges.receivers, receivers), dim=0))</a>
                new_graph = MultiGraph(node_features=graph.node_features, edge_sets=[mesh_edges])

            &#47&#47 fully connect cross nodes
            receivers_list = cross_nodes</code></pre><h3>After Change</h3><pre><code class='java'>
                mesh_edges = graph.edge_sets[0]
                mesh_edges = mesh_edges._replace(features=torch.cat((mesh_edges.features, edge_features), dim=0))
                mesh_edges = mesh_edges._replace(senders=torch.cat((mesh_edges.senders, senders), dim=0))
                mesh_edges<a id="change"> = </a><a id="change">mesh_edges._replace(receivers=torch.cat((mesh_edges.receivers, receivers), dim=0))</a>
                new_graph = MultiGraph(node_features=graph.node_features, edge_sets=[mesh_edges])

            &#47&#47 fully connect cross nodes
            receivers_list = cross_nodes</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/wwmark/meshgraphnets/commit/b356cba3b6e74ad2988dc385402df5e7577a8c6f#diff-c1a2f63d32baeb04bde72526fa3320d3e410824f17356f0099f3307c5b4b2591L149' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795325</div><div id='project'> Project Name: wwmark/meshgraphnets</div><div id='commit'> Commit Name: b356cba3b6e74ad2988dc385402df5e7577a8c6f</div><div id='time'> Time: 2022-01-27</div><div id='author'> Author: ruoheng.ma@gmail.com</div><div id='file'> File Name: ripple_machine.py</div><div id='m_class'> M Class Name: RippleNodeConnector</div><div id='n_method'> N Class Name: RippleNodeConnector</div><div id='m_method'> M Method Name: connect(6)</div><div id='n_method'> N Method Name: connect(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ripple_machine.py</div><div id='n_file'> N File Name: ripple_machine.py</div><div id='m_start'> M Start Line: 149</div><div id='m_end'> M End Line: 267</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 268</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return self.visuals_dict

    def save_current_results(self):
        <a id="change">self.results_dict._replace(name=self.path)</a>
        self.results_dict._replace(result=self.output)
        return self.results_dict._asdict()

    def load(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        return self.visuals_dict

    def save_current_results(self):
        self.results_dict<a id="change"> = </a><a id="change">self.results_dict._replace(name=self.path, result=self.output)</a>
        return self.results_dict._asdict()

    def load(self):
        self.load_network(network=self.netG, network_label="netG")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/janspiry/distributed-pytorch-template/commit/fa431b651ba33c98a97275d4c62cac0628ffb6e3#diff-aa67d393d0a94e8707686ea54856498c3e07d569f5d0410742bfa438b1ac3839L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795309</div><div id='project'> Project Name: janspiry/distributed-pytorch-template</div><div id='commit'> Commit Name: fa431b651ba33c98a97275d4c62cac0628ffb6e3</div><div id='time'> Time: 2022-02-26</div><div id='author'> Author: 814019262@qq.com</div><div id='file'> File Name: models/ae_model.py</div><div id='m_class'> M Class Name: Model</div><div id='n_method'> N Class Name: Model</div><div id='m_method'> M Method Name: save_current_results(1)</div><div id='n_method'> N Method Name: save_current_results(1)</div><div id='m_parent_class'> M Parent Class: BaseModel</div><div id='n_parent_class'> N Parent Class: BaseModel</div><div id='m_file'> M File Name: models/ae_model.py</div><div id='n_file'> N File Name: models/ae_model.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def forward(self, latent_graph, normalized_adj_mat=None, mask=None):
        if self.stochastic_message_passing_used:
            for graphnet_block in self.graphnet_blocks:
                <a id="change">latent_graph._replace(node_features=torch.matmul(normalized_adj_mat, latent_graph.node_features))</a>
                latent_graph = graphnet_block(latent_graph)
            return latent_graph
        else:
            for graphnet_block in self.graphnet_blocks:</code></pre><h3>After Change</h3><pre><code class='java'>
    def forward(self, latent_graph, normalized_adj_mat=None, mask=None):
        if self.stochastic_message_passing_used:
            for graphnet_block in self.graphnet_blocks:
                latent_graph<a id="change"> = </a><a id="change">latent_graph._replace(node_features=torch.matmul(normalized_adj_mat, latent_graph.node_features))</a>
                latent_graph = graphnet_block(latent_graph)
            return latent_graph
        else:
            for graphnet_block in self.graphnet_blocks:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wwmark/meshgraphnets/commit/b356cba3b6e74ad2988dc385402df5e7577a8c6f#diff-2a1838fd89edbf7fc22eb003fbdcbe4ac68927faa9e4cbd1df4afa4bbc9bda9aL271' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 20795326</div><div id='project'> Project Name: wwmark/meshgraphnets</div><div id='commit'> Commit Name: b356cba3b6e74ad2988dc385402df5e7577a8c6f</div><div id='time'> Time: 2022-01-27</div><div id='author'> Author: ruoheng.ma@gmail.com</div><div id='file'> File Name: encode_process_decode.py</div><div id='m_class'> M Class Name: Processor</div><div id='n_method'> N Class Name: Processor</div><div id='m_method'> M Method Name: forward(4)</div><div id='n_method'> N Method Name: forward(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: encode_process_decode.py</div><div id='n_file'> N File Name: encode_process_decode.py</div><div id='m_start'> M Start Line: 274</div><div id='m_end'> M End Line: 274</div><div id='n_start'> N Start Line: 274</div><div id='n_end'> N End Line: 274</div><BR>