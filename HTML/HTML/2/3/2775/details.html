<html><h3>Pattern ID :2775
</h3><img src='11124847.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47

            &#47&#47 computing loss, metrics on test set
            loss = <a id="change">loss_fn(</a>output, target<a id="change">)</a>
            batch_size = data.shape[0]
            total_loss<a id="change"> += </a>loss.item() * batch_size
            for i, metric in enumerate(metric_fns):
                total_metrics[i] += metric(output, target) * batch_size
</code></pre><h3>After Change</h3><pre><code class='java'>
                count+=1
            &#47&#47 output voxel dimension : 64
            CE+=cross_entropy(Y_fake,Y)/(64*64*64)
    log = <a id="change">{</a>&quotIOU&quot: IOU / count,&quotCE&quot: CE / count<a id="change">}</a>
    logger.info(log)


if __name__ == &quot__main__&quot:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zxpzhong/3d-recgan-pytorch/commit/63d82c1f333db58fe483cdcf29378a12e2155f6b#diff-3665d65394f4f58a56a256ad6dd8621c68118d90fe56a19387e251c19cec2d2eL12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11124847</div><div id='project'> Project Name: zxpzhong/3d-recgan-pytorch</div><div id='commit'> Commit Name: 63d82c1f333db58fe483cdcf29378a12e2155f6b</div><div id='time'> Time: 2020-06-27</div><div id='author'> Author: zxpzhong@qq.com</div><div id='file'> File Name: test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test.py</div><div id='n_file'> N File Name: test.py</div><div id='m_start'> M Start Line: 12</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 34</div><div id='n_end'> N End Line: 54</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47

            &#47&#47 computing loss, metrics on test set
            loss = <a id="change">loss_fn(</a>output, target<a id="change">)</a>
            batch_size = data.shape[0]
            total_loss<a id="change"> += </a>loss.item() * batch_size
            for i, metric in enumerate(metric_fns):
                total_metrics[i] += metric(output, target) * batch_size
</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47for i, metric in enumerate(metric_fns):
            &#47&#47    total_metrics[i] += metric(output, target) * batch_size

    df = pd.DataFrame(<a id="change">{</a>&quotimage_id&quot: image_id, &quotlabel&quot: label<a id="change">}</a>)
    out_csv = os.path.join(args.out_dir, &quottest_pred.csv&quot)
    df.to_csv(out_csv, index=False)
    logger.debug(&quotdone.&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deeperlearner/pytorch-template/commit/49ac2e7c4e18177db31ae741c8dfd7cdbf5ca0f0#diff-3665d65394f4f58a56a256ad6dd8621c68118d90fe56a19387e251c19cec2d2eL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11124846</div><div id='project'> Project Name: deeperlearner/pytorch-template</div><div id='commit'> Commit Name: 49ac2e7c4e18177db31ae741c8dfd7cdbf5ca0f0</div><div id='time'> Time: 2020-11-11</div><div id='author'> Author: b04202035@g.ntu.edu.tw</div><div id='file'> File Name: test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test.py</div><div id='n_file'> N File Name: test.py</div><div id='m_start'> M Start Line: 15</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 76</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        x, y = to_device(x, y, device=device)
        z = self.encode(*x)
        out = self.decode(z, out_index)
        loss<a id="change"> = </a><a id="change">loss_fn(</a>out, y<a id="change">)</a>
        for metric in metrics:
            metric.update_state(y.cpu(), out.detach().cpu())

        results = [loss.cpu().detach()] + [metric.result() for metric in metrics]</code></pre><h3>After Change</h3><pre><code class='java'>
        if loss is not None:
            loss = loss.cpu().item()

        results = <a id="change">[</a>loss<a id="change"></a>] + [metric.result() for metric in self.metrics]
        return dict(zip(self.metrics_names, results))

    @torch.no_grad()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/eb44cb9e5d0b12f081c365b0135af2b31cd3e19b#diff-5e135cac94d899ee810c613b73c050fb753ba6ce1f985a0020e0421fe6c3fa53L41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11124851</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: eb44cb9e5d0b12f081c365b0135af2b31cd3e19b</div><div id='time'> Time: 2021-08-07</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphgallery/nn/models/pytorch/autoencoder/autoencoder.py</div><div id='m_class'> M Class Name: AutoEncoder</div><div id='n_method'> N Class Name: AutoEncoder</div><div id='m_method'> M Method Name: test_step_on_batch(5)</div><div id='n_method'> N Method Name: test_step_on_batch(5)</div><div id='m_parent_class'> M Parent Class: TorchKeras</div><div id='n_parent_class'> N Parent Class: TorchKeras</div><div id='m_file'> M File Name: graphgallery/nn/models/pytorch/autoencoder/autoencoder.py</div><div id='n_file'> N File Name: graphgallery/nn/models/pytorch/autoencoder/autoencoder.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 56</div><div id='n_start'> N Start Line: 29</div><div id='n_end'> N End Line: 36</div><BR>