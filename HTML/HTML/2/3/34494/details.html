<html><h3>Pattern ID :34494
</h3><img src='99251003.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.last_len = len

        if abs &lt; 0.1:
            <a id="change">if </a>not self.measured:
                reward = 0
                self.measured = True
                self.last_dist = self.task.calc_distance(goal_position, poker_position)</code></pre><h3>After Change</h3><pre><code class='java'>
            elif aim_vector.norm == 0:
                reward = 0
            else:
                reward<a id="change"> = </a>round(<a id="change">np.dot(</a>real_vector.vector, aim_vector.vector<a id="change">)</a>, 5)


</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/incognite-lab/mygym/commit/455742b94e988f8e408d86a83fd656255f506316#diff-f909d23bda0d4385c8f8b25592babf12027365091adcf8cd26de3fa6848d911fL1121' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99251003</div><div id='project'> Project Name: incognite-lab/mygym</div><div id='commit'> Commit Name: 455742b94e988f8e408d86a83fd656255f506316</div><div id='time'> Time: 2021-08-19</div><div id='author'> Author: gupit@seznam.cz</div><div id='file'> File Name: myGym/envs/rewards.py</div><div id='m_class'> M Class Name: DualPoke</div><div id='n_method'> N Class Name: DualPoke</div><div id='m_method'> M Method Name: compute(2)</div><div id='n_method'> N Method Name: compute(2)</div><div id='m_parent_class'> M Parent Class: Reward</div><div id='n_parent_class'> N Parent Class: Reward</div><div id='m_file'> M File Name: myGym/envs/rewards.py</div><div id='n_file'> N File Name: myGym/envs/rewards.py</div><div id='m_start'> M Start Line: 1121</div><div id='m_end'> M End Line: 1154</div><div id='n_start'> N Start Line: 1121</div><div id='n_end'> N End Line: 1186</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    dx = (w2 - w1) / 2.0
    dy = (h2 - h1) / 2.0

    <a id="change">if </a>pad:
        scale = np.min([float(w2)/w1, float(h2)/h1])
    else:
        scale = np.max([float(w2)/w1, float(h2)/h1])</code></pre><h3>After Change</h3><pre><code class='java'>
        scale = scale)
    
    M = np.array(M + [0., 0., 1.]).reshape(3, 3)
    M<a id="change"> = </a><a id="change">M.dot(</a>matrix_trans<a id="change">)</a>
    
    return M

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yuliangxiu/icon/commit/5f5c704c4643c183d8a110b5f6c2010c66b84567#diff-5fce1d59764f22826a9583b3dbbdb1ff6df9064da1e5516b796ef0656ce4c725L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99251000</div><div id='project'> Project Name: yuliangxiu/icon</div><div id='commit'> Commit Name: 5f5c704c4643c183d8a110b5f6c2010c66b84567</div><div id='time'> Time: 2022-02-24</div><div id='author'> Author: yuliang.xiu@tuebingen.mpg.de</div><div id='file'> File Name: lib/pymaf/utils/streamer.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: aug_matrix(4)</div><div id='n_method'> N Method Name: aug_matrix(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lib/pymaf/utils/streamer.py</div><div id='n_file'> N File Name: lib/pymaf/utils/streamer.py</div><div id='m_start'> M Start Line: 6</div><div id='m_end'> M End Line: 15</div><div id='n_start'> N Start Line: 7</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            target.position + [target.dimension[0]/2, 0, -target.dimension[2]/2]])

        uv, mask = calib.project_points_to_camera(points, frame_to=image_frame, frame_from=targets.frame, remove_outlier=False)
        <a id="change">if </a>np.sum(mask) &lt; 4: continue &#47&#47 ignore boxes that is outside the image
        uv = uv.astype(int)

        &#47&#47 draw box</code></pre><h3>After Change</h3><pre><code class='java'>
    for target in targets:
        &#47&#47 calculate corner points
        points = target.corners
        indicator = <a id="change">np.array([ &#47&#47 add points for direction indicator
                [0, 0, -target.dimension[2]/2],
                [target.dimension[0]/2, 0, -target.dimension[2]/2]
            ]).dot(</a>target.orientation.as_matrix().T<a id="change">)</a>
        points<a id="change"> = </a>np.vstack([points, target.position + indicator])

        uv, mask, dmask = calib.project_points_to_camera(points, frame_to=image_frame, frame_from=targets.frame,
            remove_outlier=False, return_dmask=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cmpute/d3d/commit/19eed21c2ea40b91d048f99d07fffd1d3f2196c7#diff-b3d7d54f6c4aeecfc8f6b0fcb5b691318c92069106d0dbad56c65679f1838865L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99251001</div><div id='project'> Project Name: cmpute/d3d</div><div id='commit'> Commit Name: 19eed21c2ea40b91d048f99d07fffd1d3f2196c7</div><div id='time'> Time: 2020-05-14</div><div id='author'> Author: cmpute@qq.com</div><div id='file'> File Name: d3d/vis/image.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: visualize_detections(6)</div><div id='n_method'> N Method Name: visualize_detections(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: d3d/vis/image.py</div><div id='n_file'> N File Name: d3d/vis/image.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 21</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 37</div><BR>