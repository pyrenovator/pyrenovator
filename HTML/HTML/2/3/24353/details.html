<html><h3>Pattern ID :24353
</h3><img src='75678986.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        Xs = stft(wavs.data.cpu().numpy(), n_fft=1024, hop_length=512)
        Xs = np.log(1 + np.abs(Xs))
        Xs<a id="change"> = </a><a id="change">torch.Tensor(</a>Xs<a id="change">)</a>.float().to(self.device)

        &#47&#47 Concatenate labels (due to data augmentation)
        if stage == sb.Stage.TRAIN and False:</code></pre><h3>After Change</h3><pre><code class='java'>
                self.hparams.lr_annealing.on_batch_end(self.optimizer)

        self.last_batch = batch
        self.batch_to_plot = (reconstructions.clone(), <a id="change">X_stft_logpower.clone()</a>)

        theta_out = -torch.log(theta_out)
        loss_fdi = (F.softmax(classification_out, dim=1) @ theta_out.T).sum()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/5141f8cfe46029b6dd2c051199291f4c21cae8e0#diff-8f3874d114f157f94ccdf7b656a9cc7738dfe21aef4a26c86929a9f19edda806L147' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75678986</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 5141f8cfe46029b6dd2c051199291f4c21cae8e0</div><div id='time'> Time: 2022-11-20</div><div id='author'> Author: me@francescopaissan.it</div><div id='file'> File Name: recipes/ESC50/classification/train_interpreter.py</div><div id='m_class'> M Class Name: InterpreterESC50Brain</div><div id='n_method'> N Class Name: InterpreterESC50Brain</div><div id='m_method'> M Method Name: compute_objectives(4)</div><div id='n_method'> N Method Name: compute_objectives(4)</div><div id='m_parent_class'> M Parent Class: sb.core.Brain</div><div id='n_parent_class'> N Parent Class: sb.core.Brain</div><div id='m_file'> M File Name: recipes/ESC50/classification/train_interpreter.py</div><div id='n_file'> N File Name: recipes/ESC50/classification/train_interpreter.py</div><div id='m_start'> M Start Line: 147</div><div id='m_end'> M End Line: 173</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 171</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = torch.as_tensor(result)
    result = result.clone().detach()
    &#47&#47 print(result.shape)
    y = <a id="change">torch.Tensor(</a>[query(x) for x in result]<a id="change">)</a>
    y<a id="change"> = </a>y.long()
    return result, y

</code></pre><h3>After Change</h3><pre><code class='java'>
        victim_input_targets,
    )
    &#47&#47 print(X.shape)
    result = <a id="change">torch.from_numpy(attack.generate(X)).detach().clone()</a>.float()
    &#47&#47 result = torch.as_tensor(result)
    &#47&#47 result = result.clone().detach()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/trailofbits/privacyraven/commit/d091e8a977269b1fe5d8f8eccfc2db1411ecb923#diff-e399b6ad8d6d6523e65ad0d433b80f161b2fbc814e46ade00bbbb9b5d997c1aaL164' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75678990</div><div id='project'> Project Name: trailofbits/privacyraven</div><div id='commit'> Commit Name: d091e8a977269b1fe5d8f8eccfc2db1411ecb923</div><div id='time'> Time: 2020-11-30</div><div id='author'> Author: suhashussain1@gmail.com</div><div id='file'> File Name: src/privacyraven/extraction/synthesis.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: hopskipjump(6)</div><div id='n_method'> N Method Name: hopskipjump(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/privacyraven/extraction/synthesis.py</div><div id='n_file'> N File Name: src/privacyraven/extraction/synthesis.py</div><div id='m_start'> M Start Line: 195</div><div id='m_end'> M End Line: 200</div><div id='n_start'> N Start Line: 157</div><div id='n_end'> N End Line: 170</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.embedding = nn.Embedding(self.num_tokens, self.codebook_dim)
        self.embedding.weight.data.normal_()
        self.register_buffer("cluster_size", torch.zeros(num_tokens))
        self.ema_w<a id="change"> = </a>nn.Parameter(<a id="change">torch.Tensor(</a>self.num_tokens, self.codebook_dim<a id="change">)</a>)
        self.ema_w.data.normal_()
        self.decay = decay
        self.eps = eps</code></pre><h3>After Change</h3><pre><code class='java'>
        embed = torch.randn(dim, num_tokens)
        self.register_buffer("embed", embed)
        self.register_buffer("cluster_size", torch.zeros(num_tokens))
        self.register_buffer("embed_avg", <a id="change">embed.clone()</a>)

    def forward(self, input):
        flatten = input.reshape(-1, self.dim)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tgisaturday/dalle-lightning/commit/eb20d87b2f7bdade79a2e474bc9a5cd20f832979#diff-5cc0cb1395e7634e216d321d933d7868cc1ee34fa25763750d65126b9ad1ea15L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 75678988</div><div id='project'> Project Name: tgisaturday/dalle-lightning</div><div id='commit'> Commit Name: eb20d87b2f7bdade79a2e474bc9a5cd20f832979</div><div id='time'> Time: 2021-07-28</div><div id='author'> Author: jamesk1228@gmail.com</div><div id='file'> File Name: pl_dalle/modules/vqvae/quantize.py</div><div id='m_class'> M Class Name: EMAVectorQuantizer</div><div id='n_method'> N Class Name: EMAVectorQuantizer</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: pl_dalle/modules/vqvae/quantize.py</div><div id='n_file'> N File Name: pl_dalle/modules/vqvae/quantize.py</div><div id='m_start'> M Start Line: 49</div><div id='m_end'> M End Line: 59</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 57</div><BR>