<html><h3>Pattern ID :2379
</h3><img src='10024955.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                for line in f:
                    item, present = line.rsplit(maxsplit=1)
                    if present == &quot1&quot:
                        <a id="change">annotations[item]</a>.append(label_id)

        return dict(annotations)
</code></pre><h3>After Change</h3><pre><code class='java'>
        annotations = {}
        task_dir = osp.dirname(self._path)
        for label_id, label in enumerate(self._categories[AnnotationType.label]):
            ann_file<a id="change"> = </a>osp.join(task_dir, f&quot{label.name}_{self._subset}.txt&quot)
            if not <a id="change">osp.isfile(</a>ann_file<a id="change">)</a>:
                continue

            with open(ann_file, encoding=&quotutf-8&quot) as f:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/4dba6e4eafd99aed88b44908cd9c0e32be0bf272#diff-4dcdddf38e9e5559f858f2ffcd5ad300b51ce9877dbaee2878bd9c8b215b4e97L99' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10024955</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 4dba6e4eafd99aed88b44908cd9c0e32be0bf272</div><div id='time'> Time: 2021-10-14</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/plugins/voc_format/extractor.py</div><div id='m_class'> M Class Name: VocClassificationExtractor</div><div id='n_method'> N Class Name: VocClassificationExtractor</div><div id='m_method'> M Method Name: _load_annotations(1)</div><div id='n_method'> N Method Name: _load_annotations(1)</div><div id='m_parent_class'> M Parent Class: _VocExtractor</div><div id='n_parent_class'> N Parent Class: _VocExtractor</div><div id='m_file'> M File Name: datumaro/plugins/voc_format/extractor.py</div><div id='n_file'> N File Name: datumaro/plugins/voc_format/extractor.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 99</div><div id='n_end'> N End Line: 112</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 num_vis: 3072
            with open(path, &quotrb&quot) as labels_file:
                data = pickle.load(labels_file) &#47&#47 nosec - disable B301:pickle check
            for label in <a id="change">data[&quotlabel_names&quot]</a>:
                label_cat.add(label)
        else:
            for label in CifarLabel:</code></pre><h3>After Change</h3><pre><code class='java'>
    def _load_categories(self, path):
        label_cat = LabelCategories()

        meta_file<a id="change"> = </a>osp.join(path, CifarPath.BATCHES_META)
        if not osp.isfile(meta_file):
            meta_file = osp.join(path, CifarPath.META)
        if <a id="change">osp.isfile(</a>meta_file<a id="change">)</a>:
            &#47&#47 CIFAR-10:
            &#47&#47 num_cases_per_batch: 1000
            &#47&#47 label_names: [&quotairplane&quot, &quotautomobile&quot, &quotbird&quot, &quotcat&quot, &quotdeer&quot,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/849ad7fd44d419d68a8e1def045d557cb686555d#diff-d06aaf5c9a5fe7214d2e206884ef09a980d9d0ba7c91c0ddd34174ff0c3a335fL49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10024958</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 849ad7fd44d419d68a8e1def045d557cb686555d</div><div id='time'> Time: 2021-07-13</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/cifar_format.py</div><div id='m_class'> M Class Name: CifarExtractor</div><div id='n_method'> N Class Name: CifarExtractor</div><div id='m_method'> M Method Name: _load_categories(2)</div><div id='n_method'> N Method Name: _load_categories(2)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/cifar_format.py</div><div id='n_file'> N File Name: datumaro/plugins/cifar_format.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 81</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self._items = list(self._load_items(path).values())

    def _load_categories(self):
        <a id="change">self._categories[AnnotationType.label]</a> = LabelCategories()

    def _load_items(self, path):
        items = {}</code></pre><h3>After Change</h3><pre><code class='java'>

    def _load_categories(self):
        label_cat = LabelCategories()
        path<a id="change"> = </a>osp.join(self._dataset_dir, VggFace2Path.LABELS_FILE)
        if <a id="change">osp.isfile(</a>path<a id="change">)</a>:
            with open(path, encoding=&quotutf-8&quot) as labels_file:
                lines = [s.strip() for s in labels_file]
            for line in lines:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/c754d7e9e2eb514ff36cd321b1457bdf1bd37d39#diff-12260c30667ed1cde7f272793ae764503441d55f5a2001eedabccb8dc9b4fd13L35' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 10024949</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: c754d7e9e2eb514ff36cd321b1457bdf1bd37d39</div><div id='time'> Time: 2021-01-17</div><div id='author'> Author: anastasia.yasakova@intel.com</div><div id='file'> File Name: datumaro/plugins/vgg_face2_format.py</div><div id='m_class'> M Class Name: VggFace2Extractor</div><div id='n_method'> N Class Name: VggFace2Extractor</div><div id='m_method'> M Method Name: _load_categories(1)</div><div id='n_method'> N Method Name: _load_categories(1)</div><div id='m_parent_class'> M Parent Class: SourceExtractor</div><div id='n_parent_class'> N Parent Class: SourceExtractor</div><div id='m_file'> M File Name: datumaro/plugins/vgg_face2_format.py</div><div id='n_file'> N File Name: datumaro/plugins/vgg_face2_format.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 36</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 55</div><BR>