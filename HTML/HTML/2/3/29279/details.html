<html><h3>Pattern ID :29279
</h3><img src='85991744.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        preds = pd.read_csv(_PREDICTIONS_URL, index_col=0)
        preds.to_csv(ASSETS_DIR / &quottweet_emotion_probabilities.csv&quot)

    preds<a id="change"> = </a><a id="change">preds.to_numpy()</a>

    if pred_format == &quotpredictions&quot:
        return np.array([_LABEL_MAP[x] for x in np.argmax(preds, axis=1)])
    elif pred_format == &quotprobabilities&quot:</code></pre><h3>After Change</h3><pre><code class='java'>
        raise ValueError(&quotpred_format must be either "predictions" or "probabilities"&quot)

    if as_train_test:
        train_indexes<a id="change">, test_indexes</a> = _get_train_test_indexes()
        return all_preds[train_indexes], all_preds[test_indexes]
    else:
        return all_preds</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/656d5fc64f48449ebedc84dc32330c0b34021803#diff-4d29e36b1221b4fe775e2bc96c93c8343817192958d831c44513c459ac915ce5L157' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85991744</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 656d5fc64f48449ebedc84dc32330c0b34021803</div><div id='time'> Time: 2023-04-04</div><div id='author'> Author: 67195469+Nadav-Barak@users.noreply.github.com</div><div id='file'> File Name: deepchecks/nlp/datasets/classification/tweet_emotion.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: load_precalculated_predictions(2)</div><div id='n_method'> N Method Name: load_precalculated_predictions(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deepchecks/nlp/datasets/classification/tweet_emotion.py</div><div id='n_file'> N File Name: deepchecks/nlp/datasets/classification/tweet_emotion.py</div><div id='m_start'> M Start Line: 166</div><div id='m_end'> M End Line: 178</div><div id='n_start'> N Start Line: 157</div><div id='n_end'> N End Line: 189</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        -------
        pd.DataFrame
        
        arr_f<a id="change"> = </a><a id="change">self._factuals.to_numpy()</a>
        arr_cf = self._counterfactuals.to_numpy()

        distances = get_distances(arr_f, arr_cf)
        columns = ["Distance_1", "Distance_2", "Distance_3", "Distance_4"]</code></pre><h3>After Change</h3><pre><code class='java'>
        -------
        pd.DataFrame
        
        factual_without_nans<a id="change">, counterfactuals_without_nans</a> = remove_nans(
            self._enc_norm_factuals, self._counterfactuals
        )
        arr_f = factual_without_nans.to_numpy()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/indyfree/carla/commit/a0f1f3b1fc7316b8a4acc44e015d45db42495856#diff-22c11f131bf3a002c79a4673bef8b53fa437e6e259d1c0bb12a81b9d5feb5eb1L31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85991742</div><div id='project'> Project Name: indyfree/carla</div><div id='commit'> Commit Name: a0f1f3b1fc7316b8a4acc44e015d45db42495856</div><div id='time'> Time: 2021-05-28</div><div id='author'> Author: johanheuvel5@gmail.com</div><div id='file'> File Name: carla/evaluation/benchmark.py</div><div id='m_class'> M Class Name: Benchmark</div><div id='n_method'> N Class Name: Benchmark</div><div id='m_method'> M Method Name: compute_distances(1)</div><div id='n_method'> N Method Name: compute_distances(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: carla/evaluation/benchmark.py</div><div id='n_file'> N File Name: carla/evaluation/benchmark.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 40</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 106</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if not os.path.exists(os.path.join(args.dest, args.predir, s.lstrip("WFDB_"))):
            os.makedirs(os.path.join(args.dest, args.predir, s.lstrip("WFDB_")))

        codes<a id="change"> = </a><a id="change">dx_codes[dx_codes[convert_to_column_names(s)] &gt; 0]["SNOMEDCTCode"].to_numpy()</a>.astype(str)

        dir_path = os.path.realpath(os.path.join(args.root, s))
        search_path = os.path.join(dir_path, "**/*." + args.ext)</code></pre><h3>After Change</h3><pre><code class='java'>
            os.makedirs(os.path.join(args.dest, args.predir, s.lstrip("WFDB_")))

        try:
            classes<a id="change">, _</a> = ecg_utils.get_physionet_weights(meta_path)
        except FileNotFoundError:
            raise FileNotFoundError(
                "cannot find the metadata file for labeling (weights.csv)"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jwoo5/fairseq-signals/commit/8ebaab5a615a8a7717ba76d3d17c557e0fb14325#diff-9d229560642f2fc91581b8312dd92329379c99dcb8f5c5feb8e4f1dcce76f4f5L45' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85991743</div><div id='project'> Project Name: jwoo5/fairseq-signals</div><div id='commit'> Commit Name: 8ebaab5a615a8a7717ba76d3d17c557e0fb14325</div><div id='time'> Time: 2021-08-11</div><div id='author'> Author: ojw0123@korea.ac.kr</div><div id='file'> File Name: fairseq_signals/data/ecg/preprocess/preprocess_physionet2021.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fairseq_signals/data/ecg/preprocess/preprocess_physionet2021.py</div><div id='n_file'> N File Name: fairseq_signals/data/ecg/preprocess/preprocess_physionet2021.py</div><div id='m_start'> M Start Line: 47</div><div id='m_end'> M End Line: 86</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 65</div><BR>