<html><h3>Pattern ID :1527
</h3><img src='6863816.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        orirow_2_uid[int(row[&quotorirow&quot].split(&quot,&quot)[0])] = row[&quotuid&quot]

    &#47&#47 map
    que_test[&quotuid&quot] = <a id="change">que_test[&quotorirow&quot].map(</a>orirow_2_uid<a id="change">)</a>
    que_test[&quotinter_num&quot] = que_test[&quotuid&quot].map(stu_inter_num_dict)

    que_win_test[&quotuid&quot] = que_win_test[&quotorirow&quot].map(orirow_2_uid)
    que_win_test[&quotinter_num&quot] = que_win_test[&quotuid&quot].map(stu_inter_num_dict)</code></pre><h3>After Change</h3><pre><code class='java'>
        print("Start 基于题目的长短序列")
        que_update_ls_report(que_test, que_win_test, report,save_dir=save_dir)  &#47&#47 short long 结果
    except:
        <a id="change">print("Fail 基于题目的长短序列"</a><a id="change">)</a>

    return que_test,que_win_test

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pykt-team/pykt-toolkit/commit/1e954fe5312232f984f38b09a23fbd99ddb5f4ae#diff-295ef415b724240e27724469c5c2fc86cc645b126879f8030692121011799789L153' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6863816</div><div id='project'> Project Name: pykt-team/pykt-toolkit</div><div id='commit'> Commit Name: 1e954fe5312232f984f38b09a23fbd99ddb5f4ae</div><div id='time'> Time: 2022-10-12</div><div id='author'> Author: 2808581543@qq.com</div><div id='file'> File Name: examples/extract_quelevel_raw_result.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_question_report(6)</div><div id='n_method'> N Method Name: add_question_report(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/extract_quelevel_raw_result.py</div><div id='n_file'> N File Name: examples/extract_quelevel_raw_result.py</div><div id='m_start'> M Start Line: 247</div><div id='m_end'> M End Line: 269</div><div id='n_start'> N Start Line: 153</div><div id='n_end'> N End Line: 169</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            to = None
            if df[col].str.lower().str.contains(label).sum() &gt; 0:
                &#47&#47 df[col] = df[col].str.lower().str.replace(label, to)
                df[col] = <a id="change">df[col].map(</a>lambda x: to if x == label else x<a id="change">)</a>
                df.to_csv(file, index=False)
                print(f"Success! {col}: {label} -&gt; {to}")
                print(df.iloc[0].dir_name + f" contains {label} in {col}")
        except:</code></pre><h3>After Change</h3><pre><code class='java'>
                df[col_2] = df[col_2].str.lower().str.replace(label_2, to_2)
                &#47&#47 df[col] = df[col].map(lambda x: to if x == label else x)
                df.to_csv(file, index=False)
                <a id="change">print(f"Success! {col}: {label_2} -&gt; {to_2}"</a><a id="change">)</a>
                print(df.iloc[0].dir_name + f" contains {label_2} in {col_2}")
        except:
            pass
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stan-hua/cytoimagenet/commit/1fed7ef5ba3d7df639600f30700b6e82d72349d8#diff-e875c715dad53b6b2511681a9b32c1649c04fc6ce068daf284876baf942376ceL136' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6863818</div><div id='project'> Project Name: stan-hua/cytoimagenet</div><div id='commit'> Commit Name: 1fed7ef5ba3d7df639600f30700b6e82d72349d8</div><div id='time'> Time: 2021-07-01</div><div id='author'> Author: stanley.hua@mail.utoronto.ca</div><div id='file'> File Name: scripts/clean_metadata.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: fix_labels(0)</div><div id='n_method'> N Method Name: fix_labels(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/clean_metadata.py</div><div id='n_file'> N File Name: scripts/clean_metadata.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 153</div><div id='n_start'> N Start Line: 116</div><div id='n_end'> N End Line: 146</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    node_emb_dict = {i: val for i, val in enumerate(node_emb_arr)}

    for i, node in enumerate(col_map.keys()):
        emb = pd.DataFrame(<a id="change">df[col_map[node]].map(</a>node_emb_dict<a id="change">)</a>.tolist()).add_prefix(
            "n" + str(i) + "_e"
        )
        df = df.join([emb])</code></pre><h3>After Change</h3><pre><code class='java'>
        _apply_heterogeneous_embeddings(
            df, node_embeddings, col_map)
    else:
        <a id="change">print("Apply homogeneous embeddings."</a><a id="change">)</a>
        _apply_homogeneous_embeddings(
            df, node_embeddings, col_map)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/oap-project/cloudtik/commit/b1cb12787f1e43cfd7987400f6c178507cd30510#diff-4c21c2cb889aa41b903d5e243cb25c4af2f693f43e9451406cc665b97d594df9L29' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 6863814</div><div id='project'> Project Name: oap-project/cloudtik</div><div id='commit'> Commit Name: b1cb12787f1e43cfd7987400f6c178507cd30510</div><div id='time'> Time: 2023-06-25</div><div id='author'> Author: haifeng.chen@intel.com</div><div id='file'> File Name: python/cloudtik/runtime/ai/modeling/graph_modeling/graph_sage/modeling/embeddings.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _apply_embeddings(3)</div><div id='n_method'> N Method Name: _apply_embeddings(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/cloudtik/runtime/ai/modeling/graph_modeling/graph_sage/modeling/embeddings.py</div><div id='n_file'> N File Name: python/cloudtik/runtime/ai/modeling/graph_modeling/graph_sage/modeling/embeddings.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 44</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 51</div><BR>