<html><h3>Pattern ID :24832
</h3><img src='76680502.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mock_trained_mnist, device=device)
    assert_that(type(result.value[&quotscore&quot]), equal_to(float))
    assert_that(result.value[&quotscore&quot], close_to(0.993, 0.001))
    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass)
    assert_that(result.conditions_results[1].is_pass, equal_to(False))

    &#47&#47 params that should raise a warning but still run</code></pre><h3>After Change</h3><pre><code class='java'>
    assert_that(type(result.value[&quotscore&quot]), equal_to(float))
    assert_that(result.value[&quotscore&quot], close_to(0.993, 0.001))
    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=True,
                               details=&quotThe score Precision is 0.99&quot,
                               name=&quotScore is greater than 0.5&quot)</a>,
        equal_condition_result(is_pass=False,
                               details=&quotThe score Precision is 0.99&quot,
                               name=&quotScore is less or equal to 0.2&quot))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-f57553c978b911bfc8b85c3a4c5fe5b7bf5097932ea3eef03ae38c6e1ca80b72L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680502</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/single_dataset_scalar_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_classification_w_params(3)</div><div id='n_method'> N Method Name: test_classification_w_params(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/single_dataset_scalar_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/single_dataset_scalar_performance_test.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 67</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mnist_dataset_test, mock_trained_mnist,
                       device=device)

    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass, is_(False))


def test_condition_train_test_relative_degradation_not_greater_than_pass(mnist_dataset_train,</code></pre><h3>After Change</h3><pre><code class='java'>
                       device=device)

    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=False,
                               details="Found metrics with scores below threshold:\n["
                                       "{&quotClass&quot: &quot2&quot, &quotMetric&quot: &quotr&quot, &quotScore&quot: &quot0.99&quot}, "
                                       "{&quotClass&quot: &quot1&quot, &quotMetric&quot: &quotr&quot, &quotScore&quot: &quot0.99&quot}, "
                                       "{&quotClass&quot: &quot2&quot, &quotMetric&quot: &quotp&quot, &quotScore&quot: &quot0.98&quot}, "
                                       "{&quotClass&quot: &quot1&quot, &quotMetric&quot: &quotp&quot, &quotScore&quot: &quot0.98&quot}]",
                               name=&quotScores are greater than 1&quot)</a>)
    )

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-90383f8c5a45587cfcc478814008a3ba4debcaa8a8d6b27641b7738a4d319f1fL159' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680506</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_condition_test_performance_not_less_than_fail(4)</div><div id='n_method'> N Method Name: test_condition_test_performance_not_less_than_fail(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_start'> M Start Line: 169</div><div id='m_end'> M End Line: 172</div><div id='n_start'> N Start Line: 174</div><div id='n_end'> N End Line: 184</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mnist_dataset_test, mock_trained_mnist,
                       device=device)

    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass, is_(False))


def test_condition_class_performance_imbalance_ratio_not_greater_than(mnist_dataset_train,</code></pre><h3>After Change</h3><pre><code class='java'>
                       device=device)

    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=False,
                               details=&quot10 classes scores failed. Found max degradation of 0.86% for metric Precision &quot
                                       &quotand class 5&quot,
                               name=&quotTrain-Test scores relative degradation is less than 0.0001&quot)</a>)
    )

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-90383f8c5a45587cfcc478814008a3ba4debcaa8a8d6b27641b7738a4d319f1fL189' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680504</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_condition_train_test_relative_degradation_not_greater_than_fail(4)</div><div id='n_method'> N Method Name: test_condition_train_test_relative_degradation_not_greater_than_fail(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_start'> M Start Line: 198</div><div id='m_end'> M End Line: 201</div><div id='n_start'> N Start Line: 215</div><div id='n_end'> N End Line: 222</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mnist_dataset_test, mock_trained_mnist,
                       device=device)

    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass, is_(False))


def test_custom_task(mnist_train_custom_task, mnist_test_custom_task, device, mock_trained_mnist):</code></pre><h3>After Change</h3><pre><code class='java'>
                       device=device)

    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=False,
                               details=&quotRelative ratio difference between highest and lowest in Test dataset classes &quot
                                       &quotis 1.78%, using Precision metric. Lowest class - 7: 0.97; Highest class - 8: &quot
                                       &quot0.99\nRelative ratio difference between highest and lowest in Train dataset &quot
                                       &quotclasses is 3.78%, using Precision metric. Lowest class - 9: 0.96; Highest class&quot
                                       &quot - 6: 0.99&quot,
                               name=&quotRelative ratio difference between labels \&quotPrecision\&quot score is less than 0.01%&quot)</a>)
    )

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-90383f8c5a45587cfcc478814008a3ba4debcaa8a8d6b27641b7738a4d319f1fL219' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680505</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_condition_class_performance_imbalance_ratio_not_greater_than_fail(4)</div><div id='n_method'> N Method Name: test_condition_class_performance_imbalance_ratio_not_greater_than_fail(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_start'> M Start Line: 228</div><div id='m_end'> M End Line: 231</div><div id='n_start'> N Start Line: 258</div><div id='n_end'> N End Line: 268</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mnist_dataset_test, mock_trained_mnist,
                       device=device)

    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass, is_(True))


def test_condition_class_performance_imbalance_ratio_not_greater_than_fail(mnist_dataset_train,</code></pre><h3>After Change</h3><pre><code class='java'>
                       device=device)

    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=True,
                               details=&quotRelative ratio difference between highest and lowest in Test dataset classes &quot
                                       &quotis 1.78%, using Precision metric. Lowest class - 7: 0.97; Highest class - 8: &quot
                                       &quot0.99\nRelative ratio difference between highest and lowest in Train dataset &quot
                                       &quotclasses is 3.78%, using Precision metric. Lowest class - 9: 0.96; Highest class&quot
                                       &quot - 6: 0.99&quot,
                               name=&quotRelative ratio difference between labels \&quotPrecision\&quot score is less than 50%&quot)</a>)
    )

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-90383f8c5a45587cfcc478814008a3ba4debcaa8a8d6b27641b7738a4d319f1fL204' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680510</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_condition_class_performance_imbalance_ratio_not_greater_than(4)</div><div id='n_method'> N Method Name: test_condition_class_performance_imbalance_ratio_not_greater_than(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_start'> M Start Line: 213</div><div id='m_end'> M End Line: 216</div><div id='n_start'> N Start Line: 235</div><div id='n_end'> N End Line: 245</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mnist_dataset_test, mock_trained_mnist,
                       device=device)

    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass, is_(True))


def test_condition_train_test_relative_degradation_not_greater_than_fail(mnist_dataset_train,</code></pre><h3>After Change</h3><pre><code class='java'>
                       device=device)

    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=True,
                               details=&quotFound max degradation of 0.0033% for metric Recall and class 1&quot,
                               name=&quotTrain-Test scores relative degradation is less than 0.1&quot)</a>)
    )

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-90383f8c5a45587cfcc478814008a3ba4debcaa8a8d6b27641b7738a4d319f1fL175' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680508</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_condition_train_test_relative_degradation_not_greater_than_pass(4)</div><div id='n_method'> N Method Name: test_condition_train_test_relative_degradation_not_greater_than_pass(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_start'> M Start Line: 183</div><div id='m_end'> M End Line: 186</div><div id='n_start'> N Start Line: 196</div><div id='n_end'> N End Line: 202</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    result = check.run(mnist_dataset_train, mnist_dataset_test, mock_trained_mnist,
                       device=device)

    assert_that(<a id="change">result.conditions_results[0]</a>.is_pass, is_(False))


def test_condition_test_performance_not_less_than_fail(mnist_dataset_train,</code></pre><h3>After Change</h3><pre><code class='java'>
                       device=device)

    assert_that(result.conditions_results, has_items(
        <a id="change">equal_condition_result(is_pass=True,
                               details=&quotFound minimum score for Precision metric of value 0.98 for class 1&quot,
                               name=&quotScores are greater than 0.5&quot)</a>)
    )

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/8b330001153469ac967c94c3f2bb84c1709fd0a5#diff-90383f8c5a45587cfcc478814008a3ba4debcaa8a8d6b27641b7738a4d319f1fL145' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 76680509</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 8b330001153469ac967c94c3f2bb84c1709fd0a5</div><div id='time'> Time: 2022-06-12</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_condition_test_performance_not_less_than_pass(4)</div><div id='n_method'> N Method Name: test_condition_test_performance_not_less_than_pass(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='n_file'> N File Name: tests/vision/checks/model_evaluation/class_performance_test.py</div><div id='m_start'> M Start Line: 153</div><div id='m_end'> M End Line: 156</div><div id='n_start'> N Start Line: 154</div><div id='n_end'> N End Line: 160</div><BR>