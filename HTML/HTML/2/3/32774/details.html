<html><h3>Pattern ID :32774
</h3><img src='95165005.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    for i in range(1,A.shape[0]-1):
        for j in range(1, A.shape[1]-1):
            pixels = A[i-1:i+2,j-1:j+2].ravel()
            pixels = <a id="change">pixels.copy()</a>
            pixels.sort()
            B[i,j] = pixels[r]
    return B[1:-1,1:-1]
def test_rank_filter():</code></pre><h3>After Change</h3><pre><code class='java'>
        for j in range(A.shape[1]):
            s0 = max(0, i - 1)
            s1 = max(0, j - 1)
            e0 = <a id="change">min(</a>A.shape[0], i<a id="change"> + </a>2<a id="change">)</a>
            e1 = min(A.shape[1], j + 2)
            pixels = list(A[s0:e0, s1:e1].ravel())
            pixels.extend([0] * (9-len(pixels)))
            pixels.sort()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/luispedro/mahotas/commit/3035cc365d6a2d4a379212b158eb577cdd2bd39c#diff-1c57586b8ddf1483624b5a05a61a39071e979b3d29892d92ec74d099aa0f813eL13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95165005</div><div id='project'> Project Name: luispedro/mahotas</div><div id='commit'> Commit Name: 3035cc365d6a2d4a379212b158eb577cdd2bd39c</div><div id='time'> Time: 2012-11-28</div><div id='author'> Author: luis@luispedro.org</div><div id='file'> File Name: mahotas/tests/test_median_filter.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _slow_rank_filter(2)</div><div id='n_method'> N Method Name: _slow_rank_filter(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: mahotas/tests/test_median_filter.py</div><div id='n_file'> N File Name: mahotas/tests/test_median_filter.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 19</div><div id='n_start'> N Start Line: 13</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def gridplot_images(imgs: list, label:str, save=False):
    imgs_used = <a id="change">imgs.copy()</a>
    &#47&#47 Randomly sample 25
    if len(imgs) &gt; 25:
        imgs_used = random.sample(imgs_used, 25)
    nrows, ncols = 5, 5  &#47&#47 array of sub-plots</code></pre><h3>After Change</h3><pre><code class='java'>
        fig.suptitle(fig_title)

    &#47&#47 Remove space between subplots
    for j in range(<a id="change">min(</a>100, nrows<a id="change">*</a>ncols<a id="change">)</a>):
        plt.tight_layout(pad=0)

    if save:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/stan-hua/cytoimagenet/commit/8fa959d18853b8ecb160c093290ef644e70af0be#diff-f5b995cfc462b3f597be8f1c2b7ad19c4753934ad1f271dc8f0584355776d5b2L73' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95165002</div><div id='project'> Project Name: stan-hua/cytoimagenet</div><div id='commit'> Commit Name: 8fa959d18853b8ecb160c093290ef644e70af0be</div><div id='time'> Time: 2021-08-28</div><div id='author'> Author: stanley.hua@mail.utoronto.ca</div><div id='file'> File Name: scripts/visualize_classes.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: gridplot_images(4)</div><div id='n_method'> N Method Name: gridplot_images(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/visualize_classes.py</div><div id='n_file'> N File Name: scripts/visualize_classes.py</div><div id='m_start'> M Start Line: 73</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 78</div><div id='n_end'> N End Line: 105</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        input_token_field = token_field
        input_text_field = input_spec[input_token_field].parent  &#47&#47 pytype: disable=attribute-error
        counterfactual = copy.deepcopy(example)
        modified_tokens = <a id="change">copy.copy(</a>tokens<a id="change">)</a>
        for j in token_idxs:
          modified_tokens[j] = replacement_tokens[j]
        counterfactual[input_token_field] = modified_tokens
        &#47&#47 TODO(iftenney, bastings): call a model-provided detokenizer here?</code></pre><h3>After Change</h3><pre><code class='java'>
      if drop_tokens:
        &#47&#47 Update max_flips so that it is at most len(tokens) - 1 (we don&quott
        &#47&#47 want to drop all tokens!)
        max_flips = <a id="change">min(</a>len(tokens)<a id="change">-</a>1, max_flips<a id="change">)</a>
      else:
        &#47&#47 Identify replacement tokens.
        &#47&#47 We take a dot product of each input token gradient (grads) with the
        &#47&#47 embedding table (embed) and pick the argmin embedding.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pair-code/lit/commit/27c7f5991315e90e674c71ec2bea7afbe35eb138#diff-41eb7113846ed4c4535652386dad9255695323df8ef1054ac4d7a17fb493d925L100' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95165014</div><div id='project'> Project Name: pair-code/lit</div><div id='commit'> Commit Name: 27c7f5991315e90e674c71ec2bea7afbe35eb138</div><div id='time'> Time: 2021-04-21</div><div id='author'> Author: ataly@google.com</div><div id='file'> File Name: lit_nlp/components/hotflip.py</div><div id='m_class'> M Class Name: HotFlip</div><div id='n_method'> N Class Name: HotFlip</div><div id='m_method'> M Method Name: generate(5)</div><div id='n_method'> N Method Name: generate(5)</div><div id='m_parent_class'> M Parent Class: lit_components.Generator</div><div id='n_parent_class'> N Parent Class: lit_components.Generator</div><div id='m_file'> M File Name: lit_nlp/components/hotflip.py</div><div id='n_file'> N File Name: lit_nlp/components/hotflip.py</div><div id='m_start'> M Start Line: 165</div><div id='m_end'> M End Line: 225</div><div id='n_start'> N Start Line: 122</div><div id='n_end'> N End Line: 249</div><BR>