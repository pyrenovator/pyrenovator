<html><h3>Pattern ID :14548
</h3><img src='47902962.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                break

        if not has_annotations:
            <a id="change">return </a><a id="change">datasets.Dataset.from_dict(</a>{}<a id="change">)</a>

        class_tags = ["O"]
        class_tags.extend(
            [</code></pre><h3>After Change</h3><pre><code class='java'>
            raise ValueError(
                "Please provide a spacy language model to prepare the dataset for training with the spacy framework."
            )
        <a id="change">return </a>self._prepare_for_training_with_spacy(nlp=lang)

    @_requires_datasets
    def _prepare_for_training_with_transformers(self):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/recognai/rubrix/commit/85878087144723695568ebde0d04e16fc9de3c1c#diff-a61b31bccfa74d94f686dc19d055112f419a2a0c535a55891361b7e1cf030b11L766' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47902962</div><div id='project'> Project Name: recognai/rubrix</div><div id='commit'> Commit Name: 85878087144723695568ebde0d04e16fc9de3c1c</div><div id='time'> Time: 2022-08-22</div><div id='author'> Author: francisco@recogn.ai</div><div id='file'> File Name: src/rubrix/client/datasets.py</div><div id='m_class'> M Class Name: DatasetForTokenClassification</div><div id='n_method'> N Class Name: DatasetForTokenClassification</div><div id='m_method'> M Method Name: prepare_for_training(3)</div><div id='n_method'> N Method Name: prepare_for_training(1)</div><div id='m_parent_class'> M Parent Class: DatasetBase</div><div id='n_parent_class'> N Parent Class: DatasetBase</div><div id='m_file'> M File Name: src/rubrix/client/datasets.py</div><div id='n_file'> N File Name: src/rubrix/client/datasets.py</div><div id='m_start'> M Start Line: 766</div><div id='m_end'> M End Line: 842</div><div id='n_start'> N Start Line: 793</div><div id='n_end'> N End Line: 854</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        for r in response.parsed:
            for item, value in r.items():
                data[item].append(value)
        <a id="change">return </a><a id="change">datasets.Dataset.from_dict(</a>data<a id="change">)</a>

    def snapshots(self, dataset: str) -&gt; List[models.DatasetSnapshot]:
        
        Retrieves created snapshots for given dataset</code></pre><h3>After Change</h3><pre><code class='java'>
            response = _get_dataset_data.sync_detailed(client=self._client, name=name)

        _check_response_errors(response)
        <a id="change">return </a>pandas.DataFrame(response.parsed)

    def snapshots(self, dataset: str) -&gt; List[models.DatasetSnapshot]:
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/recognai/rubrix/commit/74174ca1233b1d405c6e720b9126e4f5e246ba22#diff-d20401640b99530f47a19433d5b6491c1a612c9c449ae2661b3d42683a5e564aL182' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47902963</div><div id='project'> Project Name: recognai/rubrix</div><div id='commit'> Commit Name: 74174ca1233b1d405c6e720b9126e4f5e246ba22</div><div id='time'> Time: 2021-04-07</div><div id='author'> Author: francisco@recogn.ai</div><div id='file'> File Name: src/rubrix/client/__init__.py</div><div id='m_class'> M Class Name: RubrixClient</div><div id='n_method'> N Class Name: RubrixClient</div><div id='m_method'> M Method Name: load(4)</div><div id='n_method'> N Method Name: load(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/rubrix/client/__init__.py</div><div id='n_file'> N File Name: src/rubrix/client/__init__.py</div><div id='m_start'> M Start Line: 210</div><div id='m_end'> M End Line: 214</div><div id='n_start'> N Start Line: 209</div><div id='n_end'> N End Line: 209</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        hits = next(self.losses_iter)
        dummy_1 = {side: {rank_type: 10.0 for rank_type in RANK_TYPES} for side in SIDES}
        dummy_2 = {side: {rank_type: 1.0 for rank_type in RANK_TYPES} for side in SIDES}
        <a id="change">return </a><a id="change">RankBasedMetricResults.from_dict(
            arithmetic_mean_rank=dummy_1,
            geometric_mean_rank=dummy_1,
            harmonic_mean_rank=dummy_1,
            median_rank=dummy_1,
            inverse_arithmetic_mean_rank=dummy_2,
            inverse_harmonic_mean_rank=dummy_2,
            inverse_geometric_mean_rank=dummy_2,
            inverse_median_rank=dummy_2,
            adjusted_arithmetic_mean_rank=dummy_2,
            adjusted_arithmetic_mean_rank_index={
                side: {
                    RANK_REALISTIC: 0.0,
                }
                for side in SIDES
            },
            rank_count={side: {rank_type: 1 for rank_type in RANK_TYPES} for side in SIDES},
            rank_std=dummy_1,
            rank_var=dummy_1,
            rank_mad=dummy_1,
            hits_at_k={
                side: {
                    rank_type: {
                        10: hits,
                    }
                    for rank_type in RANK_TYPES
                }
                for side in SIDES
            },
        )</a>

    def __repr__(self):  &#47&#47 noqa: D105
        return f"{self.__class__.__name__}(losses={self.losses})"
</code></pre><h3>After Change</h3><pre><code class='java'>
        if self.key not in result.data:
            raise KeyError(self.key)
        result.data[self.key] = next(self.values_iter)
        <a id="change">return </a>result

    def __repr__(self):  &#47&#47 noqa: D105
        return f"{self.__class__.__name__}(values={self.values})"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/71f0a0d92c997b17c6c171281ea7ffd0e46cc408#diff-748800475c61d5b0bf9591f175094fb7da10cf584892314d85db4bfb2bc73221L49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47902961</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: 71f0a0d92c997b17c6c171281ea7ffd0e46cc408</div><div id='time'> Time: 2022-03-04</div><div id='author'> Author: berrendorf@dbs.ifi.lmu.de</div><div id='file'> File Name: tests/mocks.py</div><div id='m_class'> M Class Name: MockEvaluator</div><div id='n_method'> N Class Name: MockEvaluator</div><div id='m_method'> M Method Name: finalize(1)</div><div id='n_method'> N Method Name: finalize(1)</div><div id='m_parent_class'> M Parent Class: Evaluator</div><div id='n_parent_class'> N Parent Class: Evaluator</div><div id='m_file'> M File Name: tests/mocks.py</div><div id='n_file'> N File Name: tests/mocks.py</div><div id='m_start'> M Start Line: 51</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 67</div><BR>