<html><h3>Pattern ID :3703
</h3><img src='13940806.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Default return value. Erring on the side of caution here by
        &#47&#47 being super verbose.
        <a id="change">return </a>[([]<a id="change">, []</a>)]
</code></pre><h3>After Change</h3><pre><code class='java'>

            &#47&#47 &quotPair off&quot all the indices
            max_index = torch.argmax(x)
            fake_destroyers = <a id="change">torch.empty_like(infinite_pairs).fill_(</a>max_index<a id="change">)</a>

            infinite_pairs = torch.stack(
                (infinite_pairs, fake_destroyers), 1
            )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aidos-lab/pytorch-topological/commit/0dd25924d9fd7691de14281351dcee1edd8cfc26#diff-55e452f337a40ea32b5684b3ef902cea8be96c3dfbf8d1bf1649e99874c84074L74' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13940806</div><div id='project'> Project Name: aidos-lab/pytorch-topological</div><div id='commit'> Commit Name: 0dd25924d9fd7691de14281351dcee1edd8cfc26</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: bastian@rieck.me</div><div id='file'> File Name: torch_topological/nn/cubical.py</div><div id='m_class'> M Class Name: Cubical</div><div id='n_method'> N Class Name: Cubical</div><div id='m_method'> M Method Name: _extract_generators_and_diagrams(4)</div><div id='n_method'> N Method Name: _extract_generators_and_diagrams(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: torch_topological/nn/cubical.py</div><div id='n_file'> N File Name: torch_topological/nn/cubical.py</div><div id='m_start'> M Start Line: 88</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 141</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    tconf = obj_mask.float()

    <a id="change">return </a>iou<a id="change">, class_mask, obj_mask, noobj_mask, tx, ty, tw, th, tcls, tconf, target_boxes</a>

    

</code></pre><h3>After Change</h3><pre><code class='java'>
    th = FloatTensor(nB, nA, nG, nG).fill_(0)
    tcls = FloatTensor(nB, nA, nG, nG, nC).fill_(0)

    target_boxes_grid = <a id="change">FloatTensor(nB, nA, nG, nG, 4).fill_(</a>0<a id="change">)</a>

    &#47&#47 2 3 xy
    &#47&#47 4 5 wf
    &#47&#47 Convert to position relative to box</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/vcasecnikovs/yet-another-yolov4-pytorch/commit/33466abc5efadc3c73206b6667ef31166b8121c3#diff-09d0cbaf891d623ac245ccf84485a687b554217349ca55557c60b33234b969aeL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13940807</div><div id='project'> Project Name: vcasecnikovs/yet-another-yolov4-pytorch</div><div id='commit'> Commit Name: 33466abc5efadc3c73206b6667ef31166b8121c3</div><div id='time'> Time: 2020-05-24</div><div id='author'> Author: casecnikov@gmail.com</div><div id='file'> File Name: utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: build_targets(5)</div><div id='n_method'> N Method Name: build_targets(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: utils.py</div><div id='n_file'> N File Name: utils.py</div><div id='m_start'> M Start Line: 112</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 120</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert inMask.dim() == 4, "mask must be 4 dimensions"
    inMask = inMask.float()
    ntimes = 2**nlayers
    inMask = F.interpolate(inMask, (inMask.size(2)//ntimes<a id="change">, inMask.size(3)//ntimes</a>), mode=&quotnearest&quot)
    inMask = inMask.detach().byte()

    <a id="change">return </a>inMask

def cal_mask_given_mask_thred(img, mask, patch_size, stride, mask_thred):
    assert img.dim() == 3, &quotimg has to be 3 dimenison!&quot</code></pre><h3>After Change</h3><pre><code class='java'>
    inMask = Variable(inMask, requires_grad = False)
    for id_net in range(conv_layers):
        conv = nn.Conv2d(1,1,4,2,1, bias=False)
        <a id="change">conv.weight.data.fill_(</a>1/16<a id="change">)</a>
        convs.append(conv)
    lnet = nn.Sequential(*convs)
    if inMask.is_cuda:
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kumapowerliu/rethinking-inpainting-medfe/commit/17d04d208950c9c4e2e8bc5251cf06205ec15285#diff-d6757ab1e3ffa225bc5e10234856fffd764bbefcce478fc1c4baee1f4c7ef308L76' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 13940808</div><div id='project'> Project Name: kumapowerliu/rethinking-inpainting-medfe</div><div id='commit'> Commit Name: 17d04d208950c9c4e2e8bc5251cf06205ec15285</div><div id='time'> Time: 2020-11-07</div><div id='author'> Author: 33801357+KumapowerLIU@users.noreply.github.com</div><div id='file'> File Name: util/util.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: cal_feat_mask(3)</div><div id='n_method'> N Method Name: cal_feat_mask(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: util/util.py</div><div id='n_file'> N File Name: util/util.py</div><div id='m_start'> M Start Line: 78</div><div id='m_end'> M End Line: 83</div><div id='n_start'> N Start Line: 76</div><div id='n_end'> N End Line: 93</div><BR>