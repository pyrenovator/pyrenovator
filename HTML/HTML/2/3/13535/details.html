<html><h3>Pattern ID :13535
</h3><img src='45593175.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                net.eval()

            logging.info(f&quotEvaluation iteration {iteration}&quot)
            eval_tb_log_dir = f&quot{eval_tb_log_prefix}-{iteration}&quot<a id="change"> if </a>eval_tb_log_prefix is not None<a id="change"> else </a>None

            &#47&#47 Run some evaluation steps.
            eval_stats = run_env_steps(num_eval_frames, eval_agent, eval_env, eval_tb_log_dir)</code></pre><h3>After Change</h3><pre><code class='java'>
    if num_eval_frames &gt; 0 and eval_agent is not None and eval_env is not None:
        should_run_evaluator = True
        eval_tb_log_prefix = get_tb_log_prefix(eval_env.spec.id, eval_agent.agent_name, tag, &quoteval&quot) if tensorboard else None
        eval_trackers<a id="change"> = </a><a id="change">trackers_lib.make_default_trackers(</a>eval_tb_log_prefix<a id="change">)</a>

    &#47&#47 Start training
    for iteration in range(num_iterations):
        &#47&#47 Set netwrok in train mode.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/michaelnny/deep_rl_zoo/commit/a8af5d19164195746a155b1f1d44406640d5242d#diff-eae1662edbfd317ed7cff91b5752e28e501b987d540f6282e30818cbe1d13cc8L483' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45593175</div><div id='project'> Project Name: michaelnny/deep_rl_zoo</div><div id='commit'> Commit Name: a8af5d19164195746a155b1f1d44406640d5242d</div><div id='time'> Time: 2022-10-10</div><div id='author'> Author: michael@Michaels-Mac-mini.local</div><div id='file'> File Name: deep_rl_zoo/main_loop.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_learner(15)</div><div id='n_method'> N Method Name: run_learner(15)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deep_rl_zoo/main_loop.py</div><div id='n_file'> N File Name: deep_rl_zoo/main_loop.py</div><div id='m_start'> M Start Line: 484</div><div id='m_end'> M End Line: 526</div><div id='n_start'> N Start Line: 483</div><div id='n_end'> N End Line: 521</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                net.eval()

            logging.info(f&quotEvaluation iteration {iteration}&quot)
            eval_tb_log_dir = f&quot{eval_tb_log_prefix}-{iteration}&quot<a id="change"> if </a>tensorboard<a id="change"> else </a>None

            &#47&#47 Run some evaluation steps.
            eval_stats = run_env_steps(num_eval_frames, eval_agent, eval_env, eval_tb_log_dir)</code></pre><h3>After Change</h3><pre><code class='java'>
    if num_eval_frames &gt; 0 and eval_agent is not None and eval_env is not None:
        should_run_evaluator = True
        eval_tb_log_prefix = get_tb_log_prefix(eval_env.spec.id, eval_agent.agent_name, tag, &quoteval&quot) if tensorboard else None
        eval_trackers<a id="change"> = </a><a id="change">trackers_lib.make_default_trackers(</a>eval_tb_log_prefix, debug_screenshots_frequency<a id="change">)</a>

    &#47&#47 Start training
    for iteration in range(num_iterations):
        &#47&#47 Set netwrok in train mode.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/michaelnny/deep_rl_zoo/commit/a8af5d19164195746a155b1f1d44406640d5242d#diff-eae1662edbfd317ed7cff91b5752e28e501b987d540f6282e30818cbe1d13cc8L119' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45593172</div><div id='project'> Project Name: michaelnny/deep_rl_zoo</div><div id='commit'> Commit Name: a8af5d19164195746a155b1f1d44406640d5242d</div><div id='time'> Time: 2022-10-10</div><div id='author'> Author: michael@Michaels-Mac-mini.local</div><div id='file'> File Name: deep_rl_zoo/main_loop.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_single_thread_training_iterations(13)</div><div id='n_method'> N Method Name: run_single_thread_training_iterations(13)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deep_rl_zoo/main_loop.py</div><div id='n_file'> N File Name: deep_rl_zoo/main_loop.py</div><div id='m_start'> M Start Line: 170</div><div id='m_end'> M End Line: 208</div><div id='n_start'> N Start Line: 162</div><div id='n_end'> N End Line: 200</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        logging.info(f&quotStarting {actor.agent_name} ...&quot)
        iteration = iteration_count.value
        train_tb_log_dir = f&quot{tb_log_prefix}-{iteration}&quot<a id="change"> if </a>tb_log_prefix is not None<a id="change"> else </a>None

        &#47&#47 Run training steps.
        train_stats = run_env_steps(num_train_frames, actor, actor_env, train_tb_log_dir, debug_screenshots_frequency)</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Listen to signals to exit process.
    handle_exit_signal()

    actor_trackers<a id="change"> = </a><a id="change">trackers_lib.make_default_trackers(</a>tb_log_prefix, debug_screenshots_frequency<a id="change">)</a>

    while not stop_event.is_set():
        &#47&#47 Wait for start training event signal, which is set by the main process.
        if not start_iteration_event.is_set():</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/michaelnny/deep_rl_zoo/commit/a8af5d19164195746a155b1f1d44406640d5242d#diff-eae1662edbfd317ed7cff91b5752e28e501b987d540f6282e30818cbe1d13cc8L347' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 45593169</div><div id='project'> Project Name: michaelnny/deep_rl_zoo</div><div id='commit'> Commit Name: a8af5d19164195746a155b1f1d44406640d5242d</div><div id='time'> Time: 2022-10-10</div><div id='author'> Author: michael@Michaels-Mac-mini.local</div><div id='file'> File Name: deep_rl_zoo/main_loop.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: run_actor(10)</div><div id='n_method'> N Method Name: run_actor(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: deep_rl_zoo/main_loop.py</div><div id='n_file'> N File Name: deep_rl_zoo/main_loop.py</div><div id='m_start'> M Start Line: 400</div><div id='m_end'> M End Line: 403</div><div id='n_start'> N Start Line: 390</div><div id='n_end'> N End Line: 401</div><BR>