<html><h3>Pattern ID :15660
</h3><img src='53007021.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def bind(self, other: "HRR") -&gt; "HRR":
        result = ifft(torch.mul(fft(self), fft(other)))
        <a id="change">return </a>result.real

    def multibind(self) -&gt; "HRR":
        result = ifft(torch.prod(fft(self), dim=-2, dtype=self.dtype))</code></pre><h3>After Change</h3><pre><code class='java'>

        
        result = ifft(torch.mul(fft(self), fft(other)))
        <a id="change">return </a><a id="change">torch.real(</a>result<a id="change">)</a>

    def multibind(self) -&gt; "HRR":
        Bind multiple hypervectors
        result = ifft(torch.prod(fft(self), dim=-2, dtype=self.dtype))</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hyperdimensional-computing/torchhd/commit/f7eb84a59c1a1ccec7ae077d8663ac2d7bad1fc7#diff-b1f2721429f656f667c5c3f7de894854ee688dbe9038a41d5763659d3dd7f752L108' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53007021</div><div id='project'> Project Name: hyperdimensional-computing/torchhd</div><div id='commit'> Commit Name: f7eb84a59c1a1ccec7ae077d8663ac2d7bad1fc7</div><div id='time'> Time: 2023-01-12</div><div id='author'> Author: mikeheddes@gmail.com</div><div id='file'> File Name: torchhd/hrr.py</div><div id='m_class'> M Class Name: HRR</div><div id='n_method'> N Class Name: HRR</div><div id='m_method'> M Method Name: bind(2)</div><div id='n_method'> N Method Name: bind(2)</div><div id='m_parent_class'> M Parent Class: VSA_Model</div><div id='n_parent_class'> N Parent Class: VSA_Model</div><div id='m_file'> M File Name: torchhd/hrr.py</div><div id='n_file'> N File Name: torchhd/hrr.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 246</div><div id='n_end'> N End Line: 247</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            return self.start_lr * (cur_iter / self.warmup_steps)
        else:
            curr_lr = self.start_lr * ((1 - float(cur_iter) / self.total_iters) ** self.lr_power)
            <a id="change">return </a>curr_lr if curr_lr &gt; self.min_lr else self.min_lr


class MultiStageLR(BaseLR):</code></pre><h3>After Change</h3><pre><code class='java'>
            return self.start_lr * (cur_iter / self.warmup_steps)
        else:
            curr_lr = self.start_lr * ((1 - float(cur_iter) / self.total_iters) ** self.lr_power)
            <a id="change">return </a><a id="change">numpy.real(</a>numpy.clip(curr_lr, a_min=self.end_lr, a_max=self.start_lr)<a id="change">)</a>


class MultiStageLR(BaseLR):
    def __init__(self, lr_stages):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tianyu0207/pebal/commit/14194a976680a6a556be013d63888eafb250df9a#diff-ee919ba20535aee87d026d8f1115298913ff24e1d665c8c312c8b9f9d36f7353L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53007022</div><div id='project'> Project Name: tianyu0207/pebal</div><div id='commit'> Commit Name: 14194a976680a6a556be013d63888eafb250df9a</div><div id='time'> Time: 2022-07-03</div><div id='author'> Author: 102338056+yyliu01@users.noreply.github.com</div><div id='file'> File Name: code/engine/lr_policy.py</div><div id='m_class'> M Class Name: WarmUpPolyLR</div><div id='n_method'> N Class Name: WarmUpPolyLR</div><div id='m_method'> M Method Name: get_lr(2)</div><div id='n_method'> N Method Name: get_lr(2)</div><div id='m_parent_class'> M Parent Class: BaseLR</div><div id='n_parent_class'> N Parent Class: BaseLR</div><div id='m_file'> M File Name: code/engine/lr_policy.py</div><div id='n_file'> N File Name: code/engine/lr_policy.py</div><div id='m_start'> M Start Line: 41</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 41</div><div id='n_end'> N End Line: 42</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def multibind(self) -&gt; "HRR":
        result = ifft(torch.prod(fft(self), dim=-2, dtype=self.dtype))
        <a id="change">return </a>result.real

    def inverse(self) -&gt; "HRR":
        return self.flip(dims=(-1,)).roll(1, dims=-1)</code></pre><h3>After Change</h3><pre><code class='java'>
    def multibind(self) -&gt; "HRR":
        Bind multiple hypervectors
        result = ifft(torch.prod(fft(self), dim=-2, dtype=self.dtype))
        <a id="change">return </a><a id="change">torch.real(</a>result<a id="change">)</a>

    def exact_inverse(self) -&gt; "HRR":
        Unstable, but exact, inverse
        result = ifft(1.0 / fft(self).conj())</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hyperdimensional-computing/torchhd/commit/f7eb84a59c1a1ccec7ae077d8663ac2d7bad1fc7#diff-b1f2721429f656f667c5c3f7de894854ee688dbe9038a41d5763659d3dd7f752L111' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53007023</div><div id='project'> Project Name: hyperdimensional-computing/torchhd</div><div id='commit'> Commit Name: f7eb84a59c1a1ccec7ae077d8663ac2d7bad1fc7</div><div id='time'> Time: 2023-01-12</div><div id='author'> Author: mikeheddes@gmail.com</div><div id='file'> File Name: torchhd/hrr.py</div><div id='m_class'> M Class Name: HRR</div><div id='n_method'> N Class Name: HRR</div><div id='m_method'> M Method Name: multibind(1)</div><div id='n_method'> N Method Name: multibind(1)</div><div id='m_parent_class'> M Parent Class: VSA_Model</div><div id='n_parent_class'> N Parent Class: VSA_Model</div><div id='m_file'> M File Name: torchhd/hrr.py</div><div id='n_file'> N File Name: torchhd/hrr.py</div><div id='m_start'> M Start Line: 112</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 251</div><div id='n_end'> N End Line: 252</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return result.real

    def inverse(self) -&gt; "HRR":
        <a id="change">return </a>self.flip(dims=(-1,)).roll(1, dims=-1)

    def negative(self) -&gt; "HRR":
        return torch.negative(self)</code></pre><h3>After Change</h3><pre><code class='java'>

        
        result = ifft(fft(self).conj())
        <a id="change">return </a><a id="change">torch.real(</a>result<a id="change">)</a>

    def negative(self) -&gt; "HRR":
        rNegate the hypervector for the bundling inverse.
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hyperdimensional-computing/torchhd/commit/f7eb84a59c1a1ccec7ae077d8663ac2d7bad1fc7#diff-b1f2721429f656f667c5c3f7de894854ee688dbe9038a41d5763659d3dd7f752L115' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 53007024</div><div id='project'> Project Name: hyperdimensional-computing/torchhd</div><div id='commit'> Commit Name: f7eb84a59c1a1ccec7ae077d8663ac2d7bad1fc7</div><div id='time'> Time: 2023-01-12</div><div id='author'> Author: mikeheddes@gmail.com</div><div id='file'> File Name: torchhd/hrr.py</div><div id='m_class'> M Class Name: HRR</div><div id='n_method'> N Class Name: HRR</div><div id='m_method'> M Method Name: inverse(1)</div><div id='n_method'> N Method Name: inverse(1)</div><div id='m_parent_class'> M Parent Class: VSA_Model</div><div id='n_parent_class'> N Parent Class: VSA_Model</div><div id='m_file'> M File Name: torchhd/hrr.py</div><div id='n_file'> N File Name: torchhd/hrr.py</div><div id='m_start'> M Start Line: 116</div><div id='m_end'> M End Line: 116</div><div id='n_start'> N Start Line: 284</div><div id='n_end'> N End Line: 285</div><BR>