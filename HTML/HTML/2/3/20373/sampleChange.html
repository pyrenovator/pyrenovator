<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Create graph:
        create_colorbar_barchart_for_check(x=s_difference.index, y=s_difference.values, ylabel=&quotPPS Difference&quot)

    text<a id="change"> = </a><a id="change">[</a>&quotThe PPS represents the ability of a feature to single-handedly predict another feature or label.&quot,
            &quotA high PPS (close to 1) can mean that this feature\&quots success in predicting the label is actually due to &quot
            &quotdata&quot,
            &quotleakage - meaning that the feature holds information that is based on the label to begin with.&quot,
            &quot&quot,
            &quotWhen we compare train PPS to validation PPS, A high difference can strongly indicate leakage, as a &quot
            &quotfeature&quot,
            &quotthat was powerful in train but not in validation can be explained by leakage in train that does not &quot
            &quotaffect a new dataset.&quot<a id="change"></a>]

    return CheckResult(value=s_difference.to_dict(), display=[plot, *text], check=self,
                       header=&quotSingle Feature Contribution Train-Validation&quot)</code></pre><h3>After Change</h3><pre><code class='java'>

    s_difference = s_pps_train - s_pps_validation
    s_difference = s_difference.apply(lambda x: 0 if x &lt; 0 else x)
    s_difference = <a id="change">s_difference.sort_values(ascending=False)</a>.head(n_show_top)

    def plot():
        &#47&#47 Create graph:</code></pre>