<html><h3>Pattern ID :33267
</h3><img src='96010833.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.roformer = roformer
        self.num_choices = num_choices
        self.dropout = nn.Dropout(dropout if dropout is not None else self.roformer.config["hidden_dropout_prob"])
        self.classifier = nn.Linear(<a id="change">self.roformer.config["hidden_size"]</a>, 1)

        self.apply(self.init_weights)
</code></pre><h3>After Change</h3><pre><code class='java'>

    def __init__(self, config: RoFormerConfig):
        super().__init__(config)
        self.roformer = <a id="change">RoFormerModel(</a>config<a id="change">)</a>
        self.num_choices = config.num_choices
        self.dropout = nn.Dropout(
            config.classifier_dropout if config.classifier_dropout is not None else config.hidden_dropout_prob
        )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/8a5841015fd3fa92fc426c3683cd39f50669088f#diff-2273f38e112551b5dddaf10ac63218368f597efdfdf114d978dddb448c543ce7L937' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 96010833</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 8a5841015fd3fa92fc426c3683cd39f50669088f</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: 50394665+JunnYu@users.noreply.github.com</div><div id='file'> File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_class'> M Class Name: RoFormerForMultipleChoice</div><div id='n_method'> N Class Name: RoFormerForMultipleChoice</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: RoFormerPretrainedModel</div><div id='n_parent_class'> N Parent Class: RoFormerPretrainedModel</div><div id='m_file'> M File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='n_file'> N File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_start'> M Start Line: 1085</div><div id='m_end'> M End Line: 1091</div><div id='n_start'> N Start Line: 937</div><div id='n_end'> N End Line: 944</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__()
        self.num_classes = num_classes
        self.roformer = roformer  &#47&#47 allow roformer to be config
        self.dropout = nn.Dropout(dropout if dropout is not None else <a id="change">self.roformer.config["hidden_dropout_prob"]</a>)
        self.classifier = nn.Linear(self.roformer.config["hidden_size"], num_classes)
        self.apply(self.init_weights)
</code></pre><h3>After Change</h3><pre><code class='java'>

    def __init__(self, config: RoFormerConfig):
        super().__init__(config)
        self.roformer = <a id="change">RoFormerModel(</a>config<a id="change">)</a>
        self.num_labels = config.num_labels
        self.dropout = nn.Dropout(
            config.classifier_dropout if config.classifier_dropout is not None else config.hidden_dropout_prob
        )</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/8a5841015fd3fa92fc426c3683cd39f50669088f#diff-2273f38e112551b5dddaf10ac63218368f597efdfdf114d978dddb448c543ce7L977' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 96010824</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 8a5841015fd3fa92fc426c3683cd39f50669088f</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: 50394665+JunnYu@users.noreply.github.com</div><div id='file'> File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_class'> M Class Name: RoFormerForTokenClassification</div><div id='n_method'> N Class Name: RoFormerForTokenClassification</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: RoFormerPretrainedModel</div><div id='n_parent_class'> N Parent Class: RoFormerPretrainedModel</div><div id='m_file'> M File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='n_file'> N File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_start'> M Start Line: 977</div><div id='m_end'> M End Line: 982</div><div id='n_start'> N Start Line: 832</div><div id='n_end'> N End Line: 839</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__()
        self.roformer = roformer
        self.cls = RoFormerOnlyMLMHead(
            <a id="change">self.roformer.config["embedding_size"]</a>,
            self.roformer.config["hidden_size"],
            self.roformer.config["vocab_size"],
            self.roformer.config["hidden_act"],</code></pre><h3>After Change</h3><pre><code class='java'>

    def __init__(self, config: RoFormerConfig):
        super().__init__(config)
        self.roformer = <a id="change">RoFormerModel(</a>config<a id="change">)</a>
        self.cls = RoFormerOnlyMLMHead(
            config.embedding_size,
            config.hidden_size,
            config.vocab_size,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/8a5841015fd3fa92fc426c3683cd39f50669088f#diff-2273f38e112551b5dddaf10ac63218368f597efdfdf114d978dddb448c543ce7L1332' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 96010827</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 8a5841015fd3fa92fc426c3683cd39f50669088f</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: 50394665+JunnYu@users.noreply.github.com</div><div id='file'> File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_class'> M Class Name: RoFormerForCausalLM</div><div id='n_method'> N Class Name: RoFormerForCausalLM</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: RoFormerPretrainedModel</div><div id='n_parent_class'> N Parent Class: RoFormerPretrainedModel</div><div id='m_file'> M File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='n_file'> N File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_start'> M Start Line: 1332</div><div id='m_end'> M End Line: 1339</div><div id='n_start'> N Start Line: 1186</div><div id='n_end'> N End Line: 1193</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.cls = RoFormerOnlyMLMHead(
            self.roformer.config["embedding_size"],
            self.roformer.config["hidden_size"],
            <a id="change">self.roformer.config["vocab_size"]</a>,
            self.roformer.config["hidden_act"],
            embedding_weights=self.roformer.embeddings.word_embeddings.weight,
        )</code></pre><h3>After Change</h3><pre><code class='java'>

    def __init__(self, config: RoFormerConfig):
        super().__init__(config)
        self.roformer = <a id="change">RoFormerModel(</a>config<a id="change">)</a>
        self.cls = RoFormerOnlyMLMHead(
            config.embedding_size,
            config.hidden_size,
            config.vocab_size,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/8a5841015fd3fa92fc426c3683cd39f50669088f#diff-2273f38e112551b5dddaf10ac63218368f597efdfdf114d978dddb448c543ce7L1221' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 96010832</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 8a5841015fd3fa92fc426c3683cd39f50669088f</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: 50394665+JunnYu@users.noreply.github.com</div><div id='file'> File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_class'> M Class Name: RoFormerForMaskedLM</div><div id='n_method'> N Class Name: RoFormerForMaskedLM</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(2)</div><div id='m_parent_class'> M Parent Class: RoFormerPretrainedModel</div><div id='n_parent_class'> N Parent Class: RoFormerPretrainedModel</div><div id='m_file'> M File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='n_file'> N File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_start'> M Start Line: 1221</div><div id='m_end'> M End Line: 1228</div><div id='n_start'> N Start Line: 1074</div><div id='n_end'> N End Line: 1081</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __init__(self, roformer, dropout=None):
        super().__init__()
        self.roformer = roformer  &#47&#47 allow roformer to be config
        self.dropout = nn.Dropout(dropout if dropout is not None else <a id="change">self.roformer.config["hidden_dropout_prob"]</a>)
        self.classifier = nn.Linear(self.roformer.config["hidden_size"], 2)
        self.apply(self.init_weights)
</code></pre><h3>After Change</h3><pre><code class='java'>

    def __init__(self, config: RoFormerConfig):
        super().__init__(config)
        self.roformer = <a id="change">RoFormerModel(</a>config<a id="change">)</a>
        self.dropout = nn.Dropout(
            config.classifier_dropout if config.classifier_dropout is not None else config.hidden_dropout_prob
        )
        self.classifier = nn.Linear(config.hidden_size, 2)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/8a5841015fd3fa92fc426c3683cd39f50669088f#diff-2273f38e112551b5dddaf10ac63218368f597efdfdf114d978dddb448c543ce7L731' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 96010835</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 8a5841015fd3fa92fc426c3683cd39f50669088f</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: 50394665+JunnYu@users.noreply.github.com</div><div id='file'> File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_class'> M Class Name: RoFormerForQuestionAnswering</div><div id='n_method'> N Class Name: RoFormerForQuestionAnswering</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: RoFormerPretrainedModel</div><div id='n_parent_class'> N Parent Class: RoFormerPretrainedModel</div><div id='m_file'> M File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='n_file'> N File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_start'> M Start Line: 731</div><div id='m_end'> M End Line: 735</div><div id='n_start'> N Start Line: 592</div><div id='n_end'> N End Line: 598</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.num_classes = num_classes
        self.roformer = roformer  &#47&#47 allow roformer to be config
        self.dropout = nn.Dropout(dropout if dropout is not None else self.roformer.config["hidden_dropout_prob"])
        self.classifier = nn.Linear(<a id="change">self.roformer.config["hidden_size"]</a>, num_classes)
        self.apply(self.init_weights)

    def forward(</code></pre><h3>After Change</h3><pre><code class='java'>
    def __init__(self, config: RoFormerConfig):
        super().__init__(config)
        self.num_labels = config.num_labels
        self.roformer = <a id="change">RoFormerModel(</a>config<a id="change">)</a>
        self.dropout = nn.Dropout(
            config.classifier_dropout if config.classifier_dropout is not None else config.hidden_dropout_prob
        )
        self.classifier = nn.Linear(config.hidden_size, config.num_labels)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/paddlepaddle/paddlenlp/commit/8a5841015fd3fa92fc426c3683cd39f50669088f#diff-2273f38e112551b5dddaf10ac63218368f597efdfdf114d978dddb448c543ce7L859' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 96010834</div><div id='project'> Project Name: paddlepaddle/paddlenlp</div><div id='commit'> Commit Name: 8a5841015fd3fa92fc426c3683cd39f50669088f</div><div id='time'> Time: 2023-03-23</div><div id='author'> Author: 50394665+JunnYu@users.noreply.github.com</div><div id='file'> File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_class'> M Class Name: RoFormerForSequenceClassification</div><div id='n_method'> N Class Name: RoFormerForSequenceClassification</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: RoFormerPretrainedModel</div><div id='n_parent_class'> N Parent Class: RoFormerPretrainedModel</div><div id='m_file'> M File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='n_file'> N File Name: paddlenlp/transformers/roformer/modeling.py</div><div id='m_start'> M Start Line: 859</div><div id='m_end'> M End Line: 864</div><div id='n_start'> N Start Line: 718</div><div id='n_end'> N End Line: 725</div><BR>