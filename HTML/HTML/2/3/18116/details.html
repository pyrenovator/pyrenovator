<html><h3>Pattern ID :18116
</h3><img src='59398634.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    env = GymEnvironment(env_id)
    if args.use_BC:
        p = <a id="change">re.compile(</a>"_(.*)__"<a id="change">)</a>
        agent_name = p.search(os.path.basename(os.path.dirname(args.dir))).group(1)
        agent_fn = getattr(continuous, agent_name)(device=args.device)
        agent = GreedyAgent.load_BC(args.dir, agent_fn, env, device=args.device)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
    parser.add_argument("--save_buffer", action="store_true")
    args = parser.parse_args()

    <a id="change">if args.dir[-1] != "/"</a>:
        args.dir += "/"
    env_id = args.dir.split("/")[-3]
    env = GymEnvironment(env_id)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/syuntoku14/pytorch-rl-il/commit/3571820cde0c43a8198cb23840c05f1b33afdd3a#diff-4041fb9d2c3e1f42eabeb4674a9a7a5e8895e39f6f98e508308b922eea6774dbL16' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59398634</div><div id='project'> Project Name: syuntoku14/pytorch-rl-il</div><div id='commit'> Commit Name: 3571820cde0c43a8198cb23840c05f1b33afdd3a</div><div id='time'> Time: 2020-03-12</div><div id='author'> Author: syuntoku14@keio.jp</div><div id='file'> File Name: scripts/watch_continuous.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: watch_continuous(0)</div><div id='n_method'> N Method Name: watch_continuous(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/watch_continuous.py</div><div id='n_file'> N File Name: scripts/watch_continuous.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 41</div><div id='n_start'> N Start Line: 30</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        for op_id, op in enumerate(self.operations):
            func_name = f&quotpipeline_stage_{op_id}&quot
            functions[func_name] = <a id="change">Compiler.compile(</a>op.generate_code()<a id="change">)</a>
            dst_name = f"dest_{op_id}"
            arguments.append(ast.arg(dst_name))
            body.append(ast.Assign(targets=[ast.Name(id=&quotresult&quot, ctx=ast.Store())],
                                   value=ast.Call(func=ast.Name(id=func_name, ctx=ast.Load()),</code></pre><h3>After Change</h3><pre><code class='java'>
    def generate_code(self, stage:ALL_STAGES):
        
        &#47&#47 TODO do not recompile multiple times
        <a id="change">if stage == Stage.INDIVIDUAL</a>:
            return self.generate_code_for_samples()
        if stage==Stage.BATCH:
            return self.generate_code_for_batches()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/libffcv/ffcv/commit/dc318cdd5df3785ae3331425eedcefbeb7d2c34a#diff-e775b66b9cf24bfa0524d7edbf465b5ca12846f195123573855b4d62e63670e3L62' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59398632</div><div id='project'> Project Name: libffcv/ffcv</div><div id='commit'> Commit Name: dc318cdd5df3785ae3331425eedcefbeb7d2c34a</div><div id='time'> Time: 2021-10-21</div><div id='author'> Author: leclerc@mit.edu</div><div id='file'> File Name: ffcv/pipeline/pipeline.py</div><div id='m_class'> M Class Name: Pipeline</div><div id='n_method'> N Class Name: Pipeline</div><div id='m_method'> M Method Name: generate_code(2)</div><div id='n_method'> N Method Name: generate_code(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: ffcv/pipeline/pipeline.py</div><div id='n_file'> N File Name: ffcv/pipeline/pipeline.py</div><div id='m_start'> M Start Line: 62</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 107</div><div id='n_end'> N End Line: 117</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            h = Gather()([h, index])

            model = Model(inputs=[x, adj, index], outputs=h)
            <a id="change">model.compile(loss=SparseCategoricalCrossentropy(from_logits=True),
                          optimizer=Adam(lr=lr), metrics=[&quotaccuracy&quot])</a>

            self.model = model

    def train_sequence(self, index):</code></pre><h3>After Change</h3><pre><code class='java'>
    def build(self, hiddens=[64], activations=[&quotrelu&quot], dropout=0.5, l2_norm=5e-3,
              lr=0.01, use_bias=False):

        <a id="change">if self.kind == "T"</a>:
            with tf.device(self.device):
                self.model = tfDAGNN(self.graph.n_attrs, self.graph.n_classes,
                                        hiddens=hiddens,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/graphgallery/commit/f20aa6b554b6178d8115483b536caa642fa5a3cc#diff-8043ae352b871cc719e49ef5a60fc21a8e6bd71e6a7e3d116139a254e6e8b629L81' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59398639</div><div id='project'> Project Name: edisonleeeee/graphgallery</div><div id='commit'> Commit Name: f20aa6b554b6178d8115483b536caa642fa5a3cc</div><div id='time'> Time: 2020-10-02</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphgallery/nn/models/semisupervised/dagnn.py</div><div id='m_class'> M Class Name: DAGNN</div><div id='n_method'> N Class Name: DAGNN</div><div id='m_method'> M Method Name: build(7)</div><div id='n_method'> N Method Name: build(7)</div><div id='m_parent_class'> M Parent Class: SemiSupervisedModel</div><div id='n_parent_class'> N Parent Class: SemiSupervisedModel</div><div id='m_file'> M File Name: graphgallery/nn/models/semisupervised/dagnn.py</div><div id='n_file'> N File Name: graphgallery/nn/models/semisupervised/dagnn.py</div><div id='m_start'> M Start Line: 84</div><div id='m_end'> M End Line: 113</div><div id='n_start'> N Start Line: 82</div><div id='n_end'> N End Line: 92</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 x, x0, x1, etc.
        input_patterns = [
            re.compile(r&quot(input([0-9]*))[,:]&quot),
            <a id="change">re.compile(</a>r&quot(x([0-9]*))[,:]&quot<a id="change">)</a>
        ]
        found_input = False
        for input_pattern in input_patterns:
            for line in lines:</code></pre><h3>After Change</h3><pre><code class='java'>
        input_pattern = re.compile(r&quot([a-z]+[0-9]*)[,:]&quot)
        input_index = 0
        for line in lines:
            <a id="change">if input_index == len(self._model_input)</a>:
                &#47&#47 Processed all the inputs that correspond to tensors in model_input
                break
            result = input_pattern.search(line)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/quic/aimet/commit/9ae620cb72ebf0280258d32eb82991113021247d#diff-2b6b389f1c7f1d5039c94c8cba46a20d86eb90f18739dcce292126fca2586013L616' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 59398642</div><div id='project'> Project Name: quic/aimet</div><div id='commit'> Commit Name: 9ae620cb72ebf0280258d32eb82991113021247d</div><div id='time'> Time: 2020-08-05</div><div id='author'> Author: 64552835+quic-klhsieh@users.noreply.github.com</div><div id='file'> File Name: TrainingExtensions/torch/src/python/aimet_torch/meta/connectedgraph.py</div><div id='m_class'> M Class Name: ConnectedGraph</div><div id='n_method'> N Class Name: ConnectedGraph</div><div id='m_method'> M Method Name: _parse_input_lines(2)</div><div id='n_method'> N Method Name: _parse_input_lines(2)</div><div id='m_parent_class'> M Parent Class: AimetCommonConnectedGraph</div><div id='n_parent_class'> N Parent Class: AimetCommonConnectedGraph</div><div id='m_file'> M File Name: TrainingExtensions/torch/src/python/aimet_torch/meta/connectedgraph.py</div><div id='n_file'> N File Name: TrainingExtensions/torch/src/python/aimet_torch/meta/connectedgraph.py</div><div id='m_start'> M Start Line: 624</div><div id='m_end'> M End Line: 646</div><div id='n_start'> N Start Line: 628</div><div id='n_end'> N End Line: 640</div><BR>