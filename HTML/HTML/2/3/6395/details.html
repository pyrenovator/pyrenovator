<html><h3>Pattern ID :6395
</h3><img src='22281262.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 print(&quotcandidate centers: &quot, [len(i) for i in candidate_centers])
            print(&quottarget class: &quot, target)
            print(&quotdetect: &quot, detect_result)
            <a id="change">print(&quotattack: &quot</a>, attack_result<a id="change">)</a>
            print(attack_succ)
            print(detect_succ)
            print()
        result = [&quotdraw&quot] * (self.iteration - 1)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 seq_centers: (iter, 1, C, H, W)   seq_bias: (iter)
        &#47&#47 seq_centers = seq[:, 0]  &#47&#47 debug
        if &quotstart&quot in self.output:
            mean_error = <a id="change">(seq_centers[:, 0] - seq[:, 0]).abs()</a>.flatten(start_dim=1).max(dim=1)[0]
            print(&quotMean Shift Distance: &quot.ljust(25) + &quotavg {:&lt;10.5f} min {:&lt;10.5f} max {:&lt;10.5f}&quot.format(
                mean_error.mean(), mean_error.min(), mean_error.max()))
            print(&quotBias Estimation: &quot.ljust(25) + &quotavg {:&lt;10.5f} min {:&lt;10.5f} max {:&lt;10.5f}&quot.format(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ain-soph/trojanzoo/commit/bc3d366258b45942115b6b86ae8466dac52ac154#diff-da7ab34fca9d4f9e0b5593ecbec311298695f208747f9dcc123c58e4c404fd4cL83' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 22281262</div><div id='project'> Project Name: ain-soph/trojanzoo</div><div id='commit'> Commit Name: bc3d366258b45942115b6b86ae8466dac52ac154</div><div id='time'> Time: 2020-06-30</div><div id='author'> Author: ain-soph@live.com</div><div id='file'> File Name: trojanzoo/defense/adv/advmind.py</div><div id='m_class'> M Class Name: AdvMind</div><div id='n_method'> N Class Name: AdvMind</div><div id='m_method'> M Method Name: inference(3)</div><div id='n_method'> N Method Name: inference(3)</div><div id='m_parent_class'> M Parent Class: PGD</div><div id='n_parent_class'> N Parent Class: PGD</div><div id='m_file'> M File Name: trojanzoo/defense/adv/advmind.py</div><div id='n_file'> N File Name: trojanzoo/defense/adv/advmind.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 123</div><div id='n_start'> N Start Line: 87</div><div id='n_end'> N End Line: 127</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    err = np.mean(
        np.abs(np.concatenate(coeffs) - torch.cat(coeffs2, -1).squeeze().numpy())
    )
    <a id="change">print("haar coefficient error scale 2"</a>, err, ["ok" if err &lt; 1e-4 else "failed!"]<a id="change">)</a>
    assert err &lt; 1e-4


def test_conv_fwt_haar_lvl2_odd():</code></pre><h3>After Change</h3><pre><code class='java'>
    print("haar coefficient error scale 2", err, ["ok" if err &lt; 1e-6 else "failed!"])
    assert np.allclose(pywt_coeffs, ptwt_coeffs)
    rec = waverec(coeffs2, wavelet).squeeze().numpy()
    err = np.mean(<a id="change">np.abs(</a>(data - rec)<a id="change">)</a>)
    print("haar reconstruction error scale 2", err, ["ok" if err &lt; 1e-6 else "failed!"])
    assert np.allclose(data, rec)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/v0lta/pytorch-wavelet-toolbox/commit/c52a0038ca7ceb817da834840a1655d55ff6f1a3#diff-499aa4727e73e6303fe60bf9cdec38d37980e9804f8f1d9d678da5ee867366b3L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 22281261</div><div id='project'> Project Name: v0lta/pytorch-wavelet-toolbox</div><div id='commit'> Commit Name: c52a0038ca7ceb817da834840a1655d55ff6f1a3</div><div id='time'> Time: 2021-07-02</div><div id='author'> Author: moritz@wolter.tech</div><div id='file'> File Name: tests/test_convolution_fwt.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_conv_fwt_haar_lvl2(0)</div><div id='n_method'> N Method Name: test_conv_fwt_haar_lvl2(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/test_convolution_fwt.py</div><div id='n_file'> N File Name: tests/test_convolution_fwt.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 22</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            attr_batch = ig_explainer.attribute(test_images, baselines=baseline_features)
            current_attribution[n_batch*batch_size:(n_batch*batch_size+len(test_images))] = attr_batch.cpu().numpy()
        attribution_delta = np.sum((current_attribution - prev_attribution)**2)
        <a id="change">print(f&quot\n Epoch {epoch + 1}/{n_epochs} \t train loss {train_loss:.3g} \t val loss {val_loss:.3g} \t &quot
              f&quotattribution delta {attribution_delta:.3g}&quot</a><a id="change">)</a>
        attribution_deltas.append(attribution_delta.data)
        prev_attribution = current_attribution

</code></pre><h3>After Change</h3><pre><code class='java'>
        dl_attribution[n_batch * batch_size:(n_batch * batch_size + len(test_images))] = dl_attr_batch.cpu().numpy()
        &#47&#47plot_image_saliency(test_images[0], ig_attr_batch[0])
        &#47&#47plot_image_saliency(test_images[0], dl_attr_batch[0])
    print(np.sum(<a id="change">np.abs(</a>ig_attribution-dl_attribution<a id="change">)</a>))

    &quot&quot&quot
    test_images, _ = next(iter(test_loader))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jonathancrabbe/label-free-xai/commit/d06296865f4b015262b9fea2367805e8e684dc6e#diff-836df8750550b75dac5c664cd178f2a045544077c57519d0d260893ab646ac01L13' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 22281260</div><div id='project'> Project Name: jonathancrabbe/label-free-xai</div><div id='commit'> Commit Name: d06296865f4b015262b9fea2367805e8e684dc6e</div><div id='time'> Time: 2021-11-25</div><div id='author'> Author: jonathan.cr1302@gmail.com</div><div id='file'> File Name: experiments/mnist.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: denoiser_mnist(4)</div><div id='n_method'> N Method Name: denoiser_mnist(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: experiments/mnist.py</div><div id='n_file'> N File Name: experiments/mnist.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 48</div><div id='n_end'> N End Line: 75</div><BR>