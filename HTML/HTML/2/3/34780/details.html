<html><h3>Pattern ID :34780
</h3><img src='99762746.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        plt.hlines(threshold, plt_x[0], plt_x[-1], colors=&quotg&quot,
                   linestyles=&quotdashed&quot)

    <a id="change">plt.legend(</a>["Test", "Prediction"]<a id="change">)</a>
    if savefig is not None:
        plt.savefig(savefig)

</code></pre><h3>After Change</h3><pre><code class='java'>
        plt_total = y_total[:, :, idx].flatten().copy()
        assert len(plt_total) == len(plt_test), "All arrays must have the same length."
        plt.plot(plt_x, plt_total, alpha=.75)
        legend<a id="change"> += </a><a id="change">[</a>"Total load"<a id="change"></a>]
        
    
    plt.ylabel("Load (w)")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/uca-datalab/nilm-thresholding/commit/dcd15feeb938d4b72d0923dc0951d8e0a73261c7#diff-f9822c626254b1a33e84c2d9a3d4e2c5336801789c4842a1f60b5738b0391093L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99762746</div><div id='project'> Project Name: uca-datalab/nilm-thresholding</div><div id='commit'> Commit Name: dcd15feeb938d4b72d0923dc0951d8e0a73261c7</div><div id='time'> Time: 2020-05-19</div><div id='author'> Author: danipg1409@gmail.com</div><div id='file'> File Name: better_nilm/plot_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_real_vs_prediction(7)</div><div id='n_method'> N Method Name: plot_real_vs_prediction(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: better_nilm/plot_utils.py</div><div id='n_file'> N File Name: better_nilm/plot_utils.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 6</div><div id='n_end'> N End Line: 55</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        norm_regret = np.sort(1 - (np.array(target) / np.max(target)))
        y = np.arange(len(norm_regret)) / float(len(norm_regret) - 1)
        plt.plot(norm_regret, y)
    <a id="change">plt.legend(</a>data_list<a id="change">, fontsize=23, loc=&quotlower right&quot)</a>
    plt.savefig(f&quot{model}_{sample_client}_cdf.pdf&quot, bbox_inches=&quottight&quot)
    plt.close()

    return target</code></pre><h3>After Change</h3><pre><code class='java'>
    elif data_list[0].endswith(&quotopenml&quot):
        legend = [x.split(&quot@&quot)[0] for x in data_list]
    elif data_list[0].lower == &quotcora&quot:
        legend<a id="change"> = </a><a id="change">[</a>&quotCora&quot, &quotCiteSeer&quot, &quotPubMed&quot<a id="change"></a>]
    else:
        legend = [x.upper() for x in data_list]
    os.makedirs(&quotfigures&quot, exist_ok=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alibaba/federatedscope/commit/fccacfc46144d6306e8e32fefe629bd08ef2a289#diff-2d2f339f30cbba368833b4435d9a44cdfae36db55be4aca5524ba60d0ae6486aL21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99762747</div><div id='project'> Project Name: alibaba/federatedscope</div><div id='commit'> Commit Name: fccacfc46144d6306e8e32fefe629bd08ef2a289</div><div id='time'> Time: 2022-06-17</div><div id='author'> Author: 39145382+rayrayraykk@users.noreply.github.com</div><div id='file'> File Name: benchmark/FedHPOB/fedhpob/utils/draw.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: ecdf(5)</div><div id='n_method'> N Method Name: ecdf(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: benchmark/FedHPOB/fedhpob/utils/draw.py</div><div id='n_file'> N File Name: benchmark/FedHPOB/fedhpob/utils/draw.py</div><div id='m_start'> M Start Line: 44</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 25</div><div id='n_end'> N End Line: 64</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ax.set_xticks([0, 4, 8, 12, 16, 20, 24])
    ax.set_xlabel(&quotLayer&quot)
    ax.set_ylabel(&quotNormalized MSE&quot)
    <a id="change">ax.legend(</a>[&quotno factorize&quot, &quotno sharing&quot, &quotF-FNO&quot]<a id="change">, frameon=False)</a>


def get_step_losses(dataset, group):
    api = wandb.Api()</code></pre><h3>After Change</h3><pre><code class='java'>
    layers_2 = [4, 8, 12, 16, 20, 24]
    xs = [4, 8, 12, 16, 20, 24]
    dataset = &quotnavier-stokes-4&quot
    lines<a id="change"> = </a><a id="change">[]</a>

    groups = [f&quotablation/no_factorization/{i}_layers&quot for i in layers_2]
    losses = get_test_losses(dataset, groups)
    container = plot_line(xs, losses, ax, color=pal[7], linestyle=&quot-&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alasdairtran/fourierflow/commit/c2268f90cc720dda0e2298528b14a79d198d194c#diff-77aba53b85d87ebe007d6ceb5f319e361fa3ad05403e30893741c1b6a353b3dfL83' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99762750</div><div id='project'> Project Name: alasdairtran/fourierflow</div><div id='commit'> Commit Name: c2268f90cc720dda0e2298528b14a79d198d194c</div><div id='time'> Time: 2021-09-24</div><div id='author'> Author: alasdair.tran@gmail.com</div><div id='file'> File Name: fourierflow/commands/plot.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_ablation(1)</div><div id='n_method'> N Method Name: plot_ablation(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fourierflow/commands/plot.py</div><div id='n_file'> N File Name: fourierflow/commands/plot.py</div><div id='m_start'> M Start Line: 85</div><div id='m_end'> M End Line: 103</div><div id='n_start'> N Start Line: 107</div><div id='n_end'> N End Line: 129</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ax.set_xticks([0, 4, 8, 12, 16, 20, 24])
    ax.set_xlabel(&quotLayer&quot)
    ax.set_ylabel(&quotNormalized MSE&quot)
    <a id="change">ax.legend(</a>[&quotFNO&quot, &quotTF-FNO&quot, &quotM-FNO&quot, &quotF-FNO&quot]<a id="change">, frameon=False)</a>


def plot_ablation(ax):
    layers_2 = [4, 8, 12, 16, 20, 24]</code></pre><h3>After Change</h3><pre><code class='java'>
    layers_2 = [4, 8, 12, 16, 20, 24]
    xs = [4, 8, 12, 16, 20, 24]
    dataset = &quotnavier-stokes-4&quot
    lines<a id="change"> = </a><a id="change">[]</a>

    groups = [f&quotablation/teaching_forcing/{i}_layers&quot for i in layers_1]
    losses = get_test_losses(dataset, groups)
    container = plot_line(xs, losses, ax, color=pal[1])</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/alasdairtran/fourierflow/commit/c2268f90cc720dda0e2298528b14a79d198d194c#diff-77aba53b85d87ebe007d6ceb5f319e361fa3ad05403e30893741c1b6a353b3dfL55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 99762748</div><div id='project'> Project Name: alasdairtran/fourierflow</div><div id='commit'> Commit Name: c2268f90cc720dda0e2298528b14a79d198d194c</div><div id='time'> Time: 2021-09-24</div><div id='author'> Author: alasdair.tran@gmail.com</div><div id='file'> File Name: fourierflow/commands/plot.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_performance_vs_layer(1)</div><div id='n_method'> N Method Name: plot_performance_vs_layer(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: fourierflow/commands/plot.py</div><div id='n_file'> N File Name: fourierflow/commands/plot.py</div><div id='m_start'> M Start Line: 58</div><div id='m_end'> M End Line: 80</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 102</div><BR>