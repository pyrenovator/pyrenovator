<html><h3>Pattern ID :20947
</h3><img src='67395492.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if name in project.working_tree.sources:
            raise CliException("Source &quot%s&quot already exists" % name)
    else:
        name<a id="change"> = </a>generate_next_name(
            list(project.working_tree.sources) + <a id="change">os.listdir()</a>,
            &quotsource&quot, sep=&quot-&quot, default=&quot1&quot)

    project.import_source(name, url=args.url, format=args.format,</code></pre><h3>After Change</h3><pre><code class='java'>

    extra_args = arg_parser.parse_cmdline(args.extra_args)

    name<a id="change">, _</a> = project.add_source(args.path,
        format=args.format, options=extra_args, rpath=args.rpath)
    on_error_do(project.remove_source, name, ignore_errors=True,
        kwargs={&quotforce&quot: True, &quotkeep_data&quot: True})</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openvinotoolkit/datumaro/commit/52f9a95553ff3edfbcb61e30dfd9202485e1b448#diff-c0d33e78745fc53c286499323e872c10776b15c8b644725cab13dc9bfe6b036dL96' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67395492</div><div id='project'> Project Name: openvinotoolkit/datumaro</div><div id='commit'> Commit Name: 52f9a95553ff3edfbcb61e30dfd9202485e1b448</div><div id='time'> Time: 2021-10-13</div><div id='author'> Author: maxim.zhiltsov@intel.com</div><div id='file'> File Name: datumaro/cli/contexts/source.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: add_command(1)</div><div id='n_method'> N Method Name: add_command(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: datumaro/cli/contexts/source.py</div><div id='n_file'> N File Name: datumaro/cli/contexts/source.py</div><div id='m_start'> M Start Line: 96</div><div id='m_end'> M End Line: 134</div><div id='n_start'> N Start Line: 223</div><div id='n_end'> N End Line: 252</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def evaluate_performance(input_folder, target_folder):
    fake_images<a id="change"> = </a><a id="change">os.listdir(</a>input_folder<a id="change">)</a>
    fake_images.sort()
    real_images = os.listdir(target_folder)
    real_images.sort()
</code></pre><h3>After Change</h3><pre><code class='java'>
    fake_image = cv2.imread(input_image)
    real_image = cv2.imread(target_image)

    return mse(real_image, fake_image)<a id="change">, psnr(real_image, fake_image)</a>


&#47&#47 custom weights initialization called on netG and netD
def weights_init(m):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/srgan-pytorch/commit/052c40de6d6c916d8dd1ccfc80d4d5fbcd6c2aed#diff-6a5896400679e5a49f57bedde92f21145707b951c4cbda7f56777f97518e74d8L31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67395493</div><div id='project'> Project Name: lornatang/srgan-pytorch</div><div id='commit'> Commit Name: 052c40de6d6c916d8dd1ccfc80d4d5fbcd6c2aed</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: srgan_pytorch/utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: evaluate_performance(2)</div><div id='n_method'> N Method Name: evaluate_performance(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: srgan_pytorch/utils.py</div><div id='n_file'> N File Name: srgan_pytorch/utils.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 49</div><div id='n_start'> N Start Line: 31</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if not validate_args(args):
        quit()

    log_files<a id="change"> = </a>[
        f for f in <a id="change">os.listdir(</a>args.logdir<a id="change">)</a>
        if os.path.isfile(os.path.join(args.logdir,
                                       f))
    ]</code></pre><h3>After Change</h3><pre><code class='java'>
    if not validate_args(args):
        quit()

    sorted_keys<a id="change">, results</a> = get_sorted_results(args.log_dir, args.metric)
    for k in sorted_keys:
        print(f&quot{k} = {results[k]}&quot)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/deepspeed/commit/6124eb37c07dae57f6da01eb07f708fd6e8d4d25#diff-dead2f1e02de4bd2fa17f4a6e6173ccba35ff78e83c9c09a01917eed04559842L128' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67395494</div><div id='project'> Project Name: microsoft/deepspeed</div><div id='commit'> Commit Name: 6124eb37c07dae57f6da01eb07f708fd6e8d4d25</div><div id='time'> Time: 2021-05-10</div><div id='author'> Author: olruwase@microsoft.com</div><div id='file'> File Name: csrc/aio/py_test/parse_aio_stats.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: csrc/aio/py_test/parse_aio_stats.py</div><div id='n_file'> N File Name: csrc/aio/py_test/parse_aio_stats.py</div><div id='m_start'> M Start Line: 130</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 143</div><div id='n_end'> N End Line: 148</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    with open(train_path, &quotr&quot) as f:
        train_data = ujson.load(f)

    test_file<a id="change"> = </a><a id="change">os.listdir(</a>test_data_dir<a id="change">)</a>[0]
    test_path = os.path.join(test_data_dir, test_file)
    with open(test_path, &quotr&quot) as f:
        test_data = ujson.load(f)</code></pre><h3>After Change</h3><pre><code class='java'>
    with open(test_file, &quotr&quot) as f:
        test_data = ujson.load(f)

    return train_data<a id="change">, test_data</a>


def read_client_data(dataset, idx):
    train_data, test_data = read_data(dataset, idx)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tsingz0/pfl-non-iid/commit/20524d468460f45118d0c169b508fcd440eb79c9#diff-63ab9c50a0f1fea7606870e9532bec6abf8e2b36648f826191e67a48fd6d0e05L63' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67395504</div><div id='project'> Project Name: tsingz0/pfl-non-iid</div><div id='commit'> Commit Name: 20524d468460f45118d0c169b508fcd440eb79c9</div><div id='time'> Time: 2021-06-01</div><div id='author'> Author: 2719584131@qq.com</div><div id='file'> File Name: system/utils/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: read_data(2)</div><div id='n_method'> N Method Name: read_data(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: system/utils/data_utils.py</div><div id='n_file'> N File Name: system/utils/data_utils.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 88</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 You can generate all the bkg distributions using this repo:
        &#47&#47 https://github.com/gjoni/trDesign/blob/master/01-hallucinate/src/bkgrd.py

        bkg_distribution_paths<a id="change">   = </a>sorted([path for path in <a id="change">os.listdir(</a>bkg_dir<a id="change">)</a> if &quot.npz&quot in path])
        bkg_distribution_lengths = sorted([int(path.split(&quot_&quot)[-1].split(&quot.npz&quot)[0]) for path in bkg_distribution_paths])
        
        for L in bkg_distribution_lengths:</code></pre><h3>After Change</h3><pre><code class='java'>
        For additional lengths, you can generate background distributions using:
        https://github.com/gjoni/trDesign/blob/master/01-hallucinate/src/bkgrd.py
        
        bkg_path, L = None<a id="change">, 0</a>
        for bkg_path in sorted(Path(bkg_dir).glob("*.npz")):
            L = int(bkg_path.stem.split("_")[-1])
            if L &gt;= seq_L:
                break</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/learn-ventures/trdesign-pytorch/commit/016e89447408c7bc3682a4326ac3747077027d56#diff-d1e2ecb67d8cfabe062fa8cabae3017222f9e88ccfacf88223e5857e9a28dfb4L103' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67395489</div><div id='project'> Project Name: learn-ventures/trdesign-pytorch</div><div id='commit'> Commit Name: 016e89447408c7bc3682a4326ac3747077027d56</div><div id='time'> Time: 2021-03-16</div><div id='author'> Author: lev@learn.ventures</div><div id='file'> File Name: src/losses.py</div><div id='m_class'> M Class Name: Structural_Background_Loss</div><div id='n_method'> N Class Name: Structural_Background_Loss</div><div id='m_method'> M Method Name: get_best_bkg_match(2)</div><div id='n_method'> N Method Name: get_best_bkg_match(3)</div><div id='m_parent_class'> M Parent Class: torch.nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/losses.py</div><div id='n_file'> N File Name: src/losses.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 101</div><div id='n_end'> N End Line: 111</div><BR>