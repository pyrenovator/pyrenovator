<html><h3>Pattern ID :6686
</h3><img src='23005438.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                print(&quotGeneration stopped at step {}&quot.format(step))
                break
            raise
        instrument = <a id="change">min(</a>128, event[0]<a id="change">)</a>
        dur = (event[3] - 512) + (event[4] - 640) * 128
        delta = (event[5] - 768) + (event[6] - 896) * 128
        instruments[instrument].notes.append(
            pm.Note(</code></pre><h3>After Change</h3><pre><code class='java'>
                + [pm.Instrument(0, is_drum=True)]
    current_time = 0
    for event in roll:
        if <a id="change">event[0] == 130 or 129 in event[1:]</a>:
            break
        if event[0] == 129 or 128 in event[1:]:
            continue</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rick-mccoy/reformer-pytorch/commit/3411114d22e0bfcae2e106f5c82a3211da83f409#diff-0c7aefb52977622e5d22f9dcd058f39df9769e3be03c444b9fc6905780235bbfL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23005438</div><div id='project'> Project Name: rick-mccoy/reformer-pytorch</div><div id='commit'> Commit Name: 3411114d22e0bfcae2e106f5c82a3211da83f409</div><div id='time'> Time: 2020-02-29</div><div id='author'> Author: rickmccoy3141@gmail.com</div><div id='file'> File Name: datasets/music.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: roll_to_midi(1)</div><div id='n_method'> N Method Name: roll_to_midi(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: datasets/music.py</div><div id='n_file'> N File Name: datasets/music.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 66</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 60</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if not exists(unet_training_mask):
        &#47&#47 Then the unet mask should be true for all unets in the decoder
        unet_training_mask = [True] * trainer.num_unets
    first_training_unet = <a id="change">min(</a>index<a id="change"> for index, mask in enumerate(unet_training_mask) if mask)</a>
    step = lambda: int(trainer.num_steps_taken(unet_number=first_training_unet+1))
    assert len(unet_training_mask) == trainer.num_unets, f"The unet training mask should be the same length as the number of unets in the decoder. Got {len(unet_training_mask)} and {trainer.num_unets}"

    accelerator.print(print_ribbon("Generating Example Data", repeat=40))</code></pre><h3>After Change</h3><pre><code class='java'>
                    if is_master:
                        tracker.log(log_data, step=step())

                if is_master and <a id="change">(last_snapshot + save_every_n_samples &lt; sample or (save_immediately and i == 0))</a>:  &#47&#47 This will miss by some amount every time, but it&quots not a big deal... I hope
                    &#47&#47 It is difficult to gather this kind of info on the accelerator, so we have to do it on the master
                    print("Saving snapshot")
                    last_snapshot = sample</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/dalle2-pytorch/commit/4145474bab737ca3e8b593182d2f2164eea5b7b6#diff-1960fa4032117c7620576aea3bf67f017dd87a2077278af4c2f17abf549114b0L253' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23005444</div><div id='project'> Project Name: lucidrains/dalle2-pytorch</div><div id='commit'> Commit Name: 4145474bab737ca3e8b593182d2f2164eea5b7b6</div><div id='time'> Time: 2022-07-19</div><div id='author'> Author: aidan.dempster@gmail.com</div><div id='file'> File Name: train_decoder.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(15)</div><div id='n_method'> N Method Name: train(13)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train_decoder.py</div><div id='n_file'> N File Name: train_decoder.py</div><div id='m_start'> M Start Line: 274</div><div id='m_end'> M End Line: 499</div><div id='n_start'> N Start Line: 271</div><div id='n_end'> N End Line: 520</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    if isinstance(defaulted, (list, tuple)):
        if not isinstance(obj, (list, tuple)):
            return
        limit = <a id="change">min(</a>len(obj), len(defaulted)<a id="change">)</a>
        return [strip_runtime_defaultable(obj[i], defaulted[i]) for i in range(limit)]

    return obj
</code></pre><h3>After Change</h3><pre><code class='java'>
    Recursively find strings of "*" in defaulted and set corresponding non-None values in obj to
    also be "*", so that equality tests will pass.
    
    if <a id="change">defaulted is None or obj is None</a>:
        return obj

    if isinstance(defaulted, str):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/determined-ai/determined/commit/67de93a1de1c8caeecfd663eabe54d1fc8761ac7#diff-3ee1937a11cbe6b9529f60505cb324ecfc9fbb6497e7e121054b6613e9361516L12' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 23005443</div><div id='project'> Project Name: determined-ai/determined</div><div id='commit'> Commit Name: 67de93a1de1c8caeecfd663eabe54d1fc8761ac7</div><div id='time'> Time: 2021-04-14</div><div id='author'> Author: rb@determined.ai</div><div id='file'> File Name: harness/tests/common/test_schemas.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: strip_runtime_defaultable(2)</div><div id='n_method'> N Method Name: strip_runtime_defaultable(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: harness/tests/common/test_schemas.py</div><div id='n_file'> N File Name: harness/tests/common/test_schemas.py</div><div id='m_start'> M Start Line: 18</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 17</div><div id='n_end'> N End Line: 42</div><BR>