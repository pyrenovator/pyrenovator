<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def forward(self, clean_waveform, clean_len):
        &#47&#47 Reading input list
        clean_length<a id="change"> = </a><a id="change">(clean_len * clean_waveform.size(-1)).long()</a>
        batch_size = clean_waveform.size(0)
        dropped_waveform = clean_waveform.clone()

        &#47&#47 Don&quott drop (return early) 1-`drop_prob` portion of the batches</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Reading input list
        lengths = (lengths * waveforms.size(-1)).long()
        batch_size = waveforms.size(0)
        dropped_waveform = <a id="change">waveforms.clone()</a>

        &#47&#47 Don&quott drop (return early) 1-`drop_prob` portion of the batches
        if torch.rand(1) &gt; self.drop_prob:
            return dropped_waveform</code></pre>