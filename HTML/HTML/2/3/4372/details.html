<html><h3>Pattern ID :4372
</h3><img src='16111269.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            with torch.no_grad():
                epoch_loss += loss.detach()
                epoch_mse += F.mse_loss(data, reconstructed_data)
        <a id="change">print(f&quotEpoch {epoch}: Avg. Loss: {epoch_loss / (idx + 1)}. Avg. MSE: {epoch_mse / (idx + 1)}&quot</a><a id="change">)</a>


def status_message(optimizer, stats, step):
    A basic console printout.</code></pre><h3>After Change</h3><pre><code class='java'>
            with torch.no_grad():
                epoch_loss += loss.detach()
                epoch_mse += F.mse_loss(data, reconstructed_data)
                <a id="change">optimizer.step()</a>
            print(f&quotEpoch {epoch}_{idx}: Avg. Loss: {epoch_loss / (idx + 1)}. Avg. MSE: {epoch_mse / (idx + 1)}&quot)


def status_message(optimizer, stats, step):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jonasgeiping/breaching/commit/89415e07b83038b0119e5a1480b98a39644f0a5e#diff-42a3bd0df0c694823f9fea2f7c9c41697bf1a0356acbc0632d100411f2bd13e4L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16111269</div><div id='project'> Project Name: jonasgeiping/breaching</div><div id='commit'> Commit Name: 89415e07b83038b0119e5a1480b98a39644f0a5e</div><div id='time'> Time: 2021-11-01</div><div id='author'> Author: jonas.geiping@googlemail.com</div><div id='file'> File Name: breaching/cases/aux_training/VAE.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_encoder_decoder(5)</div><div id='n_method'> N Method Name: train_encoder_decoder(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: breaching/cases/aux_training/VAE.py</div><div id='n_file'> N File Name: breaching/cases/aux_training/VAE.py</div><div id='m_start'> M Start Line: 69</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 55</div><div id='n_end'> N End Line: 70</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        train_sampler.set_epoch(epoch)
        scheduler.step()
        lr = scheduler.get_lr()
        <a id="change">print("Current lr"</a>, lr[0]<a id="change">)</a>
        &#47&#47train for one epoch
        DISP_FREQ = 100  &#47&#47 100 batch
        batch = 0  &#47&#47 batch index
        backbone.train()  &#47&#47 set to training mode</code></pre><h3>After Change</h3><pre><code class='java'>
        top5 = AverageMeter()
        for inputs, labels in tqdm(iter(train_loader)):
            if LR_SCHEDULER == &quotcosine&quot:
                <a id="change">scheduler.step()</a>
            &#47&#47 compute output
            start_time=time.time()
            inputs = inputs.cuda(cfg[&quotGPU&quot], non_blocking=True)
            labels = labels.cuda(cfg[&quotGPU&quot], non_blocking=True)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cavalleria/cavaface.pytorch/commit/c55d2992db5b2f1166e97987b3faeb47d32109b6#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16111268</div><div id='project'> Project Name: cavalleria/cavaface.pytorch</div><div id='commit'> Commit Name: c55d2992db5b2f1166e97987b3faeb47d32109b6</div><div id='time'> Time: 2020-05-06</div><div id='author'> Author: 605370459@qq.com</div><div id='file'> File Name: train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main_worker(3)</div><div id='n_method'> N Method Name: main_worker(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train.py</div><div id='n_file'> N File Name: train.py</div><div id='m_start'> M Start Line: 56</div><div id='m_end'> M End Line: 307</div><div id='n_start'> N Start Line: 56</div><div id='n_end'> N End Line: 310</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                self.step()
            
                if self._count_finish &gt;= 3:
                    <a id="change">print("success"</a><a id="change">)</a>
                    break
                elif self._count_reject &gt;= 12:
                    print("fail reject 12 in a row")
                    break</code></pre><h3>After Change</h3><pre><code class='java'>
        except KeyboardInterrupt:
            self.message = self.message + "fail interrupted"
            
        <a id="change">self.model.step(</a>torch.tensor(self.res())<a id="change">)</a>
        self.model.finalize()

        &#47&#47 set the uncertainty for each parameter
        cov = self.covariance_matrix()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/connorstoneastro/autoprof/commit/fbe08c97c09d4631dca10af988b6c645ff369c3f#diff-52615ad08cfc1cfad1befd14d3c383d34ae33d73e933e1359265221e8731fb61L157' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16111271</div><div id='project'> Project Name: connorstoneastro/autoprof</div><div id='commit'> Commit Name: fbe08c97c09d4631dca10af988b6c645ff369c3f</div><div id='time'> Time: 2022-12-02</div><div id='author'> Author: connorstone628@gmail.com</div><div id='file'> File Name: autoprof/fit/lm.py</div><div id='m_class'> M Class Name: LM</div><div id='n_method'> N Class Name: LM</div><div id='m_method'> M Method Name: fit(1)</div><div id='n_method'> N Method Name: fit(1)</div><div id='m_parent_class'> M Parent Class: BaseOptimizer</div><div id='n_parent_class'> N Parent Class: BaseOptimizer</div><div id='m_file'> M File Name: autoprof/fit/lm.py</div><div id='n_file'> N File Name: autoprof/fit/lm.py</div><div id='m_start'> M Start Line: 162</div><div id='m_end'> M End Line: 185</div><div id='n_start'> N Start Line: 162</div><div id='n_end'> N End Line: 191</div><BR>