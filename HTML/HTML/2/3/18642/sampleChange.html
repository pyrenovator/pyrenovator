<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def main():

    device = "cuda:0"<a id="change"> if </a>torch.cuda.is_available()<a id="change"> else </a>"cpu"

    &#47&#47 "facebook/opt-1.3b", "facebook/opt-350m" &#47&#47 "gpt2"
    checkpoint = "facebook/opt-350m" </code></pre><h3>After Change</h3><pre><code class='java'>
    parser.add_argument("--num-shards", default=2100,
                        help="Number of shards to create. WARNING: Don&quott change across runs on the same dataset.",
                        type=int)
    <a id="change">parser.add_argument("--shard-index"</a><a id="change">, default=0,
                        help="Particular shard to process. Must be less than num_shards",
                        type=int)</a>
    parser.add_argument("--batch-size", default=42,
                        help="Batch size for feature extraction.",
                        type=int)
    parser.add_argument("--gpuid", default=0,</code></pre>