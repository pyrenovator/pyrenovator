<html><h3>Pattern ID :31652
</h3><img src='92292692.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 log prediction figure
        if batch_idx % self.hparams.log_interval == 0:
            fig = self.plot_prediction(y_all[0], y_hat[0].detach().cpu())  &#47&#47 first in batch
            <a id="change">self.logger.experiment.add_figure(
                "Training prediction"</a>, fig<a id="change">, global_step=self.global_step,
            )</a>
        return {
            "loss": loss,
            "log": tensorboard_logs,
            "interpretation": interpretation,</code></pre><h3>After Change</h3><pre><code class='java'>
        return torch.optim.Adam(self.parameters(), lr=self.hparams.learning_rate)

    def training_step(self, batch, batch_idx):
        <a id="change">return </a>self._step(batch, batch_idx, label="train", log_batch_idx=False)

    def on_after_backward(self):
        if self.global_step % self.hparams.log_interval == 0 and self.hparams.log_interval &gt; 0:</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jdb78/pytorch-forecasting/commit/1806e120498ddea1f0e04db08f8249ebe0b217b1#diff-326fa71fa47eb2d5a00ea5fa14cac5f65c967b6856192e5c0e687cbce8b581e3L372' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92292692</div><div id='project'> Project Name: jdb78/pytorch-forecasting</div><div id='commit'> Commit Name: 1806e120498ddea1f0e04db08f8249ebe0b217b1</div><div id='time'> Time: 2020-06-20</div><div id='author'> Author: beitner.jan@bcg.com</div><div id='file'> File Name: temporal_fusion_transformer_pytorch/model/__init__.py</div><div id='m_class'> M Class Name: TemporalFusionTransformer</div><div id='n_method'> N Class Name: TemporalFusionTransformer</div><div id='m_method'> M Method Name: training_step(3)</div><div id='n_method'> N Method Name: training_step(3)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: temporal_fusion_transformer_pytorch/model/__init__.py</div><div id='n_file'> N File Name: temporal_fusion_transformer_pytorch/model/__init__.py</div><div id='m_start'> M Start Line: 395</div><div id='m_end'> M End Line: 415</div><div id='n_start'> N Start Line: 372</div><div id='n_end'> N End Line: 372</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
	ax[1].axis(&quotoff&quot)
	plt.show()

	<a id="change">writer.add_figure(&quotImage revelation&quot</a>, fig, epoch<a id="change">)</a>

def stego_loss(secret, cover, container, revealed, beta):

	loss_cover = F.mse_loss(cover, container)</code></pre><h3>After Change</h3><pre><code class='java'>
	ax[1].axis(&quotoff&quot)
	plt.show()

	<a id="change">return </a>fig

def stego_loss(secret, cover, container, revealed, beta):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/margaritageleta/pixinwav/commit/8bed61b4f8650b3e3d1a577a475faa91b0eaa360#diff-f35b28b9f6895b9c921db43067ad54df4790e799e8e495ed306932eac31a3354L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92292693</div><div id='project'> Project Name: margaritageleta/pixinwav</div><div id='commit'> Commit Name: 8bed61b4f8650b3e3d1a577a475faa91b0eaa360</div><div id='time'> Time: 2021-02-13</div><div id='author'> Author: noticiasmundiales99@gmail.com</div><div id='file'> File Name: src/trainer.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: compare_images(2)</div><div id='n_method'> N Method Name: compare_images(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/trainer.py</div><div id='n_file'> N File Name: src/trainer.py</div><div id='m_start'> M Start Line: 32</div><div id='m_end'> M End Line: 45</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 log prediction figure
        if batch_idx % self.hparams.log_interval == 0:
            fig = self.plot_prediction(y_all[0], y_hat[0].detach().cpu())  &#47&#47 first in batch
            <a id="change">self.logger.experiment.add_figure(
                f"Validation prediction of item 0 in batch {batch_idx}"</a>, fig<a id="change">, global_step=self.global_step,
            )</a>
        return log

    def validation_epoch_end(self, outputs):
        &#47&#47 loss logging</code></pre><h3>After Change</h3><pre><code class='java'>
        return self._epoch_end(outputs, label="train")

    def validation_step(self, batch, batch_idx):
        <a id="change">return </a>self._step(batch, batch_idx, label="val", log_batch_idx=True)

    def validation_epoch_end(self, outputs):
        return self._epoch_end(outputs, label="val")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jdb78/pytorch-forecasting/commit/1806e120498ddea1f0e04db08f8249ebe0b217b1#diff-326fa71fa47eb2d5a00ea5fa14cac5f65c967b6856192e5c0e687cbce8b581e3L430' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92292694</div><div id='project'> Project Name: jdb78/pytorch-forecasting</div><div id='commit'> Commit Name: 1806e120498ddea1f0e04db08f8249ebe0b217b1</div><div id='time'> Time: 2020-06-20</div><div id='author'> Author: beitner.jan@bcg.com</div><div id='file'> File Name: temporal_fusion_transformer_pytorch/model/__init__.py</div><div id='m_class'> M Class Name: TemporalFusionTransformer</div><div id='n_method'> N Class Name: TemporalFusionTransformer</div><div id='m_method'> M Method Name: validation_step(3)</div><div id='n_method'> N Method Name: validation_step(3)</div><div id='m_parent_class'> M Parent Class: pl.LightningModule</div><div id='n_parent_class'> N Parent Class: pl.LightningModule</div><div id='m_file'> M File Name: temporal_fusion_transformer_pytorch/model/__init__.py</div><div id='n_file'> N File Name: temporal_fusion_transformer_pytorch/model/__init__.py</div><div id='m_start'> M Start Line: 431</div><div id='m_end'> M End Line: 443</div><div id='n_start'> N Start Line: 382</div><div id='n_end'> N End Line: 382</div><BR>