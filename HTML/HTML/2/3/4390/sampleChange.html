<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    data_path = os.path.join(os.path.dirname(__file__), os.environ.get(&quotJINA_DATA_FILE&quot, None))
    &#47&#47import glob
    with f, open(data_path) as fp:
        <a id="change">print(f&quottype: {type(fp)}&quot</a><a id="change">)</a>
        print(f&quotlines: {type(np.array(fp.readlines()))}&quot)
        d = Document.from_ndarray(np.array(fp.readlines()))
        num_docs = min(num_docs, len(fp.readlines()))
        with TimeContext(f&quotQPS: indexing {num_docs}&quot, logger=f.logger):</code></pre><h3>After Change</h3><pre><code class='java'>
            print(f&quotdddddd {dd}&quot)
        with TimeContext(f&quotQPS: indexing {num_docs}&quot, logger=f.logger):
            &#47&#47f.post(on=&quot/index&quot, request_size=16, docs=d, parameters={&quotsource_path&quot: &quot./data&quot}, inputs=d)
            <a id="change">f.index(</a>d<a id="change">)</a>
            &#47&#47f.search()
            &quot&quot&quot
            
            metas = {&quotworkspace&quot: &quot./workspace&quot}, parameters = {&quotsource_path&quot: &quot./workspace&quot,</code></pre>