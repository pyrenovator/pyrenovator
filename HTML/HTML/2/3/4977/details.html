<html><h3>Pattern ID :4977
</h3><img src='17415534.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    :return: torch.Tensor of randomly generated negative triples
    
    &#47&#47 Sample corrupted object entities
    config<a id="change"> = </a><a id="change">Config()</a>

    if negative_type == &quotuniform&quot:
        sampler = kge.util.sampler.KgeUniformSampler(
            config, &quotnegative_sampling&quot, dataset)</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Sample corrupted object entities
    if negative_type == "uniform":
        sampler = kge.util.sampler.KgeUniformSampler(
            <a id="change">Config()</a>, "negative_sampling", dataset
        )
    elif negative_type == "frequency":
        sampler = kge.util.sampler.KgeFrequencySampler(</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tsafavi/codex/commit/2850d7f6f69e407dfce54568e98568bb65829c9e#diff-63cb8341b2788ac17860a4b44bf2e5dfa952838e7a342922b0840c00a2e20ae7L88' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17415534</div><div id='project'> Project Name: tsafavi/codex</div><div id='commit'> Commit Name: 2850d7f6f69e407dfce54568e98568bb65829c9e</div><div id='time'> Time: 2020-07-08</div><div id='author'> Author: tsafavi@umich.edu</div><div id='file'> File Name: scripts/tc.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: generate_neg_spo(4)</div><div id='n_method'> N Method Name: generate_neg_spo(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/tc.py</div><div id='n_file'> N File Name: scripts/tc.py</div><div id='m_start'> M Start Line: 98</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 88</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    conf_data_filepath = f&quotconfs/datasets/{args.dataset}.yaml&quot
    print(&quotconf_data_filepath:&quot, conf_data_filepath)

    conf_data = <a id="change">Config(config_filepath=conf_data_filepath)</a>[&quotdataset&quot]
    storage_name<a id="change"> = </a>conf_data[&quotstorage_name&quot]
    tar_filepath = os.path.join(pt_data_dir, storage_name + &quot.tar&quot)
    if not os.path.isfile(tar_filepath):
        raise RuntimeError(f&quotTar file for dataset at {tar_filepath} was not found&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    conf_data_filepath = f&quotconfs/datasets/{args.dataset}.yaml&quot
    print(&quotconf_data_filepath:&quot, conf_data_filepath)

    conf = <a id="change">Config(config_filepath=conf_data_filepath)</a>
    for dataset_key in [&quotdataset&quot, &quotdataset_search&quot, &quotdataset_eval&quot]:
        if dataset_key in conf:
            conf_data = conf[dataset_key]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/cec9c167805699f4590f3f81c8584e8c419bb0d8#diff-573aaddafe4bceb6f60ec5bce02c75bcf2fd238ba7cb07550a690ab023066a97L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17415539</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: cec9c167805699f4590f3f81c8584e8c419bb0d8</div><div id='time'> Time: 2020-05-18</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: scripts/datasets/pt_install.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/datasets/pt_install.py</div><div id='n_file'> N File Name: scripts/datasets/pt_install.py</div><div id='m_start'> M Start Line: 43</div><div id='m_end'> M End Line: 65</div><div id='n_start'> N Start Line: 62</div><div id='n_end'> N End Line: 74</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    input_metadata = extract_input_shape(dataloader, Framework.TF2)
    output_metadata = extract_output_shape(model, dataloader, Framework.TF2)

    config<a id="change"> = </a><a id="change">Config(
        </a>Framework.TF2<a id="change">,
        model=model,
        model_name=model_name,
        dataloader=dataloader,
        target_precisions=target_precisions,
        max_workspace_size=max_workspace_size,
        minimum_segment_size=minimum_segment_size,
        workdir=workdir,
        override_workdir=override_workdir,
        keep_workdir=keep_workdir,
        target_formats=target_formats,
        sample_count=sample_count,
        opset=opset,
        atol=atol,
        rtol=rtol,
        save_data=save_data,
        input_metadata=input_metadata,
        output_metadata=output_metadata,
    )</a>

    pipeline_manager = TFPipelineManager()
    return pipeline_manager.build(config)
</code></pre><h3>After Change</h3><pre><code class='java'>
    if sample_count is None:
        sample_count = 100

    config = <a id="change">Config(
        </a>Framework.TF2<a id="change">,
        model=model,
        model_name=model_name,
        dataloader=dataloader,
        target_precisions=target_precisions,
        max_workspace_size=max_workspace_size,
        minimum_segment_size=minimum_segment_size,
        workdir=workdir,
        override_workdir=override_workdir,
        keep_workdir=keep_workdir,
        target_formats=target_formats,
        sample_count=sample_count,
        opset=opset,
        atol=atol,
        rtol=rtol,
        save_data=save_data,
    )</a>

    pipeline_manager = TFPipelineManager()
    return pipeline_manager.build(config)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_navigator/commit/3d1dcb4d73be04622ab7d541ea506a54557d95e5#diff-1f5a5ac857412660b9e506ff01272b8e533cbdfe2c204ac81c78ee46e056e93eL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17415541</div><div id='project'> Project Name: triton-inference-server/model_navigator</div><div id='commit'> Commit Name: 3d1dcb4d73be04622ab7d541ea506a54557d95e5</div><div id='time'> Time: 2022-02-22</div><div id='author'> Author: ptarasiewicz@nvidia.com</div><div id='file'> File Name: model_navigator/framework_api/tensorflow.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: export(15)</div><div id='n_method'> N Method Name: export(15)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: model_navigator/framework_api/tensorflow.py</div><div id='n_file'> N File Name: model_navigator/framework_api/tensorflow.py</div><div id='m_start'> M Start Line: 69</div><div id='m_end'> M End Line: 91</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 84</div><BR>