<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    validation.validate_model(dataset, model)

    if isinstance(dataset, base.Dataset) and force_permutation is True:
        return <a id="change">_calc_permutation_importance(model, dataset, **permutation_kwargs).fillna(</a>0<a id="change">)</a>, &quotpermutation_importance&quot

    &#47&#47 Get the actual model in case of pipeline
    internal_estimator = get_model_of_pipeline(model)</code></pre><h3>After Change</h3><pre><code class='java'>
    importance = None

    if force_permutation:
        <a id="change">if </a>isinstance(dataset, pd.DataFrame):
            permutation_failure = &quotCannot calculate permutation feature importance on dataframe, using&quot \
                                  &quot built-in model\&quots feature importance instead&quot
        else:
            try:
                importance = _calc_permutation_importance(model, dataset, **permutation_kwargs)
                calc_type = &quotpermutation_importance&quot
            except errors.DeepchecksTimeoutError as e:
                permutation_failure<a id="change"> = </a>f&quot{e.message}\n using model\&quots built-in feature importance instead&quot

    &#47&#47 If there was no force permutation, or it failed tries to take importance from the model
    if importance is None:</code></pre>