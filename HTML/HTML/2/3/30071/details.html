<html><h3>Pattern ID :30071
</h3><img src='89230449.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        model.cuda()

    path1 = pathlib.Path(path1)
    files1<a id="change"> = </a><a id="change">list(</a>path1.glob(&quot*.%s&quot %suffix)<a id="change">)</a>
    &#47&#47 files1 = sorted(list(path1.glob(&quot*.%s&quot %suffix)), key=lambda x : int(os.path.splitext(os.path.basename(x))[0]))

    path2 = pathlib.Path(path2)
    files2 = list(path2.glob(&quot*.%s&quot %suffix))</code></pre><h3>After Change</h3><pre><code class='java'>
        fid = calculate_frechet_distance(m1, s1, m2, s2)
        fid_values.append(fid)

    return <a id="change">np.mean(</a>fid_values<a id="change">)</a>

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ariel415el/gpdm/commit/bde695933e46e0d59d4129babafbf2732ae81b76#diff-0e4a9448e9163e9e2ea07c3594b3d963b4d55a1a49b3ebf77e2dbd0ad51b8ac9L189' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89230449</div><div id='project'> Project Name: ariel415el/gpdm</div><div id='commit'> Commit Name: bde695933e46e0d59d4129babafbf2732ae81b76</div><div id='time'> Time: 2022-03-06</div><div id='author'> Author: ariel415el@gmail.com</div><div id='file'> File Name: tests/SIFID/sifid_score.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: calculate_sifid_given_paths(5)</div><div id='n_method'> N Method Name: calculate_sifid_given_paths(6)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/SIFID/sifid_score.py</div><div id='n_file'> N File Name: tests/SIFID/sifid_score.py</div><div id='m_start'> M Start Line: 189</div><div id='m_end'> M End Line: 213</div><div id='n_start'> N Start Line: 199</div><div id='n_end'> N End Line: 208</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        query_idx = list(map(lambda x: find_pattern(x[0], x[1]), zip(search_queries, input_ids.tolist())))

        if isinstance(layer, list):
            representations<a id="change"> = </a><a id="change">list(</a>map(lambda x: x[torch.arange(num_inputs)[:, None], query_idx].mean(1), hidden_states)<a id="change">)</a>
        else:
            if layer != &quotall&quot:
                if layer is None:
                    layer = self.layers</code></pre><h3>After Change</h3><pre><code class='java'>
            elif layer &gt; self.layers:
                raise ValueError(f"Number of layers specified ({layer}) exceed layers in model ({self.layers})!")
            &#47&#47 representations = hidden_states[torch.arange(num_inputs)[:, None], query_idx].mean(1)
            representations = torch.stack([<a id="change">hs.squeeze()[idx[0]:idx[1]].mean(</a>0<a id="change">)</a> for hs, idx in zip(hidden_states.split([1] * num_inputs), query_idx)])
        
        return representations
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kanishkamisra/minicons/commit/b9f76e2dfc167677a5e1a4877b8bc76799a01974#diff-8c1f2fc97e5f7216e0680ae998509ceb2ab120468507039f6c95d403310ffc43L94' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89230448</div><div id='project'> Project Name: kanishkamisra/minicons</div><div id='commit'> Commit Name: b9f76e2dfc167677a5e1a4877b8bc76799a01974</div><div id='time'> Time: 2021-08-21</div><div id='author'> Author: menogetusername@gmail.com</div><div id='file'> File Name: minicons/cwe.py</div><div id='m_class'> M Class Name: CWE</div><div id='n_method'> N Class Name: CWE</div><div id='m_method'> M Method Name: extract_representation(3)</div><div id='n_method'> N Method Name: extract_representation(3)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: minicons/cwe.py</div><div id='n_file'> N File Name: minicons/cwe.py</div><div id='m_start'> M Start Line: 109</div><div id='m_end'> M End Line: 132</div><div id='n_start'> N Start Line: 110</div><div id='n_end'> N End Line: 132</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        metric += sklearn_metrics.mean_squared_error(y_true_los, y_pred_los)
    elif metrics_strategy == "MAPE":
        metric += sklearn_metrics.mean_absolute_percentage_error(y_true_los, y_pred_los)
    metric<a id="change"> += </a>np.mean(
        np.abs(y_true_outcome - y_pred_outcome)
        * max_visits
        * np.array(<a id="change">list(</a>map(lambda x: sigma_func(x), y_true_los)<a id="change">)</a>)
    )
    if verbose:
        print("LOS Score:", metric)</code></pre><h3>After Change</h3><pre><code class='java'>
    result = np.array(metric)
    if verbose:
        print("Early Prediction Score:", result)
    return <a id="change">result.mean(axis=0)</a>
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yhzhu99/covid-ehr-benchmarks/commit/fc9fcafdeae37b009acb4acf87682f0d86306e69#diff-60dfaea8db03329c57ab195bf9d2e6d9fe8dccffa334e7da35cedab99db88092L77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89230450</div><div id='project'> Project Name: yhzhu99/covid-ehr-benchmarks</div><div id='commit'> Commit Name: fc9fcafdeae37b009acb4acf87682f0d86306e69</div><div id='time'> Time: 2022-06-29</div><div id='author'> Author: yhzhu99@gmail.com</div><div id='file'> File Name: app/core/evaluation/covid_metrics.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: multitask_los_metric(6)</div><div id='n_method'> N Method Name: multitask_los_metric(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: app/core/evaluation/covid_metrics.py</div><div id='n_file'> N File Name: app/core/evaluation/covid_metrics.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 116</div><div id='n_start'> N Start Line: 119</div><div id='n_end'> N End Line: 142</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            input (batch_size, n_sources, *)
        
        n_dims = input.dim()
        dims<a id="change"> = </a><a id="change">list(</a>range(n_dims)<a id="change">)</a>

        input_permuted = input.permute(1, 0, *dims[2:])

        left, right = self.left, self.right</code></pre><h3>After Change</h3><pre><code class='java'>

        loss = loss.permute(1, 0, 2).contiguous() / self.n_combinations
        loss = loss.sum(dim=2)
        loss = <a id="change">loss.mean(dim=1)</a>

        if batch_mean:
            loss = loss.mean(dim=0)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tky823/dnn-based_source_separation/commit/9ae9e0e761dbe8b27ced4dbd676bf9fdada629f9#diff-5e81ba5dcfff436f2946933f18b5717af27c5d0c9c395b4054133ea1ff643d13L23' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 89230441</div><div id='project'> Project Name: tky823/dnn-based_source_separation</div><div id='commit'> Commit Name: 9ae9e0e761dbe8b27ced4dbd676bf9fdada629f9</div><div id='time'> Time: 2021-08-12</div><div id='author'> Author: 40362510+tky823@users.noreply.github.com</div><div id='file'> File Name: egs/musdb18/meta-tasnet/src/adhoc_criterion.py</div><div id='m_class'> M Class Name: MultiDissimilarityLoss</div><div id='n_method'> N Class Name: MultiDissimilarityLoss</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: egs/musdb18/meta-tasnet/src/adhoc_criterion.py</div><div id='n_file'> N File Name: egs/musdb18/meta-tasnet/src/adhoc_criterion.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 60</div><BR>