<html><h3>Pattern ID :27163
</h3><img src='80836475.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
DUMMY_IAM_ROLE = &quotarn:aws:iam::111111111111:role/service-role/AmazonSageMaker-ExecutionRole-20200101T000001&quot

def download_training_and_eval_data():
    <a id="change">if </a><a id="change">os.path.isfile(</a>&quot./data/iris.csv&quot<a id="change">)</a>:
        print(&quotTraining and dataset exist. Skipping Download&quot)
    else:
        print(&quotDownloading training dataset&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    os.makedirs("./data/validation", exist_ok=True)
    os.makedirs("./data/test", exist_ok=True)

    train<a id="change">, other</a> = train_test_split(dataset, test_size=0.3)
    validation, test = train_test_split(other, test_size=0.5)

    np.savetxt("./data/train/california_train.csv", train, delimiter=",")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aws-samples/amazon-sagemaker-local-mode/commit/efd41fdf25974adc6919191c42417092f4ab25a8#diff-d3ecf13b61b7e5a5386f7693630011d83a0a109587555eff5ef93a96997c3f22L24' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80836475</div><div id='project'> Project Name: aws-samples/amazon-sagemaker-local-mode</div><div id='commit'> Commit Name: efd41fdf25974adc6919191c42417092f4ab25a8</div><div id='time'> Time: 2022-12-13</div><div id='author'> Author: frpaolo@amazon.com</div><div id='file'> File Name: scikit_learn_script_mode_local_training_and_serving/scikit_learn_script_mode_local_training_and_serving.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: download_training_and_eval_data(0)</div><div id='n_method'> N Method Name: download_training_and_eval_data(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scikit_learn_script_mode_local_training_and_serving/scikit_learn_script_mode_local_training_and_serving.py</div><div id='n_file'> N File Name: scikit_learn_script_mode_local_training_and_serving/scikit_learn_script_mode_local_training_and_serving.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 38</div><div id='n_start'> N Start Line: 39</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def print_scores(gt_json, pred_json, output_fname):
    &#47&#47 Read test data ground truth
    <a id="change">if </a>not <a id="change">os.path.isfile(</a>gt_json<a id="change">)</a>:
        sys.exit(&quotERROR:&quot, gt_json, &quotNot Found&quot)
    with open(gt_json, encoding=&quotutf8&quot) as f:
        gt_data = json.load(f)</code></pre><h3>After Change</h3><pre><code class='java'>
        sys.exit(&quotERROR: Unrecognized predictions file format:&quot, file_type)

def print_scores(args):
    gt_data<a id="change">, pred_data</a> = read_data(args.ground_truth_json, args.prediction_ftype, args)

    acc, f, f_best_match, mrr, map_ref = evaluate(pred_data, gt_data)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ai4bharat/indiannlp-transliteration/commit/2c49f671de6531c3bd422504ce1cf9ac5655af03#diff-c1349ad39b7813d932f2c7a58edcb5ec9eb8dc6c51be555eb6183a20a65eee81L144' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80836477</div><div id='project'> Project Name: ai4bharat/indiannlp-transliteration</div><div id='commit'> Commit Name: 2c49f671de6531c3bd422504ce1cf9ac5655af03</div><div id='time'> Time: 2020-01-19</div><div id='author'> Author: gokulnc@ymail.com</div><div id='file'> File Name: tasks/calculate_scores.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: print_scores(1)</div><div id='n_method'> N Method Name: print_scores(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tasks/calculate_scores.py</div><div id='n_file'> N File Name: tasks/calculate_scores.py</div><div id='m_start'> M Start Line: 144</div><div id='m_end'> M End Line: 162</div><div id='n_start'> N Start Line: 202</div><div id='n_end'> N End Line: 208</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    log_files = [
        f for f in os.listdir(args.logdir)
        if <a id="change">os.path.isfile(</a>os.path.join(args.logdir,
                                       f)<a id="change">)</a>
    ]

    log_files_path = [os.path.join(args.logdir, f) for f in log_files]</code></pre><h3>After Change</h3><pre><code class='java'>
    if not validate_args(args):
        quit()

    sorted_keys<a id="change">, results</a> = get_sorted_results(args.log_dir, args.metric)
    for k in sorted_keys:
        print(f&quot{k} = {results[k]}&quot)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/deepspeed/commit/6124eb37c07dae57f6da01eb07f708fd6e8d4d25#diff-dead2f1e02de4bd2fa17f4a6e6173ccba35ff78e83c9c09a01917eed04559842L128' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80836476</div><div id='project'> Project Name: microsoft/deepspeed</div><div id='commit'> Commit Name: 6124eb37c07dae57f6da01eb07f708fd6e8d4d25</div><div id='time'> Time: 2021-05-10</div><div id='author'> Author: olruwase@microsoft.com</div><div id='file'> File Name: csrc/aio/py_test/parse_aio_stats.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: csrc/aio/py_test/parse_aio_stats.py</div><div id='n_file'> N File Name: csrc/aio/py_test/parse_aio_stats.py</div><div id='m_start'> M Start Line: 130</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 143</div><div id='n_end'> N End Line: 148</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        test_time_pool=args.test_time_pool)

    &#47&#47 resume from a checkpoint
    <a id="change">if </a>args.checkpoint and <a id="change">os.path.isfile(</a>args.checkpoint<a id="change">)</a>:
        print("=&gt; loading checkpoint &quot{}&quot".format(args.checkpoint))
        checkpoint = torch.load(args.checkpoint)
        if isinstance(checkpoint, dict) and &quotstate_dict&quot in checkpoint:</code></pre><h3>After Change</h3><pre><code class='java'>
        pretrained=args.pretrained)

    print(&quotModel %s created, param count: %d&quot %
          (args.model<a id="change">, sum([m.numel() for m in model.parameters()])</a>))

    &#47&#47 load a checkpoint
    if not args.pretrained:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/feng-lab/pytorch-image-models/commit/0bc50e84f8c12529d781c6c46d3c927f335cf349#diff-6bb87854f62182076b9d47e5a3fa17d5fb46826b979e3292b7ae7bef07022cf4L44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 80836478</div><div id='project'> Project Name: feng-lab/pytorch-image-models</div><div id='commit'> Commit Name: 0bc50e84f8c12529d781c6c46d3c927f335cf349</div><div id='time'> Time: 2019-04-10</div><div id='author'> Author: rwightman@gmail.com</div><div id='file'> File Name: inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: inference.py</div><div id='n_file'> N File Name: inference.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 68</div><div id='n_start'> N Start Line: 45</div><div id='n_end'> N End Line: 62</div><BR>