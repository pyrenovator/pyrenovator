<html><h3>Pattern ID :3068
</h3><img src='11884663.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.device = device
        if load_on_init:
            model_folder_directory = os.path.dirname(model_path)
            <a id="change">create_dir(</a>model_folder_directory<a id="change">)</a>
            self.model = load_model(model_path=model_path, device=device, autoshape=True)
        else:
            self.model = None
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.model_path = model_path
        self.device = device
        if load_on_init:
            <a id="change">Path(model_path).parents[0].mkdir(parents=True, exist_ok=True)</a>
            self.model = load_model(model_path=model_path, device=device, autoshape=True)
        else:
            self.model = None
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/fcakyon/yolov5-pip/commit/d972f314161801cd3c2b37be9fe62289498a4a09#diff-6ed9ba8c59389ed1a496374ba989e215697912bcb4f39180928bbf3e5a755c72L90' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11884663</div><div id='project'> Project Name: fcakyon/yolov5-pip</div><div id='commit'> Commit Name: d972f314161801cd3c2b37be9fe62289498a4a09</div><div id='time'> Time: 2021-04-16</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: yolov5/helpers.py</div><div id='m_class'> M Class Name: YOLOv5</div><div id='n_method'> N Class Name: YOLOv5</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: yolov5/helpers.py</div><div id='n_file'> N File Name: yolov5/helpers.py</div><div id='m_start'> M Start Line: 103</div><div id='m_end'> M End Line: 104</div><div id='n_start'> N Start Line: 90</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )
    if output_dir:
        &#47&#47 create output folder if not present
        <a id="change">create_dir(</a>output_dir<a id="change">)</a>
        &#47&#47 save inference result
        save_path = os.path.join(output_dir, file_name + ".png")
        cv2.imwrite(save_path, cv2.cvtColor(image, cv2.COLOR_RGB2BGR))
    elapsed_time = time.time() - elapsed_time</code></pre><h3>After Change</h3><pre><code class='java'>
        )
    if output_dir:
        &#47&#47 create output folder if not present
        <a id="change">Path(output_dir).mkdir(parents=True, exist_ok=True)</a>
        &#47&#47 save inference result
        save_path = os.path.join(output_dir, file_name + ".png")
        cv2.imwrite(save_path, cv2.cvtColor(image, cv2.COLOR_RGB2BGR))
    elapsed_time = time.time() - elapsed_time</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/4f788d8cc64f2e05584d06eda717c8207cf5f6ef#diff-c99f373f1fd08505016e4fc1f99f50da6fb59ede5dfc05100480e643322d8bf8L171' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11884662</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: 4f788d8cc64f2e05584d06eda717c8207cf5f6ef</div><div id='time'> Time: 2021-09-02</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/utils/cv.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: visualize_prediction(10)</div><div id='n_method'> N Method Name: visualize_prediction(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sahi/utils/cv.py</div><div id='n_file'> N File Name: sahi/utils/cv.py</div><div id='m_start'> M Start Line: 230</div><div id='m_end'> M End Line: 230</div><div id='n_start'> N Start Line: 230</div><div id='n_end'> N End Line: 230</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.durations_in_seconds = durations_in_seconds

    def export_visuals(self, export_dir: str):
        <a id="change">create_dir(</a>export_dir<a id="change">)</a>
        visualize_object_predictions(
            image=np.ascontiguousarray(self.image),
            object_prediction_list=self.object_prediction_list,
            rect_th=1,</code></pre><h3>After Change</h3><pre><code class='java'>
        self.durations_in_seconds = durations_in_seconds

    def export_visuals(self, export_dir: str):
        <a id="change">Path(export_dir).mkdir(parents=True, exist_ok=True)</a>
        visualize_object_predictions(
            image=np.ascontiguousarray(self.image),
            object_prediction_list=self.object_prediction_list,
            rect_th=1,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/4f788d8cc64f2e05584d06eda717c8207cf5f6ef#diff-37110ffa5667726785e1f94a996e95492ebbebd9a9b6e8d7460890ebca036ddeL167' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11884665</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: 4f788d8cc64f2e05584d06eda717c8207cf5f6ef</div><div id='time'> Time: 2021-09-02</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/prediction.py</div><div id='m_class'> M Class Name: PredictionResult</div><div id='n_method'> N Class Name: PredictionResult</div><div id='m_method'> M Method Name: export_visuals(2)</div><div id='n_method'> N Method Name: export_visuals(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sahi/prediction.py</div><div id='n_file'> N File Name: sahi/prediction.py</div><div id='m_start'> M Start Line: 168</div><div id='m_end'> M End Line: 168</div><div id='n_start'> N Start Line: 168</div><div id='n_end'> N End Line: 168</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        export_format: can be specified as &quotjpg&quot or &quotpng&quot
    
    &#47&#47 create output folder if not present
    <a id="change">create_dir(</a>output_dir<a id="change">)</a>
    &#47&#47 add bbox and mask to image if present
    for ind, object_prediction in enumerate(object_prediction_list):
        &#47&#47 deepcopy object_prediction_list so that original is not altered
        object_prediction = object_prediction.deepcopy()</code></pre><h3>After Change</h3><pre><code class='java'>
        export_format: can be specified as &quotjpg&quot or &quotpng&quot
    
    &#47&#47 create output folder if not present
    <a id="change">Path(output_dir).mkdir(parents=True, exist_ok=True)</a>
    &#47&#47 add bbox and mask to image if present
    for ind, object_prediction in enumerate(object_prediction_list):
        &#47&#47 deepcopy object_prediction_list so that original is not altered
        object_prediction = object_prediction.deepcopy()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/4f788d8cc64f2e05584d06eda717c8207cf5f6ef#diff-c99f373f1fd08505016e4fc1f99f50da6fb59ede5dfc05100480e643322d8bf8L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11884664</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: 4f788d8cc64f2e05584d06eda717c8207cf5f6ef</div><div id='time'> Time: 2021-09-02</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/utils/cv.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: crop_object_predictions(5)</div><div id='n_method'> N Method Name: crop_object_predictions(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sahi/utils/cv.py</div><div id='n_file'> N File Name: sahi/utils/cv.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 33</div><div id='n_start'> N Start Line: 33</div><div id='n_end'> N End Line: 33</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )
    if output_dir:
        &#47&#47 create output folder if not present
        <a id="change">create_dir(</a>output_dir<a id="change">)</a>
        &#47&#47 save inference result
        save_path = os.path.join(output_dir, file_name + "." + export_format)
        cv2.imwrite(save_path, cv2.cvtColor(image, cv2.COLOR_RGB2BGR))
    elapsed_time = time.time() - elapsed_time</code></pre><h3>After Change</h3><pre><code class='java'>
        )
    if output_dir:
        &#47&#47 create output folder if not present
        <a id="change">Path(output_dir).mkdir(parents=True, exist_ok=True)</a>
        &#47&#47 save inference result
        save_path = os.path.join(output_dir, file_name + "." + export_format)
        cv2.imwrite(save_path, cv2.cvtColor(image, cv2.COLOR_RGB2BGR))
    elapsed_time = time.time() - elapsed_time</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/obss/sahi/commit/4f788d8cc64f2e05584d06eda717c8207cf5f6ef#diff-c99f373f1fd08505016e4fc1f99f50da6fb59ede5dfc05100480e643322d8bf8L238' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 11884666</div><div id='project'> Project Name: obss/sahi</div><div id='commit'> Commit Name: 4f788d8cc64f2e05584d06eda717c8207cf5f6ef</div><div id='time'> Time: 2021-09-02</div><div id='author'> Author: 34196005+fcakyon@users.noreply.github.com</div><div id='file'> File Name: sahi/utils/cv.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: visualize_object_predictions(9)</div><div id='n_method'> N Method Name: visualize_object_predictions(9)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: sahi/utils/cv.py</div><div id='n_file'> N File Name: sahi/utils/cv.py</div><div id='m_start'> M Start Line: 310</div><div id='m_end'> M End Line: 310</div><div id='n_start'> N Start Line: 310</div><div id='n_end'> N End Line: 310</div><BR>