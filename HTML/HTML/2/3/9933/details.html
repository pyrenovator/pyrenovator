<html><h3>Pattern ID :9933
</h3><img src='35543804.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def test_save_load(tmp_path):
    tmp_path<a id="change"> = </a><a id="change">str(</a>tmp_path<a id="change">)</a>
    line = ModelLine(tmp_path, DummyModel)
    m = DummyModel()
    line.save(m)
    model = line[0]</code></pre><h3>After Change</h3><pre><code class='java'>


def test_save_load(model_line, dummy_model):
    <a id="change">model_line.save(</a>dummy_model<a id="change">)</a>
    model = model_line[0]

    assert(len(model_line) == 1)
    assert(model.model == "b&quotmodel&quot")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/oxid15/cascade/commit/5ec53864dcbec1795f45354208d86b64c1fff0e7#diff-b20ab9d31c95cce703a8a32f872d90db29bd839b6ad87a57fd676a3682ea5313L27' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35543804</div><div id='project'> Project Name: oxid15/cascade</div><div id='commit'> Commit Name: 5ec53864dcbec1795f45354208d86b64c1fff0e7</div><div id='time'> Time: 2022-07-10</div><div id='author'> Author: villeman.5@yandex.ru</div><div id='file'> File Name: cascade/tests/test_model_line.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_save_load(2)</div><div id='n_method'> N Method Name: test_save_load(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cascade/tests/test_model_line.py</div><div id='n_file'> N File Name: cascade/tests/test_model_line.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 34</div><div id='n_start'> N Start Line: 27</div><div id='n_end'> N End Line: 31</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def test_meta(tmp_path):
    tmp_path = <a id="change">str(</a>tmp_path<a id="change">)</a>
    line = ModelLine(tmp_path, DummyModel)
    m = DummyModel()
    line.save(m)
    meta<a id="change"> = </a>line.get_meta()

    assert(meta[0][&quotmodel_cls&quot] == repr(DummyModel))
    assert(meta[0][&quotlen&quot] == 1)</code></pre><h3>After Change</h3><pre><code class='java'>


def test_meta(model_line, dummy_model):
    <a id="change">model_line.save(</a>dummy_model<a id="change">)</a>
    meta = model_line.get_meta()

    assert(meta[0][&quotmodel_cls&quot] == repr(DummyModel))
    assert(meta[0][&quotlen&quot] == 1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/oxid15/cascade/commit/5ec53864dcbec1795f45354208d86b64c1fff0e7#diff-b20ab9d31c95cce703a8a32f872d90db29bd839b6ad87a57fd676a3682ea5313L38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35543802</div><div id='project'> Project Name: oxid15/cascade</div><div id='commit'> Commit Name: 5ec53864dcbec1795f45354208d86b64c1fff0e7</div><div id='time'> Time: 2022-07-10</div><div id='author'> Author: villeman.5@yandex.ru</div><div id='file'> File Name: cascade/tests/test_model_line.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_meta(2)</div><div id='n_method'> N Method Name: test_meta(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: cascade/tests/test_model_line.py</div><div id='n_file'> N File Name: cascade/tests/test_model_line.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 37</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def get_lm_corpus(datadir, cachedir, dataset, vocab, max_size=None):
    if vocab == &quotword&quot:
        fn<a id="change"> = </a>os.path.join(cachedir, &quotcache.&quot + <a id="change">str(</a>max_size<a id="change">)</a> + &quot.word.v1.pt&quot)
    elif vocab == &quotbpe&quot:
        fn = os.path.join(cachedir, &quotcache.&quot + str(max_size) + &quot.bpe.v1.pt&quot)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
        corpus.train_and_encode()
        with nv_utils.distributed.sync_workers() as rank:
            if rank == 0:
                <a id="change">corpus.save()</a>

    return corpus

def tokenize_raw(text, lang=&quoten&quot):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/d9cf55b6736359576e6601d4223fdbef27bc28f0#diff-d6e7f6095e0395d4d70dc9aaa7d19ce575d087f5123c4f72125783f14af4aab3L316' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 35543800</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: d9cf55b6736359576e6601d4223fdbef27bc28f0</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: shitals@microsoft.com</div><div id='file'> File Name: archai/nlp/nvidia_transformer_xl/data_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_lm_corpus(5)</div><div id='n_method'> N Method Name: get_lm_corpus(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: archai/nlp/nvidia_transformer_xl/data_utils.py</div><div id='n_file'> N File Name: archai/nlp/nvidia_transformer_xl/data_utils.py</div><div id='m_start'> M Start Line: 317</div><div id='m_end'> M End Line: 332</div><div id='n_start'> N Start Line: 26</div><div id='n_end'> N End Line: 32</div><BR>