<html><h3>Pattern ID :28214
</h3><img src='83363817.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Also configure if no FileHandler is found, but a log folder is
        &#47&#47 specified.
        elif (log_folder is not None) and not <a id="change">any(
            </a>[isinstance(h, logging.FileHandler) for h in root.handlers]<a id="change">
        )</a>:
            cls._configure_root_logger(log_folder)

    def __init__(</code></pre><h3>After Change</h3><pre><code class='java'>
            file_handlers = [
                h for h in root.handlers if isinstance(h, logging.FileHandler)
            ]
            logfiles = <a id="change">[fh.baseFilename for fh in file_handlers]</a>

            &#47&#47 Check if any of the existing log files are located within the
            &#47&#47 requested log folder. Otherwise re-configure with a new
            &#47&#47 FileHandler.</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/graphnet-team/graphnet/commit/79c59247d11aa1e754fb5112fda99cf2a4f1c971#diff-745c00329ed248dda40e175285922d80e57b4c31a6c66ac75dd86b5083adc438L142' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83363817</div><div id='project'> Project Name: graphnet-team/graphnet</div><div id='commit'> Commit Name: 79c59247d11aa1e754fb5112fda99cf2a4f1c971</div><div id='time'> Time: 2023-02-23</div><div id='author'> Author: andreas.sogaard@gmail.com</div><div id='file'> File Name: src/graphnet/utilities/logging.py</div><div id='m_class'> M Class Name: Logger</div><div id='n_method'> N Class Name: Logger</div><div id='m_method'> M Method Name: _make_sure_root_logger_is_configured(2)</div><div id='n_method'> N Method Name: _make_sure_root_logger_is_configured(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/graphnet/utilities/logging.py</div><div id='n_file'> N File Name: src/graphnet/utilities/logging.py</div><div id='m_start'> M Start Line: 142</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 148</div><div id='n_end'> N End Line: 162</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                        &#47&#47 we run sapbert
                        parser_has_high_conf_hit: Dict[str, bool] = defaultdict(bool)
                        for hit in ent.hits:
                            if <a id="change">any(
                                </a>metrics<a id="change">[EXACT_MATCH] is True
                                for metrics in hit.per_normalized_syn_metrics.values()
                            )</a>:
                                parser_has_high_conf_hit[hit.parser_name] = True

                        &#47&#47 TODO: in theory I think you could pass an embedding index when constructing</code></pre><h3>After Change</h3><pre><code class='java'>
        try:
            entities_to_process = []
            ent: Entity
            for ent in pydash.flatten(<a id="change">[x.get_entities() for x in docs]</a>):
                if ent.entity_class not in self.entity_class_to_indices.keys():
                    continue
                if self.ignore_high_conf:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/astrazeneca/kazu/commit/79642401f45890032e97d3b1afa5ff87bfd599c4#diff-5d0b0ded5b343b5692f05ff69dc8f3b4f8d860427b9eb29f6b3cbe52194fa86cL98' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83363825</div><div id='project'> Project Name: astrazeneca/kazu</div><div id='commit'> Commit Name: 79642401f45890032e97d3b1afa5ff87bfd599c4</div><div id='time'> Time: 2022-11-30</div><div id='author'> Author: richard.jackson4@astrazeneca.com</div><div id='file'> File Name: kazu/steps/linking/sapbert.py</div><div id='m_class'> M Class Name: SapBertForEntityLinkingStep</div><div id='n_method'> N Class Name: SapBertForEntityLinkingStep</div><div id='m_method'> M Method Name: _run(2)</div><div id='n_method'> N Method Name: _run(2)</div><div id='m_parent_class'> M Parent Class: BaseStep</div><div id='n_parent_class'> N Parent Class: BaseStep</div><div id='m_file'> M File Name: kazu/steps/linking/sapbert.py</div><div id='n_file'> N File Name: kazu/steps/linking/sapbert.py</div><div id='m_start'> M Start Line: 113</div><div id='m_end'> M End Line: 137</div><div id='n_start'> N Start Line: 113</div><div id='n_end'> N End Line: 133</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    Args:
    Returns:
    
    return <a id="change">any(</a>str_a<a id="change">.endswith(str_b) and (str_a==str_b or str_a[-len(str_b)-1] == ".")  for str_b in list_b)</a>

def substring_in(str_a: str , list_b: List[str]):
    rcheck whether ``str_a`` has a substring that is in list_b.
</code></pre><h3>After Change</h3><pre><code class='java'>
    return any(str_b in str_a and (str_b==str_a or str_a[len(str_b)]==".") for str_b in list_b)

def endswith_in(str_a: str, list_b: List[Union[str, re.Pattern]]):
    return endswith_in_normal(str_a, <a id="change">[b for b in list_b if isinstance(b, str)]</a>) or \
        endswith_in_regex(str_a, [b for b in list_b if isinstance(b, re.Pattern)])

def substring_in(str_a: str, list_b: List[Union[str, re.Pattern]]):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thunlp/opendelta/commit/b64cb5f145f532e14a8745870662aa7a082d85ae#diff-3d443fada9a6fb6fad54e20f3117c507d01c13a7a57833953f15f7b3c30d9f31L19' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 83363812</div><div id='project'> Project Name: thunlp/opendelta</div><div id='commit'> Commit Name: b64cb5f145f532e14a8745870662aa7a082d85ae</div><div id='time'> Time: 2022-02-15</div><div id='author'> Author: 323163497@qq.com</div><div id='file'> File Name: opendelta/utils/name_based_addressing.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: endswith_in(2)</div><div id='n_method'> N Method Name: endswith_in(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: opendelta/utils/name_based_addressing.py</div><div id='n_file'> N File Name: opendelta/utils/name_based_addressing.py</div><div id='m_start'> M Start Line: 25</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 21</div><BR>