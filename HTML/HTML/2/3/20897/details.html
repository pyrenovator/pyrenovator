<html><h3>Pattern ID :20897
</h3><img src='67247523.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ctypes.CDLL(nccl_lib_name, dlopen_flags)

    nccl_op_dir = os.path.join(jittor_path, "extern", "cuda", "nccl", "ops")
    nccl_op_files = [os.path.join(nccl_op_dir, name) for name in <a id="change">os.listdir(</a>nccl_op_dir<a id="change">)</a>]
    nccl_ops = compile_custom_ops(nccl_op_files, 
        extra_flags=f" -I&quot{nccl_include_path}&quot {mpi_compile_flags} ")
    LOG.vv("Get nccl_ops: "+str(dir(nccl_ops)))</code></pre><h3>After Change</h3><pre><code class='java'>

    nccl_src_dir = os.path.join(jittor_path, "extern", "cuda", "nccl")
    nccl_src_files = []
    <a id="change">for </a>r, _, f in <a id="change">os.walk(</a>nccl_src_dir<a id="change">):
        </a>for fname in f:
            nccl_src_files.append(os.path.join(r, fname))

    nccl_ops = compile_custom_ops(nccl_src_files, </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jittor/jittor/commit/5e5c8de82f46fa7036e21fb3c53babfdea3e390f#diff-bda202dc1155b432eb6f176d27b53e315b98965e056858275aeec365a21d7f72L268' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67247523</div><div id='project'> Project Name: jittor/jittor</div><div id='commit'> Commit Name: 5e5c8de82f46fa7036e21fb3c53babfdea3e390f</div><div id='time'> Time: 2020-04-02</div><div id='author'> Author: randonlang@gmail.com</div><div id='file'> File Name: python/jittor/compile_extern.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: setup_nccl(0)</div><div id='n_method'> N Method Name: setup_nccl(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/jittor/compile_extern.py</div><div id='n_file'> N File Name: python/jittor/compile_extern.py</div><div id='m_start'> M Start Line: 268</div><div id='m_end'> M End Line: 297</div><div id='n_start'> N Start Line: 268</div><div id='n_end'> N End Line: 302</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        )

    ipynb_files = [
        fi for fi in <a id="change">os.listdir(</a>zenml_tutorial_path<a id="change">)</a> if fi.endswith(".ipynb")
    ]
    ipynb_files.sort()
    console.print(zenml_go_notebook_tutorial_message(ipynb_files), width=80)</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 get list of all .ipynb files in zenml_tutorial_path
    ipynb_files = []
    for dirpath, _, filenames in <a id="change">os.walk(</a>zenml_tutorial_path<a id="change">)</a>:
        <a id="change">for </a>filename in filenames<a id="change">:
            </a>if filename.endswith(".ipynb"):
                ipynb_files.append(os.path.join(dirpath, filename))

    ipynb_files.sort()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/395d761ef5878a71f13f9ea41a6c3e7697cd2199#diff-e8d3f72f011c10a2ba4aea7c42df0a523b89c59eb7459e1130a1ec34c2651469L181' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67247520</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: 395d761ef5878a71f13f9ea41a6c3e7697cd2199</div><div id='time'> Time: 2022-05-24</div><div id='author'> Author: felix@zenml.io</div><div id='file'> File Name: src/zenml/cli/base.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: go(0)</div><div id='n_method'> N Method Name: go(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/zenml/cli/base.py</div><div id='n_file'> N File Name: src/zenml/cli/base.py</div><div id='m_start'> M Start Line: 204</div><div id='m_end'> M End Line: 235</div><div id='n_start'> N Start Line: 205</div><div id='n_end'> N End Line: 248</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 find all video instances (no subdirectories)
    video_instances = []
    for fname in <a id="change">os.listdir(</a>directory<a id="change">)</a>:

        &#47&#47 skip invalid files
        if not _is_valid_file(fname):</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 find all video instances (no subdirectories)
    video_instances = []
    <a id="change">for </a>root, _, files in <a id="change">os.walk(</a>directory<a id="change">):

        </a>for fname in files:
            &#47&#47 skip invalid files
            if not _is_valid_file(fname):
                continue</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lightly-ai/lightly/commit/69111a0003199ad3d25f11e384ad160663a3e0a2#diff-4bb17e004c846c55984590334464045b748859d9c86659638fdad2dc71667cadL140' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67247526</div><div id='project'> Project Name: lightly-ai/lightly</div><div id='commit'> Commit Name: 69111a0003199ad3d25f11e384ad160663a3e0a2</div><div id='time'> Time: 2021-10-11</div><div id='author'> Author: 65946090+philippmwirth@users.noreply.github.com</div><div id='file'> File Name: lightly/data/_video.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _make_dataset(4)</div><div id='n_method'> N Method Name: _make_dataset(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: lightly/data/_video.py</div><div id='n_file'> N File Name: lightly/data/_video.py</div><div id='m_start'> M Start Line: 180</div><div id='m_end'> M End Line: 191</div><div id='n_start'> N Start Line: 180</div><div id='n_end'> N End Line: 192</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    print(&quotSorting images into the following classes:&quot)
    print(&quot &quot,class_list)
    ext = [".jpg", ".jpeg", ".png", ".tiff", ".bmp"]
    for file in <a id="change">os.listdir(</a>params.unsorted_data<a id="change">)</a>:
        if os.path.splitext(file)[1].lower() in ext:
            test_input = preprocess(os.path.join(params.unsorted_data, file), params.data_mean, params.data_sd).to(params.use_device)
            output = cnn(test_input)</code></pre><h3>After Change</h3><pre><code class='java'>
    print(&quot &quot,class_list)
    ext = [".jpg", ".jpeg", ".png", ".tiff", ".bmp"]

    <a id="change">for </a>current_path, dirs, files in <a id="change">os.walk(</a>params.unsorted_data<a id="change">, topdown=True):
        </a>for file in files:
            if os.path.splitext(file)[1].lower() in ext:
                test_input = preprocess(os.path.join(current_path, file), params.data_mean, params.data_sd).to(params.use_device)
                output = cnn(test_input)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/progamergov/dream-creator/commit/fdba70dd1a0dd06510e6ca01f172fad50f87951a#diff-ebc1a03241c77b57c988fa1636eaeed81adfcd52d9e340fcf10d4b1873c1d2b2L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67247525</div><div id='project'> Project Name: progamergov/dream-creator</div><div id='commit'> Commit Name: fdba70dd1a0dd06510e6ca01f172fad50f87951a</div><div id='time'> Time: 2020-09-08</div><div id='author'> Author: ProGamerGov@users.noreply.github.com</div><div id='file'> File Name: data_tools/sort_images.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main_func(1)</div><div id='n_method'> N Method Name: main_func(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: data_tools/sort_images.py</div><div id='n_file'> N File Name: data_tools/sort_images.py</div><div id='m_start'> M Start Line: 73</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 111</div><BR>