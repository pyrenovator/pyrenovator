<html><h3>Pattern ID :19669
</h3><img src='64019107.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    directed_dataset = load_directed_real_data(dataset=&quotWebKB&quot, root=&quot./tmp_data/&quot, name=&quotWisconsin&quot)
    assert isinstance(directed_dataset, DirectedData)
    assert directed_dataset.is_directed
    directed_dataset<a id="change"> = </a><a id="change">load_directed_real_data(dataset=&quotcora_ml&quot, root=&quot./tmp_data/&quot)</a>
    assert isinstance(directed_dataset, DirectedData)
    assert directed_dataset.is_directed
    directed_dataset = load_directed_real_data(dataset=&quotciteseer&quot, root=&quot./tmp_data/&quot)
    assert isinstance(directed_dataset, DirectedData)</code></pre><h3>After Change</h3><pre><code class='java'>
    directed_dataset = load_directed_real_data(dataset=&quotwikics&quot, root=&quot./tmp_data/&quot, pre_transform=T.GCNNorm(), transform=T.ToUndirected())
    assert isinstance(directed_dataset, DirectedData)
    assert not directed_dataset.is_directed
    <a id="change">return</a>

def test_link_split():
    
    Testing link_split()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sherylhyx/pytorch_geometric_signed_directed/commit/604bcee2fdacbdb7a378881c33a3e9db46e074af#diff-3d92aa058dc60b4a7e979511597b658bab9dfbb276a6058cf4d7b142e34ed7bcL21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64019107</div><div id='project'> Project Name: sherylhyx/pytorch_geometric_signed_directed</div><div id='commit'> Commit Name: 604bcee2fdacbdb7a378881c33a3e9db46e074af</div><div id='time'> Time: 2022-02-11</div><div id='author'> Author: xzhang15@wpi.edu</div><div id='file'> File Name: test/directed_data_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_directed_datasets(0)</div><div id='n_method'> N Method Name: test_directed_datasets(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/directed_data_test.py</div><div id='n_file'> N File Name: test/directed_data_test.py</div><div id='m_start'> M Start Line: 21</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 36</div><div id='n_end'> N End Line: 36</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
	assert isinstance(directed_dataset, DirectedData)
	directed_dataset = load_directed_real_data(dataset=&quotWebKB&quot, root=&quot./tmp_data/&quot, name=&quotWisconsin&quot)
	assert isinstance(directed_dataset, DirectedData)
	directed_dataset<a id="change"> = </a><a id="change">load_directed_real_data(dataset=&quotcitation&quot, root=&quot./tmp_data/&quot, name=&quotCora_ML&quot)</a>
	assert isinstance(directed_dataset, DirectedData)
	directed_dataset = load_directed_real_data(dataset=&quotcitation&quot, root=&quot./tmp_data/&quot, name=&quotCiteSeer&quot)
	assert isinstance(directed_dataset, DirectedData)
	return</code></pre><h3>After Change</h3><pre><code class='java'>
	directed_dataset = load_directed_real_data(dataset=&quotWebKB&quot, root=&quot./tmp_data/&quot, name=&quotWisconsin&quot)
	assert isinstance(directed_dataset, DirectedData)
	assert not is_undirected(directed_dataset.edge_index)
	<a id="change">return</a></code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sherylhyx/pytorch_geometric_signed_directed/commit/2dac3e6bd8195cc0edba4ec89d9e6b273f760615#diff-3d92aa058dc60b4a7e979511597b658bab9dfbb276a6058cf4d7b142e34ed7bcL3' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64019108</div><div id='project'> Project Name: sherylhyx/pytorch_geometric_signed_directed</div><div id='commit'> Commit Name: 2dac3e6bd8195cc0edba4ec89d9e6b273f760615</div><div id='time'> Time: 2022-02-08</div><div id='author'> Author: He_YX@outlook.com</div><div id='file'> File Name: test/directed_data_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_datasets(0)</div><div id='n_method'> N Method Name: test_datasets(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/directed_data_test.py</div><div id='n_file'> N File Name: test/directed_data_test.py</div><div id='m_start'> M Start Line: 13</div><div id='m_end'> M End Line: 17</div><div id='n_start'> N Start Line: 12</div><div id='n_end'> N End Line: 19</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    assert torch.sum(data.test_mask) == 20*3*num_classes
    assert torch.sum(data.seed_mask) == 2*3*num_classes

    directed_dataset<a id="change"> = </a><a id="change">load_directed_real_data(dataset=&quotcora_ml&quot, root=&quot./tmp_data/&quot)</a>
    data = node_class_split(directed_dataset, train_size_per_class = 20, seed_size_per_class = 5, val_size_per_class = 10, test_size_per_class = 20)
    assert isinstance(data.seed_mask, torch.Tensor)
    num_classes = len(np.unique(directed_dataset.y))
    assert torch.sum(data.seed_mask) == 10*5*num_classes</code></pre><h3>After Change</h3><pre><code class='java'>
    assert torch.sum(data.train_mask) == 3*int(0.1*len(data.y))
    assert torch.sum(data.val_mask) == 3*int(0.1*(len(data.y)-torch.sum(data.train_mask)/3))
    assert torch.sum(data.test_mask) == 3*int(0.3*(len(data.y)-torch.sum(data.train_mask)/3-torch.sum(data.val_mask)/3))
    <a id="change">return</a></code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sherylhyx/pytorch_geometric_signed_directed/commit/0ab3ea448ec25db3f720f238691e8231db963057#diff-3d92aa058dc60b4a7e979511597b658bab9dfbb276a6058cf4d7b142e34ed7bcL100' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64019111</div><div id='project'> Project Name: sherylhyx/pytorch_geometric_signed_directed</div><div id='commit'> Commit Name: 0ab3ea448ec25db3f720f238691e8231db963057</div><div id='time'> Time: 2022-02-14</div><div id='author'> Author: zhangxit@msu.edu</div><div id='file'> File Name: test/directed_data_test.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_node_split(0)</div><div id='n_method'> N Method Name: test_node_split(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/directed_data_test.py</div><div id='n_file'> N File Name: test/directed_data_test.py</div><div id='m_start'> M Start Line: 122</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 149</div><div id='n_end'> N End Line: 149</div><BR>