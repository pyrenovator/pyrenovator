<html><h3>Pattern ID :14624
</h3><img src='47963627.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        d2jast = self._get_second_der_jastrow_elements(
            r, dr, d2r).sum(1)
        hess_jast = (self._sum_unique_pairs(d2jast, axis=-1) +
                     <a id="change">self._sum_unique_pairs(</a>d2jast<a id="change">, axis=-2)</a>)

        &#47&#47 mixed terms
        djast = (self._get_der_jastrow_elements(r, dr)).sum(1)
        hess_jast += self._partial_derivative(djast, out_mat=hess_jast)

        return 0.5<a id="change"> * </a>hess_jast * prod_val

    def _get_jastrow_elements(self, r):
        Get the elements of the jastrow matrix :</code></pre><h3>After Change</h3><pre><code class='java'>
        d2jast = self._get_second_der_jastrow_elements(
            r, dr, d2r).sum(1)
        hess_jast = 0.5*(self._sum_unique_pairs(d2jast, axis=-1) +
                         <a id="change">self._sum_unique_pairs(</a>d2jast<a id="change">, axis=-2)</a>)

        &#47&#47 mixed terms
        djast = (self._get_der_jastrow_elements(r, dr)).sum(1)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/bdf511609d3f501f11806bdaed377bd07aebee74#diff-7dd7639b743bf18cdbfa62133af0462f37c74f7747c07d2e3e77feeeb100262aL153' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47963627</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: bdf511609d3f501f11806bdaed377bd07aebee74</div><div id='time'> Time: 2019-12-17</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: deepqmc/wavefunction/jastrow.py</div><div id='m_class'> M Class Name: TwoBodyJastrowFactor</div><div id='n_method'> N Class Name: TwoBodyJastrowFactor</div><div id='m_method'> M Method Name: _jastrow_second_derivative(5)</div><div id='n_method'> N Method Name: _jastrow_second_derivative(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: deepqmc/wavefunction/jastrow.py</div><div id='n_file'> N File Name: deepqmc/wavefunction/jastrow.py</div><div id='m_start'> M Start Line: 153</div><div id='m_end'> M End Line: 160</div><div id='n_start'> N Start Line: 153</div><div id='n_end'> N End Line: 160</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        prod_val = self._prod_unique_pairs(jast)
        d2jast = self._get_second_der_jastrow_elements(
            r, dr, d2r).sum(1)
        hess_jast = 0.5<a id="change">*</a>(<a id="change">self._sum_unique_pairs(</a>d2jast<a id="change">, axis=-1)</a> +
                         self._sum_unique_pairs(d2jast, axis=-2))

        &#47&#47 mixed terms</code></pre><h3>After Change</h3><pre><code class='java'>
        prod_val = self._prod_unique_pairs(jast)
        d2jast = self._get_second_der_jastrow_elements(
            r, dr, d2r).sum(1)
        hess_jast = (<a id="change">self._sum_unique_pairs(</a>d2jast<a id="change">, axis=-1)</a> +
                     self._sum_unique_pairs(d2jast, axis=-2))

        &#47&#47 mixed terms</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/4d780882d8f6b37a24851dd09d0589bb439197d2#diff-7dd7639b743bf18cdbfa62133af0462f37c74f7747c07d2e3e77feeeb100262aL152' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47963625</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: 4d780882d8f6b37a24851dd09d0589bb439197d2</div><div id='time'> Time: 2019-12-22</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: deepqmc/wavefunction/jastrow.py</div><div id='m_class'> M Class Name: TwoBodyJastrowFactor</div><div id='n_method'> N Class Name: TwoBodyJastrowFactor</div><div id='m_method'> M Method Name: _jastrow_second_derivative(5)</div><div id='n_method'> N Method Name: _jastrow_second_derivative(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: deepqmc/wavefunction/jastrow.py</div><div id='n_file'> N File Name: deepqmc/wavefunction/jastrow.py</div><div id='m_start'> M Start Line: 169</div><div id='m_end'> M End Line: 170</div><div id='n_start'> N Start Line: 172</div><div id='n_end'> N End Line: 173</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        prod_val = self._prod_unique_pairs(jast)
        d2jast = self._get_second_der_jastrow_elements(
            r, dr, d2r).sum(1)
        hess_jast = (<a id="change">self._sum_unique_pairs(</a>d2jast<a id="change">, axis=-1)
                     + </a>self._sum_unique_pairs(d2jast, axis=-2))

        &#47&#47 mixed terms
        djast = (self._get_der_jastrow_elements(r, dr)).sum(1)</code></pre><h3>After Change</h3><pre><code class='java'>
        prod_val = self._prod_unique_pairs(jast)
        d2jast = self._get_second_der_jastrow_elements(
            r, dr, d2r).sum(1)
        hess_jast = (<a id="change">self._sum_unique_pairs(</a>d2jast<a id="change">, axis=-1))</a>
        &#47&#47 + self._sum_unique_pairs(d2jast, axis=-2))

        &#47&#47 mixed terms
        djast = (self._get_der_jastrow_elements(r, dr))  &#47&#47 .sum(1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nlesc-jcer/qmctorch/commit/377711d3709505d8d8e6deafb43f411f368479a2#diff-7dd7639b743bf18cdbfa62133af0462f37c74f7747c07d2e3e77feeeb100262aL156' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47963622</div><div id='project'> Project Name: nlesc-jcer/qmctorch</div><div id='commit'> Commit Name: 377711d3709505d8d8e6deafb43f411f368479a2</div><div id='time'> Time: 2019-12-23</div><div id='author'> Author: nicolas.gm.renaud@gmail.com</div><div id='file'> File Name: deepqmc/wavefunction/jastrow.py</div><div id='m_class'> M Class Name: TwoBodyJastrowFactor</div><div id='n_method'> N Class Name: TwoBodyJastrowFactor</div><div id='m_method'> M Method Name: _jastrow_second_derivative(5)</div><div id='n_method'> N Method Name: _jastrow_second_derivative(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: deepqmc/wavefunction/jastrow.py</div><div id='n_file'> N File Name: deepqmc/wavefunction/jastrow.py</div><div id='m_start'> M Start Line: 171</div><div id='m_end'> M End Line: 177</div><div id='n_start'> N Start Line: 171</div><div id='n_end'> N End Line: 177</div><BR>