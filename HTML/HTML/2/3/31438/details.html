<html><h3>Pattern ID :31438
</h3><img src='92098124.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        else:
            img_info = self.prepare_train_img(idx)
            img<a id="change"> = </a><a id="change">np.concatenate(</a>(img_info[&quotimg&quot][&quotimg1&quot], img_info[&quotimg&quot][&quotimg2&quot])<a id="change">, axis=2)</a>
            transformed_data = self.transform(image=img, mask=img_info[&quotann&quot][&quotann&quot])
            transformed_image, img_info[&quotann&quot][&quotann&quot] = transformed_data[&quotimage&quot], transformed_data[&quotmask&quot]

        img_info[&quotimg&quot][&quotimg1&quot], img_info[&quotimg&quot][&quotimg2&quot] = np.split(transformed_image, 2, axis=0+to_tensor_axis_bias)</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            dict: Training/test data (with annotation if ann_dir is not None).
        
        <a id="change">pass</a>

    def __len__(self):
        Total number of samples of data.
        return len(self.img_infos)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/likyoo/change_detection.pytorch/commit/a80fd1b4d8adb2d8b3db231d46ad1942fa4fdbfa#diff-6b264944f5c4029be11f87d38a3fd0cf22d742812773cc5064af9efb341c8be8L224' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92098124</div><div id='project'> Project Name: likyoo/change_detection.pytorch</div><div id='commit'> Commit Name: a80fd1b4d8adb2d8b3db231d46ad1942fa4fdbfa</div><div id='time'> Time: 2021-08-06</div><div id='author'> Author: 1150249769@qq.com</div><div id='file'> File Name: change_detection_pytorch/datasets/custom.py</div><div id='m_class'> M Class Name: CustomDataset</div><div id='n_method'> N Class Name: CustomDataset</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: change_detection_pytorch/datasets/custom.py</div><div id='n_file'> N File Name: change_detection_pytorch/datasets/custom.py</div><div id='m_start'> M Start Line: 228</div><div id='m_end'> M End Line: 242</div><div id='n_start'> N Start Line: 224</div><div id='n_end'> N End Line: 224</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        def _get_feed_dict(self, index: int) -&gt; dict:
            target_item = self.data[&quotitem_id&quot][index]
            neg_items = self.neg_items[index]
            item_ids<a id="change"> = </a><a id="change">np.concatenate(</a>[[target_item], neg_items]<a id="change">)</a>
            feed_dict = {&quotitem_id&quot: item_ids}
            return feed_dict

        &#47&#47 Prepare model-specific variables and buffer feed dicts</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 ! Key method to construct input data for a single instance
        def _get_feed_dict(self, index: int) -&gt; dict:
            <a id="change">pass</a>

        &#47&#47 Called before each epoch
        def actions_before_epoch(self) -&gt; NoReturn:
            pass</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/c4edfa4402cd70f204f41ee5b0793f6e8a0b456d#diff-729e4f85d154577f0f3e5e3142418d4cd6e81f38bcd35a1ff8c9f64c710ea452L155' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92098132</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: c4edfa4402cd70f204f41ee5b0793f6e8a0b456d</div><div id='time'> Time: 2020-11-17</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/BaseModel.py</div><div id='m_class'> M Class Name: Dataset</div><div id='n_method'> N Class Name: Dataset</div><div id='m_method'> M Method Name: _get_feed_dict(2)</div><div id='n_method'> N Method Name: _get_feed_dict(2)</div><div id='m_parent_class'> M Parent Class: BaseDataset</div><div id='n_parent_class'> N Parent Class: BaseDataset</div><div id='m_file'> M File Name: src/models/BaseModel.py</div><div id='n_file'> N File Name: src/models/BaseModel.py</div><div id='m_start'> M Start Line: 156</div><div id='m_end'> M End Line: 160</div><div id='n_start'> N Start Line: 157</div><div id='n_end'> N End Line: 157</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        if is_evaluation_requested:
            train_triples, test_triples = self.get_test_triples(train_triples=training_triples)
            self.test_triples = test_triples
            self.all_triples<a id="change"> = </a><a id="change">np.concatenate(</a>[train_triples, test_triples]<a id="change">, axis=0)</a>

        training_triples, test_triples = self.map_triples(train_triples=self.train_triples,
                                                          test_triples=self.test_triples)
</code></pre><h3>After Change</h3><pre><code class='java'>

        else:
            &#47&#47 TODO: ADD CWA logic
            <a id="change">pass</a>



</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/pykeen/pykeen/commit/26306431f63d0784de56e88ebc483399f3fac0fc#diff-1d6a03d0be2f9a1fc7b28d73d11da8b8675a9a93fe0559cd6796dd1d2a8a7b74L90' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92098129</div><div id='project'> Project Name: pykeen/pykeen</div><div id='commit'> Commit Name: 26306431f63d0784de56e88ebc483399f3fac0fc</div><div id='time'> Time: 2019-04-30</div><div id='author'> Author: ali-mehdi@live.de</div><div id='file'> File Name: src/poem/instance_creation_factories/triples_factory.py</div><div id='m_class'> M Class Name: TriplesFactory</div><div id='n_method'> N Class Name: TriplesFactory</div><div id='m_method'> M Method Name: create_instances(1)</div><div id='n_method'> N Method Name: create_instances(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/poem/instance_creation_factories/triples_factory.py</div><div id='n_file'> N File Name: src/poem/instance_creation_factories/triples_factory.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 112</div><div id='n_start'> N Start Line: 122</div><div id='n_end'> N End Line: 133</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.lon = xr_data[&quotlon&quot].to_numpy()

    def __getitem__(self, index):
        np_data<a id="change"> = </a><a id="change">np.concatenate(</a>[self.data_dict[var][index] for var in self.data_dict.keys()]<a id="change">, axis=0)</a>
        return torch.from_numpy(np_data)

    def __len__(self):
        return self.data_dict[list(self.data_dict.keys())[0]].shape[0]</code></pre><h3>After Change</h3><pre><code class='java'>
        self.lon = xr_data[&quotlon&quot].to_numpy()

    def __getitem__(self, index):
        <a id="change">pass</a>

    def __len__(self):
        pass
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aditya-grover/climate-learn/commit/ffa5a9dd5b79cb8782b48341b7a688d441477595#diff-3b67a748eec3747064c59899ebf02f5f80c4ebf5074fa360c4b052fdd14abe4bL51' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 92098128</div><div id='project'> Project Name: aditya-grover/climate-learn</div><div id='commit'> Commit Name: ffa5a9dd5b79cb8782b48341b7a688d441477595</div><div id='time'> Time: 2022-09-11</div><div id='author'> Author: ductungnguyen1997@gmail.com</div><div id='file'> File Name: src/datamodules/era5_dataset.py</div><div id='m_class'> M Class Name: ERA5</div><div id='n_method'> N Class Name: ERA5</div><div id='m_method'> M Method Name: __getitem__(2)</div><div id='n_method'> N Method Name: __getitem__(2)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: src/datamodules/era5_dataset.py</div><div id='n_file'> N File Name: src/datamodules/era5_dataset.py</div><div id='m_start'> M Start Line: 52</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 52</div><BR>