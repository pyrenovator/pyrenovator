<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            used_idx.append(torch.LongTensor(list(used_item_id)))
            used_num = len(used_item_id)
            neg_num = tot_item_num - used_num
            neg_end = new_inter_num<a id="change"> + </a>pos_num + neg_num
            pos_len_list.append(pos_num)
            user_idx_list.append(<a id="change">slice(</a>new_inter_num, neg_end<a id="change">)</a>)
            new_inter_num += pos_num + neg_num

        users = pd.DataFrame({uid_field: users})</code></pre><h3>After Change</h3><pre><code class='java'>
        user_df = pd.DataFrame({uid_field: users})
        user_tensor = self._dataframe_to_interaction(self.join(user_df))

        <a id="change">return </a>user_tensor, torch.LongTensor(pos_idx), torch.LongTensor(used_idx),\
               pos_len_list, user_len_list, neg_len_list

    def __next__(self):</code></pre>