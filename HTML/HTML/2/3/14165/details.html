<html><h3>Pattern ID :14165
</h3><img src='47213184.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    C:  Number of output channels
    
    def __init__(self, C=12, N=320, activation=&quotrelu&quot, final_activation=None):
        <a id="change">super(HyperpriorSynthesis, self).__init__()</a>

        cnn_kwargs = dict(kernel_size=5, stride=2, padding=2, output_padding=1)
        self.activation = getattr(F, activation)
        self.final_activation = final_activation</code></pre><h3>After Change</h3><pre><code class='java'>
        
        super(HyperpriorDLMM, self).__init__(n_channels=bottleneck_capacity)
        
        <a id="change">assert </a>bottleneck_capacity &lt;= 128, &quotWill probably run out of memory!&quot
        self.bottleneck_capacity = bottleneck_capacity
        self.scale_lower_bound = scale_lower_bound
        self.mixture_components = mixture_components</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 9</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/justin-tan/high-fidelity-generative-compression/commit/bfea0331309355675403fc614470a5914697f92c#diff-6598cadb10af1c7b8fb96f303277c37409618491cb9919c09f3e81f5d93cb4e0L413' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213184</div><div id='project'> Project Name: justin-tan/high-fidelity-generative-compression</div><div id='commit'> Commit Name: bfea0331309355675403fc614470a5914697f92c</div><div id='time'> Time: 2020-08-18</div><div id='author'> Author: justan@student.unimelb.edu.au</div><div id='file'> File Name: src/network/hyperprior.py</div><div id='m_class'> M Class Name: HyperpriorDLMM</div><div id='n_method'> N Class Name: HyperpriorDLMM</div><div id='m_method'> M Method Name: __init__(7)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: CodingModel</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/network/hyperprior.py</div><div id='n_file'> N File Name: src/network/hyperprior.py</div><div id='m_start'> M Start Line: 413</div><div id='m_end'> M End Line: 425</div><div id='n_start'> N Start Line: 427</div><div id='n_end'> N End Line: 464</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __init__(self, missing_rate: float = 0.5, 
                 missing_type: str = &quotuniform&quot, 
                 missing_value : float = float("nan")):
        <a id="change">super().__init__()</a>
        assert missing_type in ("uniform", "structural"), missing_type
        self.missing_rate = missing_rate
        self.missing_type = missing_type
        self.missing_value = missing_value</code></pre><h3>After Change</h3><pre><code class='java'>
                 missing_type: str = &quotuniform&quot, 
                 missing_value : float = float("nan")):
        assert missing_type in ("uniform", "structural"), missing_type
        <a id="change">assert </a>missing_rate &lt; 1, missing_rate
        self.missing_rate = missing_rate
        self.missing_type = missing_type
        self.missing_value = missing_value</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/edisonleeeee/greatx/commit/1fa223c6be13eed98ba0eb183efeba02d9656d5f#diff-c8bef12d9aab27ab7e8c5f5bd3cba64811d0f84033d42cfa1f2df09e3129fd07L47' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213185</div><div id='project'> Project Name: edisonleeeee/greatx</div><div id='commit'> Commit Name: 1fa223c6be13eed98ba0eb183efeba02d9656d5f</div><div id='time'> Time: 2022-06-24</div><div id='author'> Author: cnljt@outlook.com</div><div id='file'> File Name: graphwar/utils/missing_feature.py</div><div id='m_class'> M Class Name: MissingFeature</div><div id='n_method'> N Class Name: MissingFeature</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: BaseTransform</div><div id='n_parent_class'> N Parent Class: BaseTransform</div><div id='m_file'> M File Name: graphwar/utils/missing_feature.py</div><div id='n_file'> N File Name: graphwar/utils/missing_feature.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 50</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 44</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                val_path = os.path.join(
                    root, "chest-xray", "val")

            <a id="change">super(ChestXrayDataset, self).__init__(
                root=val_path, transform=self.transform)</a>
        elif mode == "test":
            if download:
                test_path = os.path.join(
                    root, tag, "chest_xray", "test")</code></pre><h3>After Change</h3><pre><code class='java'>
        tag = "chest-xray-pneumonia"

        modes = ["train", "val", "test"]
        <a id="change">assert </a>mode in modes, "Available options for mode: train, val, test"

        self.target_transform = target_transform
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tuttelikz/farabio/commit/f1d17ab62f7226de3ebd472422d38aa48b177fc3#diff-497438abfedb0f9ddf0240caff2549d5d946b521e9cbe5c1e6ec796b17c2954eL101' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213186</div><div id='project'> Project Name: tuttelikz/farabio</div><div id='commit'> Commit Name: f1d17ab62f7226de3ebd472422d38aa48b177fc3</div><div id='time'> Time: 2021-07-27</div><div id='author'> Author: s.askaruly@gmail.com</div><div id='file'> File Name: farabio/data/biodatasets.py</div><div id='m_class'> M Class Name: ChestXrayDataset</div><div id='n_method'> N Class Name: ChestXrayDataset</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: farabio/data/biodatasets.py</div><div id='n_file'> N File Name: farabio/data/biodatasets.py</div><div id='m_start'> M Start Line: 101</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 131</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                train_path = os.path.join(
                    root, "chest-xray", "train")

            <a id="change">super(ChestXrayDataset, self).__init__(
                root=train_path, transform=self.transform)</a>
        elif mode == "val":
            if download:
                val_path = os.path.join(
                    root, tag, "chest_xray", "val")</code></pre><h3>After Change</h3><pre><code class='java'>
        tag = "chest-xray-pneumonia"

        modes = ["train", "val", "test"]
        <a id="change">assert </a>mode in modes, "Available options for mode: train, val, test"

        self.target_transform = target_transform
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tuttelikz/farabio/commit/bd0374049d13c5b0d7cad83da095e2cbc01725d2#diff-497438abfedb0f9ddf0240caff2549d5d946b521e9cbe5c1e6ec796b17c2954eL101' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213187</div><div id='project'> Project Name: tuttelikz/farabio</div><div id='commit'> Commit Name: bd0374049d13c5b0d7cad83da095e2cbc01725d2</div><div id='time'> Time: 2021-07-29</div><div id='author'> Author: s.askaruly@gmail.com</div><div id='file'> File Name: farabio/data/biodatasets.py</div><div id='m_class'> M Class Name: ChestXrayDataset</div><div id='n_method'> N Class Name: ChestXrayDataset</div><div id='m_method'> M Method Name: __init__(8)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: ImageFolder</div><div id='n_parent_class'> N Parent Class: ImageFolder</div><div id='m_file'> M File Name: farabio/data/biodatasets.py</div><div id='n_file'> N File Name: farabio/data/biodatasets.py</div><div id='m_start'> M Start Line: 101</div><div id='m_end'> M End Line: 144</div><div id='n_start'> N Start Line: 100</div><div id='n_end'> N End Line: 131</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        norm_layer: nn.Module = nn.BatchNorm2d,
        activation_layer: nn.Module = nn.ReLU
    ):
        <a id="change">super().__init__(
            </a>Conv2d1x1(in_channels, out_channels, stride=stride,
                      padding=padding, bias=bias, groups=groups),
            norm_layer(out_channels, eps=bn_epsilon, momentum=bn_momentum),
            activation_layer(inplace=True)<a id="change">
        )</a>


class Conv2dBlock(nn.Sequential):
    def __init__(</code></pre><h3>After Change</h3><pre><code class='java'>
        norm_position: str = None
    ):
        norm_position = norm_position if norm_position else BN_POSIITON
        <a id="change">assert </a>norm_position in [&quotbefore&quot, &quotafter&quot, &quotnone&quot], &quot&quot

        bn_epsilon = bn_epsilon if bn_epsilon else BN_EPSILON
        bn_momentum = bn_momentum if bn_momentum else BN_MOMENTUM</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ffiirree/cv-models/commit/4c9ed7edb86670cd5f91cf01a8525b25471f1ff0#diff-355c882d2c8458802245dc4426f748876ba63251c0b0caec55649e8d4e95c965L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213178</div><div id='project'> Project Name: ffiirree/cv-models</div><div id='commit'> Commit Name: 4c9ed7edb86670cd5f91cf01a8525b25471f1ff0</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: ice_qi@163.com</div><div id='file'> File Name: models/core/blocks.py</div><div id='m_class'> M Class Name: Conv2d1x1Block</div><div id='n_method'> N Class Name: Conv2d1x1Block</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(11)</div><div id='m_parent_class'> M Parent Class: nn.Sequential</div><div id='n_parent_class'> N Parent Class: nn.Sequential</div><div id='m_file'> M File Name: models/core/blocks.py</div><div id='n_file'> N File Name: models/core/blocks.py</div><div id='m_start'> M Start Line: 93</div><div id='m_end'> M End Line: 98</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 123</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        norm_layer: nn.Module = nn.BatchNorm2d,
        activation_layer: nn.Module = nn.ReLU
    ):
        <a id="change">super().__init__(
            </a>nn.Conv2d(in_channels, out_channels, kernel_size=kernel_size,
                      bias=False, stride=stride, padding=padding, groups=groups),
            norm_layer(out_channels, eps=bn_epsilon, momentum=bn_momentum),
            activation_layer(inplace=True)<a id="change">,
        )</a>


class ResBasicBlock(nn.Module):
    def __init__(</code></pre><h3>After Change</h3><pre><code class='java'>
        norm_position: str = None,
    ):
        norm_position = norm_position if norm_position else BN_POSIITON
        <a id="change">assert </a>norm_position in [&quotbefore&quot, &quotafter&quot, &quotnone&quot], &quot&quot

        bn_epsilon = bn_epsilon if bn_epsilon else BN_EPSILON
        bn_momentum = bn_momentum if bn_momentum else BN_MOMENTUM</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ffiirree/cv-models/commit/4c9ed7edb86670cd5f91cf01a8525b25471f1ff0#diff-355c882d2c8458802245dc4426f748876ba63251c0b0caec55649e8d4e95c965L102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213180</div><div id='project'> Project Name: ffiirree/cv-models</div><div id='commit'> Commit Name: 4c9ed7edb86670cd5f91cf01a8525b25471f1ff0</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: ice_qi@163.com</div><div id='file'> File Name: models/core/blocks.py</div><div id='m_class'> M Class Name: Conv2dBlock</div><div id='n_method'> N Class Name: Conv2dBlock</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(11)</div><div id='m_parent_class'> M Parent Class: nn.Sequential</div><div id='n_parent_class'> N Parent Class: nn.Sequential</div><div id='m_file'> M File Name: models/core/blocks.py</div><div id='n_file'> N File Name: models/core/blocks.py</div><div id='m_start'> M Start Line: 115</div><div id='m_end'> M End Line: 120</div><div id='n_start'> N Start Line: 139</div><div id='n_end'> N End Line: 160</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    higher_is_better: bool = False

    def __init__(self) -&gt; None:
        <a id="change">super().__init__()</a>
    
    @overrides
    def evaluate(self, arch: ArchaiModel, dataset: DatasetProvider,
                 budget: Optional[float] = None) -&gt; float:</code></pre><h3>After Change</h3><pre><code class='java'>
    higher_is_better: bool = False

    def __init__(self, search_space) -&gt; None:
        <a id="change">assert </a>search_space.arch_type in [&quotgpt2&quot, &quotgpt2-flex&quot]
        self.search_space = search_space
    
    def _load_and_prepare(self, config) -&gt; torch.nn.Module:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/43554986f8e0768c03baccdeddd4ef745466a1ae#diff-b695f192b67429095275bd5170d638a839fa7e54ba13f7b13b3c83dc99cdb184L23' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213182</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: 43554986f8e0768c03baccdeddd4ef745466a1ae</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: pierokauffmann@gmail.com</div><div id='file'> File Name: archai/nlp/objectives/transformer_flex_latency.py</div><div id='m_class'> M Class Name: TransformerFlexOnnxLatency</div><div id='n_method'> N Class Name: TransformerFlexOnnxLatency</div><div id='m_method'> M Method Name: __init__(2)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: Objective</div><div id='n_parent_class'> N Parent Class: Objective</div><div id='m_file'> M File Name: archai/nlp/objectives/transformer_flex_latency.py</div><div id='n_file'> N File Name: archai/nlp/objectives/transformer_flex_latency.py</div><div id='m_start'> M Start Line: 24</div><div id='m_end'> M End Line: 24</div><div id='n_start'> N Start Line: 32</div><div id='n_end'> N End Line: 34</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        norm_layer: nn.Module = nn.BatchNorm2d,
        activation_layer: nn.Module = nn.ReLU
    ):
        <a id="change">super().__init__(
            </a>PointwiseConv2d(inp, oup, stride=stride),
            norm_layer(oup, eps=bn_epsilon, momentum=bn_momentum),
            activation_layer(inplace=True)<a id="change">,
        )</a>


class SEBlock(nn.Module):
    def __init__(self, channels, ratio):</code></pre><h3>After Change</h3><pre><code class='java'>
        norm_position: str = None,
    ):
        norm_position = norm_position if norm_position else BN_POSIITON
        <a id="change">assert </a>norm_position in [&quotbefore&quot, &quotafter&quot, &quotnone&quot], &quot&quot

        bn_epsilon = bn_epsilon if bn_epsilon else BN_EPSILON
        bn_momentum = bn_momentum if bn_momentum else BN_MOMENTUM</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ffiirree/cv-models/commit/4c9ed7edb86670cd5f91cf01a8525b25471f1ff0#diff-355c882d2c8458802245dc4426f748876ba63251c0b0caec55649e8d4e95c965L294' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 47213183</div><div id='project'> Project Name: ffiirree/cv-models</div><div id='commit'> Commit Name: 4c9ed7edb86670cd5f91cf01a8525b25471f1ff0</div><div id='time'> Time: 2021-07-21</div><div id='author'> Author: ice_qi@163.com</div><div id='file'> File Name: models/core/blocks.py</div><div id='m_class'> M Class Name: PointwiseBlock</div><div id='n_method'> N Class Name: PointwiseBlock</div><div id='m_method'> M Method Name: __init__(10)</div><div id='n_method'> N Method Name: __init__(8)</div><div id='m_parent_class'> M Parent Class: nn.Sequential</div><div id='n_parent_class'> N Parent Class: nn.Sequential</div><div id='m_file'> M File Name: models/core/blocks.py</div><div id='n_file'> N File Name: models/core/blocks.py</div><div id='m_start'> M Start Line: 304</div><div id='m_end'> M End Line: 308</div><div id='n_start'> N Start Line: 369</div><div id='n_end'> N End Line: 395</div><BR>