<html><h3>Pattern ID :36167
</h3><img src='102539293.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def get_requirements_from_file(filepath):
    requires = []
    <a id="change">with </a><a id="change">open(filepath, &quotr&quot) as f:
        </a>requires.append(f.readline())
    return requires

</code></pre><h3>After Change</h3><pre><code class='java'>
    requirements = []
    with open(python_requirements_file) as requirements_file:
        requirement = requirements_file.readline()
        <a id="change">while </a>requirement<a id="change">:
            </a>if requirement.strip().startswith("&#47&#47"):
                pass
            elif requirement.strip() == "":
                pass</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zumolabs/zpy/commit/f480be593d4716e224cf5d8b7701a05300fac3ba#diff-60f61ab7a8d1910d86d9fda2261620314edcae5894d5aaa236b821c7256badd7L9' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539293</div><div id='project'> Project Name: zumolabs/zpy</div><div id='commit'> Commit Name: f480be593d4716e224cf5d8b7701a05300fac3ba</div><div id='time'> Time: 2021-03-17</div><div id='author'> Author: nponte@baymax.local</div><div id='file'> File Name: setup.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: get_requirements_from_file(1)</div><div id='n_method'> N Method Name: get_requirements_from_file(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: setup.py</div><div id='n_file'> N File Name: setup.py</div><div id='m_start'> M Start Line: 9</div><div id='m_end'> M End Line: 12</div><div id='n_start'> N Start Line: 20</div><div id='n_end'> N End Line: 32</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    async def _wait_for_cancel(self):
        Do NOT override this method when inheriting from :class:`GatewayPea`
        with <a id="change">zmq</a>.asyncio.Context() as ctx, <a id="change"></a>_init_socket<a id="change">(
            ctx, self.ctrl_addr, None, SocketType.PAIR_BIND, use_ipc=True
        )[0] as sock:
            </a>msg = await recv_message_async(sock)
            if msg.request.command == &quotTERMINATE&quot:
                msg.envelope.status.code = jina_pb2.StatusProto.SUCCESS
                await self.async_cancel()</code></pre><h3>After Change</h3><pre><code class='java'>

    async def _wait_for_cancel(self):
        Do NOT override this method when inheriting from :class:`GatewayPea`
        <a id="change">while </a>True<a id="change">:
            </a>if self.is_cancel.is_set():
                await self.async_cancel()
                return
            else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/jina/commit/b195b132559bd8881d801f43e650041a0e67ce32#diff-1b61bf7c933cc5a617bff6182870d4369feb548dd213045ed1e198660a866bd5L31' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539295</div><div id='project'> Project Name: jina-ai/jina</div><div id='commit'> Commit Name: b195b132559bd8881d801f43e650041a0e67ce32</div><div id='time'> Time: 2021-07-05</div><div id='author'> Author: joan.martinez@jina.ai</div><div id='file'> File Name: jina/peapods/runtimes/zmq/asyncio.py</div><div id='m_class'> M Class Name: AsyncZMQRuntime</div><div id='n_method'> N Class Name: AsyncZMQRuntime</div><div id='m_method'> M Method Name: _wait_for_cancel(1)</div><div id='n_method'> N Method Name: _wait_for_cancel(1)</div><div id='m_parent_class'> M Parent Class: ZMQRuntime</div><div id='n_parent_class'> N Parent Class: ZMQRuntime</div><div id='m_file'> M File Name: jina/peapods/runtimes/zmq/asyncio.py</div><div id='n_file'> N File Name: jina/peapods/runtimes/zmq/asyncio.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 46</div><div id='n_end'> N End Line: 53</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        with eval_model.module.backbone.register_forward_hook(feature_vector_hook):
            with eval_model.module.backbone.register_forward_hook(saliency_map_hook):
                for data in data_loader:
                    <a id="change">with </a><a id="change">torch.no_grad():
                        </a>result = eval_model(return_loss=False, rescale=True, **data)
                    eval_predictions.extend(result)

        for key in [</code></pre><h3>After Change</h3><pre><code class='java'>
            metric = metric[&quotmAP&quot] if isinstance(cfg.evaluation.metric, list) else metric[cfg.evaluation.metric]

        &#47&#47 Check and unwrap ImageTilingDataset object from TaskAdaptEvalDataset
        <a id="change">while </a>hasattr(dataset, &quotdataset&quot) and not isinstance(dataset, ImageTilingDataset)<a id="change">:
            </a>dataset = dataset.dataset

        if isinstance(dataset, ImageTilingDataset):
            saliency_maps = [saliency_maps[i] for i in range(dataset.num_samples)]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/model_preparation_algorithm/commit/2f4fb6b91080d4b06f9134758206b3c48d4dfc54#diff-16a9a4573fb1c6b284bc5036e7b737679f1018138a97fa6a4d54c519d1a84642L73' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102539297</div><div id='project'> Project Name: openvinotoolkit/model_preparation_algorithm</div><div id='commit'> Commit Name: 2f4fb6b91080d4b06f9134758206b3c48d4dfc54</div><div id='time'> Time: 2022-10-17</div><div id='author'> Author: eugene.liu@intel.com</div><div id='file'> File Name: mpa/det/inferrer.py</div><div id='m_class'> M Class Name: DetectionInferrer</div><div id='n_method'> N Class Name: DetectionInferrer</div><div id='m_method'> M Method Name: infer(5)</div><div id='n_method'> N Method Name: infer(5)</div><div id='m_parent_class'> M Parent Class: DetectionStage</div><div id='n_parent_class'> N Parent Class: DetectionStage</div><div id='m_file'> M File Name: mpa/det/inferrer.py</div><div id='n_file'> N File Name: mpa/det/inferrer.py</div><div id='m_start'> M Start Line: 97</div><div id='m_end'> M End Line: 196</div><div id='n_start'> N Start Line: 84</div><div id='n_end'> N End Line: 210</div><BR>