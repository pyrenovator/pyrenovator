<html><h3>Pattern ID :19774
</h3><img src='64480130.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def _compute(self, predictions, references, labels=None, pos_label=1, average="binary", sample_weight=None):
        return {
            "f1": <a id="change">f1_score(
                </a>references,
                predictions<a id="change">,
                labels=labels,
                pos_label=pos_label,
                average=average,
                sample_weight=sample_weight,
            )</a>,
        }
</code></pre><h3>After Change</h3><pre><code class='java'>

    def _compute(self, predictions, references, labels=None, pos_label=1, average="binary", sample_weight=None):
        return {
            "f1": <a id="change">f1_score(
                references,
                predictions,
                labels=labels,
                pos_label=pos_label,
                average=average,
                sample_weight=sample_weight,
            ).tolist()</a>,
        }
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/060dc85e8ef4a668f328cf7255e1f5fa46cc3a22#diff-264a1afc7577dabfb1e04b74a86560c3d158a0736484ce07dfd461e2bfc6bb80L102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64480130</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 060dc85e8ef4a668f328cf7255e1f5fa46cc3a22</div><div id='time'> Time: 2021-07-09</div><div id='author'> Author: lewis.c.tunstall@gmail.com</div><div id='file'> File Name: metrics/f1/f1.py</div><div id='m_class'> M Class Name: F1</div><div id='n_method'> N Class Name: F1</div><div id='m_method'> M Method Name: _compute(7)</div><div id='n_method'> N Method Name: _compute(7)</div><div id='m_parent_class'> M Parent Class: datasets.Metric</div><div id='n_parent_class'> N Parent Class: datasets.Metric</div><div id='m_file'> M File Name: metrics/f1/f1.py</div><div id='n_file'> N File Name: metrics/f1/f1.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 109</div><div id='n_start'> N Start Line: 102</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def acc_and_f1(preds, labels):
    acc = simple_accuracy(preds, labels)
    f1 = <a id="change">f1_score(y_true=labels, y_pred=preds)</a>
    return {
        "accuracy": acc,
        "f1": f1,
    }</code></pre><h3>After Change</h3><pre><code class='java'>

def acc_and_f1(preds, labels):
    acc = simple_accuracy(preds, labels)
    f1 = <a id="change">f1_score(y_true=labels, y_pred=preds).tolist()</a>
    return {
        "accuracy": acc,
        "f1": f1,
    }</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/060dc85e8ef4a668f328cf7255e1f5fa46cc3a22#diff-0f20d96b64d8ba7b5c3b6a24642ad4778b0c6a3a618378f6eaf35a1d3ec8cbeaL87' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64480129</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 060dc85e8ef4a668f328cf7255e1f5fa46cc3a22</div><div id='time'> Time: 2021-07-09</div><div id='author'> Author: lewis.c.tunstall@gmail.com</div><div id='file'> File Name: metrics/glue/glue.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: acc_and_f1(2)</div><div id='n_method'> N Method Name: acc_and_f1(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: metrics/glue/glue.py</div><div id='n_file'> N File Name: metrics/glue/glue.py</div><div id='m_start'> M Start Line: 89</div><div id='m_end'> M End Line: 89</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def acc_and_f1(preds, labels, f1_avg="binary"):
    acc = simple_accuracy(preds, labels)
    f1 = <a id="change">f1_score(y_true=labels, y_pred=preds, average=f1_avg)</a>
    return {
        "accuracy": acc,
        "f1": f1,
    }</code></pre><h3>After Change</h3><pre><code class='java'>

def acc_and_f1(preds, labels, f1_avg="binary"):
    acc = simple_accuracy(preds, labels)
    f1 = <a id="change">f1_score(y_true=labels, y_pred=preds, average=f1_avg).tolist()</a>
    return {
        "accuracy": acc,
        "f1": f1,
    }</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/060dc85e8ef4a668f328cf7255e1f5fa46cc3a22#diff-6efd74cf0a7783df66543b3e9b51d2a8d590abaf04f9735004e7762f9b919bc5L113' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64480128</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 060dc85e8ef4a668f328cf7255e1f5fa46cc3a22</div><div id='time'> Time: 2021-07-09</div><div id='author'> Author: lewis.c.tunstall@gmail.com</div><div id='file'> File Name: metrics/super_glue/super_glue.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: acc_and_f1(3)</div><div id='n_method'> N Method Name: acc_and_f1(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: metrics/super_glue/super_glue.py</div><div id='n_file'> N File Name: metrics/super_glue/super_glue.py</div><div id='m_start'> M Start Line: 115</div><div id='m_end'> M End Line: 115</div><div id='n_start'> N Start Line: 115</div><div id='n_end'> N End Line: 115</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

def acc_and_f1(preds, labels):
    acc = simple_accuracy(preds, labels)
    f1 = <a id="change">f1_score(y_true=labels, y_pred=preds)</a>
    return {
        "accuracy": acc,
        "f1": f1,
    }</code></pre><h3>After Change</h3><pre><code class='java'>

def acc_and_f1(preds, labels):
    acc = simple_accuracy(preds, labels)
    f1 = <a id="change">f1_score(y_true=labels, y_pred=preds).tolist()</a>
    return {
        "accuracy": acc,
        "f1": f1,
    }</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/060dc85e8ef4a668f328cf7255e1f5fa46cc3a22#diff-89fc6936f218dc66753d69b797a23fcfac250ea41e4ededc84c520e539310b65L80' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64480127</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 060dc85e8ef4a668f328cf7255e1f5fa46cc3a22</div><div id='time'> Time: 2021-07-09</div><div id='author'> Author: lewis.c.tunstall@gmail.com</div><div id='file'> File Name: metrics/indic_glue/indic_glue.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: acc_and_f1(2)</div><div id='n_method'> N Method Name: acc_and_f1(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: metrics/indic_glue/indic_glue.py</div><div id='n_file'> N File Name: metrics/indic_glue/indic_glue.py</div><div id='m_start'> M Start Line: 82</div><div id='m_end'> M End Line: 82</div><div id='n_start'> N Start Line: 82</div><div id='n_end'> N End Line: 82</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        ems.append(em)
    f1_m = sum(f1s) / len(f1s)
    em = sum(ems) / len(ems)
    f1_a = <a id="change">f1_score(y_true=labels, y_pred=[id_pred["prediction"] for id_pred in ids_preds])</a>
    return {"exact_match": em, "f1_m": f1_m, "f1_a": f1_a}


@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)</code></pre><h3>After Change</h3><pre><code class='java'>
        ems.append(em)
    f1_m = (sum(f1s) / len(f1s)).tolist()
    em = sum(ems) / len(ems)
    f1_a = <a id="change">f1_score(y_true=labels, y_pred=[id_pred["prediction"] for id_pred in ids_preds]).tolist()</a>
    return {"exact_match": em, "f1_m": f1_m, "f1_a": f1_a}


@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/huggingface/datasets/commit/060dc85e8ef4a668f328cf7255e1f5fa46cc3a22#diff-6efd74cf0a7783df66543b3e9b51d2a8d590abaf04f9735004e7762f9b919bc5L122' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 64480126</div><div id='project'> Project Name: huggingface/datasets</div><div id='commit'> Commit Name: 060dc85e8ef4a668f328cf7255e1f5fa46cc3a22</div><div id='time'> Time: 2021-07-09</div><div id='author'> Author: lewis.c.tunstall@gmail.com</div><div id='file'> File Name: metrics/super_glue/super_glue.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: evaluate_multirc(2)</div><div id='n_method'> N Method Name: evaluate_multirc(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: metrics/super_glue/super_glue.py</div><div id='n_file'> N File Name: metrics/super_glue/super_glue.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 143</div><div id='n_start'> N Start Line: 141</div><div id='n_end'> N End Line: 143</div><BR>