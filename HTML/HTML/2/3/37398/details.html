<html><h3>Pattern ID :37398
</h3><img src='107694463.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    loss_provider = PredictionLossProvider(num_channels=cfg.num_channels, num_pred_frames=cfg.vid_pred_length,
                                           device=cfg.device, loss_scales=loss_scales)
    &#47&#47 Check if indicator loss available
    if loss_scales[cfg.pred_val_criterion] &lt;= 0.0 or <a id="change">cfg.pred_val_criterion not in loss_provider.losses.keys()</a>:
        cfg.pred_val_criterion = "mse"

    &#47&#47 MAIN LOOP</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 TESTING
    print("\nTraining done, testing best model...")
    best_model_path = <a id="change">str(</a>(cfg.out_dir / &quotbest_model.pth&quot).resolve()<a id="change">)</a>
    cfg.models = [best_model_path]
    cfg.full_evaluation = True
    test_pred_models(cfg)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ais-bonn/vp-suite/commit/fdaac0ffed5e2a1b329789c3895fe629e02bf65c#diff-c94de6e5e575b1547149b7bcf71a54c2bc6cbddf333d25dc4b12c2692c09050cL53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107694463</div><div id='project'> Project Name: ais-bonn/vp-suite</div><div id='commit'> Commit Name: fdaac0ffed5e2a1b329789c3895fe629e02bf65c</div><div id='time'> Time: 2021-09-20</div><div id='author'> Author: boltres@ais.uni-bonn.de</div><div id='file'> File Name: train_pred.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train(1)</div><div id='n_method'> N Method Name: train(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: train_pred.py</div><div id='n_file'> N File Name: train_pred.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 100</div><div id='n_start'> N Start Line: 53</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        else:
            index = len(self._token_to_event)
            if self.custom_indexes:  &#47&#47 no need to check if no custom index have been used
                while <a id="change">index in self._token_to_event.keys()</a>:  &#47&#47 assert the index isn&quott already used
                    index += 1

        self._event_to_token[event] = index</code></pre><h3>After Change</h3><pre><code class='java'>
            event_str = event
            event_type = event.split(&quot_&quot)[0]
        else:
            event_str = <a id="change">str(</a>event<a id="change">)</a>
            event_type = event.type

        index = len(self._token_to_event)
        self._event_to_token[event_str] = index</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/natooz/miditok/commit/b9218bf7cba9695f37f74424325037bb4dda1cb7#diff-fcf90c7fa89c38fe7468f96901ac3df75b87c42294bf156497a4cf5ca9b268d8L77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107694461</div><div id='project'> Project Name: natooz/miditok</div><div id='commit'> Commit Name: b9218bf7cba9695f37f74424325037bb4dda1cb7</div><div id='time'> Time: 2022-11-03</div><div id='author'> Author: 56734983+Natooz@users.noreply.github.com</div><div id='file'> File Name: miditok/vocabulary.py</div><div id='m_class'> M Class Name: Vocabulary</div><div id='n_method'> N Class Name: Vocabulary</div><div id='m_method'> M Method Name: __add_distinct_event(2)</div><div id='n_method'> N Method Name: __add_distinct_event(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: miditok/vocabulary.py</div><div id='n_file'> N File Name: miditok/vocabulary.py</div><div id='m_start'> M Start Line: 77</div><div id='m_end'> M End Line: 97</div><div id='n_start'> N Start Line: 81</div><div id='n_end'> N End Line: 95</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def reduce_output(self, check_result: CheckResult) -&gt; Dict[str, float]:
        Return the values of the metrics for the dataset provided in a {metric: value} format.
        result = {(row[&quotMetric&quot], str(row[&quotClass&quot])): row[&quotValue&quot] for _, row in check_result.value.iterrows()}
        for key in [key for key in <a id="change">result.keys()</a> if <a id="change">key[1] == &quot&lt;NA&gt;&quot</a>]:
            result[key[0]] = result.pop(key)
        return result
</code></pre><h3>After Change</h3><pre><code class='java'>
        Return the values of the metrics for the dataset provided in a {metric: value} format.
        result = {}
        for _, row in check_result.value.iterrows():
            key = row[&quotMetric&quot] if pd.isna(row.get(&quotClass&quot)) else (row[&quotMetric&quot], <a id="change">str(</a>row[&quotClass&quot]<a id="change">)</a>)
            result[key] = row[&quotValue&quot]
        return result
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/deepchecks/deepchecks/commit/0450488b486ef22abc8cefa9a020f6b00f13f57b#diff-8165eb885e51007a7df06ca1e0cfefec35511fdaeef4043c0016005c08d5d278L106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 107694464</div><div id='project'> Project Name: deepchecks/deepchecks</div><div id='commit'> Commit Name: 0450488b486ef22abc8cefa9a020f6b00f13f57b</div><div id='time'> Time: 2022-10-23</div><div id='author'> Author: matan@deepchecks.com</div><div id='file'> File Name: deepchecks/tabular/checks/model_evaluation/single_dataset_performance.py</div><div id='m_class'> M Class Name: SingleDatasetPerformance</div><div id='n_method'> N Class Name: SingleDatasetPerformance</div><div id='m_method'> M Method Name: reduce_output(2)</div><div id='n_method'> N Method Name: reduce_output(2)</div><div id='m_parent_class'> M Parent Class: SingleDatasetCheck,ReduceMetricClassMixin</div><div id='n_parent_class'> N Parent Class: SingleDatasetCheck,ReduceMetricClassMixin</div><div id='m_file'> M File Name: deepchecks/tabular/checks/model_evaluation/single_dataset_performance.py</div><div id='n_file'> N File Name: deepchecks/tabular/checks/model_evaluation/single_dataset_performance.py</div><div id='m_start'> M Start Line: 108</div><div id='m_end'> M End Line: 110</div><div id='n_start'> N Start Line: 114</div><div id='n_end'> N End Line: 117</div><BR>