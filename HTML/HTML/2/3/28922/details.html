<html><h3>Pattern ID :28922
</h3><img src='85089472.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            edges = self.edge_index[:, 0:self.num_edges].T.tolist()

        edges_label = self.edge_label.tolist()
        edges_and_label<a id="change"> = </a>list(zip(edges, edges_label))
        <a id="change">random.shuffle(</a>edges_and_label<a id="change">)</a>
        edges, edges_label = zip(*edges_and_label)
        split_offset = 0

        &#47&#47 perform `secure split` s.t. guarantees all splitted subgraph</code></pre><h3>After Change</h3><pre><code class='java'>
                edges_split_i = shuffled_edge_indices[split_offset:]
            &#47&#47 shallow copy all attributes
            graph_new = copy.copy(self)
            graph_new.edge_label_index = <a id="change">self.edge_index[:, edges_split_i]</a>
            graph_new.edge_label = torch.index_select(self.edge_label,
                                                      0, edges_split_i)
            graph_new.edge_split_index = edges_split_i
            split_graphs.append(graph_new)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/snap-stanford/deepsnap/commit/30916909252bba09897b0e688bba6cf63f113671#diff-6e00332a84b17561d6f88c10cc82271c84ecfd1b67966a9866553cf6ae1d24aaL981' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85089472</div><div id='project'> Project Name: snap-stanford/deepsnap</div><div id='commit'> Commit Name: 30916909252bba09897b0e688bba6cf63f113671</div><div id='time'> Time: 2020-11-24</div><div id='author'> Author: youjiaxuan@gmail.com</div><div id='file'> File Name: deepsnap/graph.py</div><div id='m_class'> M Class Name: Graph</div><div id='n_method'> N Class Name: Graph</div><div id='m_method'> M Method Name: _split_edge(2)</div><div id='n_method'> N Method Name: _split_edge(2)</div><div id='m_parent_class'> M Parent Class: object</div><div id='n_parent_class'> N Parent Class: object</div><div id='m_file'> M File Name: deepsnap/graph.py</div><div id='n_file'> N File Name: deepsnap/graph.py</div><div id='m_start'> M Start Line: 981</div><div id='m_end'> M End Line: 1010</div><div id='n_start'> N Start Line: 981</div><div id='n_end'> N End Line: 1001</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        else:
            lam = 1
        batch_size = x.shape[0]
        index<a id="change"> = </a>np.arange(batch_size)
        <a id="change">np.random.shuffle(</a>index<a id="change">)</a>
        mixed_x = lam * x + (1 - lam) * x[index, :]


        if training_context[&quotcurrent_batch&quot]==0:</code></pre><h3>After Change</h3><pre><code class='java'>
            y = train_data.value_list[1].clone()&#47&#47label
        elif get_backend() == &quottensorflow&quot:
            x = copy.deepcopy(train_data.value_list[0])  &#47&#47 input
            y = copy.deepcopy(<a id="change">train_data.value_list[1]</a>) &#47&#47 label
        model=training_context[&quotcurrent_model&quot]

        if self.alpha &gt; 0:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/allanyiin/trident/commit/2e38b10659e16eb41f74326254c44564d161500e#diff-87f1d359e49f5d7192ecc96a128fca1efb648962c392ccec2f70ab037cc24047L43' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85089462</div><div id='project'> Project Name: allanyiin/trident</div><div id='commit'> Commit Name: 2e38b10659e16eb41f74326254c44564d161500e</div><div id='time'> Time: 2020-05-17</div><div id='author'> Author: allan@asiaminer.com.tw</div><div id='file'> File Name: trident/callbacks/regularization_callbacks.py</div><div id='m_class'> M Class Name: MixupCallback</div><div id='n_method'> N Class Name: MixupCallback</div><div id='m_method'> M Method Name: on_loss_calculation_end(2)</div><div id='n_method'> N Method Name: on_loss_calculation_end(2)</div><div id='m_parent_class'> M Parent Class: RegularizationCallbacksBase</div><div id='n_parent_class'> N Parent Class: RegularizationCallbacksBase</div><div id='m_file'> M File Name: trident/callbacks/regularization_callbacks.py</div><div id='n_file'> N File Name: trident/callbacks/regularization_callbacks.py</div><div id='m_start'> M Start Line: 46</div><div id='m_end'> M End Line: 70</div><div id='n_start'> N Start Line: 54</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            for d in tqdm(self.datasets, desc=&quotLoading LMDB datasets...&quot)
        ])

        idxs<a id="change"> = </a>np.arange(len(base_tr_dataset))
        split_point = int(len(base_tr_dataset) * (1 - self.val_split))
        <a id="change">np.random.shuffle(</a>idxs<a id="change">)</a>

        tr_subset = Subset(base_tr_dataset, idxs[:split_point])
        val_subset = Subset(base_tr_dataset, idxs[split_point:])
</code></pre><h3>After Change</h3><pre><code class='java'>

        val_dataset = torch.utils.data.ConcatDataset([
            TensorpackLmdbImageDataset(
                str(self._dataroot / <a id="change">d[&quottr_lmdb&quot]</a>), **d, augmentation_fn=transform_val
            ) for d in tqdm(self.datasets, desc=&quotLoading LMDB datasets...&quot)
        ])
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/microsoft/archai/commit/d1dd0a59dc86ff271b12e111596b7cbefa2675d3#diff-1a409eb88a4648592a5218e6beb5944cd9ee21f0f0e45436550e25b13cc4a96fL85' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 85089461</div><div id='project'> Project Name: microsoft/archai</div><div id='commit'> Commit Name: d1dd0a59dc86ff271b12e111596b7cbefa2675d3</div><div id='time'> Time: 2022-12-16</div><div id='author'> Author: pierokauffmann@gmail.com</div><div id='file'> File Name: archai/datasets/providers/multi_lmdb_image_provider.py</div><div id='m_class'> M Class Name: MultiTensorpackLmdbImageProvider</div><div id='n_method'> N Class Name: MultiTensorpackLmdbImageProvider</div><div id='m_method'> M Method Name: get_train_val_datasets(3)</div><div id='n_method'> N Method Name: get_train_val_datasets(3)</div><div id='m_parent_class'> M Parent Class: DatasetProvider</div><div id='n_parent_class'> N Parent Class: DatasetProvider</div><div id='m_file'> M File Name: archai/datasets/providers/multi_lmdb_image_provider.py</div><div id='n_file'> N File Name: archai/datasets/providers/multi_lmdb_image_provider.py</div><div id='m_start'> M Start Line: 89</div><div id='m_end'> M End Line: 102</div><div id='n_start'> N Start Line: 89</div><div id='n_end'> N End Line: 113</div><BR>