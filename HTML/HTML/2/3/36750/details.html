<html><h3>Pattern ID :36750
</h3><img src='104824575.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        global docker_image_name
        docker_image_name = args.docker_image_name

    <a id="change">global processor</a>
    processor = args.processor

    if (not args.binary):
        print("No binary specified, Using Default binary in PATH")</code></pre><h3>After Change</h3><pre><code class='java'>
        "--docker_image_name", help="The docker image name used to create a container")
    parser.add_argument(
        "--processor", help="Run on gpu or cpu", default=&quotgpu&quot)
    <a id="change">parser.add_argument(
        "--exclude"</a><a id="change">, help="Exclude certain models when running all s3 models", nargs="+")</a>

    &#47&#47 name of S3 bucket to be accessed
    bucket_name = "tf-test-models"
    s3 = boto3.resource(&quots3&quot)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aws/deep-learning-containers/commit/89faa7a300cdec37261fc21304bf6bb877f51957#diff-a0088fa5d17e5695d0df6d6fa04aff4fa6b0b3de201777dcb44ed45c6ed5d916L452' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104824575</div><div id='project'> Project Name: aws/deep-learning-containers</div><div id='commit'> Commit Name: 89faa7a300cdec37261fc21304bf6bb877f51957</div><div id='time'> Time: 2020-08-03</div><div id='author'> Author: 43187008+sboshin@users.noreply.github.com</div><div id='file'> File Name: test/dlc_tests/container_tests/bin/benchmark/tf1_serving_perf.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: test/dlc_tests/container_tests/bin/benchmark/tf1_serving_perf.py</div><div id='n_file'> N File Name: test/dlc_tests/container_tests/bin/benchmark/tf1_serving_perf.py</div><div id='m_start'> M Start Line: 534</div><div id='m_end'> M End Line: 534</div><div id='n_start'> N Start Line: 452</div><div id='n_end'> N End Line: 529</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    parser.add_argument("--alg", default="DQN", help="RL algorithm")
    args = parser.parse_args()

    <a id="change">global ALG</a>
    ALG = args.alg

if __name__ == "__main__":
    main()</code></pre><h3>After Change</h3><pre><code class='java'>
def main():
    parser = argparse.ArgumentParser()
    parser.add_argument("--alg", default="DQN", help="RL algorithm")
    <a id="change">parser.add_argument("--network"</a><a id="change">, default="VGG", help="Vision network")</a>
    args = parser.parse_args()

    global ALG, NETWORK
    ALG = args.alg</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rlturkiye/flying-cavalry/commit/6b05de1f4f7a1ad2e295c2d0ff1b530307b47b8f#diff-a0ad3c0d15027bc7acafe374144217d180705d231b123e338c52e6e40ca47bf8L17' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104824574</div><div id='project'> Project Name: rlturkiye/flying-cavalry</div><div id='commit'> Commit Name: 6b05de1f4f7a1ad2e295c2d0ff1b530307b47b8f</div><div id='time'> Time: 2021-05-11</div><div id='author'> Author: ytaskiran70@gmail.com</div><div id='file'> File Name: rllib/main.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: rllib/main.py</div><div id='n_file'> N File Name: rllib/main.py</div><div id='m_start'> M Start Line: 22</div><div id='m_end'> M End Line: 22</div><div id='n_start'> N Start Line: 18</div><div id='n_end'> N End Line: 25</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    parser_model_add.set_defaults(func=func_model_endpoint_add)

    args = parser.parse_args()
    <a id="change">global verbosity</a>
    verbosity = args.debug

    if args.command:
        if args.command not in ("create", "list") and not args.id:</code></pre><h3>After Change</h3><pre><code class='java'>
    parser_config.add_argument(
        &quot--triton-grpc-server&quot, type=str,
        help=&quotExternal ClearML-Triton serving container gRPC address. example: 127.0.0.1:9001&quot)
    <a id="change">parser_config.add_argument(
        &quot--kafka-metric-server&quot</a><a id="change">, type=str,
        help=&quotExternal Kafka service url. example: 127.0.0.1:9092&quot)</a>
    parser_config.add_argument(
        &quot--metric-log-freq&quot, type=float,
        help=&quotSet default metric logging frequency. 1.0 is 100% of all requests are logged&quot)
    parser_config.set_defaults(func=func_config_service)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/allegroai/clearml-serving/commit/4355c1b1f44edd07cd08309cb99f56eb0ce73293#diff-6ea039d03dc18b57a94a0f6b95a8bc47df9fe462ae213224c68eab83c753aa9cL201' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104824573</div><div id='project'> Project Name: allegroai/clearml-serving</div><div id='commit'> Commit Name: 4355c1b1f44edd07cd08309cb99f56eb0ce73293</div><div id='time'> Time: 2022-03-20</div><div id='author'> Author: support@clear.ml</div><div id='file'> File Name: clearml_serving/__main__.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: cli(0)</div><div id='n_method'> N Method Name: cli(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: clearml_serving/__main__.py</div><div id='n_file'> N File Name: clearml_serving/__main__.py</div><div id='m_start'> M Start Line: 416</div><div id='m_end'> M End Line: 416</div><div id='n_start'> N Start Line: 284</div><div id='n_end'> N End Line: 537</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    global hp

    torch.manual_seed(hp.seed)
    <a id="change">global device</a>
    if torch.cuda.is_available():
        torch.cuda.manual_seed(hp.seed)
        device = torch.device(&quotcuda&quot)
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
    parser.add_argument(&quot--input_wavs_dir&quot, default=&quottest_files&quot)
    parser.add_argument(&quot--output_dir&quot, default=&quotgenerated_files&quot)
    parser.add_argument(&quot--checkpoint_file&quot, required=True)
    <a id="change">parser.add_argument(&quot-c&quot</a>, &quot--config&quot<a id="change">, default=&quotconfig.yaml&quot)</a>


    args = parser.parse_args()
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rishikksh20/hifigan-denoiser/commit/d8958fd759fa5dd0da35f5768efb632b01c7963b#diff-6bb87854f62182076b9d47e5a3fa17d5fb46826b979e3292b7ae7bef07022cf4L64' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104824570</div><div id='project'> Project Name: rishikksh20/hifigan-denoiser</div><div id='commit'> Commit Name: d8958fd759fa5dd0da35f5768efb632b01c7963b</div><div id='time'> Time: 2021-04-05</div><div id='author'> Author: olya.yakovenko@bk.ru</div><div id='file'> File Name: inference.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: inference.py</div><div id='n_file'> N File Name: inference.py</div><div id='m_start'> M Start Line: 75</div><div id='m_end'> M End Line: 89</div><div id='n_start'> N Start Line: 75</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        os.environ[&quotDMLC_NUM_SERVER&quot] = str(num_servers)
        os.environ[&quotDMLC_NUM_WORKER&quot] = str(num_workers)

    <a id="change">global executor_shell</a>
    if len(hosts) == 1:
        &#47&#47 single machine
        &#47&#47 TODO: add hostdress validation check
        if enable_PS:</code></pre><h3>After Change</h3><pre><code class='java'>
    parser = argparse.ArgumentParser()
    parser.add_argument(&quot-c&quot, &quot--config&quot, default=None,
                        help=&quotConfiguration file.&quot)
    <a id="change">parser.add_argument(</a>&quot-w&quot, <a id="change">&quot--workers&quot</a><a id="change">, type=int, default=0,
                        help=&quotShorthand for the number of local worker.&quot)</a>
    parser.add_argument(&quot-s&quot, &quot--servers&quot, type=int, default=0,
                        help=&quotShorthand for the number of local server.&quot)
    parser.add_argument(&quot-i&quot, &quot--identify&quot, default=&quot&quot,
                        help=&quotSSH identify file.&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hsword/hetu/commit/43f4467347abb96737657a61b2ea49506e240038#diff-e8c461298233e63f2f2901bec55801e35e938dc08318210ba4ca984b2d0495adL148' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 104824585</div><div id='project'> Project Name: hsword/hetu</div><div id='commit'> Commit Name: 43f4467347abb96737657a61b2ea49506e240038</div><div id='time'> Time: 2021-09-02</div><div id='author'> Author: 657671989@qq.com</div><div id='file'> File Name: python/runner.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(0)</div><div id='n_method'> N Method Name: main(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/runner.py</div><div id='n_file'> N File Name: python/runner.py</div><div id='m_start'> M Start Line: 158</div><div id='m_end'> M End Line: 192</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 206</div><BR>