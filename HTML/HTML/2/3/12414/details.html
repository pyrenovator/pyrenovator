<html><h3>Pattern ID :12414
</h3><img src='42221911.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            draw.rectangle(ele.coordinates, width=box_width, outline=outline_color)

        else:
            p<a id="change"> = </a><a id="change">ele.points.ravel().tolist()</a>
            draw.line(p + p[:2], width=box_width, fill=outline_color)

        if show_element_id or show_element_type:
            text = ""</code></pre><h3>After Change</h3><pre><code class='java'>

    draw = ImageDraw.Draw(canvas, mode="RGBA")

    id_text_background_color = <a id="change">id_text_background_color or DEFAULT_TEXT_BACKGROUND</a>
    id_text_color = id_text_color or DEFAULT_TEXT_COLOR

    if box_width is None:
        box_width = _calculate_default_box_width(canvas)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/layout-parser/layout-parser/commit/c6a5c6fa8952ebf9279725e987c79b15364d1384#diff-bb207cc741251e36746ead911112f93cf694af7cdf7dd6e00b52b91ee5cf98d7L186' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42221911</div><div id='project'> Project Name: layout-parser/layout-parser</div><div id='commit'> Commit Name: c6a5c6fa8952ebf9279725e987c79b15364d1384</div><div id='time'> Time: 2021-08-27</div><div id='author'> Author: 22512825+lolipopshock@users.noreply.github.com</div><div id='file'> File Name: src/layoutparser/visualization.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: draw_box(12)</div><div id='n_method'> N Method Name: draw_box(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: src/layoutparser/visualization.py</div><div id='n_file'> N File Name: src/layoutparser/visualization.py</div><div id='m_start'> M Start Line: 186</div><div id='m_end'> M End Line: 231</div><div id='n_start'> N Start Line: 216</div><div id='n_end'> N End Line: 338</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            att_mask = bs[1]
            labels = bs[2]
            &#47&#47 输入index转文字
            line_input<a id="change"> = </a>[&quot &quot.join([func_index2token(x) for x in line  if func_index2token(x) != &quot[PAD]&quot]) for line in <a id="change">input_ids.cpu().numpy().tolist()</a> ]

            &#47&#47 输出
            outputs = model(input_ids)</code></pre><h3>After Change</h3><pre><code class='java'>
            labels = bs[2]

            &#47&#47 输出
            if <a id="change">isinstance(model, nn.DataParallel) or isinstance(model, nn.parallel.DistributedDataParallel)</a>:
                model = model.module
            model.eval()
            outputs = model(input_ids)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wzzzd/lm_ner/commit/9a67a45f05d7e5d6ae2ea518dac29301410aad82#diff-69c12b7f8d1ef31e775755946806eb252916dd5341650d1172389b28710b7725L14' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42221904</div><div id='project'> Project Name: wzzzd/lm_ner</div><div id='commit'> Commit Name: 9a67a45f05d7e5d6ae2ea518dac29301410aad82</div><div id='time'> Time: 2021-09-16</div><div id='author'> Author: 609935229@qq.com</div><div id='file'> File Name: process/eval.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval(5)</div><div id='n_method'> N Method Name: eval(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: process/eval.py</div><div id='n_file'> N File Name: process/eval.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 39</div><div id='n_start'> N Start Line: 28</div><div id='n_end'> N End Line: 30</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    )

                &#47&#47 Train dataset config update
                train_data_cfg.new_classes<a id="change"> = </a><a id="change">np.setdiff1d(dst_classes, old_classes).tolist()</a>
                train_data_cfg.classes = dst_classes

                &#47&#47 model configuration update
                cfg.model.head.num_classes = len(dst_classes)</code></pre><h3>After Change</h3><pre><code class='java'>
                    efficient_mode = cfg[&quottask_adapt&quot].get(&quotefficient_mode&quot, False)
                    sampler_type = &quotcls_incr&quot

                if <a id="change">len(set(model_classes) & set(dst_classes)) == 0 or set(model_classes) == set(dst_classes)</a>:
                    sampler_flag = False
                else:
                    sampler_flag = True</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/openvinotoolkit/model_preparation_algorithm/commit/791c40fccdb87fd5bd6fbd1d66ffe74db243f0b2#diff-69531f489bec684a37e43b8b114a3d15e824e5266392aa07d36a5ceb497fa38aL138' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 42221907</div><div id='project'> Project Name: openvinotoolkit/model_preparation_algorithm</div><div id='commit'> Commit Name: 791c40fccdb87fd5bd6fbd1d66ffe74db243f0b2</div><div id='time'> Time: 2022-07-11</div><div id='author'> Author: harim.kang@intel.com</div><div id='file'> File Name: mpa/cls/stage.py</div><div id='m_class'> M Class Name: ClsStage</div><div id='n_method'> N Class Name: ClsStage</div><div id='m_method'> M Method Name: configure_task(3)</div><div id='n_method'> N Method Name: configure_task(3)</div><div id='m_parent_class'> M Parent Class: Stage</div><div id='n_parent_class'> N Parent Class: Stage</div><div id='m_file'> M File Name: mpa/cls/stage.py</div><div id='n_file'> N File Name: mpa/cls/stage.py</div><div id='m_start'> M Start Line: 146</div><div id='m_end'> M End Line: 250</div><div id='n_start'> N Start Line: 150</div><div id='n_end'> N End Line: 243</div><BR>