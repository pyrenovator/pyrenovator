<html><h3>Pattern ID :36265
</h3><img src='102678734.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    plt.xlabel(&quotEpoch&quot)
    plt.ylabel(&quotLoss&quot)
    plt.legend()
    <a id="change">plt.show()</a>


if __name__ == &quot__main__&quot:
    device = "cuda" if torch.cuda.is_available() else "cpu"</code></pre><h3>After Change</h3><pre><code class='java'>
    if not os.path.exists(_CURRENT + &quot/models&quot):
        os.mkdir(_CURRENT + &quot/models&quot)
    timestamp = datetime.now().strftime("%m-%d-%Y_%H-%M-%S")
    PATH = <a id="change">os.path.join(</a>_CURRENT, <a id="change">f&quotmodels/{model_name}_{timestamp}.pth&quot</a><a id="change">)</a>
    model.load_state_dict(torch.load(early_stopping.path))
    torch.save(model.state_dict(), PATH)

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/xushenlz/parksim/commit/ec66e2d8e096621262c882cb331d5b4387849163#diff-33b540a9344dde6a065c215e5a2a465ce920043ef4845b18f62f8d42536c99c2L102' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102678734</div><div id='project'> Project Name: xushenlz/parksim</div><div id='commit'> Commit Name: ec66e2d8e096621262c882cb331d5b4387849163</div><div id='time'> Time: 2022-04-05</div><div id='author'> Author: lacayomatt@gmail.com</div><div id='file'> File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: train_model(8)</div><div id='n_method'> N Method Name: train_model(5)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='n_file'> N File Name: python/parksim/trajectory_predict/intent_transformer/train.py</div><div id='m_start'> M Start Line: 102</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 115</div><div id='n_end'> N End Line: 145</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                            ha="center", va="center", color="w")
        ax.set_title("Importance of features and timesteps")

        <a id="change">plt.show()</a>

        plt.figure()
        plt.title("Feature importance")
        plt.bar(range(self.ins + self.outs), betas)</code></pre><h3>After Change</h3><pre><code class='java'>
        plt.title("Feature importance")
        plt.bar(range(self.ins if self.use_predicted_output else self.ins + self.outs), betas)
        plt.xticks(ticks=range(len(all_cols)), labels=list(all_cols), rotation=90, fontsize=5)
        plt.savefig(<a id="change">os.path.join(</a>self.act_path, <a id="change">&quotimport&quot</a><a id="change">)</a>, dpi=400, bbox_inches=&quottight&quot)


def to_torch_tensor(array):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/atrcheema/dl4seq/commit/893eba337d0158183279d791c1fa91069b0e6d6a#diff-e702bbc842f956175d0f2a6dbc5c9339777ea9e2621652e021e90bce1c230817L388' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102678735</div><div id='project'> Project Name: atrcheema/dl4seq</div><div id='commit'> Commit Name: 893eba337d0158183279d791c1fa91069b0e6d6a</div><div id='time'> Time: 2020-10-29</div><div id='author'> Author: ather_abbas786@yahoo.com</div><div id='file'> File Name: models/pytorch_models.py</div><div id='m_class'> M Class Name: IMVLSTMModel</div><div id='n_method'> N Class Name: IMVLSTMModel</div><div id='m_method'> M Method Name: plot_activations(1)</div><div id='n_method'> N Method Name: plot_activations(1)</div><div id='m_parent_class'> M Parent Class: HARHNModel</div><div id='n_parent_class'> N Parent Class: HARHNModel</div><div id='m_file'> M File Name: models/pytorch_models.py</div><div id='n_file'> N File Name: models/pytorch_models.py</div><div id='m_start'> M Start Line: 400</div><div id='m_end'> M End Line: 421</div><div id='n_start'> N Start Line: 405</div><div id='n_end'> N End Line: 429</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        return fig,

    _ = animation.FuncAnimation(fig, animate, frames=num_frames * 100, interval=100)
    <a id="change">plt.show(block=True)</a>


if __name__ == &quot__main__&quot:
    app.run(main)</code></pre><h3>After Change</h3><pre><code class='java'>

        anima = animation.FuncAnimation(fig, animate, frames=math.floor(num_frames * 0.1), interval=100)
        writervideo = animation.FFMpegWriter(fps=30)
        anima.save(<a id="change">os.path.join(</a>save_path, <a id="change">&quotani.mp4&quot</a><a id="change">)</a>, writer=writervideo)
        &#47&#47 plt.show(block=True)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wwmark/meshgraphnets/commit/eed20dd8a346a7fc237279d136f08b426d5d27d4#diff-4e67922eb1d88ccbbb55f4628e203c9d0e365da0477438770ce84c8ad65d052aL44' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102678738</div><div id='project'> Project Name: wwmark/meshgraphnets</div><div id='commit'> Commit Name: eed20dd8a346a7fc237279d136f08b426d5d27d4</div><div id='time'> Time: 2022-02-11</div><div id='author'> Author: ruoheng.ma@gmail.com</div><div id='file'> File Name: plot_cloth.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: plot_cloth.py</div><div id='n_file'> N File Name: plot_cloth.py</div><div id='m_start'> M Start Line: 45</div><div id='m_end'> M End Line: 87</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 105</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    anima = animation.FuncAnimation(fig, animate, frames=num_frames * 10, interval=100)
    &#47&#47 writervideo = animation.FFMpegWriter(fps=30)
    &#47&#47 anima.save("ani.mp4", writer=writervideo)
    <a id="change">plt.show(block=True)</a>


if __name__ == &quot__main__&quot:
    app.run(main)</code></pre><h3>After Change</h3><pre><code class='java'>

        anima = animation.FuncAnimation(fig, animate, frames=math.floor(num_frames * 0.1), interval=100)
        writervideo = animation.FFMpegWriter(fps=30)
        anima.save(<a id="change">os.path.join(</a>save_path, <a id="change">&quotani.mp4&quot</a><a id="change">)</a>, writer=writervideo)
        &#47&#47 plt.show(block=True)

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/wwmark/meshgraphnets/commit/cba01dffc57412c5296a68c40c90a417fa3fc69b#diff-b0751177cfec6fc95ad0827cbfca1aaf61cf692c9fbc631108147512a39a1445L32' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 102678737</div><div id='project'> Project Name: wwmark/meshgraphnets</div><div id='commit'> Commit Name: cba01dffc57412c5296a68c40c90a417fa3fc69b</div><div id='time'> Time: 2022-01-29</div><div id='author'> Author: ruoheng.ma@gmail.com</div><div id='file'> File Name: plot_deform.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(1)</div><div id='n_method'> N Method Name: main(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: plot_deform.py</div><div id='n_file'> N File Name: plot_deform.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 126</div><div id='n_start'> N Start Line: 35</div><div id='n_end'> N End Line: 136</div><BR>