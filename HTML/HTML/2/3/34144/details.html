<html><h3>Pattern ID :34144
</h3><img src='97532912.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        loss_labels = prec_labels
    ax0.plot(x_epoch, train_loss, &quotbo-&quot, label=loss_labels[0] + &quot: {:.3f}&quot.format(train_loss[-1]))
    ax1.plot(x_epoch, train_prec, &quotbo-&quot, label=prec_labels[0] + &quot: {:.3f}&quot.format(train_prec[-1]))
    <a id="change">ax0.plot(</a>x_epoch, og_test_loss, &quotro-&quot<a id="change">, label=loss_labels[1] + &quot: {:.3f}&quot.format(og_test_loss[-1]))</a>
    ax1.plot(x_epoch, og_test_prec, &quotro-&quot, label=prec_labels[1] + &quot: {:.3f}&quot.format(og_test_prec[-1]))
    if masked_test_loss is not None:
        ax0.plot(x_epoch, masked_test_loss, &quotgo-&quot, label=loss_labels[2] + &quot: {:.3f}&quot.format(masked_test_loss[-1]))
    if masked_test_prec is not None:</code></pre><h3>After Change</h3><pre><code class='java'>
    ax1.legend()
    ax2.legend()
    if test_moda is not None:
        ax3<a id="change"> = </a>fig.add_subplot(133, title="moda")
        ax3.plot(x_epoch, test_moda, &quotro-&quot, label=&quottest&quot + &quot: {:.3f}&quot.format(test_prec[-1]))
        <a id="change">ax3.legend()</a>
    fig.savefig(path)
    plt.close(fig)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hou-yz/mvdet/commit/21b73128c100196443d134a8dcafbea96c3e842b#diff-43db431bf69f06943d0aa289b166d10d5125068055342f87457d4c85f9551061L8' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97532912</div><div id='project'> Project Name: hou-yz/mvdet</div><div id='commit'> Commit Name: 21b73128c100196443d134a8dcafbea96c3e842b</div><div id='time'> Time: 2020-02-06</div><div id='author'> Author: hou_yz@outlook.com</div><div id='file'> File Name: multiview_detector/utils/draw_curve.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: draw_curve(7)</div><div id='n_method'> N Method Name: draw_curve(10)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: multiview_detector/utils/draw_curve.py</div><div id='n_file'> N File Name: multiview_detector/utils/draw_curve.py</div><div id='m_start'> M Start Line: 8</div><div id='m_end'> M End Line: 25</div><div id='n_start'> N Start Line: 8</div><div id='n_end'> N End Line: 21</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        plt.plot(ty, y, c="k")
        plt.plot(tx[:see], y[:see])
        <a id="change">plt.plot(</a>tx[see : see + pred], yhat[see : see + pred]<a id="change">)</a>
        plt.ylim(-2, 2)
        plt.show()

</code></pre><h3>After Change</h3><pre><code class='java'>
        smoothness=0.75,
    )

    fig<a id="change"> = </a>plt.figure(figsize=(8.0, 8.0))
    grid = ImageGrid(
        fig=fig,
        rect=111,
        nrows_ncols=(8, 8),
        axes_pad=0.05,
        share_all=True,
        label_mode="1",
    )
    grid[0].get_yaxis().set_ticks([])
    grid[0].get_xaxis().set_ticks([])

    &#47&#47 horizon = net.forecast_steps
    horizon = 128
    see = 250  &#47&#47 net.receptive_field
    for ax, s in zip(grid, dataset):
        x, y, tx, ty = s["x"], s["y"], s["tx"], s["ty"]

        &#47&#47 Assert no data leakage
        &#47&#47 print(net(y[:201].unsqueeze(0).unsqueeze(0))[0, 0, 200])
        &#47&#47 print(net(y.unsqueeze(0).unsqueeze(0))[0, 0, 200])

        &#47&#47 see = np.random.randint(0, 300)
        ax.plot(ty, y, c="k", linestyle="--", linewidth=0.5)
        ax.plot(tx[:see], x[:see], c="k", linewidth=0.5)
        for p, label in preds:
            yhat = p.predict(x[:see], horizon)
            ax.plot(tx[see : see + horizon], yhat, label=label)
        ax.set_ylim(-2, 2)
    handles, labels = ax.get_legend_handles_labels()
    <a id="change">fig.legend(</a>handles, labels<a id="change">, loc="upper center")</a>
    plt.show()


&#47&#47 pred = 250</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/cheind/autoregressive/commit/320dbcc72842b652d319f9fcdec663d2073d285c#diff-84829cd55b0671ec1cb668c8bef477caeed0037320d0fb261b8a94ea8b5d35b0L142' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97532915</div><div id='project'> Project Name: cheind/autoregressive</div><div id='commit'> Commit Name: 320dbcc72842b652d319f9fcdec663d2073d285c</div><div id='time'> Time: 2021-10-18</div><div id='author'> Author: cheind@profactor.at</div><div id='file'> File Name: autoregressive/model.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: eval(1)</div><div id='n_method'> N Method Name: eval(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: autoregressive/model.py</div><div id='n_file'> N File Name: autoregressive/model.py</div><div id='m_start'> M Start Line: 147</div><div id='m_end'> M End Line: 203</div><div id='n_start'> N Start Line: 199</div><div id='n_end'> N End Line: 246</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ax1.legend([&quotTraining&quot, &quotValidation&quot])

    ax2 = plt.subplot(1, 2, 2)
    <a id="change">ax2.plot(</a>np.arange(len(train_acc)), train_acc<a id="change">)</a>
    ax2.plot(np.arange(len(val_acc)), val_acc)
    ax2.set_xlabel(&quotEpoch&quot)
    ax2.set_ylabel(&quotAccuracy&quot)
    ax2.set_title(&quotTraining and Validation Accuracy vs. Epoch&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
    ax2.set_title(&quotValidation Triplet Accuracy vs. Epoch&quot)
    &#47&#47ax2.legend([&quotTraining&quot, &quotValidation&quot])

    ax3<a id="change"> = </a>plt.subplot(1, 3, 3)
    ax3.plot(np.arange(len(top1_acc)), top1_acc)
    ax3.plot(np.arange(len(top5_acc)), top5_acc)
    ax3.set_xlabel(&quotEpoch&quot)
    ax3.set_ylabel(&quotAccuracy (%)&quot)
    ax3.set_title(&quotValidation Top 1/5 Retrieval Accuracy vs. Epoch&quot)
    <a id="change">ax3.legend(</a>[&quotTop1&quot, &quotTop5&quot]<a id="change">)</a>

    plot_name = &quot{}_train_val_loss.png&quot.format(name)
    f.savefig(plot_name)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rvl-lab-utoronto/video_similarity_search/commit/3c778caa478793a1cd266fe576f3dfdbe0165da1#diff-d9d27e19c3a0585b140873525c5f6c0ba23215ab04ce0cfa8e832af2da5395ccL66' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 97532919</div><div id='project'> Project Name: rvl-lab-utoronto/video_similarity_search</div><div id='commit'> Commit Name: 3c778caa478793a1cd266fe576f3dfdbe0165da1</div><div id='time'> Time: 2020-09-09</div><div id='author'> Author: salar77h@gmail.com</div><div id='file'> File Name: misc/generate_report.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: plot_training_progress(4)</div><div id='n_method'> N Method Name: plot_training_progress(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: misc/generate_report.py</div><div id='n_file'> N File Name: misc/generate_report.py</div><div id='m_start'> M Start Line: 67</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 71</div><div id='n_end'> N End Line: 97</div><BR>