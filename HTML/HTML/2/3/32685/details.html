<html><h3>Pattern ID :32685
</h3><img src='95078242.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def test_tokenizer(self, inputs, results):
        pytest.importorskip(&quotsacremoses&quot)
        t = MosesTokenizer()
        input_doc<a id="change"> = </a><a id="change">Document(original=inputs)</a>

        doc = Document(original=inputs, cleaned=inputs, phrases=[inputs])
        doc.tokens = [[Token(original=token) for token in results]]
</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Inplace True
        out = t(doc, True)

        <a id="change">assert </a>doc.tokens == [Token(token) for token in results]
        assert doc.steps == [repr(t)]
        assert out is None
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tomassosorio/nlpiper/commit/87be30421eaa573801c99b1eb3937e410aedb43a#diff-ff3630f13a7908d11c18df70194a42765fd7b514dbdfa88b9b1d63c492f87ba8L50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95078242</div><div id='project'> Project Name: tomassosorio/nlpiper</div><div id='commit'> Commit Name: 87be30421eaa573801c99b1eb3937e410aedb43a</div><div id='time'> Time: 2021-04-12</div><div id='author'> Author: FerrariDG@users.noreply.github.com</div><div id='file'> File Name: tests/transformers/test_tokenizers.py</div><div id='m_class'> M Class Name: TestMosesTokenizer</div><div id='n_method'> N Class Name: TestMosesTokenizer</div><div id='m_method'> M Method Name: test_tokenizer(3)</div><div id='n_method'> N Method Name: test_tokenizer(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/transformers/test_tokenizers.py</div><div id='n_file'> N File Name: tests/transformers/test_tokenizers.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 84</div><div id='n_end'> N End Line: 100</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    ])
    def test_tokenizer(self, inputs, results):
        t = BasicTokenizer()
        input_doc<a id="change"> = </a><a id="change">Document(original=inputs)</a>

        doc = Document(original=inputs, cleaned=inputs, phrases=[inputs])
        doc.tokens = [[Token(original=token) for token in results]]
</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Inplace False
        out = t(doc)

        <a id="change">assert </a>out.tokens == [Token(token) for token in results]
        assert out.steps == [repr(t)]
        assert doc.tokens is None
        assert doc.steps == []</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tomassosorio/nlpiper/commit/87be30421eaa573801c99b1eb3937e410aedb43a#diff-ff3630f13a7908d11c18df70194a42765fd7b514dbdfa88b9b1d63c492f87ba8L26' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95078243</div><div id='project'> Project Name: tomassosorio/nlpiper</div><div id='commit'> Commit Name: 87be30421eaa573801c99b1eb3937e410aedb43a</div><div id='time'> Time: 2021-04-12</div><div id='author'> Author: FerrariDG@users.noreply.github.com</div><div id='file'> File Name: tests/transformers/test_tokenizers.py</div><div id='m_class'> M Class Name: TestBasicTokenizer</div><div id='n_method'> N Class Name: TestBasicTokenizer</div><div id='m_method'> M Method Name: test_tokenizer(3)</div><div id='n_method'> N Method Name: test_tokenizer(3)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: tests/transformers/test_tokenizers.py</div><div id='n_file'> N File Name: tests/transformers/test_tokenizers.py</div><div id='m_start'> M Start Line: 28</div><div id='m_end'> M End Line: 31</div><div id='n_start'> N Start Line: 57</div><div id='n_end'> N End Line: 73</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        time.sleep(20)
        logger.info(&quotrolling update done in process&quot)
        &#47&#47 add query testing
        query_doc<a id="change"> = </a><a id="change">Document()</a>
        query_doc.text = &quothello world&quot
        response = _query_docs([query_doc.dict()])
        matches = response[&quotsearch&quot][&quotdocs&quot][0].get(&quotmatches&quot)
        logger.info(f&quotgot {len(matches)} matches&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
        from app import create_flows, dump_and_roll_update

        jinad_client = JinaDClient(host=HOST, port=JINAD_PORT)
        <a id="change">assert </a>jinad_client.alive, &quotcannot reach jinad&quot

        dbms_flow_id, query_flow_id, workspace_id = create_flows()
        &#47&#47 start rolling update in the background</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jina-ai/examples/commit/c3ea2eddcc58117b3f28c34ca861e6fd2a341efb#diff-775351c1eb007cb0f7fcfedd56a9a408aa8b73197739e41ca866ee532fa9f058L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 95078241</div><div id='project'> Project Name: jina-ai/examples</div><div id='commit'> Commit Name: c3ea2eddcc58117b3f28c34ca861e6fd2a341efb</div><div id='time'> Time: 2021-09-02</div><div id='author'> Author: deepankar.mahapatro@jina.ai</div><div id='file'> File Name: wikipedia-sentences-query-while-indexing/tests/test_query_while_indexing.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: test_query_while_indexing(0)</div><div id='n_method'> N Method Name: test_query_while_indexing(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: wikipedia-sentences-query-while-indexing/tests/test_query_while_indexing.py</div><div id='n_file'> N File Name: wikipedia-sentences-query-while-indexing/tests/test_query_while_indexing.py</div><div id='m_start'> M Start Line: 30</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 42</div><div id='n_end'> N End Line: 68</div><BR>