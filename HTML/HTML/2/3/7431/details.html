<html><h3>Pattern ID :7431
</h3><img src='24633431.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            step_name="model_deployer",
            running=True,
        )
        <a id="change">if </a>service:
            <a id="change">service.stop(timeout=10)</a>
        return

    &#47&#47 Initialize a continuous deployment pipeline run
    deployment = continuous_deployment_pipeline(</code></pre><h3>After Change</h3><pre><code class='java'>
        MLFlowModelDeployer.get_active_model_deployer()
    )

    <a id="change">if </a>deploy:
        &#47&#47 Initialize a continuous deployment pipeline run
        deployment = continuous_deployment_pipeline(
            importer=importer_mnist(),</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/maiot-io/zenml/commit/a9b4c19f4f649af40df9ce483d6160c2d128503f#diff-8e54b1492dc2e2d76ad9b2cc76387e7ceec4ed093eddb6d82d88564b4238a5b9L53' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24633431</div><div id='project'> Project Name: maiot-io/zenml</div><div id='commit'> Commit Name: a9b4c19f4f649af40df9ce483d6160c2d128503f</div><div id='time'> Time: 2022-04-13</div><div id='author'> Author: wjayesh@outlook.com</div><div id='file'> File Name: examples/mlflow_deployment/run.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main(5)</div><div id='n_method'> N Method Name: main(4)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: examples/mlflow_deployment/run.py</div><div id='n_file'> N File Name: examples/mlflow_deployment/run.py</div><div id='m_start'> M Start Line: 53</div><div id='m_end'> M End Line: 119</div><div id='n_start'> N Start Line: 66</div><div id='n_end'> N End Line: 150</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        while time.time() - t &lt; video_duration:
            diff = video_duration - (time.time() - t)
            margin = 0.001
            <a id="change">if </a>(diff &gt; starting_checkpoint_second - margin and diff &lt; starting_checkpoint_second + margin):
                filename = &quotscripts/tools/beep-06.wav&quot
                wave_obj = sa.WaveObject.from_wave_file(filename)
                play_obj = wave_obj.play()
                <a id="change">play_obj.stop()</a>
                starting_checkpoint_second -= 1

            ret, frame_norm = cap.read()
            frame = cv2.flip(frame_norm, 1)</code></pre><h3>After Change</h3><pre><code class='java'>
            frames.append(frame.copy())
            frame_size = (frame.shape[1], frame.shape[0])

            <a id="change">if </a>record:
                message = f"Recording Video {str(index + 1)}"
            else:
                message = f"Get into position {str(index + 1)}"</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/twentybn/sense/commit/04029a19d081d68430329fdc93ef54df9130d400#diff-e8d672ed0c1af7507bef9615f00fd7cdbf82b8a61770386e34d3caf21fbb905aL49' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24633427</div><div id='project'> Project Name: twentybn/sense</div><div id='commit'> Commit Name: 04029a19d081d68430329fdc93ef54df9130d400</div><div id='time'> Time: 2020-12-18</div><div id='author'> Author: manik.dhingra311@gmail.com</div><div id='file'> File Name: scripts/tools/video_capture.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: _capture_video(2)</div><div id='n_method'> N Method Name: _capture_video(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/tools/video_capture.py</div><div id='n_file'> N File Name: scripts/tools/video_capture.py</div><div id='m_start'> M Start Line: 62</div><div id='m_end'> M End Line: 90</div><div id='n_start'> N Start Line: 80</div><div id='n_end'> N End Line: 127</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        logger.debug("Stopping triton server.")

        <a id="change">if </a>self.is_alive():
            logger.debug(f"Stopping Triton Server id={self._tritonserver_container.id}")
            <a id="change">self._tritonserver_container.stop()</a>
            self._tritonserver_container.remove(force=True)

            self._tritonserver_container = None
            self._docker_client.close()</code></pre><h3>After Change</h3><pre><code class='java'>
        and cleans up docker client
        

        <a id="change">if </a>self._docker_container:
            LOGGER.debug(f"Stopping Triton Inference Server (container={self._docker_container.id}).")
            self._docker_container.kill()
        LOGGER.debug("Triton server stopped")</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_navigator/commit/5e37049c455ffcf2a5758cc79c4eeee50edeae35#diff-77f75b4440ebea25df9f24f5f54a9089e441b0d9dc8f78018f9a191544c34fc2L120' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24633434</div><div id='project'> Project Name: triton-inference-server/model_navigator</div><div id='commit'> Commit Name: 5e37049c455ffcf2a5758cc79c4eeee50edeae35</div><div id='time'> Time: 2022-01-14</div><div id='author'> Author: pziecina@nvidia.com</div><div id='file'> File Name: model_navigator/triton/server/server_docker.py</div><div id='m_class'> M Class Name: TritonServerDocker</div><div id='n_method'> N Class Name: TritonServerDocker</div><div id='m_method'> M Method Name: stop(1)</div><div id='n_method'> N Method Name: stop(1)</div><div id='m_parent_class'> M Parent Class: TritonServer</div><div id='n_parent_class'> N Parent Class: TritonServer</div><div id='m_file'> M File Name: model_navigator/triton/server/server_docker.py</div><div id='n_file'> N File Name: model_navigator/triton/server/server_docker.py</div><div id='m_start'> M Start Line: 126</div><div id='m_end'> M End Line: 136</div><div id='n_start'> N Start Line: 106</div><div id='n_end'> N End Line: 109</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    print("--- NOW RUNNING: SAC trackmania ---")
    interface = TrainerInterface(redis_ip=cfg.REDIS_IP, model_path=cfg.MODEL_PATH_TRAINER)
    <a id="change">if </a>not args.no_wandb:
        print("start profiling")
        profiler.start()
        run_wandb_tm(entity=cfg.WANDB_ENTITY,
                     project=cfg.WANDB_PROJECT,
                     run_id=cfg.WANDB_RUN_ID,
                     interface=interface,
                     run_cls=sac_tm,
                     checkpoint_path=cfg.CHECKPOINT_PATH)
        <a id="change">profiler.stop()</a>
        print(profiler.output_text(unicode=True, color=False))
    else:
        run_tm(interface=interface,
               run_cls=sac_tm,</code></pre><h3>After Change</h3><pre><code class='java'>

    print("--- NOW RUNNING: SAC/DCAC trackmania ---")
    interface = TrainerInterface(redis_ip=cfg.REDIS_IP, model_path=cfg.MODEL_PATH_TRAINER)
    <a id="change">if </a>not args.no_wandb:
        &#47&#47 print("start profiling")
        &#47&#47 profiler.start()
        run_wandb_tm(entity=cfg.WANDB_ENTITY,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/trackmania-rl/tmrl/commit/3b1aee6cba9e5a8cf9429263a5cec2c53d39a478#diff-d6af0459a37d985953d7040c14f53feb3b9cc9e58b543aa3c2b80256d276c5e0L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 24633433</div><div id='project'> Project Name: trackmania-rl/tmrl</div><div id='commit'> Commit Name: 3b1aee6cba9e5a8cf9429263a5cec2c53d39a478</div><div id='time'> Time: 2020-12-02</div><div id='author'> Author: yann.bouteiller@hotmail.fr</div><div id='file'> File Name: run.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: main_train(1)</div><div id='n_method'> N Method Name: main_train(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: run.py</div><div id='n_file'> N File Name: run.py</div><div id='m_start'> M Start Line: 39</div><div id='m_end'> M End Line: 83</div><div id='n_start'> N Start Line: 41</div><div id='n_end'> N End Line: 61</div><BR>