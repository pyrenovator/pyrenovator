<html><h3>Pattern ID :8277
</h3><img src='29072026.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        constraints = ConstraintManager.get_constraints_for_all_models(config)

        self.assertEqual(constraints[&quotmodel_A&quot],
                         <a id="change">{</a>&quotperf_latency_p99&quot: {
                             &quotmax&quot: 100
                         }<a id="change">}</a>)
        self.assertEqual(constraints[&quotdefault&quot], {})

    def test_single_model_with_global_constraints(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        constraints = ConstraintManager.get_constraints_for_all_models(config)

        self.assertEqual(constraints[&quotmodel_A&quot],
                         <a id="change">ModelConstraints({</a>&quotperf_latency_p99&quot: {
                             &quotmax&quot: 100
                         }<a id="change">}</a><a id="change">)</a>)
        self.assertEqual(constraints[&quotdefault&quot], ModelConstraints({}))

    def test_single_model_with_global_constraints(self):</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5500417144a6b8af22316a86eacd75d558e82875#diff-35ff218f70e5a3c0f0f025ab098702e62f32054bd334fc157701d38e39c92ff8L50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29072026</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5500417144a6b8af22316a86eacd75d558e82875</div><div id='time'> Time: 2022-12-08</div><div id='author'> Author: spolisetty@nvidia.com</div><div id='file'> File Name: tests/test_constraint_manager.py</div><div id='m_class'> M Class Name: TestConstraintManager</div><div id='n_method'> N Class Name: TestConstraintManager</div><div id='m_method'> M Method Name: test_single_model_with_constraints(1)</div><div id='n_method'> N Method Name: test_single_model_with_constraints(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_constraint_manager.py</div><div id='n_file'> N File Name: tests/test_constraint_manager.py</div><div id='m_start'> M Start Line: 50</div><div id='m_end'> M End Line: 53</div><div id='n_start'> N Start Line: 51</div><div id='n_end'> N End Line: 54</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            }
        })
        self.assertEqual(constraints[&quotmodel_D&quot], {
            &quotperf_latency_p99&quot: <a id="change">{
                </a>&quotmax&quot: 100<a id="change">
            }</a>,
            &quotgpu_used_memory&quot: {
                &quotmax&quot: 100
            }</code></pre><h3>After Change</h3><pre><code class='java'>
                         ModelConstraints({&quotperf_throughput&quot: {
                             &quotmin&quot: 100
                         }}))
        self.assertEqual(constraints[&quotmodel_C&quot], <a id="change">ModelConstraints({
            </a>&quotgpu_used_memory&quot: {
                &quotmax&quot: 50
            },
            &quotperf_throughput&quot: {
                &quotmin&quot: 50
            }<a id="change">
        }</a><a id="change">)</a>)
        self.assertEqual(constraints[&quotmodel_D&quot], ModelConstraints({
            &quotperf_latency_p99&quot: {
                &quotmax&quot: 100</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5500417144a6b8af22316a86eacd75d558e82875#diff-35ff218f70e5a3c0f0f025ab098702e62f32054bd334fc157701d38e39c92ff8L87' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29072025</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5500417144a6b8af22316a86eacd75d558e82875</div><div id='time'> Time: 2022-12-08</div><div id='author'> Author: spolisetty@nvidia.com</div><div id='file'> File Name: tests/test_constraint_manager.py</div><div id='m_class'> M Class Name: TestConstraintManager</div><div id='n_method'> N Class Name: TestConstraintManager</div><div id='m_method'> M Method Name: test_multi_model_with_both_constraints(1)</div><div id='n_method'> N Method Name: test_multi_model_with_both_constraints(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_constraint_manager.py</div><div id='n_file'> N File Name: tests/test_constraint_manager.py</div><div id='m_start'> M Start Line: 95</div><div id='m_end'> M End Line: 117</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 118</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        constraints = ConstraintManager.get_constraints_for_all_models(config)

        self.assertEqual(constraints[&quotmodel_A&quot],
                         <a id="change">{</a>&quotperf_throughput&quot: {
                             &quotmin&quot: 100
                         }<a id="change">}</a>)
        self.assertEqual(constraints[&quotdefault&quot],
                         {&quotperf_throughput&quot: {
                             &quotmin&quot: 100</code></pre><h3>After Change</h3><pre><code class='java'>
        constraints = ConstraintManager.get_constraints_for_all_models(config)

        self.assertEqual(constraints[&quotmodel_A&quot],
                         <a id="change">ModelConstraints({</a>&quotperf_throughput&quot: {
                             &quotmin&quot: 100
                         }<a id="change">}</a><a id="change">)</a>)
        self.assertEqual(constraints[&quotdefault&quot],
                         ModelConstraints({&quotperf_throughput&quot: {
                             &quotmin&quot: 100</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5500417144a6b8af22316a86eacd75d558e82875#diff-35ff218f70e5a3c0f0f025ab098702e62f32054bd334fc157701d38e39c92ff8L55' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 29072024</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5500417144a6b8af22316a86eacd75d558e82875</div><div id='time'> Time: 2022-12-08</div><div id='author'> Author: spolisetty@nvidia.com</div><div id='file'> File Name: tests/test_constraint_manager.py</div><div id='m_class'> M Class Name: TestConstraintManager</div><div id='n_method'> N Class Name: TestConstraintManager</div><div id='m_method'> M Method Name: test_single_model_with_global_constraints(1)</div><div id='n_method'> N Method Name: test_single_model_with_global_constraints(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_constraint_manager.py</div><div id='n_file'> N File Name: tests/test_constraint_manager.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 69</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 70</div><BR>