<html><h3>Pattern ID :25325
</h3><img src='77516906.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        BPR._define_params(self)
        self.u_t_embeddings = torch.nn.Embedding(self.time_bin, self.emb_size)
        self.i_t_embeddings = torch.nn.Embedding(self.time_bin, self.emb_size)
        <a id="change">self.embeddings.extend([</a>&quotu_t_embeddings&quot, &quoti_t_embeddings&quot<a id="change"></a>]<a id="change">)</a>

    def forward(self, feed_dict):
        self.check_list, self.embedding_l2 = [], []
        u_ids = feed_dict[&quotuser_id&quot]  &#47&#47 [batch_size]</code></pre><h3>After Change</h3><pre><code class='java'>
        super().__init__(args, corpus)

    def _define_params(self):
        <a id="change">super()</a>._define_params()
        self.u_t_embeddings = torch.nn.Embedding(self.time_bin, self.emb_size)
        self.i_t_embeddings = torch.nn.Embedding(self.time_bin, self.emb_size)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thuwangcy/rechorus/commit/c421e8da6805aa2e0ec0e91c0930bd9040058661#diff-25faa86f1924d3d6b64cb419640bb5e64cc390b83944b3b5bff5d13e49f5f750L23' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77516906</div><div id='project'> Project Name: thuwangcy/rechorus</div><div id='commit'> Commit Name: c421e8da6805aa2e0ec0e91c0930bd9040058661</div><div id='time'> Time: 2020-06-27</div><div id='author'> Author: THUwangcy@gmail.com</div><div id='file'> File Name: src/models/Tensor.py</div><div id='m_class'> M Class Name: Tensor</div><div id='n_method'> N Class Name: Tensor</div><div id='m_method'> M Method Name: _define_params(1)</div><div id='n_method'> N Method Name: _define_params(1)</div><div id='m_parent_class'> M Parent Class: BPR</div><div id='n_parent_class'> N Parent Class: BPR</div><div id='m_file'> M File Name: src/models/Tensor.py</div><div id='n_file'> N File Name: src/models/Tensor.py</div><div id='m_start'> M Start Line: 23</div><div id='m_end'> M End Line: 26</div><div id='n_start'> N Start Line: 23</div><div id='n_end'> N End Line: 23</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                    pool_axis=(1, 2),
                )

            <a id="change">blocks.extend(
                [
                    </a>lambda input_shape: Conv2d(
                        input_shape=input_shape,
                        out_channels=cnn_channels[block_index],
                        kernel_size=cnn_kernelsize,
                    ),
                    lambda input_shape: LayerNorm(input_shape),
                    activation(),
                    lambda input_shape: Conv2d(
                        input_shape=input_shape,
                        out_channels=cnn_channels[block_index],
                        kernel_size=cnn_kernelsize,
                    ),
                    lambda input_shape: LayerNorm(input_shape),
                    activation(),
                    &#47&#47 Inter-layer Pooling
                    pooling,
                    Dropout2d(drop_rate=dropout)<a id="change"></a>,
                ]<a id="change">
            )</a>

        if time_pooling:
            blocks.append(
                Pooling1d(</code></pre><h3>After Change</h3><pre><code class='java'>
        dnn_blocks=2,
        dnn_neurons=512,
    ):
        <a id="change">super()</a>.__init__(input_shape)

        for block_index in range(cnn_blocks):
            if not using_2d_pooling:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/103f6355cf82a6e4b7b52db443400578e70d0ac8#diff-be3f2f248e834db5c50952d25f756f7cd2d846d04cd4770d7f1765501e571672L75' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77516907</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 103f6355cf82a6e4b7b52db443400578e70d0ac8</div><div id='time'> Time: 2020-08-25</div><div id='author'> Author: plantinga.peter@protonmail.com</div><div id='file'> File Name: speechbrain/lobes/models/CRDNN.py</div><div id='m_class'> M Class Name: CRDNN</div><div id='n_method'> N Class Name: CRDNN</div><div id='m_method'> M Method Name: __init__(19)</div><div id='n_method'> N Method Name: __init__(19)</div><div id='m_parent_class'> M Parent Class: Sequential</div><div id='n_parent_class'> N Parent Class: Sequential</div><div id='m_file'> M File Name: speechbrain/lobes/models/CRDNN.py</div><div id='n_file'> N File Name: speechbrain/lobes/models/CRDNN.py</div><div id='m_start'> M Start Line: 96</div><div id='m_end'> M End Line: 170</div><div id='n_start'> N Start Line: 96</div><div id='n_end'> N End Line: 153</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    def __str__(self):
        info = []
        if self.uid_field:
            <a id="change">info.extend([</a>&quotThe number of users: {}&quot.format(self.user_num),
                         &quotAverage actions of users: {}&quot.format(self.avg_actions_of_users)<a id="change"></a>]<a id="change">)</a>
        if self.iid_field:
            info.extend([&quotThe number of items: {}&quot.format(self.item_num),
                         &quotAverage actions of items: {}&quot.format(self.avg_actions_of_items)])
        info.append(&quotThe number of connections of social network: {}&quot.format(len(self.net_feat)))</code></pre><h3>After Change</h3><pre><code class='java'>
            raise NotImplementedError(&quotnet matrix format [{}] has not been implemented.&quot)

    def __str__(self):
        info = [<a id="change">super()</a>.__str__(),
                &quotThe number of connections of social network: {}&quot.format(len(self.net_feat))]
        return &quot\n&quot.join(info)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/rucaibox/recbole/commit/a3c93b25b198de14194a122f0237b704895b68f0#diff-34134db2e88d559738ea85408b5673935345590fa3138d0116644d0d2d313983L134' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77516905</div><div id='project'> Project Name: rucaibox/recbole</div><div id='commit'> Commit Name: a3c93b25b198de14194a122f0237b704895b68f0</div><div id='time'> Time: 2020-09-21</div><div id='author'> Author: 297086016@qq.com</div><div id='file'> File Name: recbox/data/dataset/social_dataset.py</div><div id='m_class'> M Class Name: SocialDataset</div><div id='n_method'> N Class Name: SocialDataset</div><div id='m_method'> M Method Name: __str__(1)</div><div id='n_method'> N Method Name: __str__(1)</div><div id='m_parent_class'> M Parent Class: Dataset</div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: recbox/data/dataset/social_dataset.py</div><div id='n_file'> N File Name: recbox/data/dataset/social_dataset.py</div><div id='m_start'> M Start Line: 135</div><div id='m_end'> M End Line: 147</div><div id='n_start'> N Start Line: 127</div><div id='n_end'> N End Line: 128</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            )

        if rnn_layers &gt; 0:
            <a id="change">blocks.extend(
                [
                    </a>rnn_class(
                        hidden_size=rnn_neurons,
                        num_layers=rnn_layers,
                        dropout=dropout,
                        bidirectional=rnn_bidirectional,
                        re_init=rnn_re_init,
                    )<a id="change"></a>,
                ]<a id="change">
            )</a>

        for block_index in range(dnn_blocks):
            if dnn_postionalwise:
                blocks.extend(</code></pre><h3>After Change</h3><pre><code class='java'>
        dnn_blocks=2,
        dnn_neurons=512,
    ):
        <a id="change">super()</a>.__init__(input_size)

        for block_index in range(cnn_blocks):
            if not using_2d_pooling:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/speechbrain/speechbrain/commit/103f6355cf82a6e4b7b52db443400578e70d0ac8#diff-781631d0e453dd615ed925e5c3478796c46a1540f805103b93fe464578609769L72' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 77516899</div><div id='project'> Project Name: speechbrain/speechbrain</div><div id='commit'> Commit Name: 103f6355cf82a6e4b7b52db443400578e70d0ac8</div><div id='time'> Time: 2020-08-25</div><div id='author'> Author: plantinga.peter@protonmail.com</div><div id='file'> File Name: speechbrain/lobes/models/CRDNN_selfatt.py</div><div id='m_class'> M Class Name: CRDNN</div><div id='n_method'> N Class Name: CRDNN</div><div id='m_method'> M Method Name: __init__(25)</div><div id='n_method'> N Method Name: __init__(24)</div><div id='m_parent_class'> M Parent Class: sb.nnet.Sequential</div><div id='n_parent_class'> N Parent Class: sb.nnet.Sequential</div><div id='m_file'> M File Name: speechbrain/lobes/models/CRDNN_selfatt.py</div><div id='n_file'> N File Name: speechbrain/lobes/models/CRDNN_selfatt.py</div><div id='m_start'> M Start Line: 99</div><div id='m_end'> M End Line: 197</div><div id='n_start'> N Start Line: 74</div><div id='n_end'> N End Line: 175</div><BR>