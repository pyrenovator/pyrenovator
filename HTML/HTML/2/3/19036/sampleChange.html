<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                assert mode.upper() in [&quotRGB&quot, &quotBGR&quot
                                        ], &quotOnly support `RGB` and `BGR` mode!&quot
                assert img is not None
                <a id="change">break</a>
        except Exception as e:
            logging.error(e)
            logging.warning(&quotRead file {} fault, try count : {}&quot.format(
                img_path, try_cnt))</code></pre><h3>After Change</h3><pre><code class='java'>
            if is_url_path(img_path):
                from mmcv.fileio.file_client import HTTPBackend
                client = HTTPBackend()
                img_bytes = <a id="change">client.get(</a>img_path<a id="change">)</a>
                buff = io.BytesIO(img_bytes)
                image = Image.open(buff)
                if mode.upper() != &quotBGR&quot and image.mode.upper() != mode.upper(
                ):
                    image = image.convert(mode.upper())
                img<a id="change"> = </a>np.asarray(image, dtype=np.uint8)
            else:
                with file.io.open(img_path, &quotrb&quot) as infile:
                    &#47&#47 cv2.imdecode may corrupt when the img is broken</code></pre>