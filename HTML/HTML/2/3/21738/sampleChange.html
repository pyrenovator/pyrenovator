<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        y = G.y % 2

        &#47&#47 return data objects needed for the network
        return x<a id="change">, edge_index, y</a>

    def decision_function(self, G):
        Predict raw anomaly score of X using the fitted detector.
        The anomaly score of an input sample is computed based on distance </code></pre><h3>After Change</h3><pre><code class='java'>
            = SparseTensor(row=edge_index[0], col=edge_index[1]).to_dense()

        &#47&#47 adjacency matrix normalization
        rowsum<a id="change"> = </a>dense_adj.sum(1)
        d_inv_sqrt = torch.pow(rowsum, -0.5).flatten()
        d_inv_sqrt[torch.isinf(d_inv_sqrt)] = 0.
        d_mat_inv_sqrt = <a id="change">torch.diag(</a>d_inv_sqrt<a id="change">)</a>
        adj = (dense_adj * d_mat_inv_sqrt).T * d_mat_inv_sqrt

        edge_index = edge_index.to(self.device)
        adj = adj.to(self.device)</code></pre>