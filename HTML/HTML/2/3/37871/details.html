<html><h3>Pattern ID :37871
</h3><img src='108602857.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        If no param is passed in, it is considered the default config
        
        mvnm = <a id="change">ModelVariantNameManager()</a>
        name<a id="change"> = </a>mvnm.get_model_variant_name("modelA", {})
        self.assertEqual(name, "modelA_config_default")

    def test_basic(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        name = self._mvnm.get_model_variant_name("modelA", {&quotA&quot: 1},
                                                 DEFAULT_CONFIG_PARAMS)

        self.assertEqual(name, (False<a id="change">, "modelA_config_default"</a>))

    def test_basic(self):
        </code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef#diff-f257ef9d5c604ae7bcc75b30f7a692c1315bf59601a91c7db2b692b32618eb6cL33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108602857</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef</div><div id='time'> Time: 2022-08-04</div><div id='author'> Author: 92820864+nv-braf@users.noreply.github.com</div><div id='file'> File Name: tests/test_model_variant_name_manager.py</div><div id='m_class'> M Class Name: TestModelVariantNameManager</div><div id='n_method'> N Class Name: TestModelVariantNameManager</div><div id='m_method'> M Method Name: test_default(1)</div><div id='n_method'> N Method Name: test_default(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_model_variant_name_manager.py</div><div id='n_file'> N File Name: tests/test_model_variant_name_manager.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 40</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        If multiple unique param combos are passed in, the name will keep
        incrementing
        
        mvnm<a id="change"> = </a><a id="change">ModelVariantNameManager()</a>
        name0 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 1})
        name1 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 2})
        name2 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 4})
        self.assertEqual(name0, "modelA_config_0")</code></pre><h3>After Change</h3><pre><code class='java'>
        a2 = self._mvnm.get_model_variant_name("modelA", {&quotA&quot: 4},
                                               self._non_default_param_combo)

        self.assertEqual(a0, (False<a id="change">, "modelA_config_0"</a>))
        self.assertEqual(a1, (False, "modelA_config_1"))
        self.assertEqual(a2, (False, "modelA_config_2"))
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef#diff-f257ef9d5c604ae7bcc75b30f7a692c1315bf59601a91c7db2b692b32618eb6cL37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108602856</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef</div><div id='time'> Time: 2022-08-04</div><div id='author'> Author: 92820864+nv-braf@users.noreply.github.com</div><div id='file'> File Name: tests/test_model_variant_name_manager.py</div><div id='m_class'> M Class Name: TestModelVariantNameManager</div><div id='n_method'> N Class Name: TestModelVariantNameManager</div><div id='m_method'> M Method Name: test_basic(1)</div><div id='n_method'> N Method Name: test_basic(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_model_variant_name_manager.py</div><div id='n_file'> N File Name: tests/test_model_variant_name_manager.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 48</div><div id='n_start'> N Start Line: 47</div><div id='n_end'> N End Line: 56</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        
        The two models should have no impact on each other&quots naming or counts
        
        mvnm<a id="change"> = </a><a id="change">ModelVariantNameManager()</a>
        a0 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 1})
        b0 = mvnm.get_model_variant_name("modelB", {&quotA&quot: 1})
        a1 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 2})
        b1 = mvnm.get_model_variant_name("modelB", {&quotA&quot: 2})</code></pre><h3>After Change</h3><pre><code class='java'>
        b1 = self._mvnm.get_model_variant_name("modelB", {&quotA&quot: 2},
                                               self._non_default_param_combo)

        self.assertEqual(a0, (False<a id="change">, "modelA_config_0"</a>))
        self.assertEqual(a1, (False, "modelA_config_1"))
        self.assertEqual(b0, (False, "modelB_config_0"))
        self.assertEqual(b1, (False, "modelB_config_1"))</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef#diff-f257ef9d5c604ae7bcc75b30f7a692c1315bf59601a91c7db2b692b32618eb6cL50' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108602858</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef</div><div id='time'> Time: 2022-08-04</div><div id='author'> Author: 92820864+nv-braf@users.noreply.github.com</div><div id='file'> File Name: tests/test_model_variant_name_manager.py</div><div id='m_class'> M Class Name: TestModelVariantNameManager</div><div id='n_method'> N Class Name: TestModelVariantNameManager</div><div id='m_method'> M Method Name: test_multiple_models(1)</div><div id='n_method'> N Method Name: test_multiple_models(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_model_variant_name_manager.py</div><div id='n_file'> N File Name: tests/test_model_variant_name_manager.py</div><div id='m_start'> M Start Line: 54</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 75</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        in the same name being returned
        

        mvnm<a id="change"> = </a><a id="change">ModelVariantNameManager()</a>
        a0 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 1})
        a1 = mvnm.get_model_variant_name("modelA", {&quotA&quot: 1})
        self.assertEqual(a0, "modelA_config_0")
        self.assertEqual(a1, "modelA_config_0")</code></pre><h3>After Change</h3><pre><code class='java'>
                                               self._non_default_param_combo)

        self.assertEqual(a0, (False, "modelA_config_0"))
        self.assertEqual(a1, (True<a id="change">, "modelA_config_0"</a>))

    def test_nested_dicts_matching(self):
        </code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/triton-inference-server/model_analyzer/commit/5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef#diff-f257ef9d5c604ae7bcc75b30f7a692c1315bf59601a91c7db2b692b32618eb6cL77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 108602850</div><div id='project'> Project Name: triton-inference-server/model_analyzer</div><div id='commit'> Commit Name: 5c6872e4cd132e3b6be2b6d3c9d50a868aacc6ef</div><div id='time'> Time: 2022-08-04</div><div id='author'> Author: 92820864+nv-braf@users.noreply.github.com</div><div id='file'> File Name: tests/test_model_variant_name_manager.py</div><div id='m_class'> M Class Name: TestModelVariantNameManager</div><div id='n_method'> N Class Name: TestModelVariantNameManager</div><div id='m_method'> M Method Name: test_repeat(1)</div><div id='n_method'> N Method Name: test_repeat(1)</div><div id='m_parent_class'> M Parent Class: trc.TestResultCollector</div><div id='n_parent_class'> N Parent Class: trc.TestResultCollector</div><div id='m_file'> M File Name: tests/test_model_variant_name_manager.py</div><div id='n_file'> N File Name: tests/test_model_variant_name_manager.py</div><div id='m_start'> M Start Line: 83</div><div id='m_end'> M End Line: 87</div><div id='n_start'> N Start Line: 83</div><div id='n_end'> N End Line: 89</div><BR>