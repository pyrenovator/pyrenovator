<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            text_sequence = corpus["target_text"]
            for text in text_sequence:
                sentence = &quot &quot.join(text)
                encoding_dict<a id="change"> = </a>self.tokenizer(sentence)
                <a id="change">first_token_ids.add(</a>encoding_dict[&quotinput_ids&quot][0]<a id="change">)</a>
        first_token_ids = list(first_token_ids)

        with torch.no_grad():
            for _ in range(self.eval_generate_num):</code></pre><h3>After Change</h3><pre><code class='java'>
    def generate(self, eval_data):
        generate_corpus = []
        batch_num = ceil(self.eval_generate_num / eval_data.batch_size)
        for _ in <a id="change">range(</a>batch_num<a id="change">)</a>:
            sample_outputs = self.decoder.generate(
                bos_token_id=self.sos_token_idx,
                do_sample=True,</code></pre>