<html><h3>Pattern ID :21162
</h3><img src='67823306.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        num_embeddings = len(dictionary)
        padding_idx = dictionary.pad()
        self.embed_tokens = Embedding(num_embeddings, embed_dim, padding_idx)
        if <a id="change">embed_dict</a>:
            self.embed_tokens = <a id="change">utils.load_embedding(embed_dict</a>, self.dictionary, self.embed_tokens<a id="change">)</a>

        self.layers = nn.ModuleList([
            LSTMCell(encoder_embed_dim + embed_dim if layer == 0 else embed_dim, embed_dim)
            for layer in range(num_layers)</code></pre><h3>After Change</h3><pre><code class='java'>
            self.embed_tokens = pretrained_embed

        self.encoder_output_units = encoder_output_units
        <a id="change">assert </a>encoder_output_units == hidden_size, \
            &quot{} {}&quot.format(encoder_output_units, hidden_size)
        &#47&#47 TODO another Linear layer if not equal
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/neulab/retomaton/commit/ec0031df7b2c7d583b13efaffbb7a2f03e87378c#diff-6ce7c0d4f0fb1f8f34940039a8bb42a6d902a8894dd18517bee43dac3fc09971L190' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67823306</div><div id='project'> Project Name: neulab/retomaton</div><div id='commit'> Commit Name: ec0031df7b2c7d583b13efaffbb7a2f03e87378c</div><div id='time'> Time: 2018-05-24</div><div id='author'> Author: myleott@fb.com</div><div id='file'> File Name: fairseq/models/lstm.py</div><div id='m_class'> M Class Name: LSTMDecoder</div><div id='n_method'> N Class Name: LSTMDecoder</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: FairseqIncrementalDecoder</div><div id='n_parent_class'> N Parent Class: FairseqIncrementalDecoder</div><div id='m_file'> M File Name: fairseq/models/lstm.py</div><div id='n_file'> N File Name: fairseq/models/lstm.py</div><div id='m_start'> M Start Line: 190</div><div id='m_end'> M End Line: 209</div><div id='n_start'> N Start Line: 247</div><div id='n_end'> N End Line: 278</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        padding_idx = dictionary.pad()
        self.embed_tokens = Embedding(num_embeddings, embed_dim, padding_idx)
        if embed_dict:
            self.embed_tokens = <a id="change">utils.load_embedding(</a>embed_dict, self.dictionary, self.embed_tokens<a id="change">)</a>

        self.layers = nn.ModuleList([
            LSTMCell(encoder_embed_dim + embed_dim if layer == 0 else embed_dim, embed_dim)
            for layer in range(num_layers)</code></pre><h3>After Change</h3><pre><code class='java'>
            self.embed_tokens = pretrained_embed

        self.encoder_output_units = encoder_output_units
        <a id="change">assert </a>encoder_output_units == hidden_size, \
            &quot{} {}&quot.format(encoder_output_units, hidden_size)
        &#47&#47 TODO another Linear layer if not equal
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kssteven418/i-bert/commit/ec0031df7b2c7d583b13efaffbb7a2f03e87378c#diff-6ce7c0d4f0fb1f8f34940039a8bb42a6d902a8894dd18517bee43dac3fc09971L189' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67823307</div><div id='project'> Project Name: kssteven418/i-bert</div><div id='commit'> Commit Name: ec0031df7b2c7d583b13efaffbb7a2f03e87378c</div><div id='time'> Time: 2018-05-24</div><div id='author'> Author: myleott@fb.com</div><div id='file'> File Name: fairseq/models/lstm.py</div><div id='m_class'> M Class Name: LSTMDecoder</div><div id='n_method'> N Class Name: LSTMDecoder</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: FairseqIncrementalDecoder</div><div id='n_parent_class'> N Parent Class: FairseqIncrementalDecoder</div><div id='m_file'> M File Name: fairseq/models/lstm.py</div><div id='n_file'> N File Name: fairseq/models/lstm.py</div><div id='m_start'> M Start Line: 190</div><div id='m_end'> M End Line: 209</div><div id='n_start'> N Start Line: 247</div><div id='n_end'> N End Line: 278</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        padding_idx = dictionary.pad()
        self.embed_tokens = Embedding(num_embeddings, embed_dim, padding_idx)
        if embed_dict:
            self.embed_tokens = <a id="change">utils.load_embedding(</a>embed_dict, self.dictionary, self.embed_tokens<a id="change">)</a>

        self.layers = nn.ModuleList([
            LSTMCell(
                input_size=encoder_output_units + embed_dim if layer == 0 else hidden_size,</code></pre><h3>After Change</h3><pre><code class='java'>
            self.embed_tokens = pretrained_embed

        self.encoder_output_units = encoder_output_units
        <a id="change">assert </a>encoder_output_units == hidden_size, \
            &quot{} {}&quot.format(encoder_output_units, hidden_size)
        &#47&#47 TODO another Linear layer if not equal
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/neulab/retomaton/commit/4e1ec2d8833ff3a2f91443593f96cb6c178b4fc5#diff-6ce7c0d4f0fb1f8f34940039a8bb42a6d902a8894dd18517bee43dac3fc09971L239' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 67823304</div><div id='project'> Project Name: neulab/retomaton</div><div id='commit'> Commit Name: 4e1ec2d8833ff3a2f91443593f96cb6c178b4fc5</div><div id='time'> Time: 2018-06-15</div><div id='author'> Author: myleott@fb.com</div><div id='file'> File Name: fairseq/models/lstm.py</div><div id='m_class'> M Class Name: LSTMDecoder</div><div id='n_method'> N Class Name: LSTMDecoder</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(10)</div><div id='m_parent_class'> M Parent Class: FairseqIncrementalDecoder</div><div id='n_parent_class'> N Parent Class: FairseqIncrementalDecoder</div><div id='m_file'> M File Name: fairseq/models/lstm.py</div><div id='n_file'> N File Name: fairseq/models/lstm.py</div><div id='m_start'> M Start Line: 240</div><div id='m_end'> M End Line: 252</div><div id='n_start'> N Start Line: 252</div><div id='n_end'> N End Line: 271</div><BR>