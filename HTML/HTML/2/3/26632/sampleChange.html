<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 renorm to obtain the 1 probability
    scores /= sum(scores)
    &#47&#47 select the lowest diversity scores as the diversity negative samples
    index = <a id="change">np.random.choice(</a>range(len(scores))<a id="change">, size=samples, p=scores)</a>
    negative = [negative[i] for i in index]
    <a id="change">return </a>negative

def generate_negative_samples(r, responses, samples=10):
    negative = random.sample(responses, samples)</code></pre><h3>After Change</h3><pre><code class='java'>
    negative = [negative[i] for i in index]
    return negative
    &quot&quot&quot
    <a id="change">return </a>generate_negative_samples(r, responses, samples=samples)

def generate_negative_samples(r, responses, samples=10):
    negative = random.sample(responses, samples)</code></pre>