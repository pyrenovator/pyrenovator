<html><h3>Pattern ID :14890
</h3><img src='49597684.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        cx = self.H / 2
        cy = self.W / 2

        <a id="change">self.intrinsic = </a><a id="change">np.eye(3</a><a id="change">, dtype=np.float32)</a>
        self.intrinsic[0, 0] = fl_x
        <a id="change">self.intrinsic[1, 1] = </a>fl_y
        <a id="change">self.intrinsic[0, 2] = </a>cx
        <a id="change">self.intrinsic[1, 2]</a> = cy

        &#47&#47 preload
        self.intrinsic = torch.from_numpy(self.intrinsic).cuda()</code></pre><h3>After Change</h3><pre><code class='java'>
        fl_x = fl_y
        cx = self.H / 2
        cy = self.W / 2
        self.intrinsics = <a id="change">np.array(</a><a id="change">[</a>fl_x, fl_y, cx, cy<a id="change"></a>]<a id="change">)</a>


    def collate(self, index):
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ashawkey/dreamfields-torch/commit/118106fd46e2503e1d1d01fe0b0b17d8d6059a01#diff-410199ff409611f382d55274ee43ed5d06245a661074d58b396ff8b5edc40d1cL81' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49597684</div><div id='project'> Project Name: ashawkey/dreamfields-torch</div><div id='commit'> Commit Name: 118106fd46e2503e1d1d01fe0b0b17d8d6059a01</div><div id='time'> Time: 2022-05-15</div><div id='author'> Author: ashawkey1999@gmail.com</div><div id='file'> File Name: nerf/provider.py</div><div id='m_class'> M Class Name: NeRFDataset</div><div id='n_method'> N Class Name: NeRFDataset</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: nerf/provider.py</div><div id='n_file'> N File Name: nerf/provider.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 129</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        cx = self.H / 2
        cy = self.W / 2

        <a id="change">self.intrinsic = </a><a id="change">np.eye(3</a><a id="change">, dtype=np.float32)</a>
        self.intrinsic[0, 0] = fl_x
        <a id="change">self.intrinsic[1, 1] = </a>fl_y
        <a id="change">self.intrinsic[0, 2] = </a>cx
        <a id="change">self.intrinsic[1, 2]</a> = cy

        &#47&#47 preload
        self.intrinsic = torch.from_numpy(self.intrinsic).cuda()</code></pre><h3>After Change</h3><pre><code class='java'>
        fl_x = fl_y
        cx = self.H / 2
        cy = self.W / 2
        self.intrinsics = <a id="change">np.array(</a><a id="change">[</a>fl_x, fl_y, cx, cy<a id="change"></a>]<a id="change">)</a>


    def collate(self, index):
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ashawkey/dreamfields-torch/commit/118106fd46e2503e1d1d01fe0b0b17d8d6059a01#diff-410199ff409611f382d55274ee43ed5d06245a661074d58b396ff8b5edc40d1cL77' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49597668</div><div id='project'> Project Name: ashawkey/dreamfields-torch</div><div id='commit'> Commit Name: 118106fd46e2503e1d1d01fe0b0b17d8d6059a01</div><div id='time'> Time: 2022-05-15</div><div id='author'> Author: ashawkey1999@gmail.com</div><div id='file'> File Name: nerf/provider.py</div><div id='m_class'> M Class Name: NeRFDataset</div><div id='n_method'> N Class Name: NeRFDataset</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(7)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: Dataset</div><div id='m_file'> M File Name: nerf/provider.py</div><div id='n_file'> N File Name: nerf/provider.py</div><div id='m_start'> M Start Line: 81</div><div id='m_end'> M End Line: 105</div><div id='n_start'> N Start Line: 108</div><div id='n_end'> N End Line: 129</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 intrinsics
    @property
    def intrinsics(self):
        <a id="change">res = </a><a id="change">np.eye(3</a><a id="change">, dtype=np.float32)</a>
        focal = self.H / (2 * np.tan(np.radians(self.fovy) / 2))
        <a id="change">res[0, 0]</a> = res[1, 1]<a id="change"> = </a>focal
        <a id="change">res[0, 2]</a> = self.W // 2
        <a id="change">res[1, 2] = </a>self.H // 2
        return res
    
    def orbit(self, dx, dy):</code></pre><h3>After Change</h3><pre><code class='java'>
    @property
    def intrinsics(self):
        focal = self.H / (2 * np.tan(np.radians(self.fovy) / 2))
        return <a id="change">np.array(</a><a id="change">[</a>focal, focal, self.W // 2, self.H // 2<a id="change"></a>]<a id="change">)</a>
    
    def orbit(self, dx, dy):
        &#47&#47 rotate along camera up/side axis!
        side = self.rot.as_matrix()[:3, 0] &#47&#47 why this is side --&gt; ? &#47&#47 already normalized.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ashawkey/dreamfields-torch/commit/118106fd46e2503e1d1d01fe0b0b17d8d6059a01#diff-1ee55a4a5de928d1c0f27b225b75bca27c14c857bef280fd8cf1f255b6982bb4L37' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49597686</div><div id='project'> Project Name: ashawkey/dreamfields-torch</div><div id='commit'> Commit Name: 118106fd46e2503e1d1d01fe0b0b17d8d6059a01</div><div id='time'> Time: 2022-05-15</div><div id='author'> Author: ashawkey1999@gmail.com</div><div id='file'> File Name: nerf/gui.py</div><div id='m_class'> M Class Name: OrbitCamera</div><div id='n_method'> N Class Name: OrbitCamera</div><div id='m_method'> M Method Name: intrinsics(1)</div><div id='n_method'> N Method Name: intrinsics(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nerf/gui.py</div><div id='n_file'> N File Name: nerf/gui.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 43</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 intrinsics
    @property
    def intrinsics(self):
        <a id="change">res = </a><a id="change">np.eye(3</a><a id="change">, dtype=np.float32)</a>
        focal = self.H / (2 * np.tan(np.radians(self.fovy) / 2))
        <a id="change">res[0, 0]</a> = res[1, 1] = focal
        <a id="change">res[0, 2] = </a>self.W // 2
        <a id="change">res[1, 2] = </a>self.H // 2
        return res
    
    def orbit(self, dx, dy):</code></pre><h3>After Change</h3><pre><code class='java'>
    @property
    def intrinsics(self):
        focal = self.H / (2 * np.tan(np.radians(self.fovy) / 2))
        return <a id="change">np.array(</a><a id="change">[</a>focal, focal, self.H // 2, self.W // 2<a id="change"></a>]<a id="change">)</a>
    
    def orbit(self, dx, dy):
        &#47&#47 rotate along camera up/side axis!
        side = self.rot.as_matrix()[:3, 0] &#47&#47 why this is side --&gt; ? &#47&#47 already normalized.</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/ashawkey/torch-ngp/commit/ad6ed817b8fe11681d8d95f48db36e76878acc90#diff-1ee55a4a5de928d1c0f27b225b75bca27c14c857bef280fd8cf1f255b6982bb4L36' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 49597676</div><div id='project'> Project Name: ashawkey/torch-ngp</div><div id='commit'> Commit Name: ad6ed817b8fe11681d8d95f48db36e76878acc90</div><div id='time'> Time: 2022-04-12</div><div id='author'> Author: ashawkey1999@gmail.com</div><div id='file'> File Name: nerf/gui.py</div><div id='m_class'> M Class Name: OrbitCamera</div><div id='n_method'> N Class Name: OrbitCamera</div><div id='m_method'> M Method Name: intrinsics(1)</div><div id='n_method'> N Method Name: intrinsics(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: nerf/gui.py</div><div id='n_file'> N File Name: nerf/gui.py</div><div id='m_start'> M Start Line: 37</div><div id='m_end'> M End Line: 42</div><div id='n_start'> N Start Line: 37</div><div id='n_end'> N End Line: 38</div><BR>