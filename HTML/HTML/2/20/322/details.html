<html><h3>Pattern ID :322
</h3><img src='2152512.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        node.validate(sdfg, state)

        in_edges<a id="change"> = state</a><a id="change">.in_edges(node</a><a id="change">)</a>
        out_edges<a id="change"> = state</a><a id="change">.out_edges(node</a><a id="change">)</a>

        atype<a id="change"> = copy</a><a id="change">.deepcopy(sdfg.arrays[in_edges[0].data.data]</a><a id="change">)</a>
        btype = copy.deepcopy(sdfg.arrays[in_edges[1].data.data])
        ctype<a id="change"> = copy</a><a id="change">.deepcopy(sdfg.arrays[out_edges[0].data.data]</a><a id="change">)</a>

        @dace.program
        def powop(X: atype, Y: btype, Z: ctype):
            Z[:] = X ** Y</code></pre><h3>After Change</h3><pre><code class='java'>
        def prog(X, Y, Z):
            Z[:] = X ** Y

        <a id="change">return </a><a id="change">program_for_node(prog, sdfg, state, node).to_sdfg()</a>

@autoregister_params(op="Add")
class PureAdd(ONNXForward):
    @staticmethod</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 15</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/002e72c05aeda804eb8a1b426ee8cc55bdfc976a#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L90' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2152512</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 002e72c05aeda804eb8a1b426ee8cc55bdfc976a</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PurePow</div><div id='n_method'> N Class Name: PurePow</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 419</div><div id='m_end'> M End Line: 430</div><div id='n_start'> N Start Line: 90</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        node.validate(sdfg, state)

        in_edges<a id="change"> = </a><a id="change">state.in_edges(</a>node<a id="change">)</a>
        out_edges<a id="change"> = </a><a id="change">state.out_edges(</a>node<a id="change">)</a>

        atype = copy.deepcopy(sdfg.arrays[in_edges[0].data.data])
        btype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[in_edges[1].data.data]</a><a id="change">)</a>
        ctype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[out_edges[0].data.data]</a><a id="change">)</a>

        @dace.program
        def powop(X: atype, Y: btype, Z: ctype):
            Z[:] = X ** Y</code></pre><h3>After Change</h3><pre><code class='java'>
        def prog(X, Y, Z):
            Z[:] = X ** Y

        <a id="change">return </a><a id="change">program_for_node(prog, sdfg, state, node).to_sdfg()</a>

@autoregister_params(op="Add")
class PureAdd(ONNXForward):
    @staticmethod</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/002e72c05aeda804eb8a1b426ee8cc55bdfc976a#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L414' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2152513</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 002e72c05aeda804eb8a1b426ee8cc55bdfc976a</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PurePow</div><div id='n_method'> N Class Name: PurePow</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 419</div><div id='m_end'> M End Line: 430</div><div id='n_start'> N Start Line: 90</div><div id='n_end'> N End Line: 90</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                sdfg: SDFG) -&gt; typing.Union[Node, SDFG]:

        node.validate(sdfg, state)
        in_edges<a id="change"> = </a><a id="change">state.in_edges(</a>node<a id="change">)</a>
        out_edges<a id="change"> = </a><a id="change">state.out_edges(</a>node<a id="change">)</a>

        atype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[in_edges[0].data.data]</a><a id="change">)</a>
        btype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[out_edges[0].data.data]</a><a id="change">)</a>

        @dace.program
        def recop(X: atype, Y: btype):
            Y[:] = 1 / X</code></pre><h3>After Change</h3><pre><code class='java'>
        def prog(X, Y):
            Y[:] = dace.elementwise(lambda x: 1 / x, X)

        <a id="change">return </a><a id="change">program_for_node(prog, sdfg, state, node).to_sdfg()</a>

@autoregister_params(op="Tanh")
class PureTanh(ONNXForward):
    @staticmethod</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/002e72c05aeda804eb8a1b426ee8cc55bdfc976a#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L855' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2152514</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 002e72c05aeda804eb8a1b426ee8cc55bdfc976a</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureReciprocal</div><div id='n_method'> N Class Name: PureReciprocal</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 859</div><div id='m_end'> M End Line: 869</div><div id='n_start'> N Start Line: 823</div><div id='n_end'> N End Line: 823</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        inputs, outputs = _get_inputs_and_outputs(sdfg, state, node)

        in_edges<a id="change"> = </a><a id="change">state.in_edges(</a>node<a id="change">)</a>
        out_edges<a id="change"> = </a><a id="change">state.out_edges(</a>node<a id="change">)</a>

        atype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[in_edges[0].data.data]</a><a id="change">)</a>
        btype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[out_edges[0].data.data]</a><a id="change">)</a>

        @dace.program
        def sqrtop(X: atype, Y: btype):
            &#47&#47 Y[:] = X ** dace.float32(0.5)</code></pre><h3>After Change</h3><pre><code class='java'>
        def prog(X, Y):
            Y[:] = dace.elementwise(lambda x: sqrt(x), X)

        <a id="change">return </a><a id="change">program_for_node(prog, sdfg, state, node).to_sdfg()</a>


@autoregister_params(op="Div")
class PureDiv(ONNXForward):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/901100c165160e312e5cde597278b4174487373b#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L392' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2152515</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 901100c165160e312e5cde597278b4174487373b</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: oliverrausch99@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureSqrt</div><div id='n_method'> N Class Name: PureSqrt</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 395</div><div id='m_end'> M End Line: 408</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 67</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        node.validate(sdfg, state)

        in_edges<a id="change"> = </a><a id="change">state.in_edges(</a>node<a id="change">)</a>
        out_edges<a id="change"> = </a><a id="change">state.out_edges(</a>node<a id="change">)</a>

        atype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[in_edges[0].data.data]</a><a id="change">)</a>
        btype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[out_edges[0].data.data]</a><a id="change">)</a>

        @dace.program
        def sqrtop(X: atype, Y: btype):
            &#47&#47 Y[:] = X ** dace.float32(0.5)</code></pre><h3>After Change</h3><pre><code class='java'>
        def prog(X, Y):
            Y[:] = dace.elementwise(lambda x: sqrt(x), X)

        <a id="change">return </a><a id="change">program_for_node(prog, sdfg, state, node).to_sdfg()</a>


@autoregister_params(op="Div")
class PureDiv(ONNXForward):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/8f0caee6dd353aeaf23d1e67131055abf0c3d188#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L410' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2152516</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 8f0caee6dd353aeaf23d1e67131055abf0c3d188</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: shigangli.cs@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureSqrt</div><div id='n_method'> N Class Name: PureSqrt</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 413</div><div id='m_end'> M End Line: 426</div><div id='n_start'> N Start Line: 67</div><div id='n_end'> N End Line: 67</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        node.validate(sdfg, state)

        in_edges<a id="change"> = </a><a id="change">state.in_edges(</a>node<a id="change">)</a>
        out_edges<a id="change"> = </a><a id="change">state.out_edges(</a>node<a id="change">)</a>

        atype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[in_edges[0].data.data]</a><a id="change">)</a>
        btype<a id="change"> = </a><a id="change">copy.deepcopy(sdfg.arrays[out_edges[0].data.data]</a><a id="change">)</a>

        @dace.program
        def sqrtop(X: atype, Y: btype):
            &#47&#47 Y[:] = X ** dace.float32(0.5)</code></pre><h3>After Change</h3><pre><code class='java'>
       def prog(X, Y):
           Y[:] = dace.elementwise(lambda x: sqrt(x), X)

       <a id="change">return </a><a id="change">program_for_node(prog, sdfg, state, node).to_sdfg()</a>


@autoregister_params(op="Div")
class PureDiv(ONNXForward):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/spcl/daceml/commit/874a88e8e7935604c1aa745b629c57dc18034272#diff-b935b98c15dbfb5a93ff29ab75c61892712cfa7518505cd9df48d3c7db414269L411' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2152517</div><div id='project'> Project Name: spcl/daceml</div><div id='commit'> Commit Name: 874a88e8e7935604c1aa745b629c57dc18034272</div><div id='time'> Time: 2020-11-25</div><div id='author'> Author: oliverrausch99@gmail.com</div><div id='file'> File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_class'> M Class Name: PureSqrt</div><div id='n_method'> N Class Name: PureSqrt</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: ONNXForward</div><div id='n_parent_class'> N Parent Class: ONNXForward</div><div id='m_file'> M File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='n_file'> N File Name: daceml/onnx/op_implementations/pure_implementations.py</div><div id='m_start'> M Start Line: 414</div><div id='m_end'> M End Line: 427</div><div id='n_start'> N Start Line: 68</div><div id='n_end'> N End Line: 68</div><BR>