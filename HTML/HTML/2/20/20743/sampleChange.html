<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                        &quotconv2d_3/BiasAdd_quantized&quot,
                                        &quotRelu_2_quantized&quot,
                                        &quotaverage_pooling2d/AvgPool_quantized&quot]:
                <a id="change">self.assertEqual(</a><a id="change">sim.session.run(op_mode_tensor</a><a id="change">)</a>, <a id="change">int(</a>pymo.TensorQuantizerOpMode.updateStats<a id="change">)</a><a id="change">)</a>
            else:
                <a id="change">self.assertEqual(</a><a id="change">sim.session.run(op_mode_tensor</a><a id="change">)</a>, <a id="change">int(</a>pymo.TensorQuantizerOpMode.passThrough<a id="change">)</a><a id="change">)</a>
        for weight_quantizer in weight_quantizers:
            is_symmetric_tensor = sim.session.graph.get_tensor_by_name(weight_quantizer +
                                                                            &quot_use_symmetric_encoding:0&quot)
            op_mode_tensor = sim.session.graph.get_tensor_by_name(weight_quantizer + &quot_op_mode:0&quot)
            if weight_quantizer in [&quotconv2d/BiasAdd/ReadVariableOp_quantized&quot,
                                    &quotconv2d_1/BiasAdd/ReadVariableOp_quantized&quot,
                                    &quotconv2d_2/BiasAdd/ReadVariableOp_quantized&quot,
                                    &quotconv2d_3/BiasAdd/ReadVariableOp_quantized&quot,
                                    &quotconv2d_4/BiasAdd/ReadVariableOp_quantized&quot,
                                    &quotsingle_residual/BiasAdd/ReadVariableOp_quantized&quot]:
                <a id="change">self.assertEqual(sim.session.run(</a>op_mode_tensor<a id="change">)</a>,
                                 <a id="change">int(</a>pymo.TensorQuantizerOpMode.oneShotQuantizeDequantize<a id="change">)</a><a id="change">)</a>
                <a id="change">self.assertEqual(sim.session.run(is_symmetric_tensor</a><a id="change">)</a>, True<a id="change">)</a>
            else:

                <a id="change">self.assertEqual(sim.session.run(</a>op_mode_tensor<a id="change">)</a>,
                                 <a id="change">int(</a>pymo.TensorQuantizerOpMode.passThrough<a id="change">)</a><a id="change">)</a>
                <a id="change">self.assertEqual(sim.session.run(is_symmetric_tensor</a><a id="change">)</a>, False<a id="change">)</a>

        if os.path.exists(&quot./quantsim_config.json&quot):
            os.remove(&quot./quantsim_config.json&quot)
        sess.close()</code></pre><h3>After Change</h3><pre><code class='java'>
                                        &quotaverage_pooling2d/AvgPool_quantized&quot]:
                assert sim.session.run(op_mode_tensor) == int(pymo.TensorQuantizerOpMode.updateStats)
            else:
                <a id="change">assert </a>sim.session.run(op_mode_tensor) == int(pymo.TensorQuantizerOpMode.passThrough)
        for weight_quantizer in weight_quantizers:
            is_symmetric_tensor = sim.session.graph.get_tensor_by_name(weight_quantizer +
                                                                            &quot_use_symmetric_encoding:0&quot)</code></pre>