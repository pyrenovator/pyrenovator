<html><h3>Pattern ID :4903
</h3><img src='17269446.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def worker(image_file_name, args) -&gt; None:
    image = <a id="change">Image.open(f"{args.images_dir}/{image_file_name}"</a><a id="change">)</a>.convert("RGB")

    index = 1
    if image.width &gt;= args.image_size and image.height &gt;= args.image_size:
        for <a id="change">pos_x</a> in range(0, image.width - args.image_size + 1, args.step):
            for <a id="change">pos_y</a> in range(0, image.height - args.image_size + 1, args.step):
                index<a id="change"> += </a>1
                crop_image = <a id="change">image.crop(</a><a id="change">[pos_x</a>, <a id="change">pos_y</a>, <a id="change">pos_x</a><a id="change"> + </a>args.image_size, <a id="change">pos_y</a><a id="change"> + </a>args.image_size<a id="change"></a>]<a id="change">)</a>
                &#47&#47 Save all images
                crop_image.save(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}")

</code></pre><h3>After Change</h3><pre><code class='java'>
        for pos_y in range(0, image_height - args.image_size + 1, args.step):
            for pos_x in range(0, image_width - args.image_size + 1, args.step):
                &#47&#47 Crop
                crop_image = <a id="change">image[pos_y: pos_y + args.image_size, pos_x:pos_x + args.image_size, ...]</a>
                crop_image<a id="change"> = </a><a id="change">np.ascontiguousarray(</a>crop_image<a id="change">)</a>
                &#47&#47 Save image
                cv2.imwrite(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}", crop_image)

                index<a id="change"> += </a>1


if __name__ == "__main__":</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 15</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lornatang/esrgan-pytorch/commit/087e0c9bc621989889918b52b7c0dba9485c5fd6#diff-0b98e85a7205055fa6d3ef3a8c2e37a80de3ee37091286945a09dacc88f5ed7aL42' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17269446</div><div id='project'> Project Name: lornatang/esrgan-pytorch</div><div id='commit'> Commit Name: 087e0c9bc621989889918b52b7c0dba9485c5fd6</div><div id='time'> Time: 2022-03-06</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: scripts/prepare_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: worker(2)</div><div id='n_method'> N Method Name: worker(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/prepare_dataset.py</div><div id='n_file'> N File Name: scripts/prepare_dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 57</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def worker(image_file_name, args) -&gt; None:
    image = <a id="change">Image.open(f"{args.images_dir}/{image_file_name}"</a><a id="change">)</a>.convert("RGB")

    index = 1
    if image.width &gt;= args.image_size and image.height &gt;= args.image_size:
        for <a id="change">pos_x</a> in range(0, image.width - args.image_size + 1, args.step):
            for <a id="change">pos_y</a> in range(0, image.height - args.image_size + 1, args.step):
                index<a id="change"> += </a>1
                crop_image = <a id="change">image.crop(</a><a id="change">[</a>pos_x, pos_y, pos_x<a id="change"> + </a>args.image_size, pos_y<a id="change"> + </a>args.image_size<a id="change"></a>]<a id="change">)</a>
                &#47&#47 Save all images
                crop_image.save(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}")

</code></pre><h3>After Change</h3><pre><code class='java'>

    index = 1
    if image_height &gt;= args.image_size and image_width &gt;= args.image_size:
        for <a id="change">pos_y</a> in range(0, image_height - args.image_size + 1, args.step):
            for <a id="change">pos_x</a> in range(0, image_width - args.image_size + 1, args.step):
                &#47&#47 Crop
                crop_image = <a id="change">image[pos_y: pos_y + args.image_size, pos_x:pos_x + args.image_size, ...]</a>
                crop_image<a id="change"> = </a><a id="change">np.ascontiguousarray(</a>crop_image<a id="change">)</a>
                &#47&#47 Save image
                cv2.imwrite(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}", crop_image)

                index<a id="change"> += </a>1


if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/esrgan-pytorch/commit/087e0c9bc621989889918b52b7c0dba9485c5fd6#diff-0b98e85a7205055fa6d3ef3a8c2e37a80de3ee37091286945a09dacc88f5ed7aL41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17269440</div><div id='project'> Project Name: lornatang/esrgan-pytorch</div><div id='commit'> Commit Name: 087e0c9bc621989889918b52b7c0dba9485c5fd6</div><div id='time'> Time: 2022-03-06</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: scripts/prepare_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: worker(2)</div><div id='n_method'> N Method Name: worker(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/prepare_dataset.py</div><div id='n_file'> N File Name: scripts/prepare_dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 57</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def worker(image_file_name, args) -&gt; None:
    image = <a id="change">Image.open(f"{args.images_dir}/{image_file_name}"</a><a id="change">)</a>.convert("RGB")

    index = 1
    if image.width &gt;= args.image_size and image.height &gt;= args.image_size:
        for <a id="change">pos_x</a> in range(0, image.width - args.image_size + 1, args.step):
            for <a id="change">pos_y</a> in range(0, image.height - args.image_size + 1, args.step):
                index<a id="change"> += </a>1
                crop_image = <a id="change">image.crop(</a><a id="change">[</a>pos_x, pos_y, pos_x<a id="change"> + </a>args.image_size, pos_y<a id="change"> + </a>args.image_size<a id="change"></a>]<a id="change">)</a>
                &#47&#47 Save all images
                crop_image.save(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}")

</code></pre><h3>After Change</h3><pre><code class='java'>

    index = 1
    if image_height &gt;= args.image_size and image_width &gt;= args.image_size:
        for <a id="change">pos_y</a> in range(0, image_height - args.image_size + 1, args.step):
            for <a id="change">pos_x</a> in range(0, image_width - args.image_size + 1, args.step):
                &#47&#47 Crop
                crop_image = <a id="change">image[pos_y: pos_y + args.image_size, pos_x:pos_x + args.image_size, ...]</a>
                crop_image<a id="change"> = </a><a id="change">np.ascontiguousarray(</a>crop_image<a id="change">)</a>
                &#47&#47 Save image
                cv2.imwrite(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}", crop_image)

                index<a id="change"> += </a>1


if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/espcn-pytorch/commit/2310c937bc7d6c942e7df614a1e5947888e3cdd2#diff-0b98e85a7205055fa6d3ef3a8c2e37a80de3ee37091286945a09dacc88f5ed7aL41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17269472</div><div id='project'> Project Name: lornatang/espcn-pytorch</div><div id='commit'> Commit Name: 2310c937bc7d6c942e7df614a1e5947888e3cdd2</div><div id='time'> Time: 2022-02-23</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: scripts/prepare_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: worker(2)</div><div id='n_method'> N Method Name: worker(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/prepare_dataset.py</div><div id='n_file'> N File Name: scripts/prepare_dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 57</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>


def worker(image_file_name, args) -&gt; None:
    image = <a id="change">Image.open(f"{args.images_dir}/{image_file_name}"</a><a id="change">)</a>.convert("RGB")

    index = 1
    if image.width &gt;= args.image_size and image.height &gt;= args.image_size:
        for <a id="change">pos_x</a> in range(0, image.width - args.image_size + 1, args.step):
            for <a id="change">pos_y</a> in range(0, image.height - args.image_size + 1, args.step):
                index<a id="change"> += </a>1
                crop_image = <a id="change">image.crop(</a><a id="change">[</a>pos_x, pos_y, pos_x<a id="change"> + </a>args.image_size, pos_y<a id="change"> + </a>args.image_size<a id="change"></a>]<a id="change">)</a>
                &#47&#47 Save all images
                crop_image.save(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}")

</code></pre><h3>After Change</h3><pre><code class='java'>

    index = 1
    if image_height &gt;= args.image_size and image_width &gt;= args.image_size:
        for <a id="change">pos_y</a> in range(0, image_height - args.image_size + 1, args.step):
            for <a id="change">pos_x</a> in range(0, image_width - args.image_size + 1, args.step):
                &#47&#47 Crop
                crop_image = <a id="change">image[pos_y: pos_y + args.image_size, pos_x:pos_x + args.image_size, ...]</a>
                crop_image<a id="change"> = </a><a id="change">np.ascontiguousarray(</a>crop_image<a id="change">)</a>
                &#47&#47 Save image
                cv2.imwrite(f"{args.output_dir}/{image_file_name.split(&quot.&quot)[-2]}_{index:04d}.{image_file_name.split(&quot.&quot)[-1]}", crop_image)

                index<a id="change"> += </a>1


if __name__ == "__main__":</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/fsrcnn-pytorch/commit/4def63536e213b56d88a9475fb18b8f46d425a09#diff-0b98e85a7205055fa6d3ef3a8c2e37a80de3ee37091286945a09dacc88f5ed7aL41' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 17269423</div><div id='project'> Project Name: lornatang/fsrcnn-pytorch</div><div id='commit'> Commit Name: 4def63536e213b56d88a9475fb18b8f46d425a09</div><div id='time'> Time: 2022-02-23</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: scripts/prepare_dataset.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: worker(2)</div><div id='n_method'> N Method Name: worker(2)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: scripts/prepare_dataset.py</div><div id='n_file'> N File Name: scripts/prepare_dataset.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 51</div><div id='n_start'> N Start Line: 43</div><div id='n_end'> N End Line: 57</div><BR>