<html><h3>Pattern ID :25965
</h3><img src='78453421.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        default=1,
        help="simple output (default: 1)",
    )
    <a id="change">parser.add_argument(
        </a>"--gpu"<a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Using GPU (default: True)",
    )</a>
    args = parser.parse_args()
    return args

</code></pre><h3>After Change</h3><pre><code class='java'>
        type=str,
        help="for languages",
    )
    <a id="change">parser.add_argument(
        </a>"--gpu"<a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Using GPU (default: True)",
    )</a>
    <a id="change">parser.add_argument(
        "--model_storage_directory"</a><a id="change">,
        type=str,
        default=None,
        help="Directory for model (.pth) file",
    )</a>
    <a id="change">parser.add_argument(
        "--user_network_directory"</a><a id="change">,
        type=str,
        default=None,
        help="Directory for custom network files",
    )</a>
    <a id="change">parser.add_argument(
        "--recog_network"</a><a id="change">,
        type=str,
        default=&quotstandard&quot,
        help="Recognition networks",
    )</a>
    <a id="change">parser.add_argument(
        "--download_enabled"</a><a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Enable Download",
    )</a>
    parser.add_argument(
        "--detector",
        type=bool,
        choices=[True, False],
        default=True,
        help="Initialize text detector module",
    )
    parser.add_argument(
        "--recognizer",
        type=bool,
        choices=[True, False],
        default=True,
        help="Initialize text recognizer module",
    )
    parser.add_argument(
        "--verbose",
        type=bool,
        choices=[True, False],
        default=True,
        help="Print detail/warning",
    )
    <a id="change">parser.add_argument(
        "--quantize"</a><a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Use dynamic quantization",
    )</a>
    parser.add_argument(
        "-f",
        "--file",
        required=True,
        type=str,
        help="input file",
    )
    parser.add_argument(
        "--decoder",
        type=str,
        choices=["greedy", &quotbeamsearch&quot, &quotwordbeamsearch&quot],
        default=&quotgreedy&quot,
        help="decoder algorithm",
    )
    parser.add_argument(
        "--beamWidth",
        type=int,
        default=5,
        help="size of beam search",
    )
    <a id="change">parser.add_argument(
        "--batch_size"</a><a id="change">,
        type=int,
        default=1,
        help="batch_size",
    )</a>
    <a id="change">parser.add_argument(
        "--workers"</a><a id="change">,
        type=int,
        default=0,
        help="number of processing cpu cores",
    )</a>
    parser.add_argument(
        "--allowlist",
        type=str,
        default=None,
        help="Force EasyOCR to recognize only subset of characters",
    )
    <a id="change">parser.add_argument(
        "--blocklist"</a><a id="change">,
        type=str,
        default=None,
        help="Block subset of character. This argument will be ignored if allowlist is given.",
    )</a>
    parser.add_argument(
        "--detail",
        type=int,
        choices=[0, 1],
        default=1,
        help="simple output (default: 1)",
    )
    <a id="change">parser.add_argument(
        "--rotation_info"</a><a id="change">,
        type=list,
        default=None,
        help="Allow EasyOCR to rotate each text box and return the one with the best confident score. Eligible values are 90, 180 and 270. For example, try [90, 180 ,270] for all possible text orientations.",
    )</a>
    parser.add_argument(
        "--paragraph",
        type=bool,
        choices=[True, False],
        default=False,
        help="Combine result into paragraph",
    )
    parser.add_argument(
        "--min_size",
        type=int,
        default=20,
        help="Filter text box smaller than minimum value in pixel",
    )
    <a id="change">parser.add_argument(
        "--contrast_ths"</a>,
        type=float,
        default=0.1,
        help="Text box with contrast lower than this value will be passed into model 2 times. First is with original image and second with contrast adjusted to &quotadjust_contrast&quot value. The one with more confident level will be returned as a result.",
    )
    parser.add_argument(
        "--adjust_contrast",
        type=float,
        default=0.5,
        help="target contrast level for low contrast text box",
    )
    parser.add_argument(
        "--text_threshold",
        type=float,
        default=0.7,
        help="Text confidence threshold",
    )
    parser.add_argument(
        "--low_text",
        type=float,
        default=0.4,
        help="Text low-bound score",
    )
    <a id="change">parser.add_argument(
        "--link_threshold"</a><a id="change">,
        type=float,
        default=0.4,
        help="Link confidence threshold",
    )</a>
    parser.add_argument(
        "--canvas_size",
        type=int,
        default=2560,
        help="Maximum image size. Image bigger than this value will be resized down.",
    )
    <a id="change">parser.add_argument(
        "--mag_ratio"</a><a id="change">,
        type=float,
        default=1.,
        help="Image magnification ratio",
    )</a>
    parser.add_argument(
        "--slope_ths",
        type=float,
        default=0.1,
        help="Maximum slope (delta y/delta x) to considered merging. Low value means tiled boxes will not be merged.",
    )
    <a id="change">parser.add_argument(
        "--ycenter_ths"</a><a id="change">,
        type=float,
        default=0.5,
        help="Maximum shift in y direction. Boxes with different level should not be merged.",
    )</a>
    parser.add_argument(
        "--height_ths",
        type=float,
        default=0.5,
        help="Maximum different in box height. Boxes with very different text size should not be merged. ",
    )
    parser.add_argument(
        "--width_ths",
        type=float,
        default=0.5,
        help="Maximum horizontal distance to merge boxes.",
    )
    <a id="change">parser.add_argument(
        "--y_ths"</a><a id="change">,
        type=float,
        default=0.5,
        help="Maximum horizontal distance to merge boxes (when paragraph = True).",
    )</a>
    parser.add_argument(
        "--x_ths",
        type=float,
        default=1.0,</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 16</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jaidedai/easyocr/commit/bc41819c1053cf309f50a6b31a6eb132b7e99e94#diff-852acb40435bba7a86d7f0b72d9863245e57c0481c901291278195b2c03767b4L6' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78453421</div><div id='project'> Project Name: jaidedai/easyocr</div><div id='commit'> Commit Name: bc41819c1053cf309f50a6b31a6eb132b7e99e94</div><div id='time'> Time: 2021-04-20</div><div id='author'> Author: rkcosmos@gmail.com</div><div id='file'> File Name: easyocr/cli.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: parse_args(0)</div><div id='n_method'> N Method Name: parse_args(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: easyocr/cli.py</div><div id='n_file'> N File Name: easyocr/cli.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 6</div><div id='n_end'> N End Line: 228</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        default=1,
        help="simple output (default: 1)",
    )
    <a id="change">parser.add_argument(
        </a>"--gpu"<a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Using GPU (default: True)",
    )</a>
    args = parser.parse_args()
    return args

</code></pre><h3>After Change</h3><pre><code class='java'>


def parse_args():
    <a id="change">parser</a> = argparse.ArgumentParser(description="Process EasyOCR.")
    parser.add_argument(
        "-l",
        "--lang",
        nargs=&quot+&quot,
        required=True,
        type=str,
        help="for languages",
    )
    <a id="change">parser.add_argument(
        </a>"--gpu"<a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Using GPU (default: True)",
    )</a>
    <a id="change">parser.add_argument(
        "--model_storage_directory"</a><a id="change">,
        type=str,
        default=None,
        help="Directory for model (.pth) file",
    )</a>
    <a id="change">parser.add_argument(
        "--user_network_directory"</a><a id="change">,
        type=str,
        default=None,
        help="Directory for custom network files",
    )</a>
    <a id="change">parser.add_argument(
        "--recog_network"</a><a id="change">,
        type=str,
        default=&quotstandard&quot,
        help="Recognition networks",
    )</a>
    <a id="change">parser.add_argument(
        "--download_enabled"</a><a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Enable Download",
    )</a>
    parser.add_argument(
        "--detector",
        type=bool,
        choices=[True, False],
        default=True,
        help="Initialize text detector module",
    )
    parser.add_argument(
        "--recognizer",
        type=bool,
        choices=[True, False],
        default=True,
        help="Initialize text recognizer module",
    )
    parser.add_argument(
        "--verbose",
        type=bool,
        choices=[True, False],
        default=True,
        help="Print detail/warning",
    )
    <a id="change">parser.add_argument(
        "--quantize"</a><a id="change">,
        type=bool,
        choices=[True, False],
        default=True,
        help="Use dynamic quantization",
    )</a>
    parser.add_argument(
        "-f",
        "--file",
        required=True,
        type=str,
        help="input file",
    )
    parser.add_argument(
        "--decoder",
        type=str,
        choices=["greedy", &quotbeamsearch&quot, &quotwordbeamsearch&quot],
        default=&quotgreedy&quot,
        help="decoder algorithm",
    )
    parser.add_argument(
        "--beamWidth",
        type=int,
        default=5,
        help="size of beam search",
    )
    parser.add_argument(
        "--batch_size",
        type=int,
        default=1,
        help="batch_size",
    )
    <a id="change">parser.add_argument(
        "--workers"</a><a id="change">,
        type=int,
        default=0,
        help="number of processing cpu cores",
    )</a>
    parser.add_argument(
        "--allowlist",
        type=str,
        default=None,
        help="Force EasyOCR to recognize only subset of characters",
    )
    <a id="change">parser.add_argument(
        "--blocklist"</a><a id="change">,
        type=str,
        default=None,
        help="Block subset of character. This argument will be ignored if allowlist is given.",
    )</a>
    parser.add_argument(
        "--detail",
        type=int,
        choices=[0, 1],
        default=1,
        help="simple output (default: 1)",
    )
    <a id="change">parser.add_argument(
        "--rotation_info"</a><a id="change">,
        type=list,
        default=None,
        help="Allow EasyOCR to rotate each text box and return the one with the best confident score. Eligible values are 90, 180 and 270. For example, try [90, 180 ,270] for all possible text orientations.",
    )</a>
    <a id="change">parser.add_argument(
        "--paragraph"</a><a id="change">,
        type=bool,
        choices=[True, False],
        default=False,
        help="Combine result into paragraph",
    )</a>
    parser.add_argument(
        "--min_size",
        type=int,
        default=20,
        help="Filter text box smaller than minimum value in pixel",
    )
    <a id="change">parser.add_argument(
        "--contrast_ths"</a>,
        type=float,
        default=0.1,
        help="Text box with contrast lower than this value will be passed into model 2 times. First is with original image and second with contrast adjusted to &quotadjust_contrast&quot value. The one with more confident level will be returned as a result.",
    )
    parser.add_argument(
        "--adjust_contrast",
        type=float,
        default=0.5,
        help="target contrast level for low contrast text box",
    )
    parser.add_argument(
        "--text_threshold",
        type=float,
        default=0.7,
        help="Text confidence threshold",
    )
    parser.add_argument(
        "--low_text",
        type=float,
        default=0.4,
        help="Text low-bound score",
    )
    <a id="change">parser.add_argument(
        "--link_threshold"</a><a id="change">,
        type=float,
        default=0.4,
        help="Link confidence threshold",
    )</a>
    parser.add_argument(
        "--canvas_size",
        type=int,
        default=2560,
        help="Maximum image size. Image bigger than this value will be resized down.",
    )
    <a id="change">parser.add_argument(
        "--mag_ratio"</a><a id="change">,
        type=float,
        default=1.,
        help="Image magnification ratio",
    )</a>
    parser.add_argument(
        "--slope_ths",
        type=float,
        default=0.1,
        help="Maximum slope (delta y/delta x) to considered merging. Low value means tiled boxes will not be merged.",
    )
    <a id="change">parser.add_argument(
        "--ycenter_ths"</a><a id="change">,
        type=float,
        default=0.5,
        help="Maximum shift in y direction. Boxes with different level should not be merged.",
    )</a>
    parser.add_argument(
        "--height_ths",
        type=float,
        default=0.5,
        help="Maximum different in box height. Boxes with very different text size should not be merged. ",
    )
    parser.add_argument(
        "--width_ths",
        type=float,
        default=0.5,
        help="Maximum horizontal distance to merge boxes.",
    )
    <a id="change">parser.add_argument(
        "--y_ths"</a><a id="change">,
        type=float,
        default=0.5,
        help="Maximum horizontal distance to merge boxes (when paragraph = True).",
    )</a>
    parser.add_argument(
        "--x_ths",
        type=float,
        default=1.0,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/jaidedai/easyocr/commit/bc41819c1053cf309f50a6b31a6eb132b7e99e94#diff-852acb40435bba7a86d7f0b72d9863245e57c0481c901291278195b2c03767b4L5' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78453420</div><div id='project'> Project Name: jaidedai/easyocr</div><div id='commit'> Commit Name: bc41819c1053cf309f50a6b31a6eb132b7e99e94</div><div id='time'> Time: 2021-04-20</div><div id='author'> Author: rkcosmos@gmail.com</div><div id='file'> File Name: easyocr/cli.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: parse_args(0)</div><div id='n_method'> N Method Name: parse_args(0)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: easyocr/cli.py</div><div id='n_file'> N File Name: easyocr/cli.py</div><div id='m_start'> M Start Line: 29</div><div id='m_end'> M End Line: 35</div><div id='n_start'> N Start Line: 6</div><div id='n_end'> N End Line: 228</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 For STARTUP-like split (deprecated. Update with finetune.py)
        parser.add_argument(&quot--startup_split&quot, action=&quotstore_true&quot, help =&quotUse 80% of dataset, similar to STARTUP. Enabled automatically for simclr_finetune.&quot)
        &#47&#47 For split (split may be used depending on pretrain_type
        <a id="change">parser.add_argument(</a>&quot--unlabeled_ratio&quot<a id="change">, default=20, help =&quotPercentage of dataset used for unlabeled split&quot)</a>
        parser.add_argument(&quot--split_seed&quot, default=1, help =&quotRandom seed used for split. If set to 1 and unlabeled_ratio==20, will use split defined by STARTUP&quot)
    elif script == &quotsave_features&quot:
        parser.add_argument(&quot--split&quot       , default=&quotnovel&quot, help=&quotbase/val/novel&quot) &#47&#47default novel, but you can also test base/val class accuracy if you want 
        parser.add_argument(&quot--save_iter&quot, default=-1, type=int,help =&quotsave feature from the model trained in x epoch, use the best model if x is -1&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
import backbone

def parse_args(mode):
    <a id="change">parser</a> = argparse.ArgumentParser(description=&quotCD-FSL ({} mode)&quot.format(mode))
    parser.add_argument(&quot--dataset&quot     , default=&quotminiImageNet&quot,        help=&quottraining base model&quot)
    parser.add_argument(&quot--model&quot       , default=&quotResNet10&quot,      help=&quotbackbone architecture&quot)
    parser.add_argument(&quot--method&quot      , default=&quotbaseline&quot,   help=&quotbaseline/protonet/maml&quot)
    parser.add_argument(&quot--train_n_way&quot , default=5, type=int,  help=&quotclass num to classify for training&quot)
    parser.add_argument(&quot--test_n_way&quot  , default=5, type=int,  help=&quotclass num to classify for testing (validation) &quot)
    parser.add_argument(&quot--n_shot&quot      , default=5, type=int,  help=&quotnumber of labeled data in each class, same as n_support&quot)
    parser.add_argument(&quot--train_aug&quot   , action=&quotstore_true&quot,  help=&quotperform data augmentation or not during training &quot)
    parser.add_argument(&quot--freeze_backbone&quot   , action=&quotstore_true&quot, help=&quotFreeze the backbone network for finetuning&quot)
    parser.add_argument(&quot--models_to_use&quot, &quot--names-list&quot, nargs=&quot+&quot, default=[&quotminiImageNet&quot, &quotcaltech256&quot, &quotDTD&quot, &quotcifar100&quot, &quotCUB&quot], help=&quotpretained model to use&quot)
    parser.add_argument(&quot--fine_tune_all_models&quot   , action=&quotstore_true&quot,  help=&quotfine-tune each model before selection&quot) &#47&#47still required for save_features.py and test.py to find the model path correctly

    &#47&#47 New parameters
    <a id="change">parser.add_argument(</a>&quot--source_dataset&quot<a id="change">, default=&quotminiImageNet&quot)</a>  &#47&#47 replaces dataset
    <a id="change">parser.add_argument(&quot--target_dataset&quot</a><a id="change">)</a>  &#47&#47 replaces dataset_names
    <a id="change">parser.add_argument(&quot--backbone&quot</a><a id="change">, default=&quotresnet10&quot, help=&quotRefer to backbone._backbone_class_map&quot)</a>  &#47&#47 replaces model
    &#47&#47 parser.add_argument(&quot--model&quot, default=&quotbase&quot, help=&quotRefer to model.__init__.model_class_map&quot)  &#47&#47 similar to method

    &#47&#47 Model parameters (make sure to prepend with `model_`)
    <a id="change">parser.add_argument(&quot--model_simclr_projection_dim&quot</a><a id="change">, default=128, type=int)</a>
    <a id="change">parser.add_argument(&quot--model_simclr_temperature&quot</a><a id="change">, default=1.0, type=float)</a>

    &#47&#47 Pre-train params (determines pre-trained model output directory)
    &#47&#47 These must be specified during evaluation and fine-tuning to select pre-trained model
    <a id="change">parser.add_argument(&quot--pls&quot</a>, action=&quotstore_true&quot, help=&quotSecond-step pre-training on top of model trained with source labeled data&quot)
    <a id="change">parser.add_argument(&quot--ls&quot</a><a id="change">, action=&quotstore_true&quot, help=&quotUse labeled source data for pre-training&quot)</a>
    <a id="change">parser.add_argument(&quot--us&quot</a><a id="change">, action=&quotstore_true&quot, help=&quotUse unlabeled source data for pre-training&quot)</a>
    parser.add_argument(&quot--ut&quot, action=&quotstore_true&quot, help=&quotUse unlabeled target data for pre-training&quot)
    parser.add_argument(&quot--tag&quot, default=&quotdefault&quot, type=str, help=&quotTag used to differentiate output directories for pre-trained models&quot)  &#47&#47 similar to aug_mode

    
    Type 1: --ls
    Type 2: --us
    Type 3: --ut
    Type 4: --ls --ut
    Type 5: --us --ut
    Type 6: --pls --ut
    Type 7: --pls --ls --ut
    Type 8: --pls --us --ut
    

    &#47&#47 Pre-train params (non-identifying, i.e., does not affect output directory)
    &#47&#47 You must specify pretrain_key to differentiate models with different non-identifying parameters)
    <a id="change">parser.add_argument(&quot--augmentation&quot</a><a id="change">, default=&quotstrong&quot, type=str, help="Augmentation used for pre-training {&quotbase&quot, &quotstrong&quot}")</a>  &#47&#47 similar to aug_mode
    <a id="change">parser.add_argument(&quot--batch_size&quot</a><a id="change">, default=64, type=int, help=&quotBatch size for pre-training.&quot)</a>  &#47&#47 similar to aug_mode
    <a id="change">parser.add_argument(&quot--gamma&quot</a><a id="change">, default=0.5, type=float, help=&quotGamma value for LS + UT.&quot)</a>  &#47&#47 similar to aug_mode
    <a id="change">parser.add_argument(&quot--epochs&quot</a><a id="change">, default=1000, type=int, help=&quotPre-training epochs.&quot)</a>  &#47&#47 similar to aug_mode
    <a id="change">parser.add_argument(&quot--model_save_interval&quot</a><a id="change">, default=50, type=int, help=&quotSave model state every N epochs during pre-training.&quot)</a>  &#47&#47 similar to aug_mode
    <a id="change">parser.add_argument(&quot--optimizer&quot</a>, default=None, type=str, help="Optimizer used during pre-training {&quotsgd&quot, &quotadam&quot}. Default if None")  &#47&#47 similar to aug_mode

    if mode == &quottrain&quot or mode == &quotpretrain&quot:
        parser.add_argument(&quot--num_classes&quot , default=200, type=int, help=&quottotal number of classes in softmax, only used in baseline&quot) &#47&#47make it larger than the maximum label value in base class
        parser.add_argument(&quot--save_freq&quot   , default=50, type=int, help=&quotSave frequency&quot)
        parser.add_argument(&quot--pretrain_type&quot, default=None, type=int, help=&quotHow to pre-train&quot)
        parser.add_argument(&quot--start_epoch&quot , default=0, type=int,help =&quotStarting epoch&quot)
        parser.add_argument(&quot--stop_epoch&quot  , default=400, type=int, help =&quotStopping epoch&quot) &#47&#47 for meta-learning methods, each epoch contains 100 episodes

        &#47&#47 For pre-trained model (related to BN)
        parser.add_argument(&quot--track_bn&quot   , action=&quotstore_true&quot,  help=&quottracking BN stats&quot)
        parser.add_argument(&quot--freeze_bn&quot, action=&quotstore_true&quot,  help=&quotfreeze bn stats, i.e., use accumulated stats of pretrained model during inference. Note, track_bn must be on to do this.&quot)
        parser.add_argument(&quot--reinit_bn_stats&quot   , action=&quotstore_true&quot,  help=&quotRe-initialize BN running statistics every iteration&quot)

        &#47&#47 For SimCLR
        parser.add_argument(&quot--aug_mode&quot, default=None, help=&quotaugmentation for pre-training [base, strong]&quot)
        parser.add_argument(&quot--use_base_classes&quot   , action=&quotstore_true&quot,  help=&quotsupervised training using base classes with self-training&quot)
        parser.add_argument(&quot--use_base_classes_as_unlabeled&quot   , action=&quotstore_true&quot,  help=&quotunsupervised training using base classes with self-training&quot)
        parser.add_argument(&quot--no_rerand&quot   , action=&quotstore_true&quot,  help=&quotNo re-randomization before SimCLR traininig&quot)
        parser.add_argument(&quot--no_base_pretraining&quot   , action=&quotstore_true&quot,  help=&quotNo use pre-trained model based on base classes&quot)

        &#47&#47 For fine-tuning
        parser.add_argument(&quot--mv_init&quot, action=&quotstore_true&quot, help =&quotRe-initialize all weights with existing mean-var stats&quot)
        parser.add_argument(&quot--simclr_finetune&quot, action=&quotstore_true&quot, help =&quotFine-tuning using the model trained by SimCLR&quot)
        parser.add_argument(&quot--simclr_finetune_source&quot, action=&quotstore_true&quot, help =&quotFine-tuning using the model trained by source+SimCLR&quot)
        parser.add_argument(&quot--simclr_epochs&quot, nargs=&quot+&quot, type=int, default=[1000, 800, 600, 400, 200, 0], help =&quotWhich epochs to fine-tune for SimCLR (near finetune.py:486)&quot)
        parser.add_argument(&quot--reinit_stem&quot, action=&quotstore_true&quot, help =&quotRe-initialize Stem&quot)
        parser.add_argument(&quot--reinit_blocks&quot, nargs=&quot+&quot, type=int, help =&quotRe-initialize ResNet blocks (select within range [1, 4])&quot)

        parser.add_argument(&quot--reset_layers&quot, default=None, nargs=&quot+&quot, type=str, help=&quotRe-randomize (or re-init) layers. Refer to `reset_layer.py` for layer names. E.g., 4.c2, 4.b2, 4.cs, 4.bs&quot)
        parser.add_argument(&quot--reset_layer_method&quot, default=&quotrerandomize&quot, help=&quotrerandomize, reinit&quot)
        parser.add_argument(&quot--unlabeled_stats&quot, action=&quotstore_true&quot, help =&quotUse statistics of unlabeled target dataset for BN running stats&quot)

        parser.add_argument(&quot--finetune_parts&quot, default=None, type=str, help=&quothead, body, full&quot)
        parser.add_argument(&quot--fusion_method&quot, default=None, type=str, help=&quotconcat, etc, ...&quot)

        parser.add_argument(&quot--no_tracking&quot, action=&quotstore_true&quot, help=&quotNo tracking the test accuracy for every epoch&quot)
        parser.add_argument(&quot--dataset_names&quot, nargs=&quot+&quot, type=str, default=["miniImageNet_test", "CropDisease", "EuroSAT", "ISIC", "ChestX"], help=&quotCD-FSL datasets to fine-tune&quot)
        parser.add_argument(&quot--use_simclr_clf&quot, action=&quotstore_true&quot, help =&quotUse pre-trained SimCLR projection head&quot)

        &#47&#47 For STARTUP-like split (deprecated. Update with finetune.py)
        parser.add_argument(&quot--startup_split&quot, action=&quotstore_true&quot, help =&quotUse 80% of dataset, similar to STARTUP. Enabled automatically for simclr_finetune.&quot)
        &#47&#47 For split (split may be used depending on pretrain_type
        <a id="change">parser.add_argument(&quot--unlabeled_ratio&quot</a><a id="change">, default=20, type=int, help =&quotPercentage of dataset used for unlabeled split&quot)</a>
        parser.add_argument(&quot--split_seed&quot, default=1, type=int, help =&quotRandom seed used for split. If set to 1 and unlabeled_ratio==20, will use split defined by STARTUP&quot)
    elif mode == &quotsave_features&quot:
        parser.add_argument(&quot--split&quot       , default=&quotnovel&quot, help=&quotbase/val/novel&quot) &#47&#47default novel, but you can also test base/val class accuracy if you want
        parser.add_argument(&quot--save_iter&quot, default=-1, type=int,help =&quotsave feature from the model trained in x epoch, use the best model if x is -1&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/sungnyun/understanding-cdfsl/commit/28eb68b3db8c6bc7914958f6f1783fb323818c70#diff-70138fdd960e7e8e0bd7635a9de0211328405de7b87812dc376a359fbcd7571bL7' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78453413</div><div id='project'> Project Name: sungnyun/understanding-cdfsl</div><div id='commit'> Commit Name: 28eb68b3db8c6bc7914958f6f1783fb323818c70</div><div id='time'> Time: 2021-12-24</div><div id='author'> Author: itsnamgyu@gmail.com</div><div id='file'> File Name: io_utils.py</div><div id='m_class'> M Class Name: AnonimousClass</div><div id='n_method'> N Class Name: AnonimousClass</div><div id='m_method'> M Method Name: parse_args(1)</div><div id='n_method'> N Method Name: parse_args(1)</div><div id='m_parent_class'> M Parent Class: </div><div id='n_parent_class'> N Parent Class: </div><div id='m_file'> M File Name: io_utils.py</div><div id='n_file'> N File Name: io_utils.py</div><div id='m_start'> M Start Line: 20</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 8</div><div id='n_end'> N End Line: 141</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        parser.add_argument(&quot--lr&quot, type=float, default=0.0002, help=&quotinitial learning rate for adam&quot)
        parser.add_argument(&quot--lr_policy&quot, type=str, default=&quotlinear&quot,
                            help=&quotlearning rate policy. [linear | step | plateau | cosine]&quot)
        <a id="change">parser.add_argument(</a>&quot--lr_decay_iters&quot<a id="change">, type=int, default=50,
                            help=&quotmultiply by a gamma every lr_decay_iters iterations&quot)</a>

        parser.add_argument(&quot--eval_batch_size&quot, type=int, default=1, help=&quotthe evaluation batch size&quot)
        parser.add_argument(&quot--real_stat_path&quot, type=str, required=True,
                            help=&quotthe path to load the ground-truth images information to compute FID.&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.isTrain = isTrain

    def initialize(self, parser):
        <a id="change">parser</a> = BaseOptions.initialize(self, parser)
        &#47&#47 log parameters
        parser.add_argument(&quot--log_dir&quot, type=str, default=&quotlogs/distill&quot,
                            help=&quotspecify an experiment directory&quot)
        parser.add_argument(&quot--tensorboard_dir&quot, type=str, default=None,
                            help=&quottensorboard is saved here&quot)
        parser.add_argument(&quot--print_freq&quot, type=int, default=100,
                            help=&quotfrequency of showing training results on console&quot)
        parser.add_argument(&quot--save_latest_freq&quot, type=int, default=20000,
                            help=&quotfrequency of evaluating and save the latest model&quot)
        parser.add_argument(&quot--save_epoch_freq&quot, type=int, default=5,
                            help=&quotfrequency of saving checkpoints at the end of epoch&quot)
        parser.add_argument(&quot--epoch_base&quot, type=int, default=1,
                            help=&quotthe epoch base of the training (used for resuming)&quot)
        parser.add_argument(&quot--iter_base&quot, type=int, default=0,
                            help=&quotthe iteration base of the training (used for resuming)&quot)

        &#47&#47 model parameters
        parser.add_argument(&quot--distiller&quot, type=str, default=&quotresnet&quot,
                            help=&quotspecify which distiller you want to use [resnet | spade]&quot)
        <a id="change">parser.add_argument(</a>&quot--teacher_netG&quot<a id="change">, type=str, help=&quotspecify teacher generator architecture&quot)</a>
        <a id="change">parser.add_argument(&quot--student_netG&quot</a><a id="change">, type=str, help=&quotspecify student generator architecture&quot)</a>
        parser.add_argument(&quot--netD&quot, type=str, default=&quotn_layers&quot,
                            help=&quotspecify discriminator architecture [n_layers | pixel]. &quot
                                 &quotThe basic model is a 70x70 PatchGAN. &quot
                                 &quotn_layers allows you to specify the layers in the discriminator&quot)
        <a id="change">parser.add_argument(&quot--teacher_ngf&quot</a><a id="change">, type=int, help=&quotthe base number of filters of the teacher generator&quot)</a>
        <a id="change">parser.add_argument(&quot--student_ngf&quot</a><a id="change">, type=int, help=&quotthe base number of filters of the student generator&quot)</a>
        parser.add_argument(&quot--ndf&quot, type=int, default=128, help=&quotthe base number of discriminator filters&quot)
        parser.add_argument(&quot--n_layers_D&quot, type=int, default=3, help=&quotonly used if netD==n_layers&quot)
        parser.add_argument(&quot--gan_mode&quot, type=str, default=&quothinge&quot, choices=[&quotlsgan&quot, &quotvanilla&quot, &quothinge&quot],
                            help=&quotthe type of GAN objective. [vanilla| lsgan | hinge]. &quot
                                 &quotvanilla GAN loss is the cross-entropy objective used in the original GAN paper.&quot)

        <a id="change">parser.add_argument(&quot--restore_teacher_G_path&quot</a><a id="change">, type=str, required=True,
                            help=&quotthe path to restore the teacher generator&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_student_G_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the student generator&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_A_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the adaptors for distillation&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_D_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the discriminator&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_O_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the optimizer&quot)</a>

        &#47&#47 training parameters
        parser.add_argument(&quot--nepochs&quot, type=int, default=5,
                            help=&quotnumber of epochs with the initial learning rate&quot)
        parser.add_argument(&quot--nepochs_decay&quot, type=int, default=15,
                            help=&quotnumber of epochs to linearly decay learning rate to zero&quot)
        <a id="change">parser.add_argument(&quot--niters&quot</a><a id="change">, type=int, default=1000000000,
                            help=&quotmax number of iteration of the training&quot)</a>
        parser.add_argument(&quot--beta1&quot, type=float, default=0.5, help=&quotmomentum term of adam&quot)
        parser.add_argument(&quot--lr&quot, type=float, default=0.0002, help=&quotinitial learning rate for adam&quot)
        parser.add_argument(&quot--lr_policy&quot, type=str, default=&quotlinear&quot,
                            help=&quotlearning rate policy. [linear | step | plateau | cosine]&quot)
        <a id="change">parser.add_argument(&quot--lr_decay_steps&quot</a><a id="change">, type=int, default=100000,
                            help=&quotmultiply by a gamma every lr_decay_steps steps (only for step lr policy)&quot)</a>
        <a id="change">parser.add_argument(&quot--scheduler_counter&quot</a><a id="change">, type=str, default=&quotepoch&quot, choices=[&quotepoch&quot, &quotiter&quot],
                            help=&quotwhich counter to use for the scheduler&quot)</a>
        <a id="change">parser.add_argument(&quot--gamma&quot</a><a id="change">, type=float, default=0.5,
                            help=&quotmultiply by a gamma every lr_decay_epochs epochs (only for step lr policy)&quot)</a>

        parser.add_argument(&quot--eval_batch_size&quot, type=int, default=1, help=&quotthe evaluation batch size&quot)
        parser.add_argument(&quot--real_stat_path&quot, type=str, required=True,
                            help=&quotthe path to load the ground-truth images information to compute FID.&quot)
        <a id="change">parser.add_argument(&quot--no_fid&quot</a><a id="change">, action=&quotstore_true&quot, help=&quotNo FID evaluation during training&quot)</a>
        <a id="change">parser.add_argument(&quot--no_mIoU&quot</a><a id="change">, action=&quotstore_true&quot, help=&quotNo mIoU evaluation during training &quot
                                                                   &quot(sometimes because there are CUDA memory)&quot)</a>
        return parser

    def gather_options(self):
        parser = argparse.ArgumentParser(formatter_class=argparse.ArgumentDefaultsHelpFormatter)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-han-lab/gan-compression/commit/06742a5fbb7f738bc4910d526608cbd368b787fb#diff-a5c83c19d1ccc289783913391efcd097f0b6b1ad86b7563922412241a1403110L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78453412</div><div id='project'> Project Name: mit-han-lab/gan-compression</div><div id='commit'> Commit Name: 06742a5fbb7f738bc4910d526608cbd368b787fb</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: lmxyy1999@foxmail.com</div><div id='file'> File Name: options/distill_options.py</div><div id='m_class'> M Class Name: DistillOptions</div><div id='n_method'> N Class Name: DistillOptions</div><div id='m_method'> M Method Name: initialize(2)</div><div id='n_method'> N Method Name: initialize(2)</div><div id='m_parent_class'> M Parent Class: BaseOptions</div><div id='n_parent_class'> N Parent Class: BaseOptions</div><div id='m_file'> M File Name: options/distill_options.py</div><div id='n_file'> N File Name: options/distill_options.py</div><div id='m_start'> M Start Line: 60</div><div id='m_end'> M End Line: 61</div><div id='n_start'> N Start Line: 21</div><div id='n_end'> N End Line: 89</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        parser.add_argument(&quot--lr&quot, type=float, default=0.0002, help=&quotinitial learning rate for adam&quot)
        parser.add_argument(&quot--lr_policy&quot, type=str, default=&quotlinear&quot,
                            help=&quotlearning rate policy. [linear | step | plateau | cosine]&quot)
        <a id="change">parser.add_argument(</a>&quot--lr_decay_iters&quot<a id="change">, type=int, default=50,
                            help=&quotmultiply by a gamma every lr_decay_iters iterations&quot)</a>

        parser.add_argument(&quot--eval_batch_size&quot, type=int, default=1, help=&quotthe evaluation batch size&quot)
        parser.add_argument(&quot--real_stat_path&quot, type=str, required=True,
                            help=&quotthe path to load the ground-truth images information to compute FID.&quot)</code></pre><h3>After Change</h3><pre><code class='java'>

    def initialize(self, parser):
        Define the common options that are used in both training and test.
        <a id="change">parser</a> = BaseOptions.initialize(self, parser)
        &#47&#47 log parameters
        parser.add_argument(&quot--log_dir&quot, type=str, default=&quotlogs/distill&quot,
                            help=&quotspecify an experiment directory&quot)
        parser.add_argument(&quot--tensorboard_dir&quot, type=str, default=None,
                            help=&quottensorboard is saved here&quot)
        parser.add_argument(&quot--print_freq&quot, type=int, default=100,
                            help=&quotfrequency of showing training results on console&quot)
        parser.add_argument(&quot--save_latest_freq&quot, type=int, default=20000,
                            help=&quotfrequency of evaluating and save the latest model&quot)
        parser.add_argument(&quot--save_epoch_freq&quot, type=int, default=5,
                            help=&quotfrequency of saving checkpoints at the end of epoch&quot)
        parser.add_argument(&quot--epoch_base&quot, type=int, default=1,
                            help=&quotthe epoch base of the training (used for resuming)&quot)
        parser.add_argument(&quot--iter_base&quot, type=int, default=0,
                            help=&quotthe iteration base of the training (used for resuming)&quot)

        &#47&#47 model parameters
        parser.add_argument(&quot--supernet&quot, type=str, default=&quotresnet&quot,
                            help=&quotspecify which supernet you want to use [resnet | spade]&quot)
        <a id="change">parser.add_argument(</a>&quot--teacher_netG&quot<a id="change">, type=str, help=&quotspecify teacher generator architecture&quot)</a>
        <a id="change">parser.add_argument(&quot--student_netG&quot</a><a id="change">, type=str, help=&quotspecify student generator architecture&quot)</a>
        parser.add_argument(&quot--netD&quot, type=str, default=&quotn_layers&quot,
                            help=&quotspecify discriminator architecture [n_layers | pixel]. &quot
                                 &quotThe basic model is a 70x70 PatchGAN. &quot
                                 &quotn_layers allows you to specify the layers in the discriminator&quot)
        <a id="change">parser.add_argument(&quot--teacher_ngf&quot</a><a id="change">, type=int, help=&quotthe   number of filters of the teacher generator&quot)</a>
        <a id="change">parser.add_argument(&quot--student_ngf&quot</a><a id="change">, type=int, help=&quotthe base number of filters of the student generator&quot)</a>
        parser.add_argument(&quot--ndf&quot, type=int, default=128, help=&quotthe base number of discriminator filters&quot)
        parser.add_argument(&quot--n_layers_D&quot, type=int, default=3, help=&quotonly used if netD==n_layers&quot)
        parser.add_argument(&quot--gan_mode&quot, type=str, default=&quothinge&quot, choices=[&quotlsgan&quot, &quotvanilla&quot, &quothinge&quot],
                            help=&quotthe type of GAN objective. [vanilla| lsgan | hinge]. &quot
                                 &quotvanilla GAN loss is the cross-entropy objective used in the original GAN paper.&quot)

        <a id="change">parser.add_argument(&quot--restore_teacher_G_path&quot</a><a id="change">, type=str, required=True,
                            help=&quotthe path to restore the teacher generator&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_student_G_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the student generator&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_A_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the adaptors for distillation&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_D_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the discriminator&quot)</a>
        <a id="change">parser.add_argument(&quot--restore_O_path&quot</a><a id="change">, type=str, default=None,
                            help=&quotthe path to restore the optimizer&quot)</a>

        &#47&#47 training parameters
        parser.add_argument(&quot--nepochs&quot, type=int, default=10,
                            help=&quotnumber of epochs with the initial learning rate&quot)
        parser.add_argument(&quot--nepochs_decay&quot, type=int, default=30,
                            help=&quotnumber of epochs to linearly decay learning rate to zero&quot)
        <a id="change">parser.add_argument(&quot--niters&quot</a><a id="change">, type=int, default=1000000000,
                            help=&quotmax number of iteration of the training&quot)</a>
        parser.add_argument(&quot--beta1&quot, type=float, default=0.5, help=&quotmomentum term of adam&quot)
        parser.add_argument(&quot--lr&quot, type=float, default=0.0002, help=&quotinitial learning rate for adam&quot)
        parser.add_argument(&quot--lr_policy&quot, type=str, default=&quotlinear&quot,
                            help=&quotlearning rate policy. [linear | step | plateau | cosine]&quot)
        <a id="change">parser.add_argument(&quot--lr_decay_steps&quot</a><a id="change">, type=int, default=100000,
                            help=&quotmultiply by a gamma every lr_decay_steps steps (only for step lr policy)&quot)</a>
        <a id="change">parser.add_argument(&quot--scheduler_counter&quot</a><a id="change">, type=str, default=&quotepoch&quot, choices=[&quotepoch&quot, &quotiter&quot],
                            help=&quotwhich counter to use for the scheduler&quot)</a>
        <a id="change">parser.add_argument(&quot--gamma&quot</a><a id="change">, type=float, default=0.5,
                            help=&quotmultiply by a gamma every lr_decay_epochs epochs (only for step lr policy)&quot)</a>

        parser.add_argument(&quot--eval_batch_size&quot, type=int, default=1, help=&quotthe evaluation batch size&quot)
        parser.add_argument(&quot--real_stat_path&quot, type=str, required=True,
                            help=&quotthe path to load the ground-truth images information to compute FID.&quot)
        <a id="change">parser.add_argument(&quot--no_fid&quot</a><a id="change">, action=&quotstore_true&quot, help=&quotNo FID evaluation during training&quot)</a>
        <a id="change">parser.add_argument(&quot--no_mIoU&quot</a><a id="change">, action=&quotstore_true&quot, help=&quotNo mIoU evaluation during training &quot
                                                                   &quot(sometimes because there are CUDA memory)&quot)</a>
        return parser

    def gather_options(self):
        parser = argparse.ArgumentParser(formatter_class=argparse.ArgumentDefaultsHelpFormatter)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/mit-han-lab/gan-compression/commit/06742a5fbb7f738bc4910d526608cbd368b787fb#diff-dcb23610ee4d4116c430e46e6687a35a49afe69461a9ebc927b7ca7984320606L20' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 78453414</div><div id='project'> Project Name: mit-han-lab/gan-compression</div><div id='commit'> Commit Name: 06742a5fbb7f738bc4910d526608cbd368b787fb</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: lmxyy1999@foxmail.com</div><div id='file'> File Name: options/supernet_options.py</div><div id='m_class'> M Class Name: SupernetOptions</div><div id='n_method'> N Class Name: SupernetOptions</div><div id='m_method'> M Method Name: initialize(2)</div><div id='n_method'> N Method Name: initialize(2)</div><div id='m_parent_class'> M Parent Class: BaseOptions</div><div id='n_parent_class'> N Parent Class: BaseOptions</div><div id='m_file'> M File Name: options/supernet_options.py</div><div id='n_file'> N File Name: options/supernet_options.py</div><div id='m_start'> M Start Line: 61</div><div id='m_end'> M End Line: 62</div><div id='n_start'> N Start Line: 22</div><div id='n_end'> N End Line: 90</div><BR>